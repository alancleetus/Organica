var eB=Object.defineProperty;var tB=(n,e,t)=>e in n?eB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>tB(n,typeof e!="symbol"?e+"":e,t);import nB from"@tiptap/starter-kit";function rB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ss(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var EM={exports:{}},gv={},SM={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=Symbol.for("react.element"),iB=Symbol.for("react.portal"),oB=Symbol.for("react.fragment"),sB=Symbol.for("react.strict_mode"),aB=Symbol.for("react.profiler"),lB=Symbol.for("react.provider"),cB=Symbol.for("react.context"),uB=Symbol.for("react.forward_ref"),dB=Symbol.for("react.suspense"),fB=Symbol.for("react.memo"),hB=Symbol.for("react.lazy"),zI=Symbol.iterator;function pB(n){return n===null||typeof n!="object"?null:(n=zI&&n[zI]||n["@@iterator"],typeof n=="function"?n:null)}var TM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xM=Object.assign,IM={};function Uu(n,e,t){this.props=n,this.context=e,this.refs=IM,this.updater=t||TM}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Uu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function CM(){}CM.prototype=Uu.prototype;function VE(n,e,t){this.props=n,this.context=e,this.refs=IM,this.updater=t||TM}var $E=VE.prototype=new CM;$E.constructor=VE;xM($E,Uu.prototype);$E.isPureReactComponent=!0;var jI=Array.isArray,kM=Object.prototype.hasOwnProperty,BE={current:null},DM={key:!0,ref:!0,__self:!0,__source:!0};function PM(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)kM.call(e,r)&&!DM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wh,type:n,key:o,ref:s,props:i,_owner:BE.current}}function mB(n,e){return{$$typeof:Wh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function zE(n){return typeof n=="object"&&n!==null&&n.$$typeof===Wh}function gB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var UI=/\/+/g;function N_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gB(""+n.key):e.toString(36)}function Mm(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Wh:case iB:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+N_(s,0):r,jI(i)?(t="",n!=null&&(t=n.replace(UI,"$&/")+"/"),Mm(i,e,t,"",function(c){return c})):i!=null&&(zE(i)&&(i=mB(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(UI,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",jI(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+N_(o,a);s+=Mm(o,e,t,l,i)}else if(l=pB(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+N_(o,a++),s+=Mm(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Bp(n,e,t){if(n==null)return n;var r=[],i=0;return Mm(n,r,"","",function(o){return e.call(t,o,i++)}),r}function yB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Er={current:null},Om={transition:null},vB={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:Om,ReactCurrentOwner:BE};function RM(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Bp,forEach:function(n,e,t){Bp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bp(n,function(){e++}),e},toArray:function(n){return Bp(n,function(e){return e})||[]},only:function(n){if(!zE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ve.Component=Uu;Ve.Fragment=oB;Ve.Profiler=aB;Ve.PureComponent=VE;Ve.StrictMode=sB;Ve.Suspense=dB;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vB;Ve.act=RM;Ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=xM({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=BE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)kM.call(e,l)&&!DM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wh,type:n.type,key:i,ref:o,props:r,_owner:s}};Ve.createContext=function(n){return n={$$typeof:cB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lB,_context:n},n.Consumer=n};Ve.createElement=PM;Ve.createFactory=function(n){var e=PM.bind(null,n);return e.type=n,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(n){return{$$typeof:uB,render:n}};Ve.isValidElement=zE;Ve.lazy=function(n){return{$$typeof:hB,_payload:{_status:-1,_result:n},_init:yB}};Ve.memo=function(n,e){return{$$typeof:fB,type:n,compare:e===void 0?null:e}};Ve.startTransition=function(n){var e=Om.transition;Om.transition={};try{n()}finally{Om.transition=e}};Ve.unstable_act=RM;Ve.useCallback=function(n,e){return Er.current.useCallback(n,e)};Ve.useContext=function(n){return Er.current.useContext(n)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(n){return Er.current.useDeferredValue(n)};Ve.useEffect=function(n,e){return Er.current.useEffect(n,e)};Ve.useId=function(){return Er.current.useId()};Ve.useImperativeHandle=function(n,e,t){return Er.current.useImperativeHandle(n,e,t)};Ve.useInsertionEffect=function(n,e){return Er.current.useInsertionEffect(n,e)};Ve.useLayoutEffect=function(n,e){return Er.current.useLayoutEffect(n,e)};Ve.useMemo=function(n,e){return Er.current.useMemo(n,e)};Ve.useReducer=function(n,e,t){return Er.current.useReducer(n,e,t)};Ve.useRef=function(n){return Er.current.useRef(n)};Ve.useState=function(n){return Er.current.useState(n)};Ve.useSyncExternalStore=function(n,e,t){return Er.current.useSyncExternalStore(n,e,t)};Ve.useTransition=function(){return Er.current.useTransition()};Ve.version="18.3.1";SM.exports=Ve;var x=SM.exports;const $=Jt(x),Kf=rB({__proto__:null,default:$},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B=x,wB=Symbol.for("react.element"),bB=Symbol.for("react.fragment"),EB=Object.prototype.hasOwnProperty,SB=_B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TB={key:!0,ref:!0,__self:!0,__source:!0};function AM(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)EB.call(e,r)&&!TB.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wB,type:n,key:o,ref:s,props:i,_owner:SB.current}}gv.Fragment=bB;gv.jsx=AM;gv.jsxs=AM;EM.exports=gv;var N=EM.exports,MM={exports:{}},Zr={},OM={exports:{}},NM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,Y){var Z=V.length;V.push(Y);e:for(;0<Z;){var ne=Z-1>>>1,fe=V[ne];if(0<i(fe,Y))V[ne]=Y,V[Z]=fe,Z=ne;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],Z=V.pop();if(Z!==Y){V[0]=Z;e:for(var ne=0,fe=V.length,re=fe>>>1;ne<re;){var ge=2*(ne+1)-1,ce=V[ge],Se=ge+1,je=V[Se];if(0>i(ce,Z))Se<fe&&0>i(je,ce)?(V[ne]=je,V[Se]=Z,ne=Se):(V[ne]=ce,V[ge]=Z,ne=ge);else if(Se<fe&&0>i(je,Z))V[ne]=je,V[Se]=Z,ne=Se;else break e}}return Y}function i(V,Y){var Z=V.sortIndex-Y.sortIndex;return Z!==0?Z:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var Y=t(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function C(V){if(g=!1,b(V),!m)if(t(l)!==null)m=!0,W(D);else{var Y=t(c);Y!==null&&q(C,Y.startTime-V)}}function D(V,Y){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var Z=h;try{for(b(Y),d=t(l);d!==null&&(!(d.expirationTime>Y)||V&&!A());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var fe=ne(d.expirationTime<=Y);Y=n.unstable_now(),typeof fe=="function"?d.callback=fe:d===t(l)&&r(l),b(Y)}else r(l);d=t(l)}if(d!==null)var re=!0;else{var ge=t(c);ge!==null&&q(C,ge.startTime-Y),re=!1}return re}finally{d=null,h=Z,p=!1}}var M=!1,S=null,E=-1,I=5,k=-1;function A(){return!(n.unstable_now()-k<I)}function O(){if(S!==null){var V=n.unstable_now();k=V;var Y=!0;try{Y=S(!0,V)}finally{Y?P():(M=!1,S=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=O,P=function(){K.postMessage(null)}}else P=function(){_(O,0)};function W(V){S=V,M||(M=!0,P())}function q(V,Y){E=_(function(){V(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,W(D))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var Z=h;h=Y;try{return V()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return Y()}finally{h=Z}},n.unstable_scheduleCallback=function(V,Y,Z){var ne=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,V){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Z+fe,V={id:u++,callback:Y,priorityLevel:V,startTime:Z,expirationTime:fe,sortIndex:-1},Z>ne?(V.sortIndex=Z,e(c,V),t(l)===null&&V===t(c)&&(g?(v(E),E=-1):g=!0,q(C,Z-ne))):(V.sortIndex=fe,e(l,V),m||p||(m=!0,W(D))),V},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(V){var Y=h;return function(){var Z=h;h=Y;try{return V.apply(this,arguments)}finally{h=Z}}}})(NM);OM.exports=NM;var xB=OM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB=x,Qr=xB;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LM=new Set,Yf={};function Ul(n,e){fu(n,e),fu(n+"Capture",e)}function fu(n,e){for(Yf[n]=e,n=0;n<e.length;n++)LM.add(e[n])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=Object.prototype.hasOwnProperty,CB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WI={},HI={};function kB(n){return h1.call(HI,n)?!0:h1.call(WI,n)?!1:CB.test(n)?HI[n]=!0:(WI[n]=!0,!1)}function DB(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function PB(n,e,t,r){if(e===null||typeof e>"u"||DB(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zn[n]=new Sr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zn[e]=new Sr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zn[n]=new Sr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zn[n]=new Sr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zn[n]=new Sr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zn[n]=new Sr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zn[n]=new Sr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zn[n]=new Sr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zn[n]=new Sr(n,5,!1,n.toLowerCase(),null,!1,!1)});var jE=/[\-:]([a-z])/g;function UE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jE,UE);zn[e]=new Sr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jE,UE);zn[e]=new Sr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jE,UE);zn[e]=new Sr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zn[n]=new Sr(n,1,!1,n.toLowerCase(),null,!1,!1)});zn.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zn[n]=new Sr(n,1,!1,n.toLowerCase(),null,!0,!0)});function WE(n,e,t,r){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PB(e,t,i,r)&&(t=null),r||i===null?kB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var as=IB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zp=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),HE=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),FM=Symbol.for("react.provider"),VM=Symbol.for("react.context"),qE=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),KE=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),$M=Symbol.for("react.offscreen"),qI=Symbol.iterator;function kd(n){return n===null||typeof n!="object"?null:(n=qI&&n[qI]||n["@@iterator"],typeof n=="function"?n:null)}var $t=Object.assign,L_;function of(n){if(L_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);L_=e&&e[1]||""}return`
`+L_+n}var F_=!1;function V_(n,e){if(!n||F_)return"";F_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{F_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?of(n):""}function RB(n){switch(n.tag){case 5:return of(n.type);case 16:return of("Lazy");case 13:return of("Suspense");case 19:return of("SuspenseList");case 0:case 2:case 15:return n=V_(n.type,!1),n;case 11:return n=V_(n.type.render,!1),n;case 1:return n=V_(n.type,!0),n;default:return""}}function y1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Oc:return"Fragment";case Mc:return"Portal";case p1:return"Profiler";case HE:return"StrictMode";case m1:return"Suspense";case g1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case VM:return(n.displayName||"Context")+".Consumer";case FM:return(n._context.displayName||"Context")+".Provider";case qE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case KE:return e=n.displayName||null,e!==null?e:y1(n.type)||"Memo";case Ss:e=n._payload,n=n._init;try{return y1(n(e))}catch{}}return null}function AB(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y1(e);case 8:return e===HE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function BM(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MB(n){var e=BM(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function jp(n){n._valueTracker||(n._valueTracker=MB(n))}function zM(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=BM(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Sg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function v1(n,e){var t=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function KI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=la(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jM(n,e){e=e.checked,e!=null&&WE(n,"checked",e,!1)}function _1(n,e){jM(n,e);var t=la(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?w1(n,e.type,t):e.hasOwnProperty("defaultValue")&&w1(n,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function YI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function w1(n,e,t){(e!=="number"||Sg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var sf=Array.isArray;function Gc(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+la(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function b1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function GI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(sf(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:la(t)}}function UM(n,e){var t=la(e.value),r=la(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function QI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function WM(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?WM(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Up,HM=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Up=Up||document.createElement("div"),Up.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Up.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OB=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(n){OB.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ef[e]=Ef[n]})});function qM(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ef.hasOwnProperty(n)&&Ef[n]?(""+e).trim():e+"px"}function KM(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=qM(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var NB=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S1(n,e){if(e){if(NB[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function T1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function YE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var I1=null,Qc=null,Jc=null;function JI(n){if(n=Kh(n)){if(typeof I1!="function")throw Error(J(280));var e=n.stateNode;e&&(e=bv(e),I1(n.stateNode,n.type,e))}}function YM(n){Qc?Jc?Jc.push(n):Jc=[n]:Qc=n}function GM(){if(Qc){var n=Qc,e=Jc;if(Jc=Qc=null,JI(n),e)for(n=0;n<e.length;n++)JI(e[n])}}function QM(n,e){return n(e)}function JM(){}var $_=!1;function XM(n,e,t){if($_)return n(e,t);$_=!0;try{return QM(n,e,t)}finally{$_=!1,(Qc!==null||Jc!==null)&&(JM(),GM())}}function Qf(n,e){var t=n.stateNode;if(t===null)return null;var r=bv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var C1=!1;if(Yo)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){C1=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{C1=!1}function LB(n,e,t,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Sf=!1,Tg=null,xg=!1,k1=null,FB={onError:function(n){Sf=!0,Tg=n}};function VB(n,e,t,r,i,o,s,a,l){Sf=!1,Tg=null,LB.apply(FB,arguments)}function $B(n,e,t,r,i,o,s,a,l){if(VB.apply(this,arguments),Sf){if(Sf){var c=Tg;Sf=!1,Tg=null}else throw Error(J(198));xg||(xg=!0,k1=c)}}function Wl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function ZM(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function XI(n){if(Wl(n)!==n)throw Error(J(188))}function BB(n){var e=n.alternate;if(!e){if(e=Wl(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return XI(i),n;if(o===r)return XI(i),e;o=o.sibling}throw Error(J(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(t.alternate!==r)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function eO(n){return n=BB(n),n!==null?tO(n):null}function tO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=tO(n);if(e!==null)return e;n=n.sibling}return null}var nO=Qr.unstable_scheduleCallback,ZI=Qr.unstable_cancelCallback,zB=Qr.unstable_shouldYield,jB=Qr.unstable_requestPaint,en=Qr.unstable_now,UB=Qr.unstable_getCurrentPriorityLevel,GE=Qr.unstable_ImmediatePriority,rO=Qr.unstable_UserBlockingPriority,Ig=Qr.unstable_NormalPriority,WB=Qr.unstable_LowPriority,iO=Qr.unstable_IdlePriority,yv=null,lo=null;function HB(n){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(yv,n,void 0,(n.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:YB,qB=Math.log,KB=Math.LN2;function YB(n){return n>>>=0,n===0?32:31-(qB(n)/KB|0)|0}var Wp=64,Hp=4194304;function af(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Cg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=af(a):(o&=s,o!==0&&(r=af(o)))}else s=t&~i,s!==0?r=af(s):o!==0&&(r=af(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Fi(e),i=1<<t,r|=n[t],e&=~i;return r}function GB(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QB(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Fi(o),a=1<<s,l=i[s];l===-1?(!(a&t)||a&r)&&(i[s]=GB(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function D1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oO(){var n=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),n}function B_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Fi(e),n[e]=t}function JB(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Fi(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function QE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Fi(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ut=0;function sO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aO,JE,lO,cO,uO,P1=!1,qp=[],Us=null,Ws=null,Hs=null,Jf=new Map,Xf=new Map,Is=[],XB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eC(n,e){switch(n){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(e.pointerId)}}function Pd(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kh(e),e!==null&&JE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ZB(n,e,t,r,i){switch(e){case"focusin":return Us=Pd(Us,n,e,t,r,i),!0;case"dragenter":return Ws=Pd(Ws,n,e,t,r,i),!0;case"mouseover":return Hs=Pd(Hs,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Jf.set(o,Pd(Jf.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xf.set(o,Pd(Xf.get(o)||null,n,e,t,r,i)),!0}return!1}function dO(n){var e=Qa(n.target);if(e!==null){var t=Wl(e);if(t!==null){if(e=t.tag,e===13){if(e=ZM(t),e!==null){n.blockedOn=e,uO(n.priority,function(){lO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=R1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);x1=r,t.target.dispatchEvent(r),x1=null}else return e=Kh(t),e!==null&&JE(e),n.blockedOn=t,!1;e.shift()}return!0}function tC(n,e,t){Nm(n)&&t.delete(e)}function ez(){P1=!1,Us!==null&&Nm(Us)&&(Us=null),Ws!==null&&Nm(Ws)&&(Ws=null),Hs!==null&&Nm(Hs)&&(Hs=null),Jf.forEach(tC),Xf.forEach(tC)}function Rd(n,e){n.blockedOn===e&&(n.blockedOn=null,P1||(P1=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,ez)))}function Zf(n){function e(i){return Rd(i,n)}if(0<qp.length){Rd(qp[0],n);for(var t=1;t<qp.length;t++){var r=qp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Us!==null&&Rd(Us,n),Ws!==null&&Rd(Ws,n),Hs!==null&&Rd(Hs,n),Jf.forEach(e),Xf.forEach(e),t=0;t<Is.length;t++)r=Is[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Is.length&&(t=Is[0],t.blockedOn===null);)dO(t),t.blockedOn===null&&Is.shift()}var Xc=as.ReactCurrentBatchConfig,kg=!0;function tz(n,e,t,r){var i=ut,o=Xc.transition;Xc.transition=null;try{ut=1,XE(n,e,t,r)}finally{ut=i,Xc.transition=o}}function nz(n,e,t,r){var i=ut,o=Xc.transition;Xc.transition=null;try{ut=4,XE(n,e,t,r)}finally{ut=i,Xc.transition=o}}function XE(n,e,t,r){if(kg){var i=R1(n,e,t,r);if(i===null)Q_(n,e,r,Dg,t),eC(n,r);else if(ZB(i,n,e,t,r))r.stopPropagation();else if(eC(n,r),e&4&&-1<XB.indexOf(n)){for(;i!==null;){var o=Kh(i);if(o!==null&&aO(o),o=R1(n,e,t,r),o===null&&Q_(n,e,r,Dg,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else Q_(n,e,r,null,t)}}var Dg=null;function R1(n,e,t,r){if(Dg=null,n=YE(r),n=Qa(n),n!==null)if(e=Wl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=ZM(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Dg=n,null}function fO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UB()){case GE:return 1;case rO:return 4;case Ig:case WB:return 16;case iO:return 536870912;default:return 16}default:return 16}}var Os=null,ZE=null,Lm=null;function hO(){if(Lm)return Lm;var n,e=ZE,t=e.length,r,i="value"in Os?Os.value:Os.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return Lm=i.slice(n,1<r?1-r:void 0)}function Fm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kp(){return!0}function nC(){return!1}function ei(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kp:nC,this.isPropagationStopped=nC,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),e}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eS=ei(Wu),qh=$t({},Wu,{view:0,detail:0}),rz=ei(qh),z_,j_,Ad,vv=$t({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ad&&(Ad&&n.type==="mousemove"?(z_=n.screenX-Ad.screenX,j_=n.screenY-Ad.screenY):j_=z_=0,Ad=n),z_)},movementY:function(n){return"movementY"in n?n.movementY:j_}}),rC=ei(vv),iz=$t({},vv,{dataTransfer:0}),oz=ei(iz),sz=$t({},qh,{relatedTarget:0}),U_=ei(sz),az=$t({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),lz=ei(az),cz=$t({},Wu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uz=ei(cz),dz=$t({},Wu,{data:0}),iC=ei(dz),fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mz(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=pz[n])?!!e[n]:!1}function tS(){return mz}var gz=$t({},qh,{key:function(n){if(n.key){var e=fz[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Fm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tS,charCode:function(n){return n.type==="keypress"?Fm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yz=ei(gz),vz=$t({},vv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oC=ei(vz),_z=$t({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tS}),wz=ei(_z),bz=$t({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ez=ei(bz),Sz=$t({},vv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tz=ei(Sz),xz=[9,13,27,32],nS=Yo&&"CompositionEvent"in window,Tf=null;Yo&&"documentMode"in document&&(Tf=document.documentMode);var Iz=Yo&&"TextEvent"in window&&!Tf,pO=Yo&&(!nS||Tf&&8<Tf&&11>=Tf),sC=" ",aC=!1;function mO(n,e){switch(n){case"keyup":return xz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nc=!1;function Cz(n,e){switch(n){case"compositionend":return gO(e);case"keypress":return e.which!==32?null:(aC=!0,sC);case"textInput":return n=e.data,n===sC&&aC?null:n;default:return null}}function kz(n,e){if(Nc)return n==="compositionend"||!nS&&mO(n,e)?(n=hO(),Lm=ZE=Os=null,Nc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pO&&e.locale!=="ko"?null:e.data;default:return null}}var Dz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Dz[n.type]:e==="textarea"}function yO(n,e,t,r){YM(r),e=Pg(e,"onChange"),0<e.length&&(t=new eS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var xf=null,eh=null;function Pz(n){kO(n,0)}function _v(n){var e=Vc(n);if(zM(e))return n}function Rz(n,e){if(n==="change")return e}var vO=!1;if(Yo){var W_;if(Yo){var H_="oninput"in document;if(!H_){var cC=document.createElement("div");cC.setAttribute("oninput","return;"),H_=typeof cC.oninput=="function"}W_=H_}else W_=!1;vO=W_&&(!document.documentMode||9<document.documentMode)}function uC(){xf&&(xf.detachEvent("onpropertychange",_O),eh=xf=null)}function _O(n){if(n.propertyName==="value"&&_v(eh)){var e=[];yO(e,eh,n,YE(n)),XM(Pz,e)}}function Az(n,e,t){n==="focusin"?(uC(),xf=e,eh=t,xf.attachEvent("onpropertychange",_O)):n==="focusout"&&uC()}function Mz(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _v(eh)}function Oz(n,e){if(n==="click")return _v(e)}function Nz(n,e){if(n==="input"||n==="change")return _v(e)}function Lz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var zi=typeof Object.is=="function"?Object.is:Lz;function th(n,e){if(zi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!h1.call(e,i)||!zi(n[i],e[i]))return!1}return!0}function dC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fC(n,e){var t=dC(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=dC(t)}}function wO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?wO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function bO(){for(var n=window,e=Sg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Sg(n.document)}return e}function rS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Fz(n){var e=bO(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&wO(t.ownerDocument.documentElement,t)){if(r!==null&&rS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=fC(t,o);var s=fC(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Vz=Yo&&"documentMode"in document&&11>=document.documentMode,Lc=null,A1=null,If=null,M1=!1;function hC(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;M1||Lc==null||Lc!==Sg(r)||(r=Lc,"selectionStart"in r&&rS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),If&&th(If,r)||(If=r,r=Pg(A1,"onSelect"),0<r.length&&(e=new eS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Lc)))}function Yp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Fc={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},q_={},EO={};Yo&&(EO=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function wv(n){if(q_[n])return q_[n];if(!Fc[n])return n;var e=Fc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in EO)return q_[n]=e[t];return n}var SO=wv("animationend"),TO=wv("animationiteration"),xO=wv("animationstart"),IO=wv("transitionend"),CO=new Map,pC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(n,e){CO.set(n,e),Ul(e,[n])}for(var K_=0;K_<pC.length;K_++){var Y_=pC[K_],$z=Y_.toLowerCase(),Bz=Y_[0].toUpperCase()+Y_.slice(1);va($z,"on"+Bz)}va(SO,"onAnimationEnd");va(TO,"onAnimationIteration");va(xO,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(IO,"onTransitionEnd");fu("onMouseEnter",["mouseout","mouseover"]);fu("onMouseLeave",["mouseout","mouseover"]);fu("onPointerEnter",["pointerout","pointerover"]);fu("onPointerLeave",["pointerout","pointerover"]);Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zz=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function mC(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,$B(r,e,void 0,n),n.currentTarget=null}function kO(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;mC(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;mC(i,a,c),o=l}}}if(xg)throw n=k1,xg=!1,k1=null,n}function Tt(n,e){var t=e[V1];t===void 0&&(t=e[V1]=new Set);var r=n+"__bubble";t.has(r)||(DO(e,n,2,!1),t.add(r))}function G_(n,e,t){var r=0;e&&(r|=4),DO(t,n,r,e)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function nh(n){if(!n[Gp]){n[Gp]=!0,LM.forEach(function(t){t!=="selectionchange"&&(zz.has(t)||G_(t,!1,n),G_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Gp]||(e[Gp]=!0,G_("selectionchange",!1,e))}}function DO(n,e,t,r){switch(fO(e)){case 1:var i=tz;break;case 4:i=nz;break;default:i=XE}t=i.bind(null,e,t,n),i=void 0,!C1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Q_(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Qa(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}XM(function(){var c=o,u=YE(t),d=[];e:{var h=CO.get(n);if(h!==void 0){var p=eS,m=n;switch(n){case"keypress":if(Fm(t)===0)break e;case"keydown":case"keyup":p=yz;break;case"focusin":m="focus",p=U_;break;case"focusout":m="blur",p=U_;break;case"beforeblur":case"afterblur":p=U_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wz;break;case SO:case TO:case xO:p=lz;break;case IO:p=Ez;break;case"scroll":p=rz;break;case"wheel":p=Tz;break;case"copy":case"cut":case"paste":p=uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oC}var g=(e&4)!==0,_=!g&&n==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,v!==null&&(C=Qf(w,v),C!=null&&g.push(rh(w,C,b)))),_)break;w=w.return}0<g.length&&(h=new p(h,m,null,t,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==x1&&(m=t.relatedTarget||t.fromElement)&&(Qa(m)||m[Go]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?Qa(m):null,m!==null&&(_=Wl(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=rC,C="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=oC,C="onPointerLeave",v="onPointerEnter",w="pointer"),_=p==null?h:Vc(p),b=m==null?h:Vc(m),h=new g(C,w+"leave",p,t,u),h.target=_,h.relatedTarget=b,C=null,Qa(u)===c&&(g=new g(v,w+"enter",m,t,u),g.target=b,g.relatedTarget=_,C=g),_=C,p&&m)t:{for(g=p,v=m,w=0,b=g;b;b=lc(b))w++;for(b=0,C=v;C;C=lc(C))b++;for(;0<w-b;)g=lc(g),w--;for(;0<b-w;)v=lc(v),b--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=lc(g),v=lc(v)}g=null}else g=null;p!==null&&gC(d,h,p,g,!1),m!==null&&_!==null&&gC(d,_,m,g,!0)}}e:{if(h=c?Vc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var D=Rz;else if(lC(h))if(vO)D=Nz;else{D=Mz;var M=Az}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=Oz);if(D&&(D=D(n,c))){yO(d,D,t,u);break e}M&&M(n,h,c),n==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&w1(h,"number",h.value)}switch(M=c?Vc(c):window,n){case"focusin":(lC(M)||M.contentEditable==="true")&&(Lc=M,A1=c,If=null);break;case"focusout":If=A1=Lc=null;break;case"mousedown":M1=!0;break;case"contextmenu":case"mouseup":case"dragend":M1=!1,hC(d,t,u);break;case"selectionchange":if(Vz)break;case"keydown":case"keyup":hC(d,t,u)}var S;if(nS)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Nc?mO(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(pO&&t.locale!=="ko"&&(Nc||E!=="onCompositionStart"?E==="onCompositionEnd"&&Nc&&(S=hO()):(Os=u,ZE="value"in Os?Os.value:Os.textContent,Nc=!0)),M=Pg(c,E),0<M.length&&(E=new iC(E,n,null,t,u),d.push({event:E,listeners:M}),S?E.data=S:(S=gO(t),S!==null&&(E.data=S)))),(S=Iz?Cz(n,t):kz(n,t))&&(c=Pg(c,"onBeforeInput"),0<c.length&&(u=new iC("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=S))}kO(d,e)})}function rh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Pg(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Qf(n,t),o!=null&&r.unshift(rh(n,o,i)),o=Qf(n,e),o!=null&&r.push(rh(n,o,i))),n=n.return}return r}function lc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gC(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Qf(t,o),l!=null&&s.unshift(rh(t,l,a))):i||(l=Qf(t,o),l!=null&&s.push(rh(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var jz=/\r\n?/g,Uz=/\u0000|\uFFFD/g;function yC(n){return(typeof n=="string"?n:""+n).replace(jz,`
`).replace(Uz,"")}function Qp(n,e,t){if(e=yC(e),yC(n)!==e&&t)throw Error(J(425))}function Rg(){}var O1=null,N1=null;function L1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F1=typeof setTimeout=="function"?setTimeout:void 0,Wz=typeof clearTimeout=="function"?clearTimeout:void 0,vC=typeof Promise=="function"?Promise:void 0,Hz=typeof queueMicrotask=="function"?queueMicrotask:typeof vC<"u"?function(n){return vC.resolve(null).then(n).catch(qz)}:F1;function qz(n){setTimeout(function(){throw n})}function J_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Zf(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Zf(e)}function qs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _C(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),Zi="__reactFiber$"+Hu,ih="__reactProps$"+Hu,Go="__reactContainer$"+Hu,V1="__reactEvents$"+Hu,Kz="__reactListeners$"+Hu,Yz="__reactHandles$"+Hu;function Qa(n){var e=n[Zi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Go]||t[Zi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_C(n);n!==null;){if(t=n[Zi])return t;n=_C(n)}return e}n=t,t=n.parentNode}return null}function Kh(n){return n=n[Zi]||n[Go],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function bv(n){return n[ih]||null}var $1=[],$c=-1;function _a(n){return{current:n}}function xt(n){0>$c||(n.current=$1[$c],$1[$c]=null,$c--)}function Et(n,e){$c++,$1[$c]=n.current,n.current=e}var ca={},nr=_a(ca),Pr=_a(!1),_l=ca;function hu(n,e){var t=n.type.contextTypes;if(!t)return ca;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(n){return n=n.childContextTypes,n!=null}function Ag(){xt(Pr),xt(nr)}function wC(n,e,t){if(nr.current!==ca)throw Error(J(168));Et(nr,e),Et(Pr,t)}function PO(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,AB(n)||"Unknown",i));return $t({},t,r)}function Mg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ca,_l=nr.current,Et(nr,n),Et(Pr,Pr.current),!0}function bC(n,e,t){var r=n.stateNode;if(!r)throw Error(J(169));t?(n=PO(n,e,_l),r.__reactInternalMemoizedMergedChildContext=n,xt(Pr),xt(nr),Et(nr,n)):xt(Pr),Et(Pr,t)}var Ro=null,Ev=!1,X_=!1;function RO(n){Ro===null?Ro=[n]:Ro.push(n)}function Gz(n){Ev=!0,RO(n)}function wa(){if(!X_&&Ro!==null){X_=!0;var n=0,e=ut;try{var t=Ro;for(ut=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ro=null,Ev=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(n+1)),nO(GE,wa),i}finally{ut=e,X_=!1}}return null}var Bc=[],zc=0,Og=null,Ng=0,li=[],ci=0,wl=null,Oo=1,No="";function La(n,e){Bc[zc++]=Ng,Bc[zc++]=Og,Og=n,Ng=e}function AO(n,e,t){li[ci++]=Oo,li[ci++]=No,li[ci++]=wl,wl=n;var r=Oo;n=No;var i=32-Fi(r)-1;r&=~(1<<i),t+=1;var o=32-Fi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Oo=1<<32-Fi(e)+i|t<<i|r,No=o+n}else Oo=1<<o|t<<i|r,No=n}function iS(n){n.return!==null&&(La(n,1),AO(n,1,0))}function oS(n){for(;n===Og;)Og=Bc[--zc],Bc[zc]=null,Ng=Bc[--zc],Bc[zc]=null;for(;n===wl;)wl=li[--ci],li[ci]=null,No=li[--ci],li[ci]=null,Oo=li[--ci],li[ci]=null}var qr=null,Ur=null,Dt=!1,Ni=null;function MO(n,e){var t=hi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function EC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,qr=n,Ur=qs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,qr=n,Ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=wl!==null?{id:Oo,overflow:No}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,qr=n,Ur=null,!0):!1;default:return!1}}function B1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function z1(n){if(Dt){var e=Ur;if(e){var t=e;if(!EC(n,e)){if(B1(n))throw Error(J(418));e=qs(t.nextSibling);var r=qr;e&&EC(n,e)?MO(r,t):(n.flags=n.flags&-4097|2,Dt=!1,qr=n)}}else{if(B1(n))throw Error(J(418));n.flags=n.flags&-4097|2,Dt=!1,qr=n}}}function SC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qr=n}function Jp(n){if(n!==qr)return!1;if(!Dt)return SC(n),Dt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!L1(n.type,n.memoizedProps)),e&&(e=Ur)){if(B1(n))throw OO(),Error(J(418));for(;e;)MO(n,e),e=qs(e.nextSibling)}if(SC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ur=qs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ur=null}}else Ur=qr?qs(n.stateNode.nextSibling):null;return!0}function OO(){for(var n=Ur;n;)n=qs(n.nextSibling)}function pu(){Ur=qr=null,Dt=!1}function sS(n){Ni===null?Ni=[n]:Ni.push(n)}var Qz=as.ReactCurrentBatchConfig;function Md(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var r=t.stateNode}if(!r)throw Error(J(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function Xp(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function TC(n){var e=n._init;return e(n._payload)}function NO(n){function e(v,w){if(n){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Qs(v,w),v.index=0,v.sibling=null,v}function o(v,w,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,b,C){return w===null||w.tag!==6?(w=ow(b,v.mode,C),w.return=v,w):(w=i(w,b),w.return=v,w)}function l(v,w,b,C){var D=b.type;return D===Oc?u(v,w,b.props.children,C,b.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ss&&TC(D)===w.type)?(C=i(w,b.props),C.ref=Md(v,w,b),C.return=v,C):(C=Wm(b.type,b.key,b.props,null,v.mode,C),C.ref=Md(v,w,b),C.return=v,C)}function c(v,w,b,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=sw(b,v.mode,C),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function u(v,w,b,C,D){return w===null||w.tag!==7?(w=sl(b,v.mode,C,D),w.return=v,w):(w=i(w,b),w.return=v,w)}function d(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ow(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zp:return b=Wm(w.type,w.key,w.props,null,v.mode,b),b.ref=Md(v,null,w),b.return=v,b;case Mc:return w=sw(w,v.mode,b),w.return=v,w;case Ss:var C=w._init;return d(v,C(w._payload),b)}if(sf(w)||kd(w))return w=sl(w,v.mode,b,null),w.return=v,w;Xp(v,w)}return null}function h(v,w,b,C){var D=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(v,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zp:return b.key===D?l(v,w,b,C):null;case Mc:return b.key===D?c(v,w,b,C):null;case Ss:return D=b._init,h(v,w,D(b._payload),C)}if(sf(b)||kd(b))return D!==null?null:u(v,w,b,C,null);Xp(v,b)}return null}function p(v,w,b,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(b)||null,a(w,v,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zp:return v=v.get(C.key===null?b:C.key)||null,l(w,v,C,D);case Mc:return v=v.get(C.key===null?b:C.key)||null,c(w,v,C,D);case Ss:var M=C._init;return p(v,w,b,M(C._payload),D)}if(sf(C)||kd(C))return v=v.get(b)||null,u(w,v,C,D,null);Xp(w,C)}return null}function m(v,w,b,C){for(var D=null,M=null,S=w,E=w=0,I=null;S!==null&&E<b.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var k=h(v,S,b[E],C);if(k===null){S===null&&(S=I);break}n&&S&&k.alternate===null&&e(v,S),w=o(k,w,E),M===null?D=k:M.sibling=k,M=k,S=I}if(E===b.length)return t(v,S),Dt&&La(v,E),D;if(S===null){for(;E<b.length;E++)S=d(v,b[E],C),S!==null&&(w=o(S,w,E),M===null?D=S:M.sibling=S,M=S);return Dt&&La(v,E),D}for(S=r(v,S);E<b.length;E++)I=p(S,v,E,b[E],C),I!==null&&(n&&I.alternate!==null&&S.delete(I.key===null?E:I.key),w=o(I,w,E),M===null?D=I:M.sibling=I,M=I);return n&&S.forEach(function(A){return e(v,A)}),Dt&&La(v,E),D}function g(v,w,b,C){var D=kd(b);if(typeof D!="function")throw Error(J(150));if(b=D.call(b),b==null)throw Error(J(151));for(var M=D=null,S=w,E=w=0,I=null,k=b.next();S!==null&&!k.done;E++,k=b.next()){S.index>E?(I=S,S=null):I=S.sibling;var A=h(v,S,k.value,C);if(A===null){S===null&&(S=I);break}n&&S&&A.alternate===null&&e(v,S),w=o(A,w,E),M===null?D=A:M.sibling=A,M=A,S=I}if(k.done)return t(v,S),Dt&&La(v,E),D;if(S===null){for(;!k.done;E++,k=b.next())k=d(v,k.value,C),k!==null&&(w=o(k,w,E),M===null?D=k:M.sibling=k,M=k);return Dt&&La(v,E),D}for(S=r(v,S);!k.done;E++,k=b.next())k=p(S,v,E,k.value,C),k!==null&&(n&&k.alternate!==null&&S.delete(k.key===null?E:k.key),w=o(k,w,E),M===null?D=k:M.sibling=k,M=k);return n&&S.forEach(function(O){return e(v,O)}),Dt&&La(v,E),D}function _(v,w,b,C){if(typeof b=="object"&&b!==null&&b.type===Oc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zp:e:{for(var D=b.key,M=w;M!==null;){if(M.key===D){if(D=b.type,D===Oc){if(M.tag===7){t(v,M.sibling),w=i(M,b.props.children),w.return=v,v=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ss&&TC(D)===M.type){t(v,M.sibling),w=i(M,b.props),w.ref=Md(v,M,b),w.return=v,v=w;break e}t(v,M);break}else e(v,M);M=M.sibling}b.type===Oc?(w=sl(b.props.children,v.mode,C,b.key),w.return=v,v=w):(C=Wm(b.type,b.key,b.props,null,v.mode,C),C.ref=Md(v,w,b),C.return=v,v=C)}return s(v);case Mc:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=sw(b,v.mode,C),w.return=v,v=w}return s(v);case Ss:return M=b._init,_(v,w,M(b._payload),C)}if(sf(b))return m(v,w,b,C);if(kd(b))return g(v,w,b,C);Xp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(v,w.sibling),w=i(w,b),w.return=v,v=w):(t(v,w),w=ow(b,v.mode,C),w.return=v,v=w),s(v)):t(v,w)}return _}var mu=NO(!0),LO=NO(!1),Lg=_a(null),Fg=null,jc=null,aS=null;function lS(){aS=jc=Fg=null}function cS(n){var e=Lg.current;xt(Lg),n._currentValue=e}function j1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Zc(n,e){Fg=n,aS=jc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(kr=!0),n.firstContext=null)}function vi(n){var e=n._currentValue;if(aS!==n)if(n={context:n,memoizedValue:e,next:null},jc===null){if(Fg===null)throw Error(J(308));jc=n,Fg.dependencies={lanes:0,firstContext:n}}else jc=jc.next=n;return e}var Ja=null;function uS(n){Ja===null?Ja=[n]:Ja.push(n)}function FO(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,uS(e)):(t.next=i.next,i.next=t),e.interleaved=t,Qo(n,r)}function Qo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ts=!1;function dS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VO(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function zo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(n,t)}return i=r.interleaved,i===null?(e.next=e,uS(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(n,t)}function Vm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,QE(n,t)}}function xC(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Vg(n,e,t,r){var i=n.updateQueue;Ts=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(h=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=$t({},d,h);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);El|=s,n.lanes=s,n.memoizedState=d}}function IC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Yh={},co=_a(Yh),oh=_a(Yh),sh=_a(Yh);function Xa(n){if(n===Yh)throw Error(J(174));return n}function fS(n,e){switch(Et(sh,e),Et(oh,n),Et(co,Yh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=E1(e,n)}xt(co),Et(co,e)}function gu(){xt(co),xt(oh),xt(sh)}function $O(n){Xa(sh.current);var e=Xa(co.current),t=E1(e,n.type);e!==t&&(Et(oh,n),Et(co,t))}function hS(n){oh.current===n&&(xt(co),xt(oh))}var Ot=_a(0);function $g(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Z_=[];function pS(){for(var n=0;n<Z_.length;n++)Z_[n]._workInProgressVersionPrimary=null;Z_.length=0}var $m=as.ReactCurrentDispatcher,ew=as.ReactCurrentBatchConfig,bl=0,Ft=null,mn=null,bn=null,Bg=!1,Cf=!1,ah=0,Jz=0;function Yn(){throw Error(J(321))}function mS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!zi(n[t],e[t]))return!1;return!0}function gS(n,e,t,r,i,o){if(bl=o,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$m.current=n===null||n.memoizedState===null?t5:n5,n=t(r,i),Cf){o=0;do{if(Cf=!1,ah=0,25<=o)throw Error(J(301));o+=1,bn=mn=null,e.updateQueue=null,$m.current=r5,n=t(r,i)}while(Cf)}if($m.current=zg,e=mn!==null&&mn.next!==null,bl=0,bn=mn=Ft=null,Bg=!1,e)throw Error(J(300));return n}function yS(){var n=ah!==0;return ah=0,n}function Yi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Ft.memoizedState=bn=n:bn=bn.next=n,bn}function _i(){if(mn===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=mn.next;var e=bn===null?Ft.memoizedState:bn.next;if(e!==null)bn=e,mn=n;else{if(n===null)throw Error(J(310));mn=n,n={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},bn===null?Ft.memoizedState=bn=n:bn=bn.next=n}return bn}function lh(n,e){return typeof e=="function"?e(n):e}function tw(n){var e=_i(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=mn,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((bl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ft.lanes|=u,El|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,zi(r,e.memoizedState)||(kr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Ft.lanes|=o,El|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function nw(n){var e=_i(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);zi(o,e.memoizedState)||(kr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function BO(){}function zO(n,e){var t=Ft,r=_i(),i=e(),o=!zi(r.memoizedState,i);if(o&&(r.memoizedState=i,kr=!0),r=r.queue,vS(WO.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||bn!==null&&bn.memoizedState.tag&1){if(t.flags|=2048,ch(9,UO.bind(null,t,r,i,e),void 0,null),Tn===null)throw Error(J(349));bl&30||jO(t,e,i)}return i}function jO(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function UO(n,e,t,r){e.value=t,e.getSnapshot=r,HO(e)&&qO(n)}function WO(n,e,t){return t(function(){HO(e)&&qO(n)})}function HO(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!zi(n,t)}catch{return!0}}function qO(n){var e=Qo(n,1);e!==null&&Vi(e,n,1,-1)}function CC(n){var e=Yi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:n},e.queue=n,n=n.dispatch=e5.bind(null,Ft,n),[e.memoizedState,n]}function ch(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function KO(){return _i().memoizedState}function Bm(n,e,t,r){var i=Yi();Ft.flags|=n,i.memoizedState=ch(1|e,t,void 0,r===void 0?null:r)}function Sv(n,e,t,r){var i=_i();r=r===void 0?null:r;var o=void 0;if(mn!==null){var s=mn.memoizedState;if(o=s.destroy,r!==null&&mS(r,s.deps)){i.memoizedState=ch(e,t,o,r);return}}Ft.flags|=n,i.memoizedState=ch(1|e,t,o,r)}function kC(n,e){return Bm(8390656,8,n,e)}function vS(n,e){return Sv(2048,8,n,e)}function YO(n,e){return Sv(4,2,n,e)}function GO(n,e){return Sv(4,4,n,e)}function QO(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function JO(n,e,t){return t=t!=null?t.concat([n]):null,Sv(4,4,QO.bind(null,e,n),t)}function _S(){}function XO(n,e){var t=_i();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mS(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ZO(n,e){var t=_i();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mS(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function eN(n,e,t){return bl&21?(zi(t,e)||(t=oO(),Ft.lanes|=t,El|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,kr=!0),n.memoizedState=t)}function Xz(n,e){var t=ut;ut=t!==0&&4>t?t:4,n(!0);var r=ew.transition;ew.transition={};try{n(!1),e()}finally{ut=t,ew.transition=r}}function tN(){return _i().memoizedState}function Zz(n,e,t){var r=Gs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},nN(n))rN(e,t);else if(t=FO(n,e,t,r),t!==null){var i=mr();Vi(t,n,r,i),iN(t,e,r)}}function e5(n,e,t){var r=Gs(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(nN(n))rN(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,zi(a,s)){var l=e.interleaved;l===null?(i.next=i,uS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=FO(n,e,i,r),t!==null&&(i=mr(),Vi(t,n,r,i),iN(t,e,r))}}function nN(n){var e=n.alternate;return n===Ft||e!==null&&e===Ft}function rN(n,e){Cf=Bg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function iN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,QE(n,t)}}var zg={readContext:vi,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},t5={readContext:vi,useCallback:function(n,e){return Yi().memoizedState=[n,e===void 0?null:e],n},useContext:vi,useEffect:kC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Bm(4194308,4,QO.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Bm(4194308,4,n,e)},useInsertionEffect:function(n,e){return Bm(4,2,n,e)},useMemo:function(n,e){var t=Yi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Yi();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Zz.bind(null,Ft,n),[r.memoizedState,n]},useRef:function(n){var e=Yi();return n={current:n},e.memoizedState=n},useState:CC,useDebugValue:_S,useDeferredValue:function(n){return Yi().memoizedState=n},useTransition:function(){var n=CC(!1),e=n[0];return n=Xz.bind(null,n[1]),Yi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ft,i=Yi();if(Dt){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),Tn===null)throw Error(J(349));bl&30||jO(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,kC(WO.bind(null,r,o,n),[n]),r.flags|=2048,ch(9,UO.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Yi(),e=Tn.identifierPrefix;if(Dt){var t=No,r=Oo;t=(r&~(1<<32-Fi(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ah++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Jz++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},n5={readContext:vi,useCallback:XO,useContext:vi,useEffect:vS,useImperativeHandle:JO,useInsertionEffect:YO,useLayoutEffect:GO,useMemo:ZO,useReducer:tw,useRef:KO,useState:function(){return tw(lh)},useDebugValue:_S,useDeferredValue:function(n){var e=_i();return eN(e,mn.memoizedState,n)},useTransition:function(){var n=tw(lh)[0],e=_i().memoizedState;return[n,e]},useMutableSource:BO,useSyncExternalStore:zO,useId:tN,unstable_isNewReconciler:!1},r5={readContext:vi,useCallback:XO,useContext:vi,useEffect:vS,useImperativeHandle:JO,useInsertionEffect:YO,useLayoutEffect:GO,useMemo:ZO,useReducer:nw,useRef:KO,useState:function(){return nw(lh)},useDebugValue:_S,useDeferredValue:function(n){var e=_i();return mn===null?e.memoizedState=n:eN(e,mn.memoizedState,n)},useTransition:function(){var n=nw(lh)[0],e=_i().memoizedState;return[n,e]},useMutableSource:BO,useSyncExternalStore:zO,useId:tN,unstable_isNewReconciler:!1};function Mi(n,e){if(n&&n.defaultProps){e=$t({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function U1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:$t({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Tv={isMounted:function(n){return(n=n._reactInternals)?Wl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=mr(),i=Gs(n),o=zo(r,i);o.payload=e,t!=null&&(o.callback=t),e=Ks(n,o,i),e!==null&&(Vi(e,n,i,r),Vm(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=mr(),i=Gs(n),o=zo(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Ks(n,o,i),e!==null&&(Vi(e,n,i,r),Vm(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=mr(),r=Gs(n),i=zo(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ks(n,i,r),e!==null&&(Vi(e,n,r,t),Vm(e,n,r))}};function DC(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!th(t,r)||!th(i,o):!0}function oN(n,e,t){var r=!1,i=ca,o=e.contextType;return typeof o=="object"&&o!==null?o=vi(o):(i=Rr(e)?_l:nr.current,r=e.contextTypes,o=(r=r!=null)?hu(n,i):ca),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function PC(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Tv.enqueueReplaceState(e,e.state,null)}function W1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},dS(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vi(o):(o=Rr(e)?_l:nr.current,i.context=hu(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(U1(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tv.enqueueReplaceState(i,i.state,null),Vg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yu(n,e){try{var t="",r=e;do t+=RB(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function rw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function H1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var i5=typeof WeakMap=="function"?WeakMap:Map;function sN(n,e,t){t=zo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ug||(Ug=!0,tb=r),H1(n,e)},t}function aN(n,e,t){t=zo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){H1(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){H1(n,e),typeof r!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function RC(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new i5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=v5.bind(null,n,e,t),e.then(n,n))}function AC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function MC(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=zo(-1,1),e.tag=2,Ks(t,e,1))),t.lanes|=1),n)}var o5=as.ReactCurrentOwner,kr=!1;function ar(n,e,t,r){e.child=n===null?LO(e,null,t,r):mu(e,n.child,t,r)}function OC(n,e,t,r,i){t=t.render;var o=e.ref;return Zc(e,i),r=gS(n,e,t,r,o,i),t=yS(),n!==null&&!kr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Jo(n,e,i)):(Dt&&t&&iS(e),e.flags|=1,ar(n,e,r,i),e.child)}function NC(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!CS(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,lN(n,e,o,r,i)):(n=Wm(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:th,t(s,r)&&n.ref===e.ref)return Jo(n,e,i)}return e.flags|=1,n=Qs(o,r),n.ref=e.ref,n.return=e,e.child=n}function lN(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(th(o,r)&&n.ref===e.ref)if(kr=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(kr=!0);else return e.lanes=n.lanes,Jo(n,e,i)}return q1(n,e,t,r,i)}function cN(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Wc,$r),$r|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Et(Wc,$r),$r|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Et(Wc,$r),$r|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Et(Wc,$r),$r|=r;return ar(n,e,i,t),e.child}function uN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function q1(n,e,t,r,i){var o=Rr(t)?_l:nr.current;return o=hu(e,o),Zc(e,i),t=gS(n,e,t,r,o,i),r=yS(),n!==null&&!kr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Jo(n,e,i)):(Dt&&r&&iS(e),e.flags|=1,ar(n,e,t,i),e.child)}function LC(n,e,t,r,i){if(Rr(t)){var o=!0;Mg(e)}else o=!1;if(Zc(e,i),e.stateNode===null)zm(n,e),oN(e,t,r),W1(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=vi(c):(c=Rr(t)?_l:nr.current,c=hu(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&PC(e,s,r,c),Ts=!1;var h=e.memoizedState;s.state=h,Vg(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Pr.current||Ts?(typeof u=="function"&&(U1(e,t,u,r),l=e.memoizedState),(a=Ts||DC(e,t,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,VO(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=vi(l):(l=Rr(t)?_l:nr.current,l=hu(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&PC(e,s,r,l),Ts=!1,h=e.memoizedState,s.state=h,Vg(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||Pr.current||Ts?(typeof p=="function"&&(U1(e,t,p,r),m=e.memoizedState),(c=Ts||DC(e,t,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return K1(n,e,t,r,o,i)}function K1(n,e,t,r,i,o){uN(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&bC(e,t,!1),Jo(n,e,o);r=e.stateNode,o5.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=mu(e,n.child,null,o),e.child=mu(e,null,a,o)):ar(n,e,a,o),e.memoizedState=r.state,i&&bC(e,t,!0),e.child}function dN(n){var e=n.stateNode;e.pendingContext?wC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&wC(n,e.context,!1),fS(n,e.containerInfo)}function FC(n,e,t,r,i){return pu(),sS(i),e.flags|=256,ar(n,e,t,r),e.child}var Y1={dehydrated:null,treeContext:null,retryLane:0};function G1(n){return{baseLanes:n,cachePool:null,transitions:null}}function fN(n,e,t){var r=e.pendingProps,i=Ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Et(Ot,i&1),n===null)return z1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Cv(s,r,0,null),n=sl(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=G1(t),e.memoizedState=Y1,n):wS(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s5(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qs(a,o):(o=sl(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?G1(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=Y1,r}return o=n.child,n=o.sibling,r=Qs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function wS(n,e){return e=Cv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Zp(n,e,t,r){return r!==null&&sS(r),mu(e,n.child,null,t),n=wS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function s5(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=rw(Error(J(422))),Zp(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Cv({mode:"visible",children:r.children},i,0,null),o=sl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&mu(e,n.child,null,s),e.child.memoizedState=G1(s),e.memoizedState=Y1,o);if(!(e.mode&1))return Zp(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=rw(o,r,void 0),Zp(n,e,s,r)}if(a=(s&n.childLanes)!==0,kr||a){if(r=Tn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qo(n,i),Vi(r,n,i,-1))}return IS(),r=rw(Error(J(421))),Zp(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=_5.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,Ur=qs(i.nextSibling),qr=e,Dt=!0,Ni=null,n!==null&&(li[ci++]=Oo,li[ci++]=No,li[ci++]=wl,Oo=n.id,No=n.overflow,wl=e),e=wS(e,r.children),e.flags|=4096,e)}function VC(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),j1(n.return,e,t)}function iw(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function hN(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ar(n,e,r.children,t),r=Ot.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&VC(n,t,e);else if(n.tag===19)VC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Et(Ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&$g(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),iw(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&$g(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}iw(e,!0,t,null,o);break;case"together":iw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Jo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),El|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=Qs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function a5(n,e,t){switch(e.tag){case 3:dN(e),pu();break;case 5:$O(e);break;case 1:Rr(e.type)&&Mg(e);break;case 4:fS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Et(Lg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Ot,Ot.current&1),e.flags|=128,null):t&e.child.childLanes?fN(n,e,t):(Et(Ot,Ot.current&1),n=Jo(n,e,t),n!==null?n.sibling:null);Et(Ot,Ot.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return hN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(Ot,Ot.current),r)break;return null;case 22:case 23:return e.lanes=0,cN(n,e,t)}return Jo(n,e,t)}var pN,Q1,mN,gN;pN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Q1=function(){};mN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Xa(co.current);var o=null;switch(t){case"input":i=v1(n,i),r=v1(n,r),o=[];break;case"select":i=$t({},i,{value:void 0}),r=$t({},r,{value:void 0}),o=[];break;case"textarea":i=b1(n,i),r=b1(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Rg)}S1(t,r);var s;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tt("scroll",n),o||a===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};gN=function(n,e,t,r){t!==r&&(e.flags|=4)};function Od(n,e){if(!Dt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Gn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function l5(n,e,t){var r=e.pendingProps;switch(oS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return Rr(e.type)&&Ag(),Gn(e),null;case 3:return r=e.stateNode,gu(),xt(Pr),xt(nr),pS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Jp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ni!==null&&(ib(Ni),Ni=null))),Q1(n,e),Gn(e),null;case 5:hS(e);var i=Xa(sh.current);if(t=e.type,n!==null&&e.stateNode!=null)mN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Gn(e),null}if(n=Xa(co.current),Jp(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Zi]=e,r[ih]=o,n=(e.mode&1)!==0,t){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<lf.length;i++)Tt(lf[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":KI(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":GI(r,o),Tt("invalid",r)}S1(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qp(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qp(r.textContent,a,n),i=["children",""+a]):Yf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tt("scroll",r)}switch(t){case"input":jp(r),YI(r,o,!0);break;case"textarea":jp(r),QI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=WM(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[Zi]=e,n[ih]=r,pN(n,e,!1,!1),e.stateNode=n;e:{switch(s=T1(t,r),t){case"dialog":Tt("cancel",n),Tt("close",n),i=r;break;case"iframe":case"object":case"embed":Tt("load",n),i=r;break;case"video":case"audio":for(i=0;i<lf.length;i++)Tt(lf[i],n);i=r;break;case"source":Tt("error",n),i=r;break;case"img":case"image":case"link":Tt("error",n),Tt("load",n),i=r;break;case"details":Tt("toggle",n),i=r;break;case"input":KI(n,r),i=v1(n,r),Tt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=$t({},r,{value:void 0}),Tt("invalid",n);break;case"textarea":GI(n,r),i=b1(n,r),Tt("invalid",n);break;default:i=r}S1(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?KM(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HM(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Gf(n,l):typeof l=="number"&&Gf(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Tt("scroll",n):l!=null&&WE(n,o,l,s))}switch(t){case"input":jp(n),YI(n,r,!1);break;case"textarea":jp(n),QI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+la(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Gc(n,!!r.multiple,o,!1):r.defaultValue!=null&&Gc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Rg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(n&&e.stateNode!=null)gN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=Xa(sh.current),Xa(co.current),Jp(e)){if(r=e.stateNode,t=e.memoizedProps,r[Zi]=e,(o=r.nodeValue!==t)&&(n=qr,n!==null))switch(n.tag){case 3:Qp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qp(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Zi]=e,e.stateNode=r}return Gn(e),null;case 13:if(xt(Ot),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Dt&&Ur!==null&&e.mode&1&&!(e.flags&128))OO(),pu(),e.flags|=98560,o=!1;else if(o=Jp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Zi]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),o=!1}else Ni!==null&&(ib(Ni),Ni=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ot.current&1?gn===0&&(gn=3):IS())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return gu(),Q1(n,e),n===null&&nh(e.stateNode.containerInfo),Gn(e),null;case 10:return cS(e.type._context),Gn(e),null;case 17:return Rr(e.type)&&Ag(),Gn(e),null;case 19:if(xt(Ot),o=e.memoizedState,o===null)return Gn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Od(o,!1);else{if(gn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=$g(n),s!==null){for(e.flags|=128,Od(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Et(Ot,Ot.current&1|2),e.child}n=n.sibling}o.tail!==null&&en()>vu&&(e.flags|=128,r=!0,Od(o,!1),e.lanes=4194304)}else{if(!r)if(n=$g(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Od(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Dt)return Gn(e),null}else 2*en()-o.renderingStartTime>vu&&t!==1073741824&&(e.flags|=128,r=!0,Od(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,t=Ot.current,Et(Ot,r?t&1|2:t&1),e):(Gn(e),null);case 22:case 23:return xS(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function c5(n,e){switch(oS(e),e.tag){case 1:return Rr(e.type)&&Ag(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gu(),xt(Pr),xt(nr),pS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return hS(e),null;case 13:if(xt(Ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));pu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return xt(Ot),null;case 4:return gu(),null;case 10:return cS(e.type._context),null;case 22:case 23:return xS(),null;case 24:return null;default:return null}}var em=!1,Zn=!1,u5=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Uc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Kt(n,e,r)}else t.current=null}function J1(n,e,t){try{t()}catch(r){Kt(n,e,r)}}var $C=!1;function d5(n,e){if(O1=kg,n=bO(),rS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(N1={focusedElem:n,selectionRange:t},kg=!1,ue=e;ue!==null;)if(e=ue,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ue=n;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Mi(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(C){Kt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}return m=$C,$C=!1,m}function kf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&J1(e,t,o)}i=i.next}while(i!==r)}}function xv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function X1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function yN(n){var e=n.alternate;e!==null&&(n.alternate=null,yN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Zi],delete e[ih],delete e[V1],delete e[Kz],delete e[Yz])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function vN(n){return n.tag===5||n.tag===3||n.tag===4}function BC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Z1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Rg));else if(r!==4&&(n=n.child,n!==null))for(Z1(n,e,t),n=n.sibling;n!==null;)Z1(n,e,t),n=n.sibling}function eb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(eb(n,e,t),n=n.sibling;n!==null;)eb(n,e,t),n=n.sibling}var On=null,Oi=!1;function gs(n,e,t){for(t=t.child;t!==null;)_N(n,e,t),t=t.sibling}function _N(n,e,t){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(yv,t)}catch{}switch(t.tag){case 5:Zn||Uc(t,e);case 6:var r=On,i=Oi;On=null,gs(n,e,t),On=r,Oi=i,On!==null&&(Oi?(n=On,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):On.removeChild(t.stateNode));break;case 18:On!==null&&(Oi?(n=On,t=t.stateNode,n.nodeType===8?J_(n.parentNode,t):n.nodeType===1&&J_(n,t),Zf(n)):J_(On,t.stateNode));break;case 4:r=On,i=Oi,On=t.stateNode.containerInfo,Oi=!0,gs(n,e,t),On=r,Oi=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&J1(t,e,s),i=i.next}while(i!==r)}gs(n,e,t);break;case 1:if(!Zn&&(Uc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Kt(t,e,a)}gs(n,e,t);break;case 21:gs(n,e,t);break;case 22:t.mode&1?(Zn=(r=Zn)||t.memoizedState!==null,gs(n,e,t),Zn=r):gs(n,e,t);break;default:gs(n,e,t)}}function zC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new u5),e.forEach(function(r){var i=w5.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ri(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,Oi=!1;break e;case 3:On=a.stateNode.containerInfo,Oi=!0;break e;case 4:On=a.stateNode.containerInfo,Oi=!0;break e}a=a.return}if(On===null)throw Error(J(160));_N(o,s,i),On=null,Oi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wN(e,n),e=e.sibling}function wN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ri(e,n),Ki(n),r&4){try{kf(3,n,n.return),xv(3,n)}catch(g){Kt(n,n.return,g)}try{kf(5,n,n.return)}catch(g){Kt(n,n.return,g)}}break;case 1:Ri(e,n),Ki(n),r&512&&t!==null&&Uc(t,t.return);break;case 5:if(Ri(e,n),Ki(n),r&512&&t!==null&&Uc(t,t.return),n.flags&32){var i=n.stateNode;try{Gf(i,"")}catch(g){Kt(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&jM(i,o),T1(a,s);var c=T1(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?KM(i,d):u==="dangerouslySetInnerHTML"?HM(i,d):u==="children"?Gf(i,d):WE(i,u,d,c)}switch(a){case"input":_1(i,o);break;case"textarea":UM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gc(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Gc(i,!!o.multiple,o.defaultValue,!0):Gc(i,!!o.multiple,o.multiple?[]:"",!1))}i[ih]=o}catch(g){Kt(n,n.return,g)}}break;case 6:if(Ri(e,n),Ki(n),r&4){if(n.stateNode===null)throw Error(J(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(g){Kt(n,n.return,g)}}break;case 3:if(Ri(e,n),Ki(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Zf(e.containerInfo)}catch(g){Kt(n,n.return,g)}break;case 4:Ri(e,n),Ki(n);break;case 13:Ri(e,n),Ki(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(SS=en())),r&4&&zC(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Zn=(c=Zn)||u,Ri(e,n),Zn=c):Ri(e,n),Ki(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ue=n,u=n.child;u!==null;){for(d=ue=u;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:kf(4,h,h.return);break;case 1:Uc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Kt(r,t,g)}}break;case 5:Uc(h,h.return);break;case 22:if(h.memoizedState!==null){UC(d);continue}}p!==null?(p.return=h,ue=p):UC(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qM("display",s))}catch(g){Kt(n,n.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Kt(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ri(e,n),Ki(n),r&4&&zC(n);break;case 21:break;default:Ri(e,n),Ki(n)}}function Ki(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(vN(t)){var r=t;break e}t=t.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gf(i,""),r.flags&=-33);var o=BC(n);eb(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=BC(n);Z1(n,a,s);break;default:throw Error(J(161))}}catch(l){Kt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function f5(n,e,t){ue=n,bN(n)}function bN(n,e,t){for(var r=(n.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||em;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zn;a=em;var c=Zn;if(em=s,(Zn=l)&&!c)for(ue=i;ue!==null;)s=ue,l=s.child,s.tag===22&&s.memoizedState!==null?WC(i):l!==null?(l.return=s,ue=l):WC(i);for(;o!==null;)ue=o,bN(o),o=o.sibling;ue=i,em=a,Zn=c}jC(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):jC(n)}}function jC(n){for(;ue!==null;){var e=ue;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||xv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Mi(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&IC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}IC(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Zf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zn||e.flags&512&&X1(e)}catch(h){Kt(e,e.return,h)}}if(e===n){ue=null;break}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}}function UC(n){for(;ue!==null;){var e=ue;if(e===n){ue=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ue=t;break}ue=e.return}}function WC(n){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{xv(4,e)}catch(l){Kt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kt(e,i,l)}}var o=e.return;try{X1(e)}catch(l){Kt(e,o,l)}break;case 5:var s=e.return;try{X1(e)}catch(l){Kt(e,s,l)}}}catch(l){Kt(e,e.return,l)}if(e===n){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var h5=Math.ceil,jg=as.ReactCurrentDispatcher,bS=as.ReactCurrentOwner,mi=as.ReactCurrentBatchConfig,Qe=0,Tn=null,cn=null,Bn=0,$r=0,Wc=_a(0),gn=0,uh=null,El=0,Iv=0,ES=0,Df=null,Cr=null,SS=0,vu=1/0,Do=null,Ug=!1,tb=null,Ys=null,tm=!1,Ns=null,Wg=0,Pf=0,nb=null,jm=-1,Um=0;function mr(){return Qe&6?en():jm!==-1?jm:jm=en()}function Gs(n){return n.mode&1?Qe&2&&Bn!==0?Bn&-Bn:Qz.transition!==null?(Um===0&&(Um=oO()),Um):(n=ut,n!==0||(n=window.event,n=n===void 0?16:fO(n.type)),n):1}function Vi(n,e,t,r){if(50<Pf)throw Pf=0,nb=null,Error(J(185));Hh(n,t,r),(!(Qe&2)||n!==Tn)&&(n===Tn&&(!(Qe&2)&&(Iv|=t),gn===4&&Cs(n,Bn)),Ar(n,r),t===1&&Qe===0&&!(e.mode&1)&&(vu=en()+500,Ev&&wa()))}function Ar(n,e){var t=n.callbackNode;QB(n,e);var r=Cg(n,n===Tn?Bn:0);if(r===0)t!==null&&ZI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&ZI(t),e===1)n.tag===0?Gz(HC.bind(null,n)):RO(HC.bind(null,n)),Hz(function(){!(Qe&6)&&wa()}),t=null;else{switch(sO(r)){case 1:t=GE;break;case 4:t=rO;break;case 16:t=Ig;break;case 536870912:t=iO;break;default:t=Ig}t=DN(t,EN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function EN(n,e){if(jm=-1,Um=0,Qe&6)throw Error(J(327));var t=n.callbackNode;if(eu()&&n.callbackNode!==t)return null;var r=Cg(n,n===Tn?Bn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Hg(n,r);else{e=r;var i=Qe;Qe|=2;var o=TN();(Tn!==n||Bn!==e)&&(Do=null,vu=en()+500,ol(n,e));do try{g5();break}catch(a){SN(n,a)}while(!0);lS(),jg.current=o,Qe=i,cn!==null?e=0:(Tn=null,Bn=0,e=gn)}if(e!==0){if(e===2&&(i=D1(n),i!==0&&(r=i,e=rb(n,i))),e===1)throw t=uh,ol(n,0),Cs(n,r),Ar(n,en()),t;if(e===6)Cs(n,r);else{if(i=n.current.alternate,!(r&30)&&!p5(i)&&(e=Hg(n,r),e===2&&(o=D1(n),o!==0&&(r=o,e=rb(n,o))),e===1))throw t=uh,ol(n,0),Cs(n,r),Ar(n,en()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Fa(n,Cr,Do);break;case 3:if(Cs(n,r),(r&130023424)===r&&(e=SS+500-en(),10<e)){if(Cg(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){mr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=F1(Fa.bind(null,n,Cr,Do),e);break}Fa(n,Cr,Do);break;case 4:if(Cs(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-Fi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h5(r/1960))-r,10<r){n.timeoutHandle=F1(Fa.bind(null,n,Cr,Do),r);break}Fa(n,Cr,Do);break;case 5:Fa(n,Cr,Do);break;default:throw Error(J(329))}}}return Ar(n,en()),n.callbackNode===t?EN.bind(null,n):null}function rb(n,e){var t=Df;return n.current.memoizedState.isDehydrated&&(ol(n,e).flags|=256),n=Hg(n,e),n!==2&&(e=Cr,Cr=t,e!==null&&ib(e)),n}function ib(n){Cr===null?Cr=n:Cr.push.apply(Cr,n)}function p5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!zi(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(n,e){for(e&=~ES,e&=~Iv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Fi(e),r=1<<t;n[t]=-1,e&=~r}}function HC(n){if(Qe&6)throw Error(J(327));eu();var e=Cg(n,0);if(!(e&1))return Ar(n,en()),null;var t=Hg(n,e);if(n.tag!==0&&t===2){var r=D1(n);r!==0&&(e=r,t=rb(n,r))}if(t===1)throw t=uh,ol(n,0),Cs(n,e),Ar(n,en()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Fa(n,Cr,Do),Ar(n,en()),null}function TS(n,e){var t=Qe;Qe|=1;try{return n(e)}finally{Qe=t,Qe===0&&(vu=en()+500,Ev&&wa())}}function Sl(n){Ns!==null&&Ns.tag===0&&!(Qe&6)&&eu();var e=Qe;Qe|=1;var t=mi.transition,r=ut;try{if(mi.transition=null,ut=1,n)return n()}finally{ut=r,mi.transition=t,Qe=e,!(Qe&6)&&wa()}}function xS(){$r=Wc.current,xt(Wc)}function ol(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Wz(t)),cn!==null)for(t=cn.return;t!==null;){var r=t;switch(oS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ag();break;case 3:gu(),xt(Pr),xt(nr),pS();break;case 5:hS(r);break;case 4:gu();break;case 13:xt(Ot);break;case 19:xt(Ot);break;case 10:cS(r.type._context);break;case 22:case 23:xS()}t=t.return}if(Tn=n,cn=n=Qs(n.current,null),Bn=$r=e,gn=0,uh=null,ES=Iv=El=0,Cr=Df=null,Ja!==null){for(e=0;e<Ja.length;e++)if(t=Ja[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}Ja=null}return n}function SN(n,e){do{var t=cn;try{if(lS(),$m.current=zg,Bg){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bg=!1}if(bl=0,bn=mn=Ft=null,Cf=!1,ah=0,bS.current=null,t===null||t.return===null){gn=1,uh=e,cn=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=AC(s);if(p!==null){p.flags&=-257,MC(p,s,a,o,e),p.mode&1&&RC(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){RC(o,c,e),IS();break e}l=Error(J(426))}}else if(Dt&&a.mode&1){var _=AC(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),MC(_,s,a,o,e),sS(yu(l,a));break e}}o=l=yu(l,a),gn!==4&&(gn=2),Df===null?Df=[o]:Df.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=sN(o,l,e);xC(o,v);break e;case 1:a=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ys===null||!Ys.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=aN(o,a,e);xC(o,C);break e}}o=o.return}while(o!==null)}IN(t)}catch(D){e=D,cn===t&&t!==null&&(cn=t=t.return);continue}break}while(!0)}function TN(){var n=jg.current;return jg.current=zg,n===null?zg:n}function IS(){(gn===0||gn===3||gn===2)&&(gn=4),Tn===null||!(El&268435455)&&!(Iv&268435455)||Cs(Tn,Bn)}function Hg(n,e){var t=Qe;Qe|=2;var r=TN();(Tn!==n||Bn!==e)&&(Do=null,ol(n,e));do try{m5();break}catch(i){SN(n,i)}while(!0);if(lS(),Qe=t,jg.current=r,cn!==null)throw Error(J(261));return Tn=null,Bn=0,gn}function m5(){for(;cn!==null;)xN(cn)}function g5(){for(;cn!==null&&!zB();)xN(cn)}function xN(n){var e=kN(n.alternate,n,$r);n.memoizedProps=n.pendingProps,e===null?IN(n):cn=e,bS.current=null}function IN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=c5(t,e),t!==null){t.flags&=32767,cn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gn=6,cn=null;return}}else if(t=l5(t,e,$r),t!==null){cn=t;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=n}while(e!==null);gn===0&&(gn=5)}function Fa(n,e,t){var r=ut,i=mi.transition;try{mi.transition=null,ut=1,y5(n,e,t,r)}finally{mi.transition=i,ut=r}return null}function y5(n,e,t,r){do eu();while(Ns!==null);if(Qe&6)throw Error(J(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(JB(n,o),n===Tn&&(cn=Tn=null,Bn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tm||(tm=!0,DN(Ig,function(){return eu(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var s=ut;ut=1;var a=Qe;Qe|=4,bS.current=null,d5(n,t),wN(t,n),Fz(N1),kg=!!O1,N1=O1=null,n.current=t,f5(t),jB(),Qe=a,ut=s,mi.transition=o}else n.current=t;if(tm&&(tm=!1,Ns=n,Wg=i),o=n.pendingLanes,o===0&&(Ys=null),HB(t.stateNode),Ar(n,en()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ug)throw Ug=!1,n=tb,tb=null,n;return Wg&1&&n.tag!==0&&eu(),o=n.pendingLanes,o&1?n===nb?Pf++:(Pf=0,nb=n):Pf=0,wa(),null}function eu(){if(Ns!==null){var n=sO(Wg),e=mi.transition,t=ut;try{if(mi.transition=null,ut=16>n?16:n,Ns===null)var r=!1;else{if(n=Ns,Ns=null,Wg=0,Qe&6)throw Error(J(331));var i=Qe;for(Qe|=4,ue=n.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:kf(8,u,o)}var d=u.child;if(d!==null)d.return=u,ue=d;else for(;ue!==null;){u=ue;var h=u.sibling,p=u.return;if(yN(u),u===c){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ue=v;break e}ue=o.return}}var w=n.current;for(ue=w;ue!==null;){s=ue;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ue=b;else e:for(s=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xv(9,a)}}catch(D){Kt(a,a.return,D)}if(a===s){ue=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ue=C;break e}ue=a.return}}if(Qe=i,wa(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(yv,n)}catch{}r=!0}return r}finally{ut=t,mi.transition=e}}return!1}function qC(n,e,t){e=yu(t,e),e=sN(n,e,1),n=Ks(n,e,1),e=mr(),n!==null&&(Hh(n,1,e),Ar(n,e))}function Kt(n,e,t){if(n.tag===3)qC(n,n,t);else for(;e!==null;){if(e.tag===3){qC(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))){n=yu(t,n),n=aN(e,n,1),e=Ks(e,n,1),n=mr(),e!==null&&(Hh(e,1,n),Ar(e,n));break}}e=e.return}}function v5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=mr(),n.pingedLanes|=n.suspendedLanes&t,Tn===n&&(Bn&t)===t&&(gn===4||gn===3&&(Bn&130023424)===Bn&&500>en()-SS?ol(n,0):ES|=t),Ar(n,e)}function CN(n,e){e===0&&(n.mode&1?(e=Hp,Hp<<=1,!(Hp&130023424)&&(Hp=4194304)):e=1);var t=mr();n=Qo(n,e),n!==null&&(Hh(n,e,t),Ar(n,t))}function _5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),CN(n,t)}function w5(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),CN(n,t)}var kN;kN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Pr.current)kr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return kr=!1,a5(n,e,t);kr=!!(n.flags&131072)}else kr=!1,Dt&&e.flags&1048576&&AO(e,Ng,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zm(n,e),n=e.pendingProps;var i=hu(e,nr.current);Zc(e,t),i=gS(null,e,r,n,i,t);var o=yS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(r)?(o=!0,Mg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dS(e),i.updater=Tv,e.stateNode=i,i._reactInternals=e,W1(e,r,n,t),e=K1(null,e,r,!0,o,t)):(e.tag=0,Dt&&o&&iS(e),ar(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(zm(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E5(r),n=Mi(r,n),i){case 0:e=q1(null,e,r,n,t);break e;case 1:e=LC(null,e,r,n,t);break e;case 11:e=OC(null,e,r,n,t);break e;case 14:e=NC(null,e,r,Mi(r.type,n),t);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),q1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),LC(n,e,r,i,t);case 3:e:{if(dN(e),n===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,VO(n,e),Vg(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=yu(Error(J(423)),e),e=FC(n,e,r,t,i);break e}else if(r!==i){i=yu(Error(J(424)),e),e=FC(n,e,r,t,i);break e}else for(Ur=qs(e.stateNode.containerInfo.firstChild),qr=e,Dt=!0,Ni=null,t=LO(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pu(),r===i){e=Jo(n,e,t);break e}ar(n,e,r,t)}e=e.child}return e;case 5:return $O(e),n===null&&z1(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,L1(r,i)?s=null:o!==null&&L1(r,o)&&(e.flags|=32),uN(n,e),ar(n,e,s,t),e.child;case 6:return n===null&&z1(e),null;case 13:return fN(n,e,t);case 4:return fS(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=mu(e,null,r,t):ar(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),OC(n,e,r,i,t);case 7:return ar(n,e,e.pendingProps,t),e.child;case 8:return ar(n,e,e.pendingProps.children,t),e.child;case 12:return ar(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Et(Lg,r._currentValue),r._currentValue=s,o!==null)if(zi(o.value,s)){if(o.children===i.children&&!Pr.current){e=Jo(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zo(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),j1(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),j1(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ar(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zc(e,t),i=vi(i),r=r(i),e.flags|=1,ar(n,e,r,t),e.child;case 14:return r=e.type,i=Mi(r,e.pendingProps),i=Mi(r.type,i),NC(n,e,r,i,t);case 15:return lN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),zm(n,e),e.tag=1,Rr(r)?(n=!0,Mg(e)):n=!1,Zc(e,t),oN(e,r,i),W1(e,r,i,t),K1(null,e,r,!0,n,t);case 19:return hN(n,e,t);case 22:return cN(n,e,t)}throw Error(J(156,e.tag))};function DN(n,e){return nO(n,e)}function b5(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(n,e,t,r){return new b5(n,e,t,r)}function CS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function E5(n){if(typeof n=="function")return CS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qE)return 11;if(n===KE)return 14}return 2}function Qs(n,e){var t=n.alternate;return t===null?(t=hi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Wm(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")CS(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Oc:return sl(t.children,i,o,e);case HE:s=8,i|=8;break;case p1:return n=hi(12,t,e,i|2),n.elementType=p1,n.lanes=o,n;case m1:return n=hi(13,t,e,i),n.elementType=m1,n.lanes=o,n;case g1:return n=hi(19,t,e,i),n.elementType=g1,n.lanes=o,n;case $M:return Cv(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case FM:s=10;break e;case VM:s=9;break e;case qE:s=11;break e;case KE:s=14;break e;case Ss:s=16,r=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=hi(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function sl(n,e,t,r){return n=hi(7,n,r,e),n.lanes=t,n}function Cv(n,e,t,r){return n=hi(22,n,r,e),n.elementType=$M,n.lanes=t,n.stateNode={isHidden:!1},n}function ow(n,e,t){return n=hi(6,n,null,e),n.lanes=t,n}function sw(n,e,t){return e=hi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function S5(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=B_(0),this.expirationTimes=B_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kS(n,e,t,r,i,o,s,a,l){return n=new S5(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hi(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},dS(o),n}function T5(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function PN(n){if(!n)return ca;n=n._reactInternals;e:{if(Wl(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(Rr(t))return PO(n,t,e)}return e}function RN(n,e,t,r,i,o,s,a,l){return n=kS(t,r,!0,n,i,o,s,a,l),n.context=PN(null),t=n.current,r=mr(),i=Gs(t),o=zo(r,i),o.callback=e??null,Ks(t,o,i),n.current.lanes=i,Hh(n,i,r),Ar(n,r),n}function kv(n,e,t,r){var i=e.current,o=mr(),s=Gs(i);return t=PN(t),e.context===null?e.context=t:e.pendingContext=t,e=zo(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ks(i,e,s),n!==null&&(Vi(n,i,s,o),Vm(n,i,s)),s}function qg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function KC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function DS(n,e){KC(n,e),(n=n.alternate)&&KC(n,e)}function x5(){return null}var AN=typeof reportError=="function"?reportError:function(n){console.error(n)};function PS(n){this._internalRoot=n}Dv.prototype.render=PS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));kv(n,e,null,null)};Dv.prototype.unmount=PS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Sl(function(){kv(null,n,null,null)}),e[Go]=null}};function Dv(n){this._internalRoot=n}Dv.prototype.unstable_scheduleHydration=function(n){if(n){var e=cO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Is.length&&e!==0&&e<Is[t].priority;t++);Is.splice(t,0,n),t===0&&dO(n)}};function RS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Pv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function YC(){}function I5(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=qg(s);o.call(c)}}var s=RN(e,r,n,0,null,!1,!1,"",YC);return n._reactRootContainer=s,n[Go]=s.current,nh(n.nodeType===8?n.parentNode:n),Sl(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qg(l);a.call(c)}}var l=kS(n,0,!1,null,null,!1,!1,"",YC);return n._reactRootContainer=l,n[Go]=l.current,nh(n.nodeType===8?n.parentNode:n),Sl(function(){kv(e,l,t,r)}),l}function Rv(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=qg(s);a.call(l)}}kv(e,s,n,i)}else s=I5(t,e,n,i,r);return qg(s)}aO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=af(e.pendingLanes);t!==0&&(QE(e,t|1),Ar(e,en()),!(Qe&6)&&(vu=en()+500,wa()))}break;case 13:Sl(function(){var r=Qo(n,1);if(r!==null){var i=mr();Vi(r,n,1,i)}}),DS(n,1)}};JE=function(n){if(n.tag===13){var e=Qo(n,134217728);if(e!==null){var t=mr();Vi(e,n,134217728,t)}DS(n,134217728)}};lO=function(n){if(n.tag===13){var e=Gs(n),t=Qo(n,e);if(t!==null){var r=mr();Vi(t,n,e,r)}DS(n,e)}};cO=function(){return ut};uO=function(n,e){var t=ut;try{return ut=n,e()}finally{ut=t}};I1=function(n,e,t){switch(e){case"input":if(_1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=bv(r);if(!i)throw Error(J(90));zM(r),_1(r,i)}}}break;case"textarea":UM(n,t);break;case"select":e=t.value,e!=null&&Gc(n,!!t.multiple,e,!1)}};QM=TS;JM=Sl;var C5={usingClientEntryPoint:!1,Events:[Kh,Vc,bv,YM,GM,TS]},Nd={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k5={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=eO(n),n===null?null:n.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||x5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{yv=nm.inject(k5),lo=nm}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C5;Zr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RS(e))throw Error(J(200));return T5(n,e,null,t)};Zr.createRoot=function(n,e){if(!RS(n))throw Error(J(299));var t=!1,r="",i=AN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kS(n,1,!1,null,null,t,!1,r,i),n[Go]=e.current,nh(n.nodeType===8?n.parentNode:n),new PS(e)};Zr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=eO(e),n=n===null?null:n.stateNode,n};Zr.flushSync=function(n){return Sl(n)};Zr.hydrate=function(n,e,t){if(!Pv(e))throw Error(J(200));return Rv(null,n,e,!0,t)};Zr.hydrateRoot=function(n,e,t){if(!RS(n))throw Error(J(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=AN;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=RN(e,null,n,1,t??null,i,!1,o,s),n[Go]=e.current,nh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Dv(e)};Zr.render=function(n,e,t){if(!Pv(e))throw Error(J(200));return Rv(null,n,e,!1,t)};Zr.unmountComponentAtNode=function(n){if(!Pv(n))throw Error(J(40));return n._reactRootContainer?(Sl(function(){Rv(null,null,n,!1,function(){n._reactRootContainer=null,n[Go]=null})}),!0):!1};Zr.unstable_batchedUpdates=TS;Zr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Pv(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return Rv(n,e,t,!1,r)};Zr.version="18.3.1-next-f1338f8080-20240426";function MN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MN)}catch(n){console.error(n)}}MN(),MM.exports=Zr;var Av=MM.exports;const Hc=Jt(Av);var ON,GC=Av;ON=GC.createRoot,GC.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dh.apply(this,arguments)}var Ls;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ls||(Ls={}));const QC="popstate";function D5(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return ob("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:LN(i)}return R5(e,t,null,n)}function yn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function NN(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P5(){return Math.random().toString(36).substr(2,8)}function JC(n,e){return{usr:n.state,key:n.key,idx:e}}function ob(n,e,t,r){return t===void 0&&(t=null),dh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?qu(e):e,{state:t,key:e&&e.key||r||P5()})}function LN(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function R5(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ls.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(dh({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Ls.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:v})}function h(_,v){a=Ls.Push;let w=ob(g.location,_,v);c=u()+1;let b=JC(w,c),C=g.createHref(w);try{s.pushState(b,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function p(_,v){a=Ls.Replace;let w=ob(g.location,_,v);c=u();let b=JC(w,c),C=g.createHref(w);s.replaceState(b,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:LN(_);return w=w.replace(/ $/,"%20"),yn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return n(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(QC,d),l=_,()=>{i.removeEventListener(QC,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(_){return s.go(_)}};return g}var XC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XC||(XC={}));function A5(n,e,t){return t===void 0&&(t="/"),M5(n,e,t,!1)}function M5(n,e,t,r){let i=typeof e=="string"?qu(e):e,o=$N(i.pathname||"/",t);if(o==null)return null;let s=FN(n);O5(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=H5(o);a=U5(s[l],c,r)}return a}function FN(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(yn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=al([r,l.relativePath]),u=t.concat(l);o.children&&o.children.length>0&&(yn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FN(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:z5(c,o.index),routesMeta:u})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of VN(o.path))i(o,s,l)}),e}function VN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=VN(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function O5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:j5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const N5=/^:[\w-]+$/,L5=3,F5=2,V5=1,$5=10,B5=-2,ZC=n=>n==="*";function z5(n,e){let t=n.split("/"),r=t.length;return t.some(ZC)&&(r+=B5),e&&(r+=F5),t.filter(i=>!ZC(i)).reduce((i,o)=>i+(N5.test(o)?L5:o===""?V5:$5),r)}function j5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function U5(n,e,t){let{routesMeta:r}=n,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=ek({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=ek({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:al([o,d.pathname]),pathnameBase:J5(al([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=al([o,d.pathnameBase]))}return s}function ek(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=W5(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:n}}function W5(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),NN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function $N(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function q5(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?qu(n):n;return{pathname:t?t.startsWith("/")?t:K5(t,e):e,search:X5(r),hash:Z5(i)}}function K5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function aw(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G5(n,e){let t=Y5(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Q5(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=qu(n):(i=dh({},n),yn(!i.pathname||!i.pathname.includes("?"),aw("?","pathname","search",i)),yn(!i.pathname||!i.pathname.includes("#"),aw("#","pathname","hash",i)),yn(!i.search||!i.search.includes("#"),aw("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=t;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=q5(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const al=n=>n.join("/").replace(/\/\/+/g,"/"),J5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),X5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Z5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ej(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BN=["post","put","patch","delete"];new Set(BN);const tj=["get",...BN];new Set(tj);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fh.apply(this,arguments)}const AS=x.createContext(null),nj=x.createContext(null),Mv=x.createContext(null),Ov=x.createContext(null),Hl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=x.createContext(null);function Nv(){return x.useContext(Ov)!=null}function jN(){return Nv()||yn(!1),x.useContext(Ov).location}function UN(n){x.useContext(Mv).static||x.useLayoutEffect(n)}function Ku(){let{isDataRoute:n}=x.useContext(Hl);return n?gj():rj()}function rj(){Nv()||yn(!1);let n=x.useContext(AS),{basename:e,future:t,navigator:r}=x.useContext(Mv),{matches:i}=x.useContext(Hl),{pathname:o}=jN(),s=JSON.stringify(G5(i,t.v7_relativeSplatPath)),a=x.useRef(!1);return UN(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Q5(c,JSON.parse(s),o,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:al([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,n])}function ij(){let{matches:n}=x.useContext(Hl),e=n[n.length-1];return e?e.params:{}}function oj(n,e){return sj(n,e)}function sj(n,e,t,r){Nv()||yn(!1);let{navigator:i}=x.useContext(Mv),{matches:o}=x.useContext(Hl),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=jN(),u;if(e){var d;let _=typeof e=="string"?qu(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||yn(!1),u=_}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=A5(n,{pathname:p}),g=dj(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:al([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:al([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,t,r);return e&&g?x.createElement(Ov.Provider,{value:{location:fh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ls.Pop}},g):g}function aj(){let n=mj(),e=ej(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,null)}const lj=x.createElement(aj,null);class cj extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(Hl.Provider,{value:this.props.routeContext},x.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uj(n){let{routeContext:e,match:t,children:r}=n,i=x.useContext(AS);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Hl.Provider,{value:e},r)}function dj(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if((o=t)!=null&&o.errors)n=t.matches;else return null}let s=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||yn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=t,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,m=!1,g=null,_=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||lj,l&&(c<0&&h===0?(m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=g:m?b=_:d.route.Component?b=x.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,x.createElement(uj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(cj,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var WN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(WN||{}),Kg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Kg||{});function fj(n){let e=x.useContext(AS);return e||yn(!1),e}function hj(n){let e=x.useContext(nj);return e||yn(!1),e}function pj(n){let e=x.useContext(Hl);return e||yn(!1),e}function HN(n){let e=pj(),t=e.matches[e.matches.length-1];return t.route.id||yn(!1),t.route.id}function mj(){var n;let e=x.useContext(zN),t=hj(Kg.UseRouteError),r=HN(Kg.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function gj(){let{router:n}=fj(WN.UseNavigateStable),e=HN(Kg.UseNavigateStable),t=x.useRef(!1);return UN(()=>{t.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,fh({fromRouteId:e},o)))},[n,e])}function Sc(n){yn(!1)}function yj(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ls.Pop,navigator:o,static:s=!1,future:a}=n;Nv()&&yn(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:o,static:s,future:fh({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=qu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let _=$N(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:x.createElement(Mv.Provider,{value:c},x.createElement(Ov.Provider,{children:t,value:g}))}function vj(n){let{children:e,location:t}=n;return oj(sb(e),t)}new Promise(()=>{});function sb(n,e){e===void 0&&(e=[]);let t=[];return x.Children.forEach(n,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){t.push.apply(t,sb(r.props.children,o));return}r.type!==Sc&&yn(!1),!r.props.index||!r.props.children||yn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=sb(r.props.children,o)),t.push(s)}),t}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _j="6";try{window.__reactRouterVersion=_j}catch{}const wj="startTransition",tk=Kf[wj];function bj(n){let{basename:e,children:t,future:r,window:i}=n,o=x.useRef();o.current==null&&(o.current=D5({window:i,v5Compat:!0}));let s=o.current,[a,l]=x.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&tk?tk(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(yj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,future:r})}var nk;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nk||(nk={}));var rk;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rk||(rk={}));function qN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=qN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function de(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=qN(n))&&(r&&(r+=" "),r+=e);return r}const hh=n=>typeof n=="number"&&!isNaN(n),ll=n=>typeof n=="string",Wr=n=>typeof n=="function",Hm=n=>ll(n)||Wr(n)?n:null,ab=n=>x.isValidElement(n)||ll(n)||Wr(n)||hh(n);function Ej(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function Lv(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=n;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=s;const m=r?`${e}--${l}`:e,g=r?`${t}--${l}`:t,_=x.useRef(0);return x.useLayoutEffect(()=>{const v=d.current,w=m.split(" "),b=C=>{C.target===d.current&&(p(),v.removeEventListener("animationend",b),v.removeEventListener("animationcancel",b),_.current===0&&C.type!=="animationcancel"&&v.classList.remove(...w))};v.classList.add(...w),v.addEventListener("animationend",b),v.addEventListener("animationcancel",b)},[]),x.useEffect(()=>{const v=d.current,w=()=>{v.removeEventListener("animationend",w),i?Ej(v,u,o):u()};h||(c?w():(_.current=1,v.className+=` ${g}`,v.addEventListener("animationend",w)))},[h]),$.createElement($.Fragment,null,a)}}function ik(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const ur=new Map;let ph=[];const lb=new Set,Sj=n=>lb.forEach(e=>e(n)),KN=()=>ur.size>0;function YN(n,e){var t;if(e)return!((t=ur.get(e))==null||!t.isToastActive(n));let r=!1;return ur.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function GN(n,e){ab(n)&&(KN()||ph.push({content:n,options:e}),ur.forEach(t=>{t.buildToast(n,e)}))}function ok(n,e){ur.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function Tj(n){const{subscribe:e,getSnapshot:t,setProps:r}=x.useRef(function(o){const s=o.containerId||1;return{subscribe(a){const l=function(u,d,h){let p=1,m=0,g=[],_=[],v=[],w=d;const b=new Map,C=new Set,D=()=>{v=Array.from(b.values()),C.forEach(E=>E())},M=E=>{_=E==null?[]:_.filter(I=>I!==E),D()},S=E=>{const{toastId:I,onOpen:k,updateId:A,children:O}=E.props,P=A==null;E.staleId&&b.delete(E.staleId),b.set(I,E),_=[..._,E.props.toastId].filter(U=>U!==E.staleId),D(),h(ik(E,P?"added":"updated")),P&&Wr(k)&&k(x.isValidElement(O)&&O.props)};return{id:u,props:w,observe:E=>(C.add(E),()=>C.delete(E)),toggle:(E,I)=>{b.forEach(k=>{I!=null&&I!==k.props.toastId||Wr(k.toggle)&&k.toggle(E)})},removeToast:M,toasts:b,clearQueue:()=>{m-=g.length,g=[]},buildToast:(E,I)=>{if((fe=>{let{containerId:re,toastId:ge,updateId:ce}=fe;const Se=re?re!==u:u!==1,je=b.has(ge)&&ce==null;return Se||je})(I))return;const{toastId:k,updateId:A,data:O,staleId:P,delay:U}=I,K=()=>{M(k)},W=A==null;W&&m++;const q={...w,style:w.toastStyle,key:p++,...Object.fromEntries(Object.entries(I).filter(fe=>{let[re,ge]=fe;return ge!=null})),toastId:k,updateId:A,data:O,closeToast:K,isIn:!1,className:Hm(I.className||w.toastClassName),bodyClassName:Hm(I.bodyClassName||w.bodyClassName),progressClassName:Hm(I.progressClassName||w.progressClassName),autoClose:!I.isLoading&&(V=I.autoClose,Y=w.autoClose,V===!1||hh(V)&&V>0?V:Y),deleteToast(){const fe=b.get(k),{onClose:re,children:ge}=fe.props;Wr(re)&&re(x.isValidElement(ge)&&ge.props),h(ik(fe,"removed")),b.delete(k),m--,m<0&&(m=0),g.length>0?S(g.shift()):D()}};var V,Y;q.closeButton=w.closeButton,I.closeButton===!1||ab(I.closeButton)?q.closeButton=I.closeButton:I.closeButton===!0&&(q.closeButton=!ab(w.closeButton)||w.closeButton);let Z=E;x.isValidElement(E)&&!ll(E.type)?Z=x.cloneElement(E,{closeToast:K,toastProps:q,data:O}):Wr(E)&&(Z=E({closeToast:K,toastProps:q,data:O}));const ne={content:Z,props:q,staleId:P};w.limit&&w.limit>0&&m>w.limit&&W?g.push(ne):hh(U)?setTimeout(()=>{S(ne)},U):S(ne)},setProps(E){w=E},setToggle:(E,I)=>{b.get(E).toggle=I},isToastActive:E=>_.some(I=>I===E),getSnapshot:()=>w.newestOnTop?v.reverse():v}}(s,o,Sj);ur.set(s,l);const c=l.observe(a);return ph.forEach(u=>GN(u.content,u.options)),ph=[],()=>{c(),ur.delete(s)}},setProps(a){var l;(l=ur.get(s))==null||l.setProps(a)},getSnapshot(){var a;return(a=ur.get(s))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const i=x.useSyncExternalStore(e,t,t);return{getToastToRender:function(o){if(!i)return[];const s=new Map;return i.forEach(a=>{const{position:l}=a.props;s.has(l)||s.set(l,[]),s.get(l).push(a)}),Array.from(s,a=>o(a[0],a[1]))},isToastActive:YN,count:i==null?void 0:i.length}}function xj(n){const[e,t]=x.useState(!1),[r,i]=x.useState(!1),o=x.useRef(null),s=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=n;var h,p;function m(){t(!0)}function g(){t(!1)}function _(b){const C=o.current;s.canDrag&&C&&(s.didMove=!0,e&&g(),s.delta=n.draggableDirection==="x"?b.clientX-s.start:b.clientY-s.start,s.start!==b.clientX&&(s.canCloseOnClick=!1),C.style.transform=`translate3d(${n.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,C.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function v(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",v);const b=o.current;if(s.canDrag&&s.didMove&&b){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}(p=ur.get((h={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(h.id,h.fn),x.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[n.pauseOnFocusLoss]);const w={onPointerDown:function(b){if(n.draggable===!0||n.draggable===b.pointerType){s.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",v);const C=o.current;s.canCloseOnClick=!0,s.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(s.start=b.clientX,s.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(s.start=b.clientY,s.removalDistance=C.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(b){const{top:C,bottom:D,left:M,right:S}=o.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&n.pauseOnHover&&b.clientX>=M&&b.clientX<=S&&b.clientY>=C&&b.clientY<=D?g():m()}};return a&&l&&(w.onMouseEnter=g,n.stacked||(w.onMouseLeave=m)),d&&(w.onClick=b=>{u&&u(b),s.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:w}}function Ij(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=n;const p=o||l&&c===0,m={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(m.transform=`scaleX(${c})`);const g=de("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),_=Wr(s)?s({rtl:u,type:i,defaultClassName:g}):de(g,s),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return $.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},$.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),$.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:m,...v}))}let Cj=1;const QN=()=>""+Cj++;function kj(n){return n&&(ll(n.toastId)||hh(n.toastId))?n.toastId:QN()}function Rf(n,e){return GN(n,e),e.toastId}function Yg(n,e){return{...e,type:e&&e.type||n,toastId:kj(e)}}function rm(n){return(e,t)=>Rf(e,Yg(n,t))}function ot(n,e){return Rf(n,Yg("default",e))}ot.loading=(n,e)=>Rf(n,Yg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ot.promise=function(n,e,t){let r,{pending:i,error:o,success:s}=e;i&&(r=ll(i)?ot.loading(i,t):ot.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void ot.dismiss(r);const p={type:u,...a,...t,data:h},m=ll(d)?{render:d}:d;return r?ot.update(r,{...p,...m}):ot(m.render,{...p,...m}),h},c=Wr(n)?n():n;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},ot.success=rm("success"),ot.info=rm("info"),ot.error=rm("error"),ot.warning=rm("warning"),ot.warn=ot.warning,ot.dark=(n,e)=>Rf(n,Yg("default",{theme:"dark",...e})),ot.dismiss=function(n){(function(e){var t;if(KN()){if(e==null||ll(t=e)||hh(t))ur.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=ur.get(e.containerId);r?r.removeToast(e.id):ur.forEach(i=>{i.removeToast(e.id)})}}else ph=ph.filter(r=>e!=null&&r.options.toastId!==e)})(n)},ot.clearWaitingQueue=function(n){n===void 0&&(n={}),ur.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},ot.isActive=YN,ot.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var o;let{containerId:s}=i;return(o=ur.get(s||1))==null?void 0:o.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:QN()};o.toastId!==n&&(o.staleId=n);const s=o.render||i;delete o.render,Rf(s,o)}},ot.done=n=>{ot.update(n,{progress:1})},ot.onChange=function(n){return lb.add(n),()=>{lb.delete(n)}},ot.play=n=>ok(!0,n),ot.pause=n=>ok(!1,n);const Dj=typeof window<"u"?x.useLayoutEffect:x.useEffect,im=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return $.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},lw={info:function(n){return $.createElement(im,{...n},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return $.createElement(im,{...n},$.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return $.createElement(im,{...n},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return $.createElement(im,{...n},$.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return $.createElement("div",{className:"Toastify__spinner"})}},Pj=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=xj(n),{closeButton:s,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:p,position:m,className:g,style:_,bodyClassName:v,bodyStyle:w,progressClassName:b,progressStyle:C,updateId:D,role:M,progress:S,rtl:E,toastId:I,deleteToast:k,isIn:A,isLoading:O,closeOnClick:P,theme:U}=n,K=de("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),W=Wr(g)?g({rtl:E,position:m,type:u,defaultClassName:K}):de(K,g),q=function(ne){let{theme:fe,type:re,isLoading:ge,icon:ce}=ne,Se=null;const je={theme:fe,type:re};return ce===!1||(Wr(ce)?Se=ce({...je,isLoading:ge}):x.isValidElement(ce)?Se=x.cloneElement(ce,je):ge?Se=lw.spinner():(Bt=>Bt in lw)(re)&&(Se=lw[re](je))),Se}(n),V=!!S||!l,Y={closeToast:h,type:u,theme:U};let Z=null;return s===!1||(Z=Wr(s)?s(Y):x.isValidElement(s)?x.cloneElement(s,Y):function(ne){let{closeToast:fe,theme:re,ariaLabel:ge="close"}=ne;return $.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:ce=>{ce.stopPropagation(),fe(ce)},"aria-label":ge},$.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Y)),$.createElement(p,{isIn:A,done:k,position:m,preventExitTransition:t,nodeRef:r,playToast:o},$.createElement("div",{id:I,onClick:c,"data-in":A,className:W,...i,style:_,ref:r},$.createElement("div",{...A&&{role:M},className:Wr(v)?v({type:u}):de("Toastify__toast-body",v),style:w},q!=null&&$.createElement("div",{className:de("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},q),$.createElement("div",null,a)),Z,$.createElement(Ij,{...D&&!V?{key:`pb-${D}`}:{},rtl:E,theme:U,delay:l,isRunning:e,isIn:A,closeToast:h,hide:d,type:u,style:C,className:b,controlledProgress:V,progress:S||0})))},Fv=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},Rj=Lv(Fv("bounce",!0));Lv(Fv("slide",!0));Lv(Fv("zoom"));Lv(Fv("flip"));const Aj={position:"top-right",transition:Rj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Mj(n){let e={...Aj,...n};const t=n.stacked,[r,i]=x.useState(!0),o=x.useRef(null),{getToastToRender:s,isToastActive:a,count:l}=Tj(e),{className:c,style:u,rtl:d,containerId:h}=e;function p(g){const _=de("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":d});return Wr(c)?c({position:g,rtl:d,defaultClassName:_}):de(_,Hm(c))}function m(){t&&(i(!0),ot.play())}return Dj(()=>{if(t){var g;const _=o.current.querySelectorAll('[data-in="true"]'),v=12,w=(g=e.position)==null?void 0:g.includes("top");let b=0,C=0;Array.from(_).reverse().forEach((D,M)=>{const S=D;S.classList.add("Toastify__toast--stacked"),M>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=w?"top":"bot");const E=b*(r?.2:1)+(r?0:v*M);S.style.setProperty("--y",`${w?E:-1*E}px`),S.style.setProperty("--g",`${v}`),S.style.setProperty("--s",""+(1-(r?C:0))),b+=S.offsetHeight,C+=.025})}},[r,l,t]),$.createElement("div",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{t&&(i(!1),ot.pause())},onMouseLeave:m},s((g,_)=>{const v=_.length?{...u}:{...u,pointerEvents:"none"};return $.createElement("div",{className:p(g),style:v,key:`container-${g}`},_.map(w=>{let{content:b,props:C}=w;return $.createElement(Pj,{...C,stacked:t,collapseAll:m,isIn:a(C.toastId,C.containerId),style:C.style,key:`toast-${C.key}`},b)}))}))}var sk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Oj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},XN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(t[u],t[d],t[h],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Oj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Nj;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Nj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lj=function(n){const e=JN(n);return XN.encodeByteArray(e,!0)},ZN=function(n){return Lj(n).replace(/\./g,"")},e2=function(n){try{return XN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=()=>Fj().__FIREBASE_DEFAULTS__,$j=()=>{if(typeof process>"u"||typeof sk>"u")return;const n=sk.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Bj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&e2(n[1]);return e&&JSON.parse(e)},Vv=()=>{try{return Vj()||$j()||Bj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zj=n=>{var e,t;return(t=(e=Vv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},t2=()=>{var n;return(n=Vv())===null||n===void 0?void 0:n.config},n2=n=>{var e;return(e=Vv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Wj(){var n;const e=(n=Vv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kj(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function r2(){return!Wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i2(){try{return typeof indexedDB=="object"}catch{return!1}}function Yj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="FirebaseError";class ls extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Gj,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gh.prototype.create)}}class Gh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Qj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ls(i,a,r)}}function Qj(n,e){return n.replace(Jj,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jj=/\{\$([^}]+)}/g;function Xj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(ak(o)&&ak(s)){if(!mh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ak(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function uf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Zj(n,e){const t=new e6(n,e);return t.subscribe.bind(t)}class e6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");t6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cw),i.error===void 0&&(i.error=cw),i.complete===void 0&&(i.complete=cw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){return n&&n._delegate?n._delegate:n}class Tl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i6(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r6(n){return n===Va?void 0:n}function i6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new n6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const s6={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},a6=$e.INFO,l6={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},c6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=l6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MS{constructor(e){this.name=e,this._logLevel=a6,this._logHandler=c6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const u6=(n,e)=>e.some(t=>n instanceof t);let lk,ck;function d6(){return lk||(lk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f6(){return ck||(ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o2=new WeakMap,cb=new WeakMap,s2=new WeakMap,uw=new WeakMap,OS=new WeakMap;function h6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Js(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&o2.set(t,n)}).catch(()=>{}),OS.set(e,n),e}function p6(n){if(cb.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cb.set(n,e)}let ub={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function m6(n){ub=n(ub)}function g6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dw(this),e,...t);return s2.set(r,e.sort?e.sort():[e]),Js(r)}:f6().includes(n)?function(...e){return n.apply(dw(this),e),Js(o2.get(this))}:function(...e){return Js(n.apply(dw(this),e))}}function y6(n){return typeof n=="function"?g6(n):(n instanceof IDBTransaction&&p6(n),u6(n,d6())?new Proxy(n,ub):n)}function Js(n){if(n instanceof IDBRequest)return h6(n);if(uw.has(n))return uw.get(n);const e=y6(n);return e!==n&&(uw.set(n,e),OS.set(e,n)),e}const dw=n=>OS.get(n);function v6(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Js(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Js(s.result),l.oldVersion,l.newVersion,Js(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _6=["get","getKey","getAll","getAllKeys","count"],w6=["put","add","delete","clear"],fw=new Map;function uk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fw.get(e))return fw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=w6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_6.includes(t)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return fw.set(e,o),o}m6(n=>({...n,get:(e,t,r)=>uk(e,t)||n.get(e,t,r),has:(e,t)=>!!uk(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(E6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function E6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fb="@firebase/app",dk="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new MS("@firebase/app"),S6="@firebase/app-compat",T6="@firebase/analytics-compat",x6="@firebase/analytics",I6="@firebase/app-check-compat",C6="@firebase/app-check",k6="@firebase/auth",D6="@firebase/auth-compat",P6="@firebase/database",R6="@firebase/database-compat",A6="@firebase/functions",M6="@firebase/functions-compat",O6="@firebase/installations",N6="@firebase/installations-compat",L6="@firebase/messaging",F6="@firebase/messaging-compat",V6="@firebase/performance",$6="@firebase/performance-compat",B6="@firebase/remote-config",z6="@firebase/remote-config-compat",j6="@firebase/storage",U6="@firebase/storage-compat",W6="@firebase/firestore",H6="@firebase/vertexai-preview",q6="@firebase/firestore-compat",K6="firebase",Y6="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="[DEFAULT]",G6={[fb]:"fire-core",[S6]:"fire-core-compat",[x6]:"fire-analytics",[T6]:"fire-analytics-compat",[C6]:"fire-app-check",[I6]:"fire-app-check-compat",[k6]:"fire-auth",[D6]:"fire-auth-compat",[P6]:"fire-rtdb",[R6]:"fire-rtdb-compat",[A6]:"fire-fn",[M6]:"fire-fn-compat",[O6]:"fire-iid",[N6]:"fire-iid-compat",[L6]:"fire-fcm",[F6]:"fire-fcm-compat",[V6]:"fire-perf",[$6]:"fire-perf-compat",[B6]:"fire-rc",[z6]:"fire-rc-compat",[j6]:"fire-gcs",[U6]:"fire-gcs-compat",[W6]:"fire-fst",[q6]:"fire-fst-compat",[H6]:"fire-vertex","fire-js":"fire-js",[K6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new Map,Q6=new Map,pb=new Map;function fk(n,e){try{n.container.addComponent(e)}catch(t){xl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _u(n){const e=n.name;if(pb.has(e))return xl.debug(`There were multiple attempts to register component ${e}.`),!1;pb.set(e,n);for(const t of Gg.values())fk(t,n);for(const t of Q6.values())fk(t,n);return!0}function NS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function no(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Gh("app","Firebase",J6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=Y6;function a2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(t||(t=t2()),!t)throw Xs.create("no-options");const o=Gg.get(i);if(o){if(mh(t,o.options)&&mh(r,o.config))return o;throw Xs.create("duplicate-app",{appName:i})}const s=new o6(i);for(const l of pb.values())s.addComponent(l);const a=new X6(t,r,s);return Gg.set(i,a),a}function Z6(n=hb){const e=Gg.get(n);if(!e&&n===hb&&t2())return a2();if(!e)throw Xs.create("no-app",{appName:n});return e}function Zs(n,e,t){var r;let i=(r=G6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xl.warn(a.join(" "));return}_u(new Tl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="firebase-heartbeat-database",tU=1,gh="firebase-heartbeat-store";let hw=null;function l2(){return hw||(hw=v6(eU,tU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),hw}async function nU(n){try{const t=(await l2()).transaction(gh),r=await t.objectStore(gh).get(c2(n));return await t.done,r}catch(e){if(e instanceof ls)xl.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xl.warn(t.message)}}}async function hk(n,e){try{const r=(await l2()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,c2(n)),await r.done}catch(t){if(t instanceof ls)xl.warn(t.message);else{const r=Xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xl.warn(r.message)}}}function c2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=1024,iU=30*24*60*60*1e3;class oU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pk();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=iU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pk(),{heartbeatsToSend:r,unsentEntries:i}=sU(this._heartbeatsCache.heartbeats),o=ZN(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function pk(){return new Date().toISOString().substring(0,10)}function sU(n,e=rU){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i2()?Yj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return hk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return hk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mk(n){return ZN(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n){_u(new Tl("platform-logger",e=>new b6(e),"PRIVATE")),_u(new Tl("heartbeat",e=>new oU(e),"PRIVATE")),Zs(fb,dk,n),Zs(fb,dk,"esm2017"),Zs("fire-js","")}lU("");var cU="firebase",uU="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(cU,uU,"app");var gk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cl,u2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(k,A,O){for(var P=Array(arguments.length-2),U=2;U<arguments.length;U++)P[U-2]=arguments[U];return E.prototype[A].apply(k,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var k=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)k[A]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(A=0;16>A;++A)k[A]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],A=S.g[2];var O=S.g[3],P=E+(O^I&(A^O))+k[0]+3614090360&4294967295;E=I+(P<<7&4294967295|P>>>25),P=O+(A^E&(I^A))+k[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=A+(I^O&(E^I))+k[2]+606105819&4294967295,A=O+(P<<17&4294967295|P>>>15),P=I+(E^A&(O^E))+k[3]+3250441966&4294967295,I=A+(P<<22&4294967295|P>>>10),P=E+(O^I&(A^O))+k[4]+4118548399&4294967295,E=I+(P<<7&4294967295|P>>>25),P=O+(A^E&(I^A))+k[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=A+(I^O&(E^I))+k[6]+2821735955&4294967295,A=O+(P<<17&4294967295|P>>>15),P=I+(E^A&(O^E))+k[7]+4249261313&4294967295,I=A+(P<<22&4294967295|P>>>10),P=E+(O^I&(A^O))+k[8]+1770035416&4294967295,E=I+(P<<7&4294967295|P>>>25),P=O+(A^E&(I^A))+k[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=A+(I^O&(E^I))+k[10]+4294925233&4294967295,A=O+(P<<17&4294967295|P>>>15),P=I+(E^A&(O^E))+k[11]+2304563134&4294967295,I=A+(P<<22&4294967295|P>>>10),P=E+(O^I&(A^O))+k[12]+1804603682&4294967295,E=I+(P<<7&4294967295|P>>>25),P=O+(A^E&(I^A))+k[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=A+(I^O&(E^I))+k[14]+2792965006&4294967295,A=O+(P<<17&4294967295|P>>>15),P=I+(E^A&(O^E))+k[15]+1236535329&4294967295,I=A+(P<<22&4294967295|P>>>10),P=E+(A^O&(I^A))+k[1]+4129170786&4294967295,E=I+(P<<5&4294967295|P>>>27),P=O+(I^A&(E^I))+k[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=A+(E^I&(O^E))+k[11]+643717713&4294967295,A=O+(P<<14&4294967295|P>>>18),P=I+(O^E&(A^O))+k[0]+3921069994&4294967295,I=A+(P<<20&4294967295|P>>>12),P=E+(A^O&(I^A))+k[5]+3593408605&4294967295,E=I+(P<<5&4294967295|P>>>27),P=O+(I^A&(E^I))+k[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=A+(E^I&(O^E))+k[15]+3634488961&4294967295,A=O+(P<<14&4294967295|P>>>18),P=I+(O^E&(A^O))+k[4]+3889429448&4294967295,I=A+(P<<20&4294967295|P>>>12),P=E+(A^O&(I^A))+k[9]+568446438&4294967295,E=I+(P<<5&4294967295|P>>>27),P=O+(I^A&(E^I))+k[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=A+(E^I&(O^E))+k[3]+4107603335&4294967295,A=O+(P<<14&4294967295|P>>>18),P=I+(O^E&(A^O))+k[8]+1163531501&4294967295,I=A+(P<<20&4294967295|P>>>12),P=E+(A^O&(I^A))+k[13]+2850285829&4294967295,E=I+(P<<5&4294967295|P>>>27),P=O+(I^A&(E^I))+k[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=A+(E^I&(O^E))+k[7]+1735328473&4294967295,A=O+(P<<14&4294967295|P>>>18),P=I+(O^E&(A^O))+k[12]+2368359562&4294967295,I=A+(P<<20&4294967295|P>>>12),P=E+(I^A^O)+k[5]+4294588738&4294967295,E=I+(P<<4&4294967295|P>>>28),P=O+(E^I^A)+k[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=A+(O^E^I)+k[11]+1839030562&4294967295,A=O+(P<<16&4294967295|P>>>16),P=I+(A^O^E)+k[14]+4259657740&4294967295,I=A+(P<<23&4294967295|P>>>9),P=E+(I^A^O)+k[1]+2763975236&4294967295,E=I+(P<<4&4294967295|P>>>28),P=O+(E^I^A)+k[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=A+(O^E^I)+k[7]+4139469664&4294967295,A=O+(P<<16&4294967295|P>>>16),P=I+(A^O^E)+k[10]+3200236656&4294967295,I=A+(P<<23&4294967295|P>>>9),P=E+(I^A^O)+k[13]+681279174&4294967295,E=I+(P<<4&4294967295|P>>>28),P=O+(E^I^A)+k[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=A+(O^E^I)+k[3]+3572445317&4294967295,A=O+(P<<16&4294967295|P>>>16),P=I+(A^O^E)+k[6]+76029189&4294967295,I=A+(P<<23&4294967295|P>>>9),P=E+(I^A^O)+k[9]+3654602809&4294967295,E=I+(P<<4&4294967295|P>>>28),P=O+(E^I^A)+k[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=A+(O^E^I)+k[15]+530742520&4294967295,A=O+(P<<16&4294967295|P>>>16),P=I+(A^O^E)+k[2]+3299628645&4294967295,I=A+(P<<23&4294967295|P>>>9),P=E+(A^(I|~O))+k[0]+4096336452&4294967295,E=I+(P<<6&4294967295|P>>>26),P=O+(I^(E|~A))+k[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=A+(E^(O|~I))+k[14]+2878612391&4294967295,A=O+(P<<15&4294967295|P>>>17),P=I+(O^(A|~E))+k[5]+4237533241&4294967295,I=A+(P<<21&4294967295|P>>>11),P=E+(A^(I|~O))+k[12]+1700485571&4294967295,E=I+(P<<6&4294967295|P>>>26),P=O+(I^(E|~A))+k[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=A+(E^(O|~I))+k[10]+4293915773&4294967295,A=O+(P<<15&4294967295|P>>>17),P=I+(O^(A|~E))+k[1]+2240044497&4294967295,I=A+(P<<21&4294967295|P>>>11),P=E+(A^(I|~O))+k[8]+1873313359&4294967295,E=I+(P<<6&4294967295|P>>>26),P=O+(I^(E|~A))+k[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=A+(E^(O|~I))+k[6]+2734768916&4294967295,A=O+(P<<15&4294967295|P>>>17),P=I+(O^(A|~E))+k[13]+1309151649&4294967295,I=A+(P<<21&4294967295|P>>>11),P=E+(A^(I|~O))+k[4]+4149444226&4294967295,E=I+(P<<6&4294967295|P>>>26),P=O+(I^(E|~A))+k[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=A+(E^(O|~I))+k[2]+718787259&4294967295,A=O+(P<<15&4294967295|P>>>17),P=I+(O^(A|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,k=this.B,A=this.h,O=0;O<E;){if(A==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(k[A++]=S.charCodeAt(O++),A==this.blockSize){i(this,k),A=0;break}}else for(;O<E;)if(k[A++]=S[O++],A==this.blockSize){i(this,k),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var k=0;32>k;k+=8)S[I++]=this.g[E]>>>k&255;return S};function o(S,E){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function s(S,E){this.h=E;for(var I=[],k=!0,A=S.length-1;0<=A;A--){var O=S[A]|0;k&&O==E||(I[A]=O,k=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(E){return new s([E|0],0>E?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return _(c(-S));for(var E=[],I=1,k=0;S>=I;k++)E[k]=S/I|0,I*=4294967296;return new s(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return _(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),k=d,A=0;A<S.length;A+=8){var O=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+O),E);8>O?(O=c(Math.pow(E,O)),k=k.j(O).add(c(P))):(k=k.j(I),k=k.add(c(P)))}return k}var d=l(0),h=l(1),p=l(16777216);n=s.prototype,n.m=function(){if(g(this))return-_(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var k=this.i(I);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+_(this).toString(S);for(var E=c(Math.pow(S,6)),I=this,k="";;){var A=C(I,E).g;I=v(I,A.j(E));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=A,m(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}n.l=function(S){return S=v(this,S),g(S)?-1:m(S)?0:1};function _(S){for(var E=S.g.length,I=[],k=0;k<E;k++)I[k]=~S.g[k];return new s(I,~S.h).add(h)}n.abs=function(){return g(this)?_(this):this},n.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0,A=0;A<=E;A++){var O=k+(this.i(A)&65535)+(S.i(A)&65535),P=(O>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);k=P>>>16,O&=65535,P&=65535,I[A]=P<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function v(S,E){return S.add(_(E))}n.j=function(S){if(m(this)||m(S))return d;if(g(this))return g(S)?_(this).j(_(S)):_(_(this).j(S));if(g(S))return _(this.j(_(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],k=0;k<2*E;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<S.g.length;A++){var O=this.i(k)>>>16,P=this.i(k)&65535,U=S.i(A)>>>16,K=S.i(A)&65535;I[2*k+2*A]+=P*K,w(I,2*k+2*A),I[2*k+2*A+1]+=O*K,w(I,2*k+2*A+1),I[2*k+2*A+1]+=P*U,w(I,2*k+2*A+1),I[2*k+2*A+2]+=O*U,w(I,2*k+2*A+2)}for(k=0;k<E;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=E;k<2*E;k++)I[k]=0;return new s(I,0)};function w(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function b(S,E){this.g=S,this.h=E}function C(S,E){if(m(E))throw Error("division by zero");if(m(S))return new b(d,d);if(g(S))return E=C(_(S),E),new b(_(E.g),_(E.h));if(g(E))return E=C(S,_(E)),new b(_(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=h,k=E;0>=k.l(S);)I=D(I),k=D(k);var A=M(I,1),O=M(k,1);for(k=M(k,2),I=M(I,2);!m(k);){var P=O.add(k);0>=P.l(S)&&(A=A.add(I),O=P),k=M(k,1),I=M(I,1)}return E=v(S,A.j(E)),new b(A,E)}for(A=d;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=c(I),P=O.j(E);g(P)||0<P.l(S);)I-=k,O=c(I),P=O.j(E);m(O)&&(O=h),A=A.add(O),S=v(S,P)}return new b(A,S)}n.A=function(S){return C(this,S).h},n.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)&S.i(k);return new s(I,this.h&S.h)},n.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)|S.i(k);return new s(I,this.h|S.h)},n.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)^S.i(k);return new s(I,this.h^S.h)};function D(S){for(var E=S.g.length+1,I=[],k=0;k<E;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(I,S.h)}function M(S,E){var I=E>>5;E%=32;for(var k=S.g.length-I,A=[],O=0;O<k;O++)A[O]=0<E?S.i(O+I)>>>E|S.i(O+I+1)<<32-E:S.i(O+I);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,cl=s}).apply(typeof gk<"u"?gk:typeof self<"u"?self:typeof window<"u"?window:{});var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d2,f2,df,h2,qm,mb,p2,m2,g2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof om=="object"&&om];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var B=f[R];if(!(B in T))break e;T=T[B]}f=f[f.length-1],R=T[f],y=y(R),y!=R&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var T=0,R=!1,B={next:function(){if(!R&&T<f.length){var j=T++;return{value:y(j,f[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(f){return f||function(){return o(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function c(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function u(f,y,T){return f.call.apply(f.bind,arguments)}function d(f,y,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,R),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function h(f,y,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function m(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,B,j){for(var ee=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ee[wt-2]=arguments[wt];return y.prototype[B].apply(R,ee)}}function g(f){const y=f.length;if(0<y){const T=Array(y);for(let R=0;R<y;R++)T[R]=f[R];return T}return[]}function _(f,y){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const B=f.length||0,j=R.length||0;f.length=B+j;for(let ee=0;ee<j;ee++)f[B+ee]=R[ee]}else f.push(R)}}class v{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(f,y,T){for(const R in f)y.call(T,f[R],R,f)}function S(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function E(f){const y={};for(const T in f)y[T]=f[T];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,y){let T,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(T in R)f[T]=R[T];for(let j=0;j<I.length;j++)T=I[j],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function A(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function O(f){a.setTimeout(()=>{throw f},0)}function P(){var f=Y;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,T){const R=K.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var K=new v(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,Y=new U,Z=()=>{const f=a.Promise.resolve(void 0);q=()=>{f.then(ne)}};var ne=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(T){O(T)}var y=K;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}V=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return f}();function ce(f,y){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(D){e:{try{C(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ce.aa.h.call(this)}}m(ce,re);var Se={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function vt(f,y,T,R,B){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=B,this.key=++Bt,this.da=this.fa=!1}function zt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f){this.src=f,this.g={},this.h=0}Me.prototype.add=function(f,y,T,R,B){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var ee=Ce(f,y,R,B);return-1<ee?(y=f[ee],T||(y.fa=!1)):(y=new vt(y,this.src,j,!!R,B),y.fa=T,f.push(y)),y};function Ue(f,y){var T=y.type;if(T in f.g){var R=f.g[T],B=Array.prototype.indexOf.call(R,y,void 0),j;(j=0<=B)&&Array.prototype.splice.call(R,B,1),j&&(zt(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ce(f,y,T,R){for(var B=0;B<f.length;++B){var j=f[B];if(!j.da&&j.listener==y&&j.capture==!!T&&j.ha==R)return B}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Je={};function or(f,y,T,R,B){if(Array.isArray(y)){for(var j=0;j<y.length;j++)or(f,y[j],T,R,B);return null}return T=sn(T),f&&f[je]?f.K(y,T,c(R)?!!R.capture:!!R,B):Xt(f,y,T,!1,R,B)}function Xt(f,y,T,R,B,j){if(!y)throw Error("Invalid event type");var ee=c(B)?!!B.capture:!!B,wt=jt(f);if(wt||(f[Pe]=wt=new Me(f)),T=wt.add(y,T,R,ee,j),T.proxy)return T;if(R=fn(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)ge||(B=ee),B===void 0&&(B=!1),f.addEventListener(y.toString(),R,B);else if(f.attachEvent)f.attachEvent(it(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fn(){function f(T){return y.call(f.src,f.listener,T)}const y=Fr;return f}function hn(f,y,T,R,B){if(Array.isArray(y))for(var j=0;j<y.length;j++)hn(f,y[j],T,R,B);else R=c(R)?!!R.capture:!!R,T=sn(T),f&&f[je]?(f=f.i,y=String(y).toString(),y in f.g&&(j=f.g[y],T=Ce(j,T,R,B),-1<T&&(zt(j[T]),Array.prototype.splice.call(j,T,1),j.length==0&&(delete f.g[y],f.h--)))):f&&(f=jt(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ce(y,T,R,B)),(T=-1<f?y[f]:null)&&pn(T))}function pn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[je])Ue(y.i,f);else{var T=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(T,R,f.capture):y.detachEvent?y.detachEvent(it(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=jt(y))?(Ue(T,f),T.h==0&&(T.src=null,y[Pe]=null)):zt(f)}}}function it(f){return f in Je?Je[f]:Je[f]="on"+f}function Fr(f,y){if(f.da)f=!0;else{y=new ce(y,this);var T=f.listener,R=f.ha||f.src;f.fa&&pn(f),f=T.call(R,y)}return f}function jt(f){return f=f[Pe],f instanceof Me?f:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(f){return typeof f=="function"?f:(f[We]||(f[We]=function(y){return f.handleEvent(y)}),f[We])}function Xe(){fe.call(this),this.i=new Me(this),this.M=this,this.F=null}m(Xe,fe),Xe.prototype[je]=!0,Xe.prototype.removeEventListener=function(f,y,T,R){hn(this,f,y,T,R)};function ht(f,y){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new re(y,f);else if(y instanceof re)y.target=y.target||f;else{var B=y;y=new re(R,f),k(y,B)}if(B=!0,T)for(var j=T.length-1;0<=j;j--){var ee=y.g=T[j];B=He(ee,R,!0,y)&&B}if(ee=y.g=f,B=He(ee,R,!0,y)&&B,B=He(ee,R,!1,y)&&B,T)for(j=0;j<T.length;j++)ee=y.g=T[j],B=He(ee,R,!1,y)&&B}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],R=0;R<T.length;R++)zt(T[R]);delete f.g[y],f.h--}}this.F=null},Xe.prototype.K=function(f,y,T,R){return this.i.add(String(f),y,!1,T,R)},Xe.prototype.L=function(f,y,T,R){return this.i.add(String(f),y,!0,T,R)};function He(f,y,T,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,j=0;j<y.length;++j){var ee=y[j];if(ee&&!ee.da&&ee.capture==T){var wt=ee.listener,An=ee.ha||ee.src;ee.fa&&Ue(f.i,ee),B=wt.call(An,R)!==!1&&B}}return B&&!R.defaultPrevented}function _e(f,y,T){if(typeof f=="function")T&&(f=h(f,T));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function Un(f){f.g=_e(()=>{f.g=null,f.i&&(f.i=!1,Un(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class qi extends fe{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(f){fe.call(this),this.h=f,this.g={}}m(Wn,fe);var ye=[];function Oe(f){M(f.g,function(y,T){this.g.hasOwnProperty(T)&&pn(y)},f),f.g={}}Wn.prototype.N=function(){Wn.aa.N.call(this),Oe(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pt=a.JSON.stringify,ri=a.JSON.parse,fs=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function md(){}md.prototype.h=null;function Ca(f){return f.h||(f.h=f.i())}function ka(){}var Da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function So(){re.call(this,"d")}m(So,re);function gd(){re.call(this,"c")}m(gd,re);var To={},Zt=null;function Ci(){return Zt=Zt||new Xe}To.La="serverreachability";function Tp(f){re.call(this,To.La,f)}m(Tp,re);function hs(f){const y=Ci();ht(y,new Tp(y))}To.STAT_EVENT="statevent";function tc(f,y){re.call(this,To.STAT_EVENT,f),this.stat=y}m(tc,re);function vn(f){const y=Ci();ht(y,new tc(y,f))}To.Ma="timingevent";function yd(f,y){re.call(this,To.Ma,f),this.size=y}m(yd,re);function Pa(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function nc(f,y,T,R,B,j){f.info(function(){if(f.g)if(j)for(var ee="",wt=j.split("&"),An=0;An<wt.length;An++){var Ze=wt[An].split("=");if(1<Ze.length){var qn=Ze[0];Ze=Ze[1];var Kn=qn.split("_");ee=2<=Kn.length&&Kn[1]=="type"?ee+(qn+"="+Ze+"&"):ee+(qn+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+y+`
`+T+`
`+ee})}function xp(f,y,T,R,B,j,ee){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+y+`
`+T+`
`+j+" "+ee})}function xo(f,y,T,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ip(f,T)+(R?" "+R:"")})}function vd(f,y){f.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function Ip(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var B=R[1];if(Array.isArray(B)&&!(1>B.length)){var j=B[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<B.length;ee++)B[ee]=""}}}}return pt(T)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_d={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rc;function Ra(){}m(Ra,md),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},rc=new Ra;function ki(f,y,T,R){this.j=f,this.i=y,this.l=T,this.R=R||1,this.U=new Wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cp}function Cp(){this.i=null,this.g="",this.h=!1}var ve={},F={};function X(f,y,T){f.L=1,f.v=Rp(Io(y)),f.m=T,f.P=!0,he(f,null)}function he(f,y){f.F=Date.now(),Ut(f),f.A=Io(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),_I(T.i,"t",R),f.C=0,T=f.j.J,f.h=new Cp,f.g=FI(f.j,T?y:null,!f.m),0<f.O&&(f.M=new qi(h(f.Y,f,f.g),f.O)),y=f.U,T=f.g,R=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(ye[0]=B.toString()),B=ye);for(var j=0;j<B.length;j++){var ee=or(T,B[j],R||y.handleEvent,!1,y.h||y);if(!ee)break;y.g[ee.key]=ee}y=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),hs(),nc(f.i,f.u,f.A,f.l,f.R,f.m)}ki.prototype.ca=function(f){f=f.target;const y=this.M;y&&Co(f)==3?y.j():this.Y(f)},ki.prototype.Y=function(f){try{if(f==this.g)e:{const Kn=Co(this.g);var y=this.g.Ba();const ac=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||II(this.g)))){this.J||Kn!=4||y==7||(y==8||0>=ac?hs(3):hs(2)),xr(this);var T=this.g.Z();this.X=T;t:if(_t(this)){var R=II(this.g);f="";var B=R.length,j=Co(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Di(this);var ee="";break t}this.h.i=new a.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(j&&y==B-1)});R.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=T==200,xp(this.i,this.u,this.A,this.l,this.R,Kn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,An=this.g;if((wt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(wt)){var Ze=wt;break t}}Ze=null}if(T=Ze)xo(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,T);else{this.o=!1,this.s=3,vn(12),Mt(this),Di(this);break e}}if(this.P){T=!0;let Pi;for(;!this.J&&this.C<ee.length;)if(Pi=_n(this,ee),Pi==F){Kn==4&&(this.s=4,vn(14),T=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==ve){this.s=4,vn(15),xo(this.i,this.l,ee,"[Invalid Chunk]"),T=!1;break}else xo(this.i,this.l,Pi,null),ic(this,Pi);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||ee.length!=0||this.h.h||(this.s=1,vn(16),T=!1),this.o=this.o&&T,!T)xo(this.i,this.l,ee,"[Invalid Chunked Response]"),Mt(this),Di(this);else if(0<ee.length&&!this.W){this.W=!0;var qn=this.j;qn.g==this&&qn.ba&&!qn.M&&(qn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),M_(qn),qn.M=!0,vn(11))}}else xo(this.i,this.l,ee,null),ic(this,ee);Kn==4&&Mt(this),this.o&&!this.J&&(Kn==4?MI(this.j,this):(this.o=!1,Ut(this)))}else X3(this.g),T==400&&0<ee.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Mt(this),Di(this)}}}catch{}finally{}};function _t(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function _n(f,y){var T=f.C,R=y.indexOf(`
`,T);return R==-1?F:(T=Number(y.substring(T,R)),isNaN(T)?ve:(R+=1,R+T>y.length?F:(y=y.slice(R,R+T),f.C=R+T,y)))}ki.prototype.cancel=function(){this.J=!0,Mt(this)};function Ut(f){f.S=Date.now()+f.I,Rn(f,f.I)}function Rn(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Pa(h(f.ba,f),y)}function xr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}ki.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(vd(this.i,this.A),this.L!=2&&(hs(),vn(17)),Mt(this),this.s=2,Di(this)):Rn(this,this.S-f)};function Di(f){f.j.G==0||f.J||MI(f.j,f)}function Mt(f){xr(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Oe(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ic(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||k_(T.h,f))){if(!f.K&&k_(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Lp(T),Op(T);else break e;A_(T),vn(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=Pa(h(T.Za,T),6e3));if(1>=uI(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ma(T,11)}else if((f.K||T.g==f)&&Lp(T),!w(y))for(B=T.Da.g.parse(y),y=0;y<B.length;y++){let Ze=B[y];if(T.T=Ze[0],Ze=Ze[1],T.G==2)if(Ze[0]=="c"){T.K=Ze[1],T.ia=Ze[2];const qn=Ze[3];qn!=null&&(T.la=qn,T.j.info("VER="+T.la));const Kn=Ze[4];Kn!=null&&(T.Aa=Kn,T.j.info("SVER="+T.Aa));const ac=Ze[5];ac!=null&&typeof ac=="number"&&0<ac&&(R=1.5*ac,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Pi=f.g;if(Pi){const Vp=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vp){var j=R.h;j.g||Vp.indexOf("spdy")==-1&&Vp.indexOf("quic")==-1&&Vp.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(D_(j,j.h),j.h=null))}if(R.D){const O_=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;O_&&(R.ya=O_,St(R.I,R.D,O_))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ee=f;if(R.qa=LI(R,R.J?R.ia:null,R.W),ee.K){dI(R.h,ee);var wt=ee,An=R.L;An&&(wt.I=An),wt.B&&(xr(wt),Ut(wt)),R.g=ee}else RI(R);0<T.i.length&&Np(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ma(T,7);else T.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ma(T,7):R_(T):Ze[0]!="noop"&&T.l&&T.l.ta(Ze),T.v=0)}}hs(4)}catch{}}var kp=class{constructor(f,y){this.g=f,this.map=y}};function lI(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cI(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function uI(f){return f.h?1:f.g?f.g.size:0}function k_(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function D_(f,y){f.g?f.g.add(y):f.h=y}function dI(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}lI.prototype.cancel=function(){if(this.i=fI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fI(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return g(f.i)}function F3(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var y=[],T=f.length,R=0;R<T;R++)y.push(f[R]);return y}y=[],T=0;for(R in f)y[T++]=f[R];return y}function V3(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const R in f)y[T++]=R;return y}}}function hI(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=V3(f),R=F3(f),B=R.length,j=0;j<B;j++)y.call(void 0,R[j],T&&T[j],f)}var pI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $3(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),B=null;if(0<=R){var j=f[T].substring(0,R);B=f[T].substring(R+1)}else j=f[T];y(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Aa(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Aa){this.h=f.h,Dp(this,f.j),this.o=f.o,this.g=f.g,Pp(this,f.s),this.l=f.l;var y=f.i,T=new Ed;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),mI(this,T),this.m=f.m}else f&&(y=String(f).match(pI))?(this.h=!1,Dp(this,y[1]||"",!0),this.o=wd(y[2]||""),this.g=wd(y[3]||"",!0),Pp(this,y[4]),this.l=wd(y[5]||"",!0),mI(this,y[6]||"",!0),this.m=wd(y[7]||"")):(this.h=!1,this.i=new Ed(null,this.h))}Aa.prototype.toString=function(){var f=[],y=this.j;y&&f.push(bd(y,gI,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(bd(y,gI,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(bd(T,T.charAt(0)=="/"?j3:z3,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",bd(T,W3)),f.join("")};function Io(f){return new Aa(f)}function Dp(f,y,T){f.j=T?wd(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Pp(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function mI(f,y,T){y instanceof Ed?(f.i=y,H3(f.i,f.h)):(T||(y=bd(y,U3)),f.i=new Ed(y,f.h))}function St(f,y,T){f.i.set(y,T)}function Rp(f){return St(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function wd(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bd(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,B3),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function B3(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var gI=/[#\/\?@]/g,z3=/[#\?:]/g,j3=/[#\?]/g,U3=/[#\?@]/g,W3=/#/g;function Ed(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function ps(f){f.g||(f.g=new Map,f.h=0,f.i&&$3(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Ed.prototype,n.add=function(f,y){ps(this),this.i=null,f=oc(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function yI(f,y){ps(f),y=oc(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function vI(f,y){return ps(f),y=oc(f,y),f.g.has(y)}n.forEach=function(f,y){ps(this),this.g.forEach(function(T,R){T.forEach(function(B){f.call(y,B,R,this)},this)},this)},n.na=function(){ps(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let R=0;R<y.length;R++){const B=f[R];for(let j=0;j<B.length;j++)T.push(y[R])}return T},n.V=function(f){ps(this);let y=[];if(typeof f=="string")vI(this,f)&&(y=y.concat(this.g.get(oc(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return ps(this),this.i=null,f=oc(this,f),vI(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function _I(f,y,T){yI(f,y),0<T.length&&(f.i=null,f.g.set(oc(f,y),g(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var R=y[T];const j=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var B=j;ee[R]!==""&&(B+="="+encodeURIComponent(String(ee[R]))),f.push(B)}}return this.i=f.join("&")};function oc(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function H3(f,y){y&&!f.j&&(ps(f),f.i=null,f.g.forEach(function(T,R){var B=R.toLowerCase();R!=B&&(yI(this,R),_I(this,B,T))},f)),f.j=y}function q3(f,y){const T=new Hn;if(a.Image){const R=new Image;R.onload=p(ms,T,"TestLoadImage: loaded",!0,y,R),R.onerror=p(ms,T,"TestLoadImage: error",!1,y,R),R.onabort=p(ms,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(ms,T,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function K3(f,y){const T=new Hn,R=new AbortController,B=setTimeout(()=>{R.abort(),ms(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(j=>{clearTimeout(B),j.ok?ms(T,"TestPingServer: ok",!0,y):ms(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),ms(T,"TestPingServer: error",!1,y)})}function ms(f,y,T,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(T)}catch{}}function Y3(){this.g=new fs}function G3(f,y,T){const R=T||"";try{hI(f,function(B,j){let ee=B;c(B)&&(ee=pt(B)),y.push(R+j+"="+encodeURIComponent(ee))})}catch(B){throw y.push(R+"type="+encodeURIComponent("_badmap")),B}}function Sd(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Sd,md),Sd.prototype.g=function(){return new Ap(this.l,this.j)},Sd.prototype.i=function(f){return function(){return f}}({});function Ap(f,y){Xe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ap,Xe),n=Ap.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,xd(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Td(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wI(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function wI(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Td(this):xd(this),this.readyState==3&&wI(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Td(this))},n.Qa=function(f){this.g&&(this.response=f,Td(this))},n.ga=function(){this.g&&Td(this)};function Td(f){f.readyState=4,f.l=null,f.j=null,f.v=null,xd(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function xd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function bI(f){let y="";return M(f,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function P_(f,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=bI(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):St(f,y,T))}function Wt(f){Xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Wt,Xe);var Q3=/^https?$/i,J3=["POST","PUT"];n=Wt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rc.g(),this.v=this.o?Ca(this.o):Ca(rc),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(j){EI(this,j);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)T.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())T.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(j=>j.toLowerCase()=="content-type"),B=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(J3,y,void 0))||R||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of T)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xI(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){EI(this,j)}};function EI(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,SI(f),Mp(f)}function SI(f){f.A||(f.A=!0,ht(f,"complete"),ht(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ht(this,"complete"),ht(this,"abort"),Mp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mp(this,!0)),Wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?TI(this):this.bb())},n.bb=function(){TI(this)};function TI(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Co(f)!=4||f.Z()!=2)){if(f.u&&Co(f)==4)_e(f.Ea,0,f);else if(ht(f,"readystatechange"),Co(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=ee===0){var B=String(f.D).match(pI)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),R=!Q3.test(B?B.toLowerCase():"")}T=R}if(T)ht(f,"complete"),ht(f,"success");else{f.m=6;try{var j=2<Co(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",SI(f)}}finally{Mp(f)}}}}function Mp(f,y){if(f.g){xI(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||ht(f,"ready");try{T.onreadystatechange=R}catch{}}}function xI(f){f.I&&(a.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Co(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Co(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ri(y)}};function II(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function X3(f){const y={};f=(f.g&&2<=Co(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(w(f[R]))continue;var T=A(f[R]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const j=y[B]||[];y[B]=j,j.push(T)}S(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Id(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function CI(f){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Id("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Id("baseRetryDelayMs",5e3,f),this.cb=Id("retryDelaySeedMs",1e4,f),this.Wa=Id("forwardChannelMaxRetries",2,f),this.wa=Id("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new lI(f&&f.concurrentRequestLimit),this.Da=new Y3,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=CI.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,R){vn(0),this.W=f,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=LI(this,null,this.W),Np(this)};function R_(f){if(kI(f),f.G==3){var y=f.U++,T=Io(f.I);if(St(T,"SID",f.K),St(T,"RID",y),St(T,"TYPE","terminate"),Cd(f,T),y=new ki(f,f.j,y),y.L=2,y.v=Rp(Io(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=FI(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ut(y)}NI(f)}function Op(f){f.g&&(M_(f),f.g.cancel(),f.g=null)}function kI(f){Op(f),f.u&&(a.clearTimeout(f.u),f.u=null),Lp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Np(f){if(!cI(f.h)&&!f.s){f.s=!0;var y=f.Ga;q||Z(),V||(q(),V=!0),Y.add(y,f),f.B=0}}function Z3(f,y){return uI(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Pa(h(f.Ga,f,y),OI(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new ki(this,this.j,f);let j=this.o;if(this.S&&(j?(j=E(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(B.H=j,j=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=PI(this,B,y),T=Io(this.I),St(T,"RID",f),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),Cd(this,T),j&&(this.O?y="headers="+encodeURIComponent(String(bI(j)))+"&"+y:this.m&&P_(T,this.m,j)),D_(this.h,B),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",y),St(T,"SID","null"),B.T=!0,X(B,T,null)):X(B,T,y),this.G=2}}else this.G==3&&(f?DI(this,f):this.i.length==0||cI(this.h)||DI(this))};function DI(f,y){var T;y?T=y.l:T=f.U++;const R=Io(f.I);St(R,"SID",f.K),St(R,"RID",T),St(R,"AID",f.T),Cd(f,R),f.m&&f.o&&P_(R,f.m,f.o),T=new ki(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=PI(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),D_(f.h,T),X(T,R,y)}function Cd(f,y){f.H&&M(f.H,function(T,R){St(y,R,T)}),f.l&&hI({},function(T,R){St(y,R,T)})}function PI(f,y,T){T=Math.min(f.i.length,T);var R=f.l?h(f.l.Na,f.l,f):null;e:{var B=f.i;let j=-1;for(;;){const ee=["count="+T];j==-1?0<T?(j=B[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let wt=!0;for(let An=0;An<T;An++){let Ze=B[An].g;const qn=B[An].map;if(Ze-=j,0>Ze)j=Math.max(0,B[An].g-100),wt=!1;else try{G3(qn,ee,"req"+Ze+"_")}catch{R&&R(qn)}}if(wt){R=ee.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,R}function RI(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;q||Z(),V||(q(),V=!0),Y.add(y,f),f.v=0}}function A_(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Pa(h(f.Fa,f),OI(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,AI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Pa(h(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Op(this),AI(this))};function M_(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function AI(f){f.g=new ki(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Io(f.qa);St(y,"RID","rpc"),St(y,"SID",f.K),St(y,"AID",f.T),St(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&St(y,"TO",f.ja),St(y,"TYPE","xmlhttp"),Cd(f,y),f.m&&f.o&&P_(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Rp(Io(y)),T.m=null,T.P=!0,he(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Op(this),A_(this),vn(19))};function Lp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function MI(f,y){var T=null;if(f.g==y){Lp(f),M_(f),f.g=null;var R=2}else if(k_(f.h,y))T=y.D,dI(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;R=Ci(),ht(R,new yd(R,T)),Np(f)}else RI(f);else if(B=y.s,B==3||B==0&&0<y.X||!(R==1&&Z3(f,y)||R==2&&A_(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),B){case 1:Ma(f,5);break;case 4:Ma(f,10);break;case 3:Ma(f,6);break;default:Ma(f,2)}}}function OI(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function Ma(f,y){if(f.j.info("Error code "+y),y==2){var T=h(f.fb,f),R=f.Xa;const B=!R;R=new Aa(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dp(R,"https"),Rp(R),B?q3(R.toString(),T):K3(R.toString(),T)}else vn(2);f.G=0,f.l&&f.l.sa(y),NI(f),kI(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function NI(f){if(f.G=0,f.ka=[],f.l){const y=fI(f.h);(y.length!=0||f.i.length!=0)&&(_(f.ka,y),_(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function LI(f,y,T){var R=T instanceof Aa?Io(T):new Aa(T);if(R.g!="")y&&(R.g=y+"."+R.g),Pp(R,R.s);else{var B=a.location;R=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var j=new Aa(null);R&&Dp(j,R),y&&(j.g=y),B&&Pp(j,B),T&&(j.l=T),R=j}return T=f.D,y=f.ya,T&&y&&St(R,T,y),St(R,"VER",f.la),Cd(f,R),R}function FI(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Wt(new Sd({eb:T})):new Wt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function VI(){}n=VI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fp(){}Fp.prototype.g=function(f,y){return new Vr(f,y)};function Vr(f,y){Xe.call(this),this.g=new CI(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!w(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new sc(this)}m(Vr,Xe),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){R_(this.g)},Vr.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=pt(f),f=T);y.i.push(new kp(y.Ya++,f)),y.G==3&&Np(y)},Vr.prototype.N=function(){this.g.l=null,delete this.j,R_(this.g),delete this.g,Vr.aa.N.call(this)};function $I(f){So.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m($I,So);function BI(){gd.call(this),this.status=1}m(BI,gd);function sc(f){this.g=f}m(sc,VI),sc.prototype.ua=function(){ht(this.g,"a")},sc.prototype.ta=function(f){ht(this.g,new $I(f))},sc.prototype.sa=function(f){ht(this.g,new BI)},sc.prototype.ra=function(){ht(this.g,"b")},Fp.prototype.createWebChannel=Fp.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,g2=function(){return new Fp},m2=function(){return Ci()},p2=To,mb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,qm=Tr,_d.COMPLETE="complete",h2=_d,ka.EventType=Da,Da.OPEN="a",Da.CLOSE="b",Da.ERROR="c",Da.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,df=ka,f2=Sd,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,d2=Wt}).apply(typeof om<"u"?om:typeof self<"u"?self:typeof window<"u"?window:{});const yk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new MS("@firebase/firestore");function Tc(){return Il.logLevel}function Q(n,...e){if(Il.logLevel<=$e.DEBUG){const t=e.map(LS);Il.debug(`Firestore (${Gu}): ${n}`,...t)}}function dr(n,...e){if(Il.logLevel<=$e.ERROR){const t=e.map(LS);Il.error(`Firestore (${Gu}): ${n}`,...t)}}function Cl(n,...e){if(Il.logLevel<=$e.WARN){const t=e.map(LS);Il.warn(`Firestore (${Gu}): ${n}`,...t)}}function LS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(n="Unexpected state"){const e=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function we(n,e){n||me()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class hU{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let o=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $i,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $i)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new dU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new lr(e)}}class pU{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mU{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pU(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string"),this.R=t.token,new gU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function wu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function v2(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(),r===void 0?r=e.length-t:r>e.length-t&&me(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yh.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends yh{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const _U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends yh{construct(e,t,r){return new Nt(e,t,r)}static isValidIdentifier(e){return _U.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(rt.fromString(e))}static fromName(e){return new ie(rt.fromString(e).popFirst(5))}static empty(){return new ie(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function gb(n){return n.fields.find(e=>e.kind===2)}function $a(n){return n.fields.filter(e=>e.kind!==2)}Qg.UNKNOWN_ID=-1;class Km{constructor(e,t){this.fieldPath=e,this.kind=t}}class vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vh(0,Jr.min())}}function wU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new Jr(i,ie.empty(),e)}function _2(n){return new Jr(n.readTime,n.key,-1)}class Jr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jr(be.min(),ie.empty(),-1)}static max(){return new Jr(be.max(),ie.empty(),-1)}}function FS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==w2)throw n;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new $i,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Af(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=VS(r.target.error);this.V.reject(new Af(e,i))}}static open(e,t,r,i){try{return new $v(t,e.transaction(i,r))}catch(o){throw new Af(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EU(t)}}class ea{constructor(e,t,r){this.name=e,this.version=t,this.p=r,ea.S(dn())===12.2&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),Wa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!i2())return!1;if(ea.C())return!0;const e=dn(),t=ea.S(e),r=0<t&&t<10,i=E2(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;t(s)},i.onblocked=()=>{r(new Af(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new te(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new te(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Af(e,s))},i.onupgradeneeded=o=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=$v.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function E2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class bU{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Wa(this.B.delete())}}class Af extends te{constructor(e,t){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ba(n){return n.name==="IndexedDbTransactionError"}class EU{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Q("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wa(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),Wa(this.store.add(e))}get(e){return Wa(this.store.get(e)).next(t=>(t===void 0&&(t=null),Q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),Wa(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),Wa(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new z((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new z((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new z((r,i)=>{t.onerror=o=>{const s=VS(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new z((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new bU(a),c=t(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>z.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wa(n){return new z((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=VS(r.target.error);t(i)}})}let vk=!1;function VS(n){const e=ea.S(dn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vk||(vk=!0,setTimeout(()=>{throw r},0)),r}}return n}class SU{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Q("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){ba(t)?Q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await ql(t)}await this.X(6e4)})}}class TU{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,o=!0;return z.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return Q("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(Q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=_2(o);FS(s,r)>0&&(r=s)}),new Jr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pi.oe=-1;function Bv(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function xU(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_k(e)),e=IU(n.get(t),e);return _k(e)}function IU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function _k(n){return n+""}function ro(n){const e=n.length;if(we(e>=2),e===2)return we(n.charAt(0)===""&&n.charAt(1)===""),rt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("",o);switch((s<0||s>t)&&me(),n.charAt(s+1)){case"":const a=n.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:me()}o=s+2}return new rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,e){return[n,gr(e)]}function S2(n,e,t){return[n,gr(e),t]}const CU={},kU=["prefixPath","collectionGroup","readTime","documentId"],DU=["prefixPath","collectionGroup","documentId"],PU=["collectionGroup","readTime","prefixPath","documentId"],RU=["canonicalId","targetId"],AU=["targetId","path"],MU=["path","targetId"],OU=["collectionId","parent"],NU=["indexId","uid"],LU=["uid","sequenceNumber"],FU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VU=["indexId","uid","orderedDocumentKey"],$U=["userId","collectionPath","documentId"],BU=["userId","collectionPath","largestBatchId"],zU=["userId","collectionGroup","largestBatchId"],T2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jU=[...T2,"documentOverlays"],x2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],I2=x2,C2=[...I2,"indexConfiguration","indexState","indexEntries"],UU=C2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends b2{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function kn(n,e){const t=ke(n);return ea.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sm(this.root,e,this.comparator,!0)}}class sm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ln(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ek(this.data.getIterator())}getIteratorFrom(e){return new Ek(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class Ek{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new mt(Nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new D2("Invalid base64 string: "+o):o}}(e);return new jn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(we(!!n),typeof n=="string"){let e=0;const t=WU.exec(n);if(we(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(n.seconds),nanos:Yt(n.nanos)}}function Yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ua(n){return typeof n=="string"?jn.fromBase64String(n):jn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function BS(n){const e=n.mapValue.fields.__previous_value__;return $S(e)?BS(e):e}function wh(n){const e=Xo(n.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gm={nullValue:"NULL_VALUE"};function Dl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$S(n)?4:P2(n)?9007199254740991:10:me()}function go(n,e){if(n===e)return!0;const t=Dl(n);if(t!==Dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wh(n).isEqual(wh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Xo(i.timestampValue),a=Xo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ua(i.bytesValue).isEqual(ua(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Yt(i.doubleValue),a=Yt(o.doubleValue);return s===a?_h(s)===_h(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return wu(n.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bk(s)!==bk(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!go(s[l],a[l])))return!1;return!0}(n,e);default:return me()}}function bh(n,e){return(n.values||[]).find(t=>go(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=Dl(n),r=Dl(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Yt(o.integerValue||o.doubleValue),l=Yt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Sk(n.timestampValue,e.timestampValue);case 4:return Sk(wh(n),wh(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ua(o),l=ua(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=De(a[c],l[c]);if(u!==0)return u}return De(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=De(Yt(o.latitude),Yt(s.latitude));return a!==0?a:De(Yt(o.longitude),Yt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=da(a[c],l[c]);if(u)return u}return De(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Fs.mapValue&&s===Fs.mapValue)return 0;if(o===Fs.mapValue)return 1;if(s===Fs.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=De(l[d],u[d]);if(h!==0)return h;const p=da(a[l[d]],c[u[d]]);if(p!==0)return p}return De(l.length,u.length)}(n.mapValue,e.mapValue);default:throw me()}}function Sk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Xo(n),r=Xo(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function bu(n){return vb(n)}function vb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=vb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${vb(t.fields[s])}`;return i+"}"}(n.mapValue):me()}function Eh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _b(n){return!!n&&"integerValue"in n}function Sh(n){return!!n&&"arrayValue"in n}function Tk(n){return!!n&&"nullValue"in n}function xk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qm(n){return!!n&&"mapValue"in n}function Mf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Kl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function P2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function qU(n){return"nullValue"in n?Gm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Eh(kl.empty(),ie.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:me()}function KU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Eh(kl.empty(),ie.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fs:me()}function Ik(n,e){const t=da(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ck(n,e){const t=da(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}setAll(e){let t=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Mf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Kl(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new er(Mf(this.value))}}function R2(n){const e=[];return Kl(n.fields,(t,r)=>{const i=new Nt([t]);if(Qm(r)){const o=R2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,be.min(),be.min(),be.min(),er.empty(),0)}static newFoundDocument(e,t,r,i){return new Gt(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new Gt(e,2,t,be.min(),be.min(),er.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,be.min(),be.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.position=e,this.inclusive=t}}function kk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=da(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!go(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t="asc"){this.field=e,this.dir=t}}function YU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class ze extends A2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GU(e,t,r):t==="array-contains"?new XU(e,r):t==="in"?new V2(e,r):t==="not-in"?new ZU(e,r):t==="array-contains-any"?new e9(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QU(e,r):new JU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(da(t,this.value)):t!==null&&Dl(this.value)===Dl(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends A2{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ct(e,t)}matches(e){return Su(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Su(n){return n.op==="and"}function wb(n){return n.op==="or"}function zS(n){return M2(n)&&Su(n)}function M2(n){for(const e of n.filters)if(e instanceof ct)return!1;return!0}function bb(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+bu(n.value);if(zS(n))return n.filters.map(e=>bb(e)).join(",");{const e=n.filters.map(t=>bb(t)).join(",");return`${n.op}(${e})`}}function O2(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&go(r.value,i.value)}(n,e):n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&O2(s,i.filters[a]),!0):!1}(n,e):void me()}function N2(n,e){const t=n.filters.concat(e);return ct.create(t,n.op)}function L2(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${bu(t.value)}`}(n):n instanceof ct?function(t){return t.op.toString()+" {"+t.getFilters().map(L2).join(" ,")+"}"}(n):"Filter"}class GU extends ze{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){const t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class QU extends ze{constructor(e,t){super(e,"in",t),this.keys=F2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JU extends ze{constructor(e,t){super(e,"not-in",t),this.keys=F2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}class XU extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sh(t)&&bh(t.arrayValue,this.value)}}class V2 extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}}class ZU extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bh(this.value.arrayValue,t)}}class e9 extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Eb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new t9(n,e,t,r,i,o,s)}function Pl(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bu(r)).join(",")),e.ue=t}return e.ue}function Jh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dk(n.startAt,e.startAt)&&Dk(n.endAt,e.endAt)}function Xg(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Zg(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function Pk(n,e,t){let r=Gm,i=!0;for(const o of Zg(n,e)){let s=Gm,a=!0;switch(o.op){case"<":case"<=":s=qU(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Gm}Ik({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Ik({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function Rk(n,e,t){let r=Fs,i=!0;for(const o of Zg(n,e)){let s=Fs,a=!0;switch(o.op){case">=":case">":s=KU(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Fs}Ck({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Ck({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n9(n,e,t,r,i,o,s,a){return new Xh(n,e,t,r,i,o,s,a)}function zv(n){return new Xh(n)}function Ak(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $2(n){return n.collectionGroup!==null}function Of(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(Nt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Jg(o,r))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new Jg(Nt.keyField(),r))}return e.ce}function gi(n){const e=ke(n);return e.le||(e.le=r9(e,Of(n))),e.le}function r9(n,e){if(n.limitType==="F")return Eb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Jg(i.field,o)});const t=n.endAt?new Eu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eu(n.startAt.position,n.startAt.inclusive):null;return Eb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sb(n,e){const t=n.filters.concat([e]);return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tb(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jv(n,e){return Jh(gi(n),gi(e))&&n.limitType===e.limitType}function B2(n){return`${Pl(gi(n))}|lt:${n.limitType}`}function xc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>L2(i)).join(", ")}]`),Bv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bu(i)).join(",")),`Target(${r})`}(gi(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Of(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=kk(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Of(r),i)||r.endAt&&!function(s,a,l){const c=kk(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Of(r),i))}(n,e)}function i9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z2(n){return(e,t)=>{let r=!1;for(const i of Of(n)){const o=o9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o9(n,e,t){const r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?da(l,c):me()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new Pt(ie.comparator);function Hr(){return s9}const j2=new Pt(ie.comparator);function ff(...n){let e=j2;for(const t of n)e=e.insert(t.key,t);return e}function U2(n){let e=j2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function io(){return Nf()}function W2(){return Nf()}function Nf(){return new Ea(n=>n.toString(),(n,e)=>n.isEqual(e))}const a9=new Pt(ie.comparator),l9=new mt(ie.comparator);function Ae(...n){let e=l9;for(const t of n)e=e.add(t);return e}const c9=new mt(De);function u9(){return c9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function q2(n){return{integerValue:""+n}}function d9(n,e){return xU(e)?q2(e):H2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this._=void 0}}function f9(n,e,t){return n instanceof Th?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$S(o)&&(o=BS(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Tu?Y2(n,e):n instanceof xu?G2(n,e):function(i,o){const s=K2(i,o),a=Mk(s)+Mk(i.Pe);return _b(s)&&_b(i.Pe)?q2(a):H2(i.serializer,a)}(n,e)}function h9(n,e,t){return n instanceof Tu?Y2(n,e):n instanceof xu?G2(n,e):t}function K2(n,e){return n instanceof xh?function(r){return _b(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Th extends Uv{}class Tu extends Uv{constructor(e){super(),this.elements=e}}function Y2(n,e){const t=Q2(e);for(const r of n.elements)t.some(i=>go(i,r))||t.push(r);return{arrayValue:{values:t}}}class xu extends Uv{constructor(e){super(),this.elements=e}}function G2(n,e){let t=Q2(e);for(const r of n.elements)t=t.filter(i=>!go(i,r));return{arrayValue:{values:t}}}class xh extends Uv{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Mk(n){return Yt(n.integerValue||n.doubleValue)}function Q2(n){return Sh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this.field=e,this.transform=t}}function m9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Tu&&i instanceof Tu||r instanceof xu&&i instanceof xu?wu(r.elements,i.elements,go):r instanceof xh&&i instanceof xh?go(r.Pe,i.Pe):r instanceof Th&&i instanceof Th}(n.transform,e.transform)}class g9{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wv{}function J2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hv(n.key,fr.none()):new Qu(n.key,n.data,fr.none());{const t=n.data,r=er.empty();let i=new mt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cs(n.key,r,new Dr(i.toArray()),fr.none())}}function y9(n,e,t){n instanceof Qu?function(i,o,s){const a=i.value.clone(),l=Nk(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(i,o,s){if(!Jm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Nk(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(X2(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Lf(n,e,t,r){return n instanceof Qu?function(o,s,a,l){if(!Jm(o.precondition,s))return a;const c=o.value.clone(),u=Lk(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof cs?function(o,s,a,l){if(!Jm(o.precondition,s))return a;const c=Lk(o.fieldTransforms,l,s),u=s.data;return u.setAll(X2(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(o,s,a){return Jm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function v9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=K2(r.transform,i||null);o!=null&&(t===null&&(t=er.empty()),t.set(r.field,o))}return t||null}function Ok(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wu(r,i,(o,s)=>m9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends Wv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends Wv{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function X2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Nk(n,e,t){const r=new Map;we(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,h9(s,a,t[i]))}return r}function Lk(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,f9(o,s,e))}return r}class Hv extends Wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends Wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&y9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W2();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=J2(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(t,r)=>Ok(t,r))&&wu(this.baseMutations,e.baseMutations,(t,r)=>Ok(t,r))}}class US{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length);let i=function(){return a9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new US(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,qe;function w9(n){switch(n){default:return me();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function eL(n){if(n===void 0)return dr("GRPC error has no .code"),H.UNKNOWN;switch(n){case an.OK:return H.OK;case an.CANCELLED:return H.CANCELLED;case an.UNKNOWN:return H.UNKNOWN;case an.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case an.INTERNAL:return H.INTERNAL;case an.UNAVAILABLE:return H.UNAVAILABLE;case an.UNAUTHENTICATED:return H.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case an.NOT_FOUND:return H.NOT_FOUND;case an.ALREADY_EXISTS:return H.ALREADY_EXISTS;case an.PERMISSION_DENIED:return H.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case an.ABORTED:return H.ABORTED;case an.OUT_OF_RANGE:return H.OUT_OF_RANGE;case an.UNIMPLEMENTED:return H.UNIMPLEMENTED;case an.DATA_LOSS:return H.DATA_LOSS;default:return me()}}(qe=an||(an={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=new cl([4294967295,4294967295],0);function Fk(n){const e=b9().encode(n),t=new u2;return t.update(e),new Uint8Array(t.digest())}function Vk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cl([t,r],0),new cl([i,o],0)]}class HS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new hf(`Invalid padding: ${t}`);if(r<0)throw new hf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new hf(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=cl.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(cl.fromNumber(r)));return i.compare(E9)===1&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Fk(e),[r,i]=Vk(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new HS(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const t=Fk(e),[r,i]=Vk(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new qv(be.min(),i,new Pt(De),Hr(),Ae())}}class ep{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ep(r,t,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class tL{constructor(e,t){this.targetId=e,this.me=t}}class nL{constructor(e,t,r=jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $k{constructor(){this.fe=0,this.ge=zk(),this.pe=jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:me()}}),new ep(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=zk()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class S9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=Bk(),this.Qe=new Pt(De)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(Xg(o))if(r===0){const s=new ie(o.path);this.Ue(t,s,Gt.newNoDocument(s,be.min()))}else we(r===1);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=ua(r).toUint8Array()}catch(l){if(l instanceof D2)return Cl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new HS(s,i,o)}catch(l){return Cl(l instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Xg(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Gt.newNoDocument(l,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=Ae();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new qv(e,t,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=Bk(),this.Qe=new Pt(De),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new $k,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(De),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $k),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bk(){return new Pt(ie.comparator)}function zk(){return new Pt(ie.comparator)}const T9={asc:"ASCENDING",desc:"DESCENDING"},x9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I9={and:"AND",or:"OR"};class C9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xb(n,e){return n.useProto3Json||Bv(e)?e:{value:e}}function Iu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function k9(n,e){return Iu(n,e.toTimestamp())}function yr(n){return we(!!n),be.fromTimestamp(function(t){const r=Xo(t);return new Vt(r.seconds,r.nanos)}(n))}function qS(n,e){return Ib(n,e).canonicalString()}function Ib(n,e){const t=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function iL(n){const e=rt.fromString(n);return we(hL(e)),e}function ey(n,e){return qS(n.databaseId,e.path)}function ul(n,e){const t=iL(e);if(t.get(1)!==n.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(aL(t))}function oL(n,e){return qS(n.databaseId,e)}function sL(n){const e=iL(n);return e.length===4?rt.emptyPath():aL(e)}function Cb(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aL(n){return we(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jk(n,e,t){return{name:ey(n,e),fields:t.value.mapValue.fields}}function D9(n,e,t){const r=ul(n,e.name),i=yr(e.updateTime),o=e.createTime?yr(e.createTime):be.min(),s=new er({mapValue:{fields:e.fields}}),a=Gt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function P9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string"),jn.fromBase64String(u||"")):(we(u===void 0||u instanceof Buffer||u instanceof Uint8Array),jn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?H.UNKNOWN:eL(c.code);return new te(u,c.message||"")}(s);t=new nL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ul(n,r.document.name),o=yr(r.document.updateTime),s=r.document.createTime?yr(r.document.createTime):be.min(),a=new er({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new Xm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ul(n,r.document),o=r.readTime?yr(r.readTime):be.min(),s=Gt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Xm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ul(n,r.document),o=r.removedTargetIds||[];t=new Xm([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _9(i,o),a=r.targetId;t=new tL(a,s)}}return t}function ty(n,e){let t;if(e instanceof Qu)t={update:jk(n,e.key,e.value)};else if(e instanceof Hv)t={delete:ey(n,e.key)};else if(e instanceof cs)t={update:jk(n,e.key,e.data),updateMask:L9(e.fieldMask)};else{if(!(e instanceof Z2))return me();t={verify:ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:k9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me()}(n,e.precondition)),t}function kb(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?fr.updateTime(yr(o.updateTime)):o.exists!==void 0?fr.exists(o.exists):fr.none()}(e.currentDocument):fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME"),l=new Th;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Tu(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new xu(u)}else"increment"in a?l=new xh(s,a.increment):me();const c=Nt.fromServerFormat(a.fieldPath);return new p9(c,l)}(n,i)):[];if(e.update){e.update.name;const i=ul(n,e.update.name),o=new er({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Dr(c.map(u=>Nt.fromServerFormat(u)))}(e.updateMask);return new cs(i,o,s,t,r)}return new Qu(i,o,t,r)}if(e.delete){const i=ul(n,e.delete);return new Hv(i,t)}if(e.verify){const i=ul(n,e.verify);return new Z2(i,t)}return me()}function R9(n,e){return n&&n.length>0?(we(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?yr(i.updateTime):yr(o);return s.isEqual(be.min())&&(s=yr(o)),new g9(s,i.transformResults||[])}(t,e))):[]}function lL(n,e){return{documents:[oL(n,e.path)]}}function cL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=oL(n,i);const o=function(c){if(c.length!==0)return fL(ct.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ic(h.field),direction:M9(h.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=xb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function uL(n){let e=sL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){we(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const h=dL(d);return h instanceof ct&&zS(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(d){return d.map(h=>function(m){return new Jg(Cc(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(t.orderBy));let a=null;t.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bv(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Eu(p,h)}(t.startAt));let c=null;return t.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Eu(p,h)}(t.endAt)),n9(e,i,s,o,a,"F",l,c)}function A9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dL(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cc(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cc(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cc(t.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cc(t.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(Cc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ct.create(t.compositeFilter.filters.map(r=>dL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(t.compositeFilter.op))}(n):me()}function M9(n){return T9[n]}function O9(n){return x9[n]}function N9(n){return I9[n]}function Ic(n){return{fieldPath:n.canonicalString()}}function Cc(n){return Nt.fromServerFormat(n.fieldPath)}function fL(n){return n instanceof ze?function(t){if(t.op==="=="){if(xk(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NAN"}};if(Tk(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xk(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NAN"}};if(Tk(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(t.field),op:O9(t.op),value:t.value}}}(n):n instanceof ct?function(t){const r=t.getFilters().map(i=>fL(i));return r.length===1?r[0]:{compositeFilter:{op:N9(t.op),filters:r}}}(n):me()}function L9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hL(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t,r,i,o=be.min(),s=be.min(),a=jn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.ct=e}}function F9(n,e){let t;if(e.document)t=D9(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ie.fromSegments(e.noDocument.path),i=Al(e.noDocument.readTime);t=Gt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me();{const r=ie.fromSegments(e.unknownDocument.path),i=Al(e.unknownDocument.version);t=Gt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Vt(i[0],i[1]);return be.fromTimestamp(o)}(e.readTime)),t}function Uk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ny(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:ey(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Iu(o,s.version.toTimestamp()),createTime:Iu(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return me();r.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}return r}function ny(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Al(n){const e=new Vt(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function Ha(n,e){const t=(e.baseMutations||[]).map(o=>kb(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>kb(n.ct,o)),i=Vt.fromMillis(e.localWriteTimeMs);return new jS(e.batchId,i,t,r)}function pf(n){const e=Al(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Al(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return we(o.documents.length===1),gi(zv(sL(o.documents[0])))}(n.query):function(o){return gi(uL(o))}(n.query),new Lo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jn.fromBase64String(n.resumeToken))}function mL(n,e){const t=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=Xg(e.target)?lL(n.ct,e.target):cL(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gL(n){const e=uL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tb(e,e.limit,"L"):e}function pw(n,e){return new WS(e.largestBatchId,kb(n.ct,e.overlayMutation))}function Wk(n,e){const t=e.path.lastSegment();return[n,gr(e.path.popLast()),t]}function Hk(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Rl(r.readTime),documentKey:gr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{getBundleMetadata(e,t){return qk(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Al(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return qk(e).put(function(i){return{bundleId:i.id,createTime:Rl(yr(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return Kk(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:gL(o.bundledQuery),readTime:Al(o.readTime)}}(r)})}saveNamedQuery(e,t){return Kk(e).put(function(i){return{name:i.name,readTime:Rl(yr(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function qk(n){return kn(n,"bundles")}function Kk(n){return kn(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const r=t.uid||"";return new Kv(e,r)}getOverlay(e,t){return Ld(e).get(Wk(this.userId,t)).next(r=>r?pw(this.serializer,r):null)}getOverlays(e,t){const r=io();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new WS(t,s);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(gr(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ld(e).j("collectionPathOverlayIndex",a))}),z.waitFor(o)}getOverlaysForCollection(e,t,r){const i=io(),o=gr(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ld(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=pw(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=io();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ld(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=pw(this.serializer,c);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}ht(e,t){return Ld(e).put(function(i,o,s){const[a,l,c]=Wk(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ty(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function Ld(n){return kn(n,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),_h(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=Xo(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ua(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?P2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):me()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),ie.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}qa.bt=new qa;function $9(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Yk(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=$9(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}class B9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=Yk(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=Yk(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;t===0?(this.Kt(0),this.Kt(255)):t===255?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class z9{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class j9{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Fd{constructor(){this.Gt=new B9,this.zt=new z9(this.Gt),this.jt=new j9(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ka(this.indexId,this.documentKey,this.arrayValue,r)}}function ys(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Gk(n.arrayValue,e.arrayValue),t!==0?t:(t=Gk(n.directionalValue,e.directionalValue),t!==0?t:ie.comparator(n.documentKey,e.documentKey)))}function Gk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.Yt=new mt((t,r)=>Nt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(we(e.collectionGroup===this.collectionId),this.en)return!1;const t=gb(e);if(t!==void 0&&!this.nn(t))return!1;const r=$a(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new mt(Nt.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Km(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Km(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Km(r.field,r.dir==="asc"?0:1)));return new Qg(Qg.UNKNOWN_ID,this.collectionId,t,vh.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){var e,t;if(we(n instanceof ze||n instanceof ct),n instanceof ze){if(n instanceof V2){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ze.create(n.field,"==",o)))||[];return ct.create(i,"or")}return n}const r=n.filters.map(i=>yL(i));return ct.create(r,n.op)}function U9(n){if(n.getFilters().length===0)return[];const e=Rb(yL(n));return we(vL(e)),Db(e)||Pb(e)?[e]:e.getFilters()}function Db(n){return n instanceof ze}function Pb(n){return n instanceof ct&&zS(n)}function vL(n){return Db(n)||Pb(n)||function(t){if(t instanceof ct&&wb(t)){for(const r of t.getFilters())if(!Db(r)&&!Pb(r))return!1;return!0}return!1}(n)}function Rb(n){if(we(n instanceof ze||n instanceof ct),n instanceof ze)return n;if(n.filters.length===1)return Rb(n.filters[0]);const e=n.filters.map(r=>Rb(r));let t=ct.create(e,n.op);return t=ry(t),vL(t)?t:(we(t instanceof ct),we(Su(t)),we(t.filters.length>1),t.filters.reduce((r,i)=>KS(r,i)))}function KS(n,e){let t;return we(n instanceof ze||n instanceof ct),we(e instanceof ze||e instanceof ct),t=n instanceof ze?e instanceof ze?function(i,o){return ct.create([i,o],"and")}(n,e):Jk(n,e):e instanceof ze?Jk(e,n):function(i,o){if(we(i.filters.length>0&&o.filters.length>0),Su(i)&&Su(o))return N2(i,o.getFilters());const s=wb(i)?i:o,a=wb(i)?o:i,l=s.filters.map(c=>KS(c,a));return ct.create(l,"or")}(n,e),ry(t)}function Jk(n,e){if(Su(e))return N2(e,n.getFilters());{const t=e.filters.map(r=>KS(n,r));return ct.create(t,"or")}}function ry(n){if(we(n instanceof ze||n instanceof ct),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return ry(e[0]);if(M2(n))return n;const t=e.map(i=>ry(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof ct&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ct.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this._n=new YS}addToCollectionParentIndex(e,t){return this._n.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Jr.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class YS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt(rt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Uint8Array(0);class H9{constructor(e,t){this.databaseId=t,this.an=new YS,this.un=new Ea(r=>Pl(r),(r,i)=>Jh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const o={collectionId:r,parent:gr(i)};return Xk(e).put(o)}return z.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[v2(t),""],!1,!0);return Xk(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(ro(s.parent))}return r})}addFieldIndex(e,t){const r=Vd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const s=dc(e);return o.next(a=>{s.put(Hk(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Vd(e),i=dc(e),o=uc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Vd(e),r=uc(e),i=dc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return z.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new Qk(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=uc(e);let i=!0;const o=new Map;return z.forEach(this.cn(t),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ae();const a=[];return z.forEach(o,(l,c)=>{Q("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${Pl(t)}`);const u=function(b,C){const D=gb(C);if(D===void 0)return null;for(const M of Zg(b,D.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),d=function(b,C){const D=new Map;for(const M of $a(C))for(const S of Zg(b,M.fieldPath))switch(S.op){case"==":case"in":D.set(M.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return D.set(M.fieldPath.canonicalString(),S.value),Array.from(D.values())}return null}(c,l),h=function(b,C){const D=[];let M=!0;for(const S of $a(C)){const E=S.kind===0?Pk(b,S.fieldPath,b.startAt):Rk(b,S.fieldPath,b.startAt);D.push(E.value),M&&(M=E.inclusive)}return new Eu(D,M)}(c,l),p=function(b,C){const D=[];let M=!0;for(const S of $a(C)){const E=S.kind===0?Rk(b,S.fieldPath,b.endAt):Pk(b,S.fieldPath,b.endAt);D.push(E.value),M&&(M=E.inclusive)}return new Eu(D,M)}(c,l),m=this.hn(l,c,h),g=this.hn(l,c,p),_=this.Pn(l,c,d),v=this.In(l.indexId,u,m,h.inclusive,g,p.inclusive,_);return z.forEach(v,w=>r.G(w,t.limit).next(b=>{b.forEach(C=>{const D=ie.fromSegments(C.documentKey);s.has(D)||(s=s.add(D),a.push(D))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=U9(ct.create(e.filters,"and")).map(r=>Eb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,o,s,a){const l=(t!=null?t.length:1)*Math.max(r.length,o.length),c=l/(t!=null?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.Tn(t[d/c]):am,p=this.En(e,h,r[d%c],i),m=this.dn(e,h,o[d%c],s),g=a.map(_=>this.En(e,h,_,!0));u.push(...this.createRange(p,m,g))}return u}En(e,t,r,i){const o=new Ka(e,ie.empty(),t,r);return i?o:o.Jt()}dn(e,t,r,i){const o=new Ka(e,ie.empty(),t,r);return i?o.Jt():o}ln(e,t){const r=new Qk(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return z.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new mt(Nt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}An(e,t){const r=new Fd;for(const i of $a(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const s=r.Ht(i.kind);qa.bt.Pt(o,s)}return r.Wt()}Tn(e){const t=new Fd;return qa.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new Fd;return qa.bt.Pt(Eh(this.databaseId,t),r.Ht(function(o){const s=$a(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(r===null)return[];let i=[];i.push(new Fd);let o=0;for(const s of $a(e)){const a=r[o++];for(const l of i)if(this.Vn(t,s.fieldPath)&&Sh(a))i=this.mn(i,s,a);else{const c=l.Ht(s.kind);qa.bt.Pt(a,c)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new Fd;l.seed(a.Wt()),qa.bt.Pt(s,l.Ht(t.kind)),o.push(l)}return o}Vn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Vd(e),i=dc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return z.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const h=d?new vh(d.sequenceNumber,new Jr(Al(d.readTime),new ie(ro(d.documentKey)),d.largestBatchId)):vh.empty(),p=u.fields.map(([m,g])=>new Km(Nt.fromServerFormat(m),g));return new Qg(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Vd(e),o=dc(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>z.forEach(a,l=>o.put(Hk(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return z.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?z.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(o,l);return c.isEqual(u)?z.resolve():this.wn(e,o,l,c,u)}))))})}Sn(e,t,r,i){return uc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return uc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=uc(e);let o=new mt(ys);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(s,a)=>{o=o.add(new Ka(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,t){let r=new mt(ys);const i=this.An(t,e);if(i==null)return r;const o=gb(t);if(o!=null){const s=e.data.field(o.fieldPath);if(Sh(s))for(const a of s.arrayValue.values||[])r=r.add(new Ka(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ka(t.indexId,e.key,am,i));return r}wn(e,t,r,i,o){Q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,c,u,d,h){const p=l.getIterator(),m=c.getIterator();let g=cc(p),_=cc(m);for(;g||_;){let v=!1,w=!1;if(g&&_){const b=u(g,_);b<0?w=!0:b>0&&(v=!0)}else g!=null?w=!0:v=!0;v?(d(_),_=cc(m)):w?(h(g),g=cc(p)):(g=cc(p),_=cc(m))}}(i,o,ys,a=>{s.push(this.Sn(e,t,r,a))},a=>{s.push(this.bn(e,t,r,a))}),z.waitFor(s)}gn(e){let t=1;return dc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>ys(s,a)).filter((s,a,l)=>!a||ys(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=ys(s,e),l=ys(s,t);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,am,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,am,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,t){return ys(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zk)}getMinOffset(e,t){return z.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||me())).next(Zk)}}function Xk(n){return kn(n,"collectionParents")}function uc(n){return kn(n,"indexEntries")}function Vd(n){return kn(n,"indexConfiguration")}function dc(n){return kn(n,"indexState")}function Zk(n){we(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;FS(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Jr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ir{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=r.J({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{we(a===1)}));const c=[];for(const u of t.mutations){const d=S2(e,u.key.path,t.batchId);o.push(i.delete(d)),c.push(u.key)}return z.waitFor(o).next(()=>c)}function iy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw me();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(41943040,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);class Yv{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){we(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Yv(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=kc(e),s=vs(e);return s.add({}).next(a=>{we(typeof a=="number");const l=new jS(a,t,r,i),c=function(p,m,g){const _=g.baseMutations.map(w=>ty(p.ct,w)),v=g.mutations.map(w=>ty(p.ct,w));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,l),u=[];let d=new mt((h,p)=>De(h.canonicalString(),p.canonicalString()));for(const h of i){const p=S2(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(p,CU))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return vs(e).get(t).next(r=>r?(we(r.userId===this.userId),Ha(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?z.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return vs(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),o=Ha(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vs(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).U("userMutationsIndex",t).next(r=>r.map(i=>Ha(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ym(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return kc(e).J({range:i},(s,a,l)=>{const[c,u,d]=s,h=ro(u);if(c===this.userId&&t.path.isEqual(h))return vs(e).get(d).next(p=>{if(!p)throw me();we(p.userId===this.userId),o.push(Ha(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(De);const i=[];return t.forEach(o=>{const s=Ym(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=kc(e).J({range:a},(c,u,d)=>{const[h,p,m]=c,g=ro(p);h===this.userId&&o.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Ym(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new mt(De);return kc(e).J({range:s},(l,c,u)=>{const[d,h,p]=l,m=ro(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(vs(e).get(o).next(s=>{if(s===null)throw me();we(s.userId===this.userId),r.push(Ha(this.serializer,s))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return _L(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return z.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return kc(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=ro(o[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,t){return wL(e,this.userId,t)}xn(e){return bL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wL(n,e,t){const r=Ym(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return kc(n).J({range:o,H:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),c.done()}).next(()=>s)}function vs(n){return kn(n,"mutations")}function kc(n){return kn(n,"documentMutations")}function bL(n){return kn(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ml(0)}static Ln(){return new Ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Ml(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>be.fromTimestamp(new Vt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fc(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return fc(e).J((s,a)=>{const l=pf(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(o)).next(()=>i)}forEachTarget(e,t){return fc(e).J((r,i)=>{const o=pf(i);t(o)})}Bn(e){return tD(e).get("targetGlobalKey").next(t=>(we(t!==null),t))}kn(e,t){return tD(e).put("targetGlobalKey",t)}qn(e,t){return fc(e).put(mL(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return fc(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const c=pf(a);Jh(t,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ks(e);return t.forEach(s=>{const a=gr(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),z.waitFor(i)}removeMatchingKeys(e,t,r){const i=ks(e);return z.forEach(t,o=>{const s=gr(o.path);return z.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ks(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ks(e);let o=Ae();return i.J({range:r,H:!0},(s,a,l)=>{const c=ro(s[1]),u=new ie(c);o=o.add(u)}).next(()=>o)}containsKey(e,t){const r=gr(t.path),i=IDBKeyRange.bound([r],[v2(r)],!1,!0);let o=0;return ks(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,t){return fc(e).get(t).next(r=>r?pf(r):null)}}function fc(n){return kn(n,"targets")}function tD(n){return kn(n,"targetGlobal")}function ks(n){return kn(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class K9{constructor(e){this.Kn=e,this.buffer=new mt(nD),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Y9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.zn(3e5)})}}class G9{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return z.resolve(pi.oe);const r=new K9(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(eD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eD):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Tc()<=$e.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function Q9(n,e){return new G9(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,t){this.db=e,this.garbageCollector=Q9(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return lm(e,r)}removeReference(e,t,r){return lm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return lm(e,t)}er(e,t){return function(i,o){let s=!1;return bL(i).Y(a=>wL(i,a,o).next(l=>(l&&(s=!0),z.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=t){const l=this.er(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,be.min()),ks(e).delete(function(d){return[0,gr(d.path)]}(s))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return lm(e,t)}Xn(e,t){const r=ks(e);let i,o=pi.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==pi.oe&&t(new ie(ro(i)),o),o=c,i=l):o=pi.oe}).next(()=>{o!==pi.oe&&t(new ie(ro(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lm(n,e){return ks(n).put(function(r,i){return{targetId:0,path:gr(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Oa(e).put(r)}removeEntry(e,t,r){return Oa(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ny(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=Gt.newInvalidDocument(t);return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(i,o)=>{r=this.nr(t,o)}).next(()=>r)}rr(e,t){let r={size:0,document:Gt.newInvalidDocument(t)};return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(i,o)=>{r={document:this.nr(t,o),size:iy(o)}}).next(()=>r)}getEntries(e,t){let r=Hr();return this.ir(e,t,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,t){let r=Hr(),i=new Pt(ie.comparator);return this.ir(e,t,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,iy(s))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return z.resolve();let i=new mt(oD);t.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound($d(i.first()),$d(i.last())),s=i.getIterator();let a=s.getNext();return Oa(e).J({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=ie.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&oD(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?u.$($d(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),ny(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let u=Hr();for(const d of c){const h=this.nr(ie.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Zh(t,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,t,r,i){let o=Hr();const s=iD(t,r),a=iD(t,Jr.max());return Oa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.nr(ie.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new Z9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rD(e).get("remoteDocumentGlobalKey").next(t=>(we(!!t),t))}tr(e,t){return rD(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=F9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return Gt.newInvalidDocument(e)}}function SL(n){return new X9(n)}class Z9 extends EL{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Ea(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new mt((o,s)=>De(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(t.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=Uk(this.ar.serializer,s);i=i.add(o.path.popLast());const c=iy(l);r+=c-a.size,t.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=Uk(this.ar.serializer,s.convertToNoDocument(be.min()));t.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.ar.updateMetadata(e,r)),z.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function rD(n){return kn(n,"remoteDocumentGlobal")}function Oa(n){return kn(n,"remoteDocumentsV14")}function $d(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iD(n,e){const t=e.documentKey.path.toArray();return[n,ny(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function oD(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lf(r.mutation,i,Dr.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){const i=io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ff();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Hr();const s=Nf(),a=function(){return Nf()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof cs)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Lf(u.mutation,c,u.mutation.getFieldMask(),Vt.now())):s.set(c.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new eW(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Nf();let i=new Pt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Dr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=W2();u.forEach(h=>{if(!o.has(h)){const p=J2(t.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):z.resolve(io());let a=-1,l=o;return s.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ae())).next(u=>({batchId:a,changes:U2(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=ff();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=ff();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const c=function(d,h){return new Xh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Gt.newInvalidDocument(u)))});let a=ff();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Lf(u.mutation,c,Dr.empty(),Vt.now()),Zh(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return z.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:gL(i.bundledQuery),readTime:yr(i.readTime)}}(t)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.overlays=new Pt(ie.comparator),this.hr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=io();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=io(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=io(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=io(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new WS(t,r));let o=this.hr.get(t);o===void 0&&(o=Ae(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Pr=new mt(wn.Ir),this.Tr=new mt(wn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new wn(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new wn(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new ie(new rt([])),r=new wn(t,e),i=new wn(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ie(new rt([])),r=new wn(t,e),i=new wn(t,e+1);let o=Ae();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new wn(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ie.comparator(e.key,t.key)||De(e.pr,t.pr)}static Er(e,t){return De(e.pr,t.pr)||ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new mt(wn.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jS(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new wn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.br(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wn(t,0),i=new wn(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(De);return t.forEach(i=>{const o=new wn(i,0),s=new wn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ie.isDocumentKey(o)||(o=o.child(""));const s=new wn(new ie(o),0);let a=new mt(De);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},s),z.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(t.mutations,i=>{const o=new wn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new wn(t,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.vr=e,this.docs=function(){return new Pt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Hr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Hr();const s=t.path,a=new ie(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||FS(_2(u),r)<=0||(i.has(u.key)||Zh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){me()}Fr(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oW(this)}getSize(e){return z.resolve(this.size)}}class oW extends EL{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.persistence=e,this.Mr=new Ea(t=>Pl(t),Jh),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new GS,this.targetCount=0,this.Lr=Ml.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),z.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.qn(t),z.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t){this.Br={},this.overlays={},this.kr=new pi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new sW(this),this.indexManager=new W9,this.remoteDocumentCache=function(i){return new iW(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new pL(t),this.$r=new tW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nW,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new rW(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);const i=new aW(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class aW extends b2{constructor(e){super(),this.currentSequenceNumber=e}}class Gv{constructor(e){this.persistence=e,this.zr=new GS,this.jr=null}static Hr(e){return new Gv(e)}get Jr(){if(this.jr)return this.jr;throw me()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),z.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return z.or([()=>z.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.serializer=e}O(e,t,r,i){const o=new $v("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wk,{unique:!0}),l.createObjectStore("documentMutations")}(e),sD(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),sD(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wk,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return z.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:$U});c.createIndex("collectionPathOverlayIndex",BU,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",zU,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:kU});c.createIndex("documentKeyIndex",DU),c.createIndex("collectionGroupIndex",PU)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:NU}).createIndex("sequenceNumberIndex",LU,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:FU}).createIndex("documentKeyIndex",VU,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s}ei(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=iy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>z.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>z.forEach(a,l=>{we(l.userId===o.userId);const c=Ha(this.serializer,l);return _L(e,o.userId,c).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new rt(s),c=function(d){return[0,gr(d)]}(l);o.push(t.get(c).next(u=>u?z.resolve():(d=>t.put({targetId:0,path:gr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(o))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:OU});const r=t.store("collectionParents"),i=new YS,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:gr(l)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new rt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,l],c)=>{const u=ro(a);return o(u.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,i)=>{const o=pf(i),s=mL(this.serializer,o);return t.put(s)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),l=function(d){return d.document?new ie(rt.fromString(d.document.name).popFirst(5)):d.noDocument?ie.fromSegments(d.noDocument.path):d.unknownDocument?ie.fromSegments(d.unknownDocument.path):me()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>z.waitFor(i))}si(e,t){const r=t.store("mutations"),i=SL(this.serializer),o=new xL(Gv.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ae();Ha(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new lr(c),d=Kv.lt(this.serializer,u),h=o.getIndexManager(u),p=Yv.lt(u,this.serializer,h,o.referenceDelegate);return new TL(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yb(t,pi.oe),l).next()})})}}function sD(n){n.createObjectStore("targetDocuments",{keyPath:AU}).createIndex("documentTargetsIndex",MU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",RU,{unique:!0}),n.createObjectStore("targetGlobal")}const mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QS{constructor(e,t,r,i,o,s,a,l,c,u,d=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!QS.D())throw new te(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J9(this,i),this.Ti=t+"main",this.serializer=new pL(l),this.Ei=new ea(this.Ti,this.ui,new lW(this.serializer)),this.Qr=new q9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SL(this.serializer),this.$r=new V9,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,mw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new pi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ba(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Bd(e).get("owner").next(t=>z.resolve(this.Si(t)))}bi(e){return cm(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=kn(t,"clientMetadata");return r.U().next(i=>{const o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return z.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):Bd(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||cm(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new yb(e,pi.oe);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Li()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>cm(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return Yv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H9(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Kv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){Q("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(l){return l===16?UU:l===15?C2:l===14?I2:l===13?x2:l===12?jU:l===11?T2:void me()}(this.ui);let s;return this.Ei.runTransaction(e,i,o,a=>(s=new yb(a,this.kr?this.kr.next():pi.oe),t==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new te(H.FAILED_PRECONDITION,w2);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Bd(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(H.FAILED_PRECONDITION,mw)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bd(e).put("owner",t)}static D(){return ea.D()}yi(e){const t=Bd(e);return t.get("owner").next(r=>this.Si(r)?(Q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):z.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(dr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;r2()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=((t=this.di)===null||t===void 0?void 0:t.getItem(this.Fi(e)))!==null;return Q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bd(n){return kn(n,"owner")}function cm(n){return kn(n,"clientMetadata")}function cW(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=Ae(),i=Ae();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new JS(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return r2()?8:E2(dn())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new uW;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Tc()<=$e.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",xc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Tc()<=$e.DEBUG&&Q("QueryEngine","Query:",xc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Tc()<=$e.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",xc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):z.resolve())}ji(e,t){if(Ak(t))return z.resolve(null);let r=gi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tb(t,null,"F"),r=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ae(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(t,a);return this.Xi(t,c,s,l.readTime)?this.ji(e,Tb(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,r,i){return Ak(t)||i.isEqual(be.min())?z.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?z.resolve(null):(Tc()<=$e.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(t)),this.es(e,s,t,wU(i,-1)).next(a=>a))})}Zi(e,t){let r=new mt(z2(e));return t.forEach((i,o)=>{Zh(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return Tc()<=$e.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",xc(t)),this.zi.getDocumentsMatchingQuery(e,t,Jr.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Pt(De),this.rs=new Ea(o=>Pl(o),Jh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function CL(n,e,t,r){return new dW(n,e,t,r)}async function kL(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ae();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function fW(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=z.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const _=c.docVersions.get(m);we(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function DL(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function hW(n,e){const t=ke(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Qr.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(jn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(g,_,v){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&a.push(t.Qr.updateTargetData(o,p))});let l=Hr(),c=Ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(pW(o,s,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(be.min())){const u=t.Qr.getLastRemoteSnapshotVersion(o).next(d=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ns=i,o))}function pW(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Hr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:i}})}function mW(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gW(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new Lo(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}async function Ab(n,e,t){const r=ke(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ba(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function aD(n,e,t){const r=ke(n);let i=be.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=ke(l),h=d.rs.get(u);return h!==void 0?z.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,s,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:Ae())).next(a=>(yW(r,i9(e),a),{documents:a,hs:o})))}function yW(n,e,t){let r=n.ss.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}class lD{constructor(){this.activeTargetIds=u9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PL{constructor(){this.no=new lD,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new lD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um=null;function gw(){return um===null?um=function(){return 268435456+Math.round(2147483648*Math.random())}():um++,"0x"+um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class bW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=gw(),l=this.vo(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(t,l,c,i).then(u=>(Q("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Cl("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){const i=_W[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=gw();return new Promise((s,a)=>{const l=new d2;l.setWithCredentials(!0),l.listenOnce(h2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qm.NO_ERROR:const u=l.getResponseJson();Q(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case qm.TIMEOUT:Q(Qn,`RPC '${e}' ${o} timed out`),a(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:const d=l.getStatus();if(Q(Qn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(p.status);a(new te(m,p.message))}else a(new te(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(H.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Q(Qn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Q(Qn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Oo(e,t,r){const i=gw(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=g2(),a=m2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new f2({})),this.Fo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Q(Qn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const m=new wW({lo:_=>{p?Q(Qn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(Q(Qn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Q(Qn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,v,w)=>{_.listen(v,b=>{try{w(b)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,df.EventType.OPEN,()=>{p||(Q(Qn,`RPC '${e}' stream ${i} transport opened.`),m.mo())}),g(d,df.EventType.CLOSE,()=>{p||(p=!0,Q(Qn,`RPC '${e}' stream ${i} transport closed`),m.po())}),g(d,df.EventType.ERROR,_=>{p||(p=!0,Cl(Qn,`RPC '${e}' stream ${i} transport errored:`,_),m.po(new te(H.UNAVAILABLE,"The operation could not be completed")))}),g(d,df.EventType.MESSAGE,_=>{var v;if(!p){const w=_.data[0];we(!!w);const b=w,C=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(C){Q(Qn,`RPC '${e}' stream ${i} received error:`,C);const D=C.status;let M=function(I){const k=an[I];if(k!==void 0)return eL(k)}(D),S=C.message;M===void 0&&(M=H.INTERNAL,S="Unknown error status: "+D+" with message "+C.message),p=!0,m.po(new te(M,S)),d.close()}else Q(Qn,`RPC '${e}' stream ${i} received:`,w),m.yo(w)}}),g(a,p2.STAT_EVENT,_=>{_.stat===mb.PROXY?Q(Qn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===mb.NOPROXY&&Q(Qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(){return typeof window<"u"?window:null}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n){return new C9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new RL(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new te(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SW extends AL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=P9(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?yr(s.readTime):be.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=Cb(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=Xg(l)?{documents:lL(o,l)}:{query:cL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rL(o,s.resumeToken);const c=xb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Iu(o,s.snapshotVersion.toTimestamp());const c=xb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=A9(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=Cb(this.serializer),t.removeTarget=e,this.i_(t)}}class TW extends AL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=R9(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.A_(r,t)}return we(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Cb(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ty(this.serializer,r))};this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Ib(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(H.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Ib(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(H.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class IW{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(dr(t),this.y_=!1):Q("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Yl(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ke(l);c.M_.add(4),await tp(c),c.N_.set("Unknown"),c.M_.delete(4),await Jv(c)}(this))})}),this.N_=new IW(r,i)}}async function Jv(n){if(Yl(n))for(const e of n.x_)await e(!0)}async function tp(n){for(const e of n.x_)await e(!1)}function ML(n,e){const t=ke(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),tT(t)?eT(t):Ju(t).Xo()&&ZS(t,e))}function XS(n,e){const t=ke(n),r=Ju(t);t.F_.delete(e),r.Xo()&&OL(t,e),t.F_.size===0&&(r.Xo()?r.n_():Yl(t)&&t.N_.set("Unknown"))}function ZS(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ju(n).P_(e)}function OL(n,e){n.L_.xe(e),Ju(n).I_(e)}function eT(n){n.L_=new S9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ju(n).start(),n.N_.w_()}function tT(n){return Yl(n)&&!Ju(n).Zo()&&n.F_.size>0}function Yl(n){return ke(n).M_.size===0}function NL(n){n.L_=void 0}async function kW(n){n.N_.set("Online")}async function DW(n){n.F_.forEach((e,t)=>{ZS(n,e)})}async function PW(n,e){NL(n),tT(n)?(n.N_.D_(e),eT(n)):n.N_.set("Unknown")}async function RW(n,e,t){if(n.N_.set("Online"),e instanceof nL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oy(n,r)}else if(e instanceof Xm?n.L_.Ke(e):e instanceof tL?n.L_.He(e):n.L_.We(e),!t.isEqual(be.min()))try{const r=await DL(n.localStore);t.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.F_.get(c);u&&o.F_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(jn.EMPTY_BYTE_STRING,u.snapshotVersion)),OL(o,l);const d=new Lo(u.target,l,c,u.sequenceNumber);ZS(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await oy(n,r)}}async function oy(n,e,t){if(!ba(e))throw e;n.M_.add(1),await tp(n),n.N_.set("Offline"),t||(t=()=>DL(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await t(),n.M_.delete(1),await Jv(n)})}function LL(n,e){return e().catch(t=>oy(n,t,e))}async function np(n){const e=ke(n),t=fa(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;AW(e);)try{const i=await mW(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,MW(e,i)}catch(i){await oy(e,i)}FL(e)&&VL(e)}function AW(n){return Yl(n)&&n.v_.length<10}function MW(n,e){n.v_.push(e);const t=fa(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function FL(n){return Yl(n)&&!fa(n).Zo()&&n.v_.length>0}function VL(n){fa(n).start()}async function OW(n){fa(n).V_()}async function NW(n){const e=fa(n);for(const t of n.v_)e.d_(t.mutations)}async function LW(n,e,t){const r=n.v_.shift(),i=US.from(r,e,t);await LL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await np(n)}async function FW(n,e){e&&fa(n).E_&&await async function(r,i){if(function(s){return w9(s)&&s!==H.ABORTED}(i.code)){const o=r.v_.shift();fa(r).t_(),await LL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await np(r)}}(n,e),FL(n)&&VL(n)}async function uD(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Yl(t);t.M_.add(3),await tp(t),r&&t.N_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),await Jv(t)}async function VW(n,e){const t=ke(n);e?(t.M_.delete(2),await Jv(t)):e||(t.M_.add(2),await tp(t),t.N_.set("Unknown"))}function Ju(n){return n.B_||(n.B_=function(t,r,i){const o=ke(t);return o.f_(),new SW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:kW.bind(null,n),To:DW.bind(null,n),Ao:PW.bind(null,n),h_:RW.bind(null,n)}),n.x_.push(async e=>{e?(n.B_.t_(),tT(n)?eT(n):n.N_.set("Unknown")):(await n.B_.stop(),NL(n))})),n.B_}function fa(n){return n.k_||(n.k_=function(t,r,i){const o=ke(t);return o.f_(),new TW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:OW.bind(null,n),Ao:FW.bind(null,n),R_:NW.bind(null,n),A_:LW.bind(null,n)}),n.x_.push(async e=>{e?(n.k_.t_(),await np(n)):(await n.k_.stop(),n.v_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))})),n.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new nT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rT(n,e){if(dr("AsyncQueue",`${e}: ${n}`),ba(n))return new te(H.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=ff(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.q_=new Pt(ie.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cu{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Cu(e,t,tu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class BW{constructor(){this.queries=new Ea(e=>B2(e),jv),this.onlineState="Unknown",this.z_=new Set}}async function $L(n,e){const t=ke(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new $W,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await t.onListen(i,!0);break;case 1:o.K_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const a=rT(s,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&iT(t)}async function BL(n,e){const t=ke(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zW(n,e){const t=ke(n);let r=!1;for(const i of e){const o=i.query,s=t.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&iT(t)}function jW(n,e,t){const r=ke(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function iT(n){n.z_.forEach(e=>{e.next()})}var Mb,fD;(fD=Mb||(Mb={})).J_="default",fD.Cache="cache";class zL{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;const r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.key=e}}class UL{constructor(e){this.key=e}}class UW{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ae(),this.mutatedKeys=Ae(),this.Ia=z2(e),this.Ta=new tu(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new dD,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Zh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),_=!0):this.Ra(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(p?(s=s.add(p),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((u,d)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return g(p)-g(m)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=t&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,s.length!==0||c?{snapshot:new Cu(this.query,e.Ta,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new dD,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ae(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new UL(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new jL(r))}),t}pa(e){this.la=e.hs,this.Pa=Ae();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Cu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class WW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HW{constructor(e){this.key=e,this.wa=!1}}class qW{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ea(a=>B2(a),jv),this.Da=new Map,this.Ca=new Set,this.va=new Pt(ie.comparator),this.Fa=new Map,this.Ma=new GS,this.xa={},this.Oa=new Map,this.Na=Ml.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function KW(n,e,t=!0){const r=GL(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await WL(r,e,t,!0),i}async function YW(n,e){const t=GL(n);await WL(t,e,!0,!1)}async function WL(n,e,t,r){const i=await gW(n.localStore,gi(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await GW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ML(n.remoteStore,i),a}async function GW(n,e,t,r,i){n.Ba=(d,h,p)=>async function(g,_,v,w){let b=_.view.da(v);b.Xi&&(b=await aD(g.localStore,_.query,!1).then(({documents:S})=>_.view.da(S,b)));const C=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(b,g.isPrimaryClient,C,D);return pD(g,_.targetId,M.fa),M.snapshot}(n,d,h,p);const o=await aD(n.localStore,e,!0),s=new UW(e,o.hs),a=s.da(o.documents),l=ep.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=s.applyChanges(a,n.isPrimaryClient,l);pD(n,t,c.fa);const u=new WW(e,t,s);return n.ba.set(e,u),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}async function QW(n,e,t){const r=ke(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!jv(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ab(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&XS(r.remoteStore,i.targetId),Ob(r,i.targetId)}).catch(ql)):(Ob(r,i.targetId),await Ab(r.localStore,i.targetId,!0))}async function JW(n,e){const t=ke(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),XS(t.remoteStore,r.targetId))}async function XW(n,e,t){const r=QL(n);try{const i=await function(s,a){const l=ke(s),c=Vt.now(),u=a.reduce((p,m)=>p.add(m.key),Ae());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Hr(),g=Ae();return l.os.getEntries(p,u).next(_=>{m=_,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const v=[];for(const w of a){const b=v9(w,d.get(w.key).overlayedDocument);b!=null&&v.push(new cs(w.key,b,R2(b.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:U2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.xa[s.currentUser.toKey()];c||(c=new Pt(De)),c=c.insert(a,l),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,t),await rp(r,i.changes),await np(r.remoteStore)}catch(i){const o=rT(i,"Failed to persist write");t.reject(o)}}async function HL(n,e){const t=ke(n);try{const r=await hW(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?we(s.wa):i.removedDocuments.size>0&&(we(s.wa),s.wa=!1))}),await rp(t,r,e)}catch(r){await ql(r)}}function hD(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ke(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&iT(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZW(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Pt(ie.comparator);s=s.insert(o,Gt.newNoDocument(o,be.min()));const a=Ae().add(o),l=new qv(be.min(),new Map,new Pt(De),s,a);await HL(r,l),r.va=r.va.remove(o),r.Fa.delete(e),oT(r)}else await Ab(r.localStore,e,!1).then(()=>Ob(r,e,t)).catch(ql)}async function eH(n,e){const t=ke(n),r=e.batch.batchId;try{const i=await fW(t.localStore,e);KL(t,r,null),qL(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rp(t,i)}catch(i){await ql(i)}}async function tH(n,e,t){const r=ke(n);try{const i=await function(s,a){const l=ke(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);KL(r,e,t),qL(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rp(r,i)}catch(i){await ql(i)}}function qL(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function KL(n,e,t){const r=ke(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Ob(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||YL(n,r)})}function YL(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);t!==null&&(XS(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),oT(n))}function pD(n,e,t){for(const r of t)r instanceof jL?(n.Ma.addReference(r.key,e),nH(n,r)):r instanceof UL?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||YL(n,r.key)):me()}function nH(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.Ca.add(r),oT(n))}function oT(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new ie(rt.fromString(e)),r=n.Na.next();n.Fa.set(r,new HW(t)),n.va=n.va.insert(t,r),ML(n.remoteStore,new Lo(gi(zv(t.path)),r,"TargetPurposeLimboResolution",pi.oe))}}async function rp(n,e,t){const r=ke(n),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=JS.Ki(l.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(l,c){const u=ke(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,h=>z.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>z.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ba(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,g)}}}(r.localStore,o))}async function rH(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await kL(t.localStore,e);t.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new te(H.CANCELLED,s))})}),o.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rp(t,r.us)}}function iH(n,e){const t=ke(n),r=t.Fa.get(e);if(r&&r.wa)return Ae().add(r.key);{let i=Ae();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function GL(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZW.bind(null,e),e.Sa.h_=zW.bind(null,e.eventManager),e.Sa.ka=jW.bind(null,e.eventManager),e}function QL(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tH.bind(null,e),e}class Nb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return CL(this.persistence,new IL,e.initialUser,this.serializer)}createPersistence(e){return new xL(Gv.Hr,this.serializer)}createSharedClientState(e){return new PL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class oH extends Nb{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await QL(this.Qa.syncEngine),await np(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return CL(this.persistence,new IL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Y9(r,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new TU(t,this.persistence);return new SU(e.asyncQueue,r)}createPersistence(e){const t=cW(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new QS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EW(),Zm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new PL}}class JL{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rH.bind(null,this.syncEngine),await VW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BW}()}createDatastore(e){const t=Qv(e.databaseInfo.databaseId),r=function(o){return new bW(o)}(e.databaseInfo);return function(o,s,a,l){return new xW(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,a){return new CW(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>hD(this.syncEngine,t,0),function(){return cD.D()?new cD:new vW}())}createSyncEngine(e,t){return function(i,o,s,a,l,c,u){const d=new qW(i,o,s,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(r){const i=ke(r);Q("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await tp(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=y2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eg(n,e){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Lb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aH(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uD(e.remoteStore,i)),n._onlineComponents=e}function ZL(n){return n.name==="FirebaseError"?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function aH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ZL(t))throw t;Cl("Error using user provided cache. Falling back to memory cache: "+t),await eg(n,new Nb)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await eg(n,new Nb);return n._offlineComponents}async function eF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Lb(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Lb(n,new JL))),n._onlineComponents}function lH(n){return eF(n).then(e=>e.syncEngine)}async function tF(n){const e=await eF(n),t=e.eventManager;return t.onListen=KW.bind(null,e.syncEngine),t.onUnlisten=QW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=YW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JW.bind(null,e.syncEngine),t}function cH(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new XL({next:h=>{s.enqueueAndForget(()=>BL(o,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new te(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new te(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zL(zv(a.path),u,{includeMetadataChanges:!0,ra:!0});return $L(o,d)}(await tF(n),n.asyncQueue,e,t,r)),r.promise}function uH(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new XL({next:h=>{s.enqueueAndForget(()=>BL(o,d)),h.fromCache&&l.source==="server"?c.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zL(a,u,{includeMetadataChanges:!0,ra:!0});return $L(o,d)}(await tF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(n,e,t){if(!t)throw new te(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dH(n,e,t,r){if(e===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gD(n){if(!ie.isDocumentKey(n))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yD(n){if(ie.isDocumentKey(n))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":me()}function Zo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xv(n);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fU;switch(r.type){case"firstParty":return new mU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=mD.get(t);r&&(Q("ComponentProvider","Removing Datastore"),mD.delete(t),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xu(this.firestore,e,this._query)}}class Mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class ta extends Xu{constructor(e,t,r){super(e,t,zv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new ie(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function iF(n,e,...t){if(n=In(n),rF("collection","path",e),n instanceof sT){const r=rt.fromString(e,...t);return yD(r),new ta(n,null,r)}{if(!(n instanceof Mr||n instanceof ta))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return yD(r),new ta(n.firestore,null,r)}}function Zv(n,e,...t){if(n=In(n),arguments.length===1&&(e=y2.newId()),rF("doc","path",e),n instanceof sT){const r=rt.fromString(e,...t);return gD(r),new Mr(n,null,new ie(r))}{if(!(n instanceof Mr||n instanceof ta))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return gD(r),new Mr(n.firestore,n instanceof ta?n.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new RL(this,"async_queue_retry"),this.hu=()=>{const t=Zm();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new $i;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ba(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=nT.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&me()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=-1;class Gl extends sT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new fH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oF(this),this._firestoreClient.terminate()}}function pH(n,e,t){t||(t="(default)");const r=NS(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),o=r.getOptions(t);if(mh(o,e))return i;throw new te(H.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new te(H.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:t})}function e0(n){return n._firestoreClient||oF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oF(n){var e,t,r;const i=n._freezeSettings(),o=function(a,l,c,u){return new HU(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,nF(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new sH(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function mH(n,e){yH(n=Zo(n,Gl));const t=e0(n);if(t._uninitializedComponentsProvider)throw new te(H.FAILED_PRECONDITION,"SDK cache is already specified.");Cl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new JL;return gH(t,i,new oH(i,r.cacheSizeBytes,void 0))}function gH(n,e,t){const r=new $i;return n.asyncQueue.enqueue(async()=>{try{await eg(n,t),await Lb(n,e),r.resolve()}catch(i){const o=i;if(!ZL(o))throw o;Cl("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function yH(n){if(n._initialized||n._terminated)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ku(jn.fromBase64String(e))}catch(t){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ku(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=/^__.*__$/;class _H{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}class sF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class cT{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new cT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return sy(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(aF(this.fu)&&vH.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class wH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qv(e)}Fu(e,t,r,i=!1){return new cT({fu:e,methodName:t,vu:r,path:Nt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uT(n){const e=n._freezeSettings(),t=Qv(n._databaseId);return new wH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bH(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);dT("Data must be an object, but it was:",s,r);const a=lF(r,s);let l,c;if(o.merge)l=new Dr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Fb(e,d,t);if(!s.contains(h))throw new te(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uF(u,h)||u.push(h)}l=new Dr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new _H(new er(a),l,c)}class n0 extends aT{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n0}}function EH(n,e,t,r){const i=n.Fu(1,e,t);dT("Data must be an object, but it was:",i,r);const o=[],s=er.empty();Kl(r,(l,c)=>{const u=fT(e,l,t);c=In(c);const d=i.Su(u);if(c instanceof n0)o.push(u);else{const h=ip(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new Dr(o);return new sF(s,a,i.fieldTransforms)}function SH(n,e,t,r,i,o){const s=n.Fu(1,e,t),a=[Fb(e,r,t)],l=[i];if(o.length%2!=0)throw new te(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Fb(e,o[h])),l.push(o[h+1]);const c=[],u=er.empty();for(let h=a.length-1;h>=0;--h)if(!uF(c,a[h])){const p=a[h];let m=l[h];m=In(m);const g=s.Su(p);if(m instanceof n0)c.push(p);else{const _=ip(m,g);_!=null&&(c.push(p),u.set(p,_))}}const d=new Dr(c);return new sF(u,d,s.fieldTransforms)}function TH(n,e,t,r=!1){return ip(t,n.Fu(r?4:3,e))}function ip(n,e){if(cF(n=In(n)))return dT("Unsupported field value:",e,n),lF(n,e);if(n instanceof aT)return function(r,i){if(!aF(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ip(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:Iu(i.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Iu(i.serializer,o)}}if(r instanceof lT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ku)return{bytesValue:rL(i.serializer,r._byteString)};if(r instanceof Mr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Xv(r)}`)}(n,e)}function lF(n,e){const t={};return k2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(n,(r,i)=>{const o=ip(i,e.pu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function cF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof lT||n instanceof ku||n instanceof Mr||n instanceof aT)}function dT(n,e,t){if(!cF(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Xv(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function Fb(n,e,t){if((e=In(e))instanceof t0)return e._internalPath;if(typeof e=="string")return fT(n,e);throw sy("Field path arguments must be of type string or ",n,!1,void 0,t)}const xH=new RegExp("[~\\*/\\[\\]]");function fT(n,e,t){if(e.search(xH)>=0)throw sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new t0(...e.split("."))._internalPath}catch{throw sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sy(n,e,t,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new te(H.INVALID_ARGUMENT,a+n+l)}function uF(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IH extends dF{data(){return super.data()}}function hT(n,e){return typeof e=="string"?fT(n,e):e instanceof t0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pT{}class kH extends pT{}function DH(n,e,...t){let r=[];e instanceof pT&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof mT).length,a=o.filter(l=>l instanceof r0).length;if(s>1||s>0&&a>0)throw new te(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class r0 extends kH{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new r0(e,t,r)}_apply(e){const t=this._parse(e);return fF(e._query,t),new Xu(e.firestore,e.converter,Sb(e._query,t))}_parse(e){const t=uT(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){wD(d,u);const p=[];for(const m of d)p.push(_D(l,o,m));h={arrayValue:{values:p}}}else h=_D(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||wD(d,u),h=TH(a,s,d,u==="in"||u==="not-in");return ze.create(c,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function PH(n,e,t){const r=e,i=hT("where",n);return r0._create(i,r,t)}class mT extends pT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ct.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)fF(s,l),s=Sb(s,l)}(e._query,t),new Xu(e.firestore,e.converter,Sb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _D(n,e,t){if(typeof(t=In(t))=="string"){if(t==="")throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$2(e)&&t.indexOf("/")!==-1)throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ie.isDocumentKey(r))throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eh(n,new ie(r))}if(t instanceof Mr)return Eh(n,t._key);throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(t)}.`)}function wD(n,e){if(!Array.isArray(n)||n.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fF(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class RH{convertValue(e,t="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kl(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new lT(Yt(e.latitude),Yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=BS(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);we(hL(r));const i=new kl(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hF extends dF{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tg extends hF{data(e={}){return super.data(e)}}class MH{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new mf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tg(this._firestore,this._userDataWriter,r.key,r,new mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:OH(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(n){n=Zo(n,Mr);const e=Zo(n.firestore,Gl);return cH(e0(e),n._key).then(t=>$H(e,n,t))}class mF extends RH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function NH(n){n=Zo(n,Xu);const e=Zo(n.firestore,Gl),t=e0(e),r=new mF(e);return CH(n._query),uH(t,n._query).then(i=>new MH(e,r,n,i))}function LH(n,e,t,...r){n=Zo(n,Mr);const i=Zo(n.firestore,Gl),o=uT(i);let s;return s=typeof(e=In(e))=="string"||e instanceof t0?SH(o,"updateDoc",n._key,e,t,r):EH(o,"updateDoc",n._key,e),gT(i,[s.toMutation(n._key,fr.exists(!0))])}function FH(n){return gT(Zo(n.firestore,Gl),[new Hv(n._key,fr.none())])}function VH(n,e){const t=Zo(n.firestore,Gl),r=Zv(n),i=AH(n.converter,e);return gT(t,[bH(uT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function gT(n,e){return function(r,i){const o=new $i;return r.asyncQueue.enqueueAndForget(async()=>XW(await lH(r),i,o)),o.promise}(e0(n),e)}function $H(n,e,t){const r=t.docs.get(e._key),i=new mF(n);return new hF(n,i,e._key,r,new mf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Gu=i})(Yu),_u(new Tl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Gl(new hU(r.getProvider("auth-internal")),new yU(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Zs(yk,"4.6.4",e),Zs(yk,"4.6.4","esm2017")})();function yT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BH=gF,yF=new Gh("auth","Firebase",gF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new MS("@firebase/auth");function zH(n,...e){ay.logLevel<=$e.WARN&&ay.warn(`Auth (${Yu}): ${n}`,...e)}function ng(n,...e){ay.logLevel<=$e.ERROR&&ay.error(`Auth (${Yu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,...e){throw vT(n,...e)}function uo(n,...e){return vT(n,...e)}function vF(n,e,t){const r=Object.assign(Object.assign({},BH()),{[e]:t});return new Gh("auth","Firebase",r).create(e,{appName:n.name})}function jo(n){return vF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yF.create(n,...e)}function Te(n,e,...t){if(!n)throw vT(e,...t)}function Fo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ng(e),new Error(e)}function es(n,e){n||Fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jH(){return bD()==="http:"||bD()==="https:"}function bD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jH()||Hj()||"connection"in navigator)?navigator.onLine:!0}function WH(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=Uj()||qj()}get(){return UH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=new op(3e4,6e4);function Sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ta(n,e,t,r,i={}){return wF(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Qh(Object.assign({key:n.config.apiKey},s)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),_F.fetch()(bF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function wF(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HH),e);try{const i=new YH(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw dm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dm(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw dm(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw dm(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vF(n,u,c);ji(n,u)}}catch(i){if(i instanceof ls)throw i;ji(n,"network-request-failed",{message:String(i)})}}async function sp(n,e,t,r,i={}){const o=await Ta(n,e,t,r,i);return"mfaPendingCredential"in o&&ji(n,"multi-factor-auth-required",{_serverResponse:o}),o}function bF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?_T(n.config,i):`${n.config.apiScheme}://${i}`}function KH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),qH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=uo(n,e,r);return i.customData._tokenResponse=t,i}function ED(n){return n!==void 0&&n.enterprise!==void 0}class GH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function QH(n,e){return Ta(n,"GET","/v2/recaptchaConfig",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(n,e){return Ta(n,"POST","/v1/accounts:delete",e)}async function EF(n,e){return Ta(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XH(n,e=!1){const t=In(n),r=await t.getIdToken(e),i=wT(r);Te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ff(yw(i.auth_time)),issuedAtTime:Ff(yw(i.iat)),expirationTime:Ff(yw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yw(n){return Number(n)*1e3}function wT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const i=e2(t);return i?JSON.parse(i):(ng("Failed to decode base64 JWT payload"),null)}catch(i){return ng("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SD(n){const e=wT(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ls&&ZH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ZH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ih(n,EF(t,{idToken:r}));Te(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SF(o.providerUserInfo):[],a=n8(n.providerData,s),l=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $b(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function t8(n){const e=In(n);await ly(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SF(n){return n.map(e=>{var{providerId:t}=e,r=yT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(n,e){const t=await wF(n,{},async()=>{const r=Qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=bF(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_F.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i8(n,e){return Ta(n,"POST","/v2/accounts:revokeToken",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=SD(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await r8(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new nu;return r&&(Te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=yT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $b(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ih(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XH(this,e)}reload(){return t8(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ly(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(no(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await Ih(this,JH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=t.photoURL)!==null&&s!==void 0?s:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=t.createdAt)!==null&&c!==void 0?c:void 0,w=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:D,providerData:M,stsTokenManager:S}=t;Te(b&&S,e,"internal-error");const E=nu.fromJSON(this.name,S);Te(typeof b=="string",e,"internal-error"),_s(d,e.name),_s(h,e.name),Te(typeof C=="boolean",e,"internal-error"),Te(typeof D=="boolean",e,"internal-error"),_s(p,e.name),_s(m,e.name),_s(g,e.name),_s(_,e.name),_s(v,e.name),_s(w,e.name);const I=new Vo({uid:b,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:D,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:w});return M&&Array.isArray(M)&&(I.providerData=M.map(k=>Object.assign({},k))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new nu;i.updateFromServerResponse(t);const o=new Vo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ly(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new nu;a.updateFromIdToken(r);const l=new Vo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $b(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Map;function $o(n){es(n instanceof Function,"Expected a class definition");let e=TD.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TD.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TF.type="NONE";const xD=TF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e,t){return`firebase:${n}:${e}:${t}`}class ru{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=rg(this.userKey,i.apiKey,o),this.fullPersistenceKey=rg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ru($o(xD),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||$o(xD);const s=rg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(s);if(u){const d=Vo._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ru(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new ru(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DF(e))return"Blackberry";if(PF(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||IF(e))&&!e.includes("edge/"))return"Chrome";if(kF(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xF(n=dn()){return/firefox\//i.test(n)}function bT(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IF(n=dn()){return/crios\//i.test(n)}function CF(n=dn()){return/iemobile/i.test(n)}function kF(n=dn()){return/android/i.test(n)}function DF(n=dn()){return/blackberry/i.test(n)}function PF(n=dn()){return/webos/i.test(n)}function i0(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function o8(n=dn()){var e;return i0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s8(){return Kj()&&document.documentMode===10}function RF(n=dn()){return i0(n)||kF(n)||PF(n)||DF(n)||/windows phone/i.test(n)||CF(n)}function a8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(n,e=[]){let t;switch(n){case"Browser":t=ID(dn());break;case"Worker":t=`${ID(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(n,e={}){return Ta(n,"GET","/v2/passwordPolicy",Sa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=6;class d8{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:u8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CD(this),this.idTokenSubscription=new CD(this),this.beforeStateQueue=new l8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$o(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await EF(this,{idToken:e}),r=await Vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(no(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ly(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(no(this.app))return Promise.reject(jo(this));const t=e?In(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return no(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return no(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($o(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c8(this),t=new d8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await i8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$o(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[$o(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zH(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ql(n){return In(n)}class CD{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zj(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h8(n){o0=n}function MF(n){return o0.loadJS(n)}function p8(){return o0.recaptchaEnterpriseScript}function m8(){return o0.gapiScript}function g8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const y8="recaptcha-enterprise",v8="NO_RECAPTCHA";class _8{constructor(e){this.type=y8,this.auth=Ql(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{QH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new GH(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ED(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(v8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&ED(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p8();l.length!==0&&(l+=a),MF(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function kD(n,e,t,r=!1){const i=new _8(n);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Bb(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kD(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await kD(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(n,e){const t=NS(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(mh(o,e??{}))return i;ji(i,"already-initialized")}return t.initialize({options:e})}function b8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($o);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E8(n,e,t){const r=Ql(n);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=OF(e),{host:s,port:a}=S8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),T8()}function OF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S8(n){const e=OF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:DD(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:DD(s)}}}function DD(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function T8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,t){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}}async function x8(n,e){return Ta(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(n,e){return sp(n,"POST","/v1/accounts:signInWithPassword",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(n,e){return sp(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}async function k8(n,e){return sp(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends ET{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ch(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ch(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bb(e,t,"signInWithPassword",I8);case"emailLink":return C8(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bb(e,r,"signUpPassword",x8);case"emailLink":return k8(e,{idToken:t,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(n,e){return sp(n,"POST","/v1/accounts:signInWithIdp",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="http://localhost";class Ol extends ET{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=yT(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ol(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return iu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,iu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,iu(e,t)}buildRequest(){const e={requestUri:D8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R8(n){const e=cf(uf(n)).link,t=e?cf(uf(e)).deep_link_id:null,r=cf(uf(n)).deep_link_id;return(r?cf(uf(r)).link:null)||r||t||e||n}class ST{constructor(e){var t,r,i,o,s,a;const l=cf(uf(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=P8((i=l.mode)!==null&&i!==void 0?i:null);Te(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=R8(e);try{return new ST(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,t){return Ch._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ST.parseLink(t);return Te(r,"argument-error"),Ch._fromEmailAndCode(e,r.code,r.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends NF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ap{constructor(){super("facebook.com")}static credential(e){return Ol._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends ap{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ol._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ps.credential(t,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ap{constructor(){super("github.com")}static credential(e){return Ol._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ap{constructor(){super("twitter.com")}static credential(e,t){return Ol._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return As.credential(t,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(n,e){return sp(n,"POST","/v1/accounts:signUp",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Vo._fromIdTokenResponse(e,r,i),s=PD(r);return new Nl({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=PD(r);return new Nl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function PD(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ls{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new cy(e,t,r,i)}}function LF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cy._fromErrorAndOperation(n,o,e,r):o})}async function M8(n,e,t=!1){const r=await Ih(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(n,e,t=!1){const{auth:r}=n;if(no(r.app))return Promise.reject(jo(r));const i="reauthenticate";try{const o=await Ih(n,LF(r,i,e,n),t);Te(o.idToken,r,"internal-error");const s=wT(o.idToken);Te(s,r,"internal-error");const{sub:a}=s;return Te(n.uid===a,r,"user-mismatch"),Nl._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ji(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(n,e,t=!1){if(no(n.app))return Promise.reject(jo(n));const r="signIn",i=await LF(n,r,e),o=await Nl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function N8(n,e){return FF(Ql(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(n){const e=Ql(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L8(n,e,t){if(no(n.app))return Promise.reject(jo(n));const r=Ql(n),s=await Bb(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VF(n),l}),a=await Nl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function F8(n,e,t){return no(n.app)?Promise.reject(jo(n)):N8(In(n),Zu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VF(n),r})}function V8(n,e,t,r){return In(n).onIdTokenChanged(e,t,r)}function $8(n,e,t){return In(n).beforeAuthStateChanged(e,t)}function TT(n,e,t,r){return In(n).onAuthStateChanged(e,t,r)}function B8(n){return In(n).signOut()}const uy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uy,"1"),this.storage.removeItem(uy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(){const n=dn();return bT(n)||i0(n)}const j8=1e3,U8=10;class BF extends $F{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z8()&&a8(),this.fallbackToPolling=RF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);s8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U8):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},j8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BF.type="LOCAL";const W8=BF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF extends $F{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zF.type="SESSION";const jF=zF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new s0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(t.origin,o)),l=await H8(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=xT("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return window}function K8(n){fo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof fo().WorkerGlobalScope<"u"&&typeof fo().importScripts=="function"}async function Y8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Q8(){return UF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="firebaseLocalStorageDb",J8=1,dy="firebaseLocalStorage",HF="fbase_key";class lp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function a0(n,e){return n.transaction([dy],e?"readwrite":"readonly").objectStore(dy)}function X8(){const n=indexedDB.deleteDatabase(WF);return new lp(n).toPromise()}function zb(){const n=indexedDB.open(WF,J8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dy,{keyPath:HF})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dy)?e(r):(r.close(),await X8(),e(await zb()))})})}async function RD(n,e,t){const r=a0(n,!0).put({[HF]:e,value:t});return new lp(r).toPromise()}async function Z8(n,e){const t=a0(n,!1).get(e),r=await new lp(t).toPromise();return r===void 0?null:r.value}function AD(n,e){const t=a0(n,!0).delete(e);return new lp(t).toPromise()}const e7=800,t7=3;class qF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>t7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s0._getInstance(Q8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Y8(),!this.activeServiceWorker)return;this.sender=new q8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zb();return await RD(e,uy,"1"),await AD(e,uy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>RD(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Z8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AD(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=a0(i,!1).getAll();return new lp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qF.type="LOCAL";const n7=qF;new op(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(n,e){return e?$o(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends ET{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return iu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function i7(n){return FF(n.auth,new IT(n),n.bypassAuthState)}function o7(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),O8(t,new IT(n),n.bypassAuthState)}async function s7(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),M8(t,new IT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i7;case"linkViaPopup":case"linkViaRedirect":return s7;case"reauthViaPopup":case"reauthViaRedirect":return o7;default:ji(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new op(2e3,1e4);class qc extends KF{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=xT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a7.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="pendingRedirect",ig=new Map;class c7 extends KF{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ig.get(this.auth._key());if(!e){try{const r=await u7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ig.set(this.auth._key(),e)}return this.bypassAuthState||ig.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u7(n,e){const t=h7(e),r=f7(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function d7(n,e){ig.set(n._key(),e)}function f7(n){return $o(n._redirectPersistence)}function h7(n){return rg(l7,n.config.apiKey,n.name)}async function p7(n,e,t=!1){if(no(n.app))return Promise.reject(jo(n));const r=Ql(n),i=r7(r,e),s=await new c7(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=10*60*1e3;class g7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!YF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m7&&this.cachedEventUids.clear(),this.cachedEventUids.has(MD(e))}saveEventToCache(e){this.cachedEventUids.add(MD(e)),this.lastProcessedEventTime=Date.now()}}function MD(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YF({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YF(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(n,e={}){return Ta(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w7=/^https?/;async function b7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await v7(n);for(const t of e)try{if(E7(t))return}catch{}ji(n,"unauthorized-domain")}function E7(n){const e=Vb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!w7.test(t))return!1;if(_7.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new op(3e4,6e4);function OD(){const n=fo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function T7(n){return new Promise((e,t)=>{var r,i,o;function s(){OD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OD(),t(uo(n,"network-request-failed"))},timeout:S7.get()})}if(!((i=(r=fo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fo().gapi)===null||o===void 0)&&o.load)s();else{const a=g8("iframefcb");return fo()[a]=()=>{gapi.load?s():t(uo(n,"network-request-failed"))},MF(`${m8()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw og=null,e})}let og=null;function x7(n){return og=og||T7(n),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new op(5e3,15e3),C7="__/auth/iframe",k7="emulator/auth/iframe",D7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R7(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_T(e,k7):`https://${n.config.authDomain}/${C7}`,r={apiKey:e.apiKey,appName:n.name,v:Yu},i=P7.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qh(r).slice(1)}`}async function A7(n){const e=await x7(n),t=fo().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:R7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D7,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=uo(n,"network-request-failed"),a=fo().setTimeout(()=>{o(s)},I7.get());function l(){fo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O7=500,N7=600,L7="_blank",F7="http://localhost";class ND{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V7(n,e,t,r=O7,i=N7){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},M7),{width:r.toString(),height:i.toString(),top:o,left:s}),c=dn().toLowerCase();t&&(a=IF(c)?L7:t),xF(c)&&(e=e||F7,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(o8(c)&&a!=="_self")return $7(e||"",a),new ND(null);const d=window.open(e||"",a,u);Te(d,n,"popup-blocked");try{d.focus()}catch{}return new ND(d)}function $7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="__/auth/handler",z7="emulator/auth/handler",j7=encodeURIComponent("fac");async function LD(n,e,t,r,i,o){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yu,eventId:i};if(e instanceof NF){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Xj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof ap){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${j7}=${encodeURIComponent(l)}`:"";return`${U7(n)}?${Qh(a).slice(1)}${c}`}function U7({config:n}){return n.emulator?_T(n,z7):`https://${n.authDomain}/${B7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="webStorageSupport";class W7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jF,this._completeRedirectFn=p7,this._overrideRedirectResult=d7}async _openPopup(e,t,r,i){var o;es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await LD(e,t,r,Vb(),i);return V7(e,s,xT())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await LD(e,t,r,Vb(),i);return K8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A7(e),r=new g7(e);return t.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vw,{type:vw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[vw];s!==void 0&&t(!!s),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return RF()||bT()||i0()}}const H7=W7;var FD="@firebase/auth",VD="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y7(n){_u(new Tl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AF(n)},c=new f8(r,i,o,l);return b8(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_u(new Tl("auth-internal",e=>{const t=Ql(e.getProvider("auth").getImmediate());return(r=>new q7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(FD,VD,K7(n)),Zs(FD,VD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=5*60,Q7=n2("authIdTokenMaxAge")||G7;let $D=null;const J7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Q7)return;const i=t==null?void 0:t.token;$D!==i&&($D=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X7(n=Z6()){const e=NS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=w8(n,{popupRedirectResolver:H7,persistence:[n7,W8,jF]}),r=n2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=J7(o.toString());$8(t,s,()=>s(t.currentUser)),V8(t,a=>s(a))}}const i=zj("auth");return i&&E8(t,`http://${i}`),t}function Z7(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}h8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=uo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y7("Browser");const eq={apiKey:"AIzaSyASucm-e9qhEeoILvnWLXsdpdXlZe0J_7c",authDomain:"organica-74c63.firebaseapp.com",projectId:"organica-74c63",storageBucket:"organica-74c63.firebasestorage.app",messagingSenderId:"619750725397",appId:void 0},GF=a2(eq),ed=pH(GF,{cacheSizeBytes:hH});mH(ed).catch(n=>{n.code==="failed-precondition"?console.error("Multiple tabs open, persistence can only be enabled in one tab at a time."):n.code==="unimplemented"&&console.error("The current browser does not support all of the features required to enable persistence")});const td=X7(GF),tq=async(n,e)=>{try{return(await L8(td,n,e)).user}catch(t){throw t}},nq=async(n,e)=>{try{return(await F8(td,n,e)).user}catch(t){throw t}},rq=async()=>{try{await B8(td)}catch(n){throw n}},iq=()=>new Promise(n=>{TT(td,e=>{n(!!e)})}),oq=async()=>{try{await rq()}catch(n){console.error("Error logging out:",n)}};var sq=x;function aq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var fy=aq(sq),lq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},BD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=cq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return fy.default.createElement("svg",lq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),fy.default.createElement("path",{d:"M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"}))},uq=fy.default.memo?fy.default.memo(BD):BD,dq=uq;const fq=Jt(dq);var hq=x;function pq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var hy=pq(hq),mq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},zD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=gq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return hy.default.createElement("svg",mq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),hy.default.createElement("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"}))},yq=hy.default.memo?hy.default.memo(zD):zD,vq=yq;const _q=Jt(vq);var wq=x;function bq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var py=bq(wq),Eq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},jD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Sq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return py.default.createElement("svg",Eq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),py.default.createElement("path",{d:"M12 18c.714 0 1.37.25 1.886.666L12 21l-1.886-2.334A2.987 2.987 0 0 1 12 18zM2.808 1.393l17.677 17.678-1.414 1.414-5.18-5.18A5.994 5.994 0 0 0 12 15c-1.428 0-2.74.499-3.77 1.332l-1.256-1.556a7.963 7.963 0 0 1 4.622-1.766L9 10.414a10.969 10.969 0 0 0-3.912 2.029L3.83 10.887A12.984 12.984 0 0 1 7.416 8.83L5.132 6.545a16.009 16.009 0 0 0-3.185 2.007L.689 6.997c.915-.74 1.903-1.391 2.952-1.942L1.393 2.808l1.415-1.415zM14.5 10.285l-2.284-2.283L12 8c3.095 0 5.937 1.081 8.17 2.887l-1.258 1.556a10.96 10.96 0 0 0-4.412-2.158zM12 3c4.285 0 8.22 1.497 11.31 3.997l-1.257 1.555A15.933 15.933 0 0 0 12 5c-.878 0-1.74.07-2.58.207L7.725 3.51C9.094 3.177 10.527 3 12 3z"}))},Tq=py.default.memo?py.default.memo(jD):jD,xq=Tq;const Iq=Jt(xq);var Cq=x;function kq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var my=kq(Cq),Dq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},UD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Pq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return my.default.createElement("svg",Dq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),my.default.createElement("path",{d:"M13 10h5l-6 6-6-6h5V3h2v7zm-9 9h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7z"}))},Rq=my.default.memo?my.default.memo(UD):UD,Aq=Rq;const Mq=Jt(Aq);var Oq=x;function Nq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var gy=Nq(Oq),Lq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},WD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Fq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return gy.default.createElement("svg",Lq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),gy.default.createElement("path",{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}))},Vq=gy.default.memo?gy.default.memo(WD):WD,$q=Vq;const Bq=Jt($q);var zq=x;function jq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var yy=jq(zq),Uq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},HD=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Wq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return yy.default.createElement("svg",Uq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),yy.default.createElement("path",{d:"M21 3v2c0 9.627-5.373 14-12 14H7.098c.212-3.012 1.15-4.835 3.598-7.001 1.204-1.065 1.102-1.68.509-1.327-4.084 2.43-6.112 5.714-6.202 10.958L5 22H3c0-1.363.116-2.6.346-3.732C3.116 16.974 3 15.218 3 13 3 7.477 7.477 3 13 3c2 0 4 1 8 0z"}))},Hq=yy.default.memo?yy.default.memo(HD):HD,qq=Hq;const Kq=Jt(qq);function Yq({toggleTheme:n,theme:e}){const[t,r]=x.useState(navigator.onLine);x.useEffect(()=>{const o=()=>{r(navigator.onLine)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]);const i=async()=>{try{const o=collection(db,"notes"),s=query(o,where("userId","==",user.uid)),l=(await getDocs(s)).docs.map(d=>({id:d.id,...d.data()})),c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),u=document.createElement("a");u.href=URL.createObjectURL(c),u.download="notes_backup.json",u.click(),URL.revokeObjectURL(u.href),console.log("Notes exported successfully!")}catch(o){console.error("Error exporting notes:",o)}};return N.jsxs("header",{children:[N.jsxs("h1",{children:[N.jsx(Kq,{}),"Organica"]}),!t&&N.jsx(Iq,{style:{color:"red",float:"right",margin:"10px"}}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:i,children:N.jsx(Mq,{})}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:n,children:e==="light"?N.jsx(fq,{}):N.jsx(_q,{})}),N.jsx("button",{className:"dark-mode-button",onClick:()=>{oq(),window.location.href="/login"},children:N.jsx(Bq,{})})]})}var CT={},QF={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(QF);var Si=QF.exports,_w={};function L(){return L=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},L.apply(null,arguments)}function Mo(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function JF(n){if(!Mo(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=JF(n[t])}),e}function Kr(n,e,t={clone:!0}){const r=t.clone?L({},n):n;return Mo(n)&&Mo(e)&&Object.keys(e).forEach(i=>{Mo(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Mo(n[i])?r[i]=Kr(n[i],e[i],t):t.clone?r[i]=Mo(e[i])?JF(e[i]):e[i]:r[i]=e[i]}),r}const Gq=Object.freeze(Object.defineProperty({__proto__:null,default:Kr,isPlainObject:Mo},Symbol.toStringTag,{value:"Module"}));function Ll(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}const Qq=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"}));var XF={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=Symbol.for("react.element"),DT=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),Jq=Symbol.for("react.server_context"),h0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),y0=Symbol.for("react.lazy"),Xq=Symbol.for("react.offscreen"),ZF;ZF=Symbol.for("react.module.reference");function Ti(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case kT:switch(n=n.type,n){case l0:case u0:case c0:case p0:case m0:return n;default:switch(n=n&&n.$$typeof,n){case Jq:case f0:case h0:case y0:case g0:case d0:return n;default:return e}}case DT:return e}}}dt.ContextConsumer=f0;dt.ContextProvider=d0;dt.Element=kT;dt.ForwardRef=h0;dt.Fragment=l0;dt.Lazy=y0;dt.Memo=g0;dt.Portal=DT;dt.Profiler=u0;dt.StrictMode=c0;dt.Suspense=p0;dt.SuspenseList=m0;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(n){return Ti(n)===f0};dt.isContextProvider=function(n){return Ti(n)===d0};dt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===kT};dt.isForwardRef=function(n){return Ti(n)===h0};dt.isFragment=function(n){return Ti(n)===l0};dt.isLazy=function(n){return Ti(n)===y0};dt.isMemo=function(n){return Ti(n)===g0};dt.isPortal=function(n){return Ti(n)===DT};dt.isProfiler=function(n){return Ti(n)===u0};dt.isStrictMode=function(n){return Ti(n)===c0};dt.isSuspense=function(n){return Ti(n)===p0};dt.isSuspenseList=function(n){return Ti(n)===m0};dt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===l0||n===u0||n===c0||n===p0||n===m0||n===Xq||typeof n=="object"&&n!==null&&(n.$$typeof===y0||n.$$typeof===g0||n.$$typeof===d0||n.$$typeof===f0||n.$$typeof===h0||n.$$typeof===ZF||n.getModuleId!==void 0)};dt.typeOf=Ti;XF.exports=dt;var qD=XF.exports;const Zq=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function eV(n){const e=`${n}`.match(Zq);return e&&e[1]||""}function tV(n,e=""){return n.displayName||n.name||eV(n)||e}function KD(n,e,t){const r=tV(e);return n.displayName||(r!==""?`${t}(${r})`:t)}function eK(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return tV(n,"Component");if(typeof n=="object")switch(n.$$typeof){case qD.ForwardRef:return KD(n,n.render,"ForwardRef");case qD.Memo:return KD(n,n.type,"memo");default:return}}}const tK=Object.freeze(Object.defineProperty({__proto__:null,default:eK,getFunctionName:eV},Symbol.toStringTag,{value:"Module"}));function Re(n){if(typeof n!="string")throw new Error(Ll(7));return n.charAt(0).toUpperCase()+n.slice(1)}const nK=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));function jb(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function PT(n,e=166){let t;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function rK(n,e){return()=>null}function sg(n,e){var t,r;return x.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Or(n){return n&&n.ownerDocument||document}function ha(n){return Or(n).defaultView||window}function iK(n,e){return()=>null}function vy(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const ts=typeof window<"u"?x.useLayoutEffect:x.useEffect;let YD=0;function oK(n){const[e,t]=x.useState(n),r=n||e;return x.useEffect(()=>{e==null&&(YD+=1,t(`mui-${YD}`))},[e]),r}const GD=Kf.useId;function RT(n){if(GD!==void 0){const e=GD();return n??e}return oK(n)}function sK(n,e,t,r,i){return null}function Ub({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=x.useRef(n!==void 0),[o,s]=x.useState(e),a=i?n:o,l=x.useCallback(c=>{i||s(c)},[]);return[a,l]}function Za(n){const e=x.useRef(n);return ts(()=>{e.current=n}),x.useRef((...t)=>(0,e.current)(...t)).current}function rr(...n){return x.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{vy(t,e)})},n)}const QD={};function aK(n,e){const t=x.useRef(QD);return t.current===QD&&(t.current=n(e)),t}const lK=[];function cK(n){x.useEffect(n,lK)}class v0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new v0}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function nV(){const n=aK(v0.create).current;return cK(n.disposeEffect),n}let _0=!0,Wb=!1;const uK=new v0,dK={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function fK(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&dK[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function hK(n){n.metaKey||n.altKey||n.ctrlKey||(_0=!0)}function ww(){_0=!1}function pK(){this.visibilityState==="hidden"&&Wb&&(_0=!0)}function mK(n){n.addEventListener("keydown",hK,!0),n.addEventListener("mousedown",ww,!0),n.addEventListener("pointerdown",ww,!0),n.addEventListener("touchstart",ww,!0),n.addEventListener("visibilitychange",pK,!0)}function gK(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return _0||fK(e)}function rV(){const n=x.useCallback(i=>{i!=null&&mK(i.ownerDocument)},[]),e=x.useRef(!1);function t(){return e.current?(Wb=!0,uK.start(100,()=>{Wb=!1}),e.current=!1,!0):!1}function r(i){return gK(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function iV(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function AT(n,e){const t=L({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=L({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=e[r];t[r]={},!o||!Object.keys(o)?t[r]=i:!i||!Object.keys(i)?t[r]=o:(t[r]=L({},o),Object.keys(i).forEach(s=>{t[r][s]=AT(i[s],o[s])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function Rt(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),t&&t[s]&&o.push(t[s])}return o},[]).join(" ")}),r}const JD=n=>n,yK=()=>{let n=JD;return{configure(e){n=e},generate(e){return n(e)},reset(){n=JD}}},MT=yK(),vK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ct(n,e,t="Mui"){const r=vK[e];return r?`${t}-${r}`:`${MT.generate(n)}-${e}`}function gt(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Ct(n,i,t)}),r}function _K(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const wK=Object.freeze(Object.defineProperty({__proto__:null,default:_K},Symbol.toStringTag,{value:"Module"}));function Ee(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function bK(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:AT(e.components[t].defaultProps,r)}const EK=["values","unit","step"],SK=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>L({},t,{[r.key]:r.val}),{})};function oV(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Ee(n,EK),o=SK(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${t})`}function c(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${t})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return L({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:t},i)}const TK={borderRadius:4};function Vf(n,e){return e?Kr(n,e,{clone:!1}):n}const OT={xs:0,sm:600,md:900,lg:1200,xl:1536},XD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${OT[n]}px)`};function ns(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||XD;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=t(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||XD;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||OT).indexOf(a)!==-1){const l=o.up(a);s[l]=t(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return t(e)}function xK(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function IK(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function w0(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function _y(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=w0(n,t)||r,e&&(i=e(i,r,n)),i}function rn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=w0(l,r)||{};return ns(s,a,d=>{let h=_y(c,i,d);return d===h&&typeof d=="string"&&(h=_y(c,i,`${e}${d==="default"?"":Re(d)}`,d)),t===!1?h:{[t]:h}})};return o.propTypes={},o.filterProps=[e],o}function CK(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const kK={m:"margin",p:"padding"},DK={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PK=CK(n=>{if(n.length>2)if(ZD[n])n=ZD[n];else return[n];const[e,t]=n.split(""),r=kK[e],i=DK[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),NT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],LT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NT,...LT];function cp(n,e,t,r){var i;const o=(i=w0(n,e,!1))!=null?i:t;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function sV(n){return cp(n,"spacing",8)}function up(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function RK(n,e){return t=>n.reduce((r,i)=>(r[i]=up(e,t),r),{})}function AK(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=PK(t),o=RK(i,r),s=n[t];return ns(n,s,o)}function aV(n,e){const t=sV(n.theme);return Object.keys(n).map(r=>AK(n,e,r,t)).reduce(Vf,{})}function Ht(n){return aV(n,NT)}Ht.propTypes={};Ht.filterProps=NT;function qt(n){return aV(n,LT)}qt.propTypes={};qt.filterProps=LT;function MK(n=8){if(n.mui)return n;const e=sV({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return t.mui=!0,t}function b0(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Vf(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ui(n){return typeof n!="number"?n:`${n}px solid`}function xi(n,e){return rn({prop:n,themeKey:"borders",transform:e})}const OK=xi("border",ui),NK=xi("borderTop",ui),LK=xi("borderRight",ui),FK=xi("borderBottom",ui),VK=xi("borderLeft",ui),$K=xi("borderColor"),BK=xi("borderTopColor"),zK=xi("borderRightColor"),jK=xi("borderBottomColor"),UK=xi("borderLeftColor"),WK=xi("outline",ui),HK=xi("outlineColor"),E0=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=cp(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:up(e,r)});return ns(n,n.borderRadius,t)}return null};E0.propTypes={};E0.filterProps=["borderRadius"];b0(OK,NK,LK,FK,VK,$K,BK,zK,jK,UK,E0,WK,HK);const S0=n=>{if(n.gap!==void 0&&n.gap!==null){const e=cp(n.theme,"spacing",8),t=r=>({gap:up(e,r)});return ns(n,n.gap,t)}return null};S0.propTypes={};S0.filterProps=["gap"];const T0=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=cp(n.theme,"spacing",8),t=r=>({columnGap:up(e,r)});return ns(n,n.columnGap,t)}return null};T0.propTypes={};T0.filterProps=["columnGap"];const x0=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=cp(n.theme,"spacing",8),t=r=>({rowGap:up(e,r)});return ns(n,n.rowGap,t)}return null};x0.propTypes={};x0.filterProps=["rowGap"];const qK=rn({prop:"gridColumn"}),KK=rn({prop:"gridRow"}),YK=rn({prop:"gridAutoFlow"}),GK=rn({prop:"gridAutoColumns"}),QK=rn({prop:"gridAutoRows"}),JK=rn({prop:"gridTemplateColumns"}),XK=rn({prop:"gridTemplateRows"}),ZK=rn({prop:"gridTemplateAreas"}),eY=rn({prop:"gridArea"});b0(S0,T0,x0,qK,KK,YK,GK,QK,JK,XK,ZK,eY);function ou(n,e){return e==="grey"?e:n}const tY=rn({prop:"color",themeKey:"palette",transform:ou}),nY=rn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ou}),rY=rn({prop:"backgroundColor",themeKey:"palette",transform:ou});b0(tY,nY,rY);function zr(n){return n<=1&&n!==0?`${n*100}%`:n}const iY=rn({prop:"width",transform:zr}),FT=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||OT[t];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:zr(t)}};return ns(n,n.maxWidth,e)}return null};FT.filterProps=["maxWidth"];const oY=rn({prop:"minWidth",transform:zr}),sY=rn({prop:"height",transform:zr}),aY=rn({prop:"maxHeight",transform:zr}),lY=rn({prop:"minHeight",transform:zr});rn({prop:"size",cssProperty:"width",transform:zr});rn({prop:"size",cssProperty:"height",transform:zr});const cY=rn({prop:"boxSizing"});b0(iY,FT,oY,sY,aY,lY,cY);const dp={border:{themeKey:"borders",transform:ui},borderTop:{themeKey:"borders",transform:ui},borderRight:{themeKey:"borders",transform:ui},borderBottom:{themeKey:"borders",transform:ui},borderLeft:{themeKey:"borders",transform:ui},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ui},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:E0},color:{themeKey:"palette",transform:ou},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ou},backgroundColor:{themeKey:"palette",transform:ou},p:{style:qt},pt:{style:qt},pr:{style:qt},pb:{style:qt},pl:{style:qt},px:{style:qt},py:{style:qt},padding:{style:qt},paddingTop:{style:qt},paddingRight:{style:qt},paddingBottom:{style:qt},paddingLeft:{style:qt},paddingX:{style:qt},paddingY:{style:qt},paddingInline:{style:qt},paddingInlineStart:{style:qt},paddingInlineEnd:{style:qt},paddingBlock:{style:qt},paddingBlockStart:{style:qt},paddingBlockEnd:{style:qt},m:{style:Ht},mt:{style:Ht},mr:{style:Ht},mb:{style:Ht},ml:{style:Ht},mx:{style:Ht},my:{style:Ht},margin:{style:Ht},marginTop:{style:Ht},marginRight:{style:Ht},marginBottom:{style:Ht},marginLeft:{style:Ht},marginX:{style:Ht},marginY:{style:Ht},marginInline:{style:Ht},marginInlineStart:{style:Ht},marginInlineEnd:{style:Ht},marginBlock:{style:Ht},marginBlockStart:{style:Ht},marginBlockEnd:{style:Ht},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S0},rowGap:{style:x0},columnGap:{style:T0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zr},maxWidth:{style:FT},minWidth:{transform:zr},height:{transform:zr},maxHeight:{transform:zr},minHeight:{transform:zr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function uY(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function dY(n,e){return typeof n=="function"?n(e):n}function lV(){function n(t,r,i,o){const s={[t]:r,theme:i},a=o[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const h=w0(i,c)||{};return d?d(s):ns(s,r,m=>{let g=_y(h,u,m);return m===g&&typeof m=="string"&&(g=_y(h,u,`${t}${m==="default"?"":Re(m)}`,m)),l===!1?g:{[l]:g}})}function e(t){var r;const{sx:i,theme:o={}}=t||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:dp;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=xK(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=dY(c[p],o);if(m!=null)if(typeof m=="object")if(s[p])h=Vf(h,n(p,m,o,s));else{const g=ns({theme:o},m,_=>({[p]:_}));uY(g,m)?h[p]=e({sx:m,theme:o}):h=Vf(h,g)}else h=Vf(h,n(p,m,o,s))}),IK(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const nd=lV();nd.filterProps=["sx"];function cV(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const fY=["breakpoints","palette","spacing","shape"];function fp(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={}}=n,s=Ee(n,fY),a=oV(t),l=MK(i);let c=Kr({breakpoints:a,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},TK,o)},s);return c.applyStyles=cV,c=e.reduce((u,d)=>Kr(u,d),c),c.unstable_sxConfig=L({},dp,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return nd({sx:d,theme:this})},c}const hY=Object.freeze(Object.defineProperty({__proto__:null,default:fp,private_createBreakpoints:oV,unstable_applyStyles:cV},Symbol.toStringTag,{value:"Module"}));function uV(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var pY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mY=uV(function(n){return pY.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function gY(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function yY(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vY=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yY(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=gY(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Jn="-ms-",wy="-moz-",et="-webkit-",dV="comm",VT="rule",$T="decl",_Y="@import",fV="@keyframes",wY="@layer",bY=Math.abs,I0=String.fromCharCode,EY=Object.assign;function SY(n,e){return Fn(n,0)^45?(((e<<2^Fn(n,0))<<2^Fn(n,1))<<2^Fn(n,2))<<2^Fn(n,3):0}function hV(n){return n.trim()}function TY(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function Hb(n,e){return n.indexOf(e)}function Fn(n,e){return n.charCodeAt(e)|0}function kh(n,e,t){return n.slice(e,t)}function Qi(n){return n.length}function BT(n){return n.length}function fm(n,e){return e.push(n),n}function xY(n,e){return n.map(e).join("")}var C0=1,Du=1,pV=0,Lr=0,ln=0,rd="";function k0(n,e,t,r,i,o,s){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:C0,column:Du,length:s,return:""}}function zd(n,e){return EY(k0("",null,null,"",null,null,0),n,{length:-n.length},e)}function IY(){return ln}function CY(){return ln=Lr>0?Fn(rd,--Lr):0,Du--,ln===10&&(Du=1,C0--),ln}function Yr(){return ln=Lr<pV?Fn(rd,Lr++):0,Du++,ln===10&&(Du=1,C0++),ln}function ho(){return Fn(rd,Lr)}function ag(){return Lr}function hp(n,e){return kh(rd,n,e)}function Dh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mV(n){return C0=Du=1,pV=Qi(rd=n),Lr=0,[]}function gV(n){return rd="",n}function lg(n){return hV(hp(Lr-1,qb(n===91?n+2:n===40?n+1:n)))}function kY(n){for(;(ln=ho())&&ln<33;)Yr();return Dh(n)>2||Dh(ln)>3?"":" "}function DY(n,e){for(;--e&&Yr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return hp(n,ag()+(e<6&&ho()==32&&Yr()==32))}function qb(n){for(;Yr();)switch(ln){case n:return Lr;case 34:case 39:n!==34&&n!==39&&qb(ln);break;case 40:n===41&&qb(n);break;case 92:Yr();break}return Lr}function PY(n,e){for(;Yr()&&n+ln!==57;)if(n+ln===84&&ho()===47)break;return"/*"+hp(e,Lr-1)+"*"+I0(n===47?n:Yr())}function RY(n){for(;!Dh(ho());)Yr();return hp(n,Lr)}function AY(n){return gV(cg("",null,null,null,[""],n=mV(n),0,[0],n))}function cg(n,e,t,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,m=0,g=1,_=1,v=1,w=0,b="",C=i,D=o,M=r,S=b;_;)switch(m=w,w=Yr()){case 40:if(m!=108&&Fn(S,d-1)==58){Hb(S+=tt(lg(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=lg(w);break;case 9:case 10:case 13:case 32:S+=kY(m);break;case 92:S+=DY(ag()-1,7);continue;case 47:switch(ho()){case 42:case 47:fm(MY(PY(Yr(),ag()),e,t),l);break;default:S+="/"}break;case 123*g:a[c++]=Qi(S)*v;case 125*g:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+u:v==-1&&(S=tt(S,/\f/g,"")),p>0&&Qi(S)-d&&fm(p>32?tP(S+";",r,t,d-1):tP(tt(S," ","")+";",r,t,d-2),l);break;case 59:S+=";";default:if(fm(M=eP(S,e,t,c,u,i,a,b,C=[],D=[],d),o),w===123)if(u===0)cg(S,e,M,M,C,o,d,a,D);else switch(h===99&&Fn(S,3)===110?100:h){case 100:case 108:case 109:case 115:cg(n,M,M,r&&fm(eP(n,M,M,0,0,i,a,b,i,C=[],d),D),i,D,d,a,r?C:D);break;default:cg(S,M,M,M,[""],D,0,a,D)}}c=u=p=0,g=v=1,b=S="",d=s;break;case 58:d=1+Qi(S),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&CY()==125)continue}switch(S+=I0(w),w*g){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Qi(S)-1)*v,v=1;break;case 64:ho()===45&&(S+=lg(Yr())),h=ho(),u=d=Qi(b=S+=RY(ag())),w++;break;case 45:m===45&&Qi(S)==2&&(g=0)}}return o}function eP(n,e,t,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=BT(h),m=0,g=0,_=0;m<r;++m)for(var v=0,w=kh(n,d+1,d=bY(g=s[m])),b=n;v<p;++v)(b=hV(g>0?h[v]+" "+w:tt(w,/&\f/g,h[v])))&&(l[_++]=b);return k0(n,e,t,i===0?VT:a,l,c,u)}function MY(n,e,t){return k0(n,e,t,dV,I0(IY()),kh(n,2,-2),0)}function tP(n,e,t,r){return k0(n,e,t,$T,kh(n,0,r),kh(n,r+1,-1),r)}function su(n,e){for(var t="",r=BT(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function OY(n,e,t,r){switch(n.type){case wY:if(n.children.length)break;case _Y:case $T:return n.return=n.return||n.value;case dV:return"";case fV:return n.return=n.value+"{"+su(n.children,r)+"}";case VT:n.value=n.props.join(",")}return Qi(t=su(n.children,r))?n.return=n.value+"{"+t+"}":""}function NY(n){var e=BT(n);return function(t,r,i,o){for(var s="",a=0;a<e;a++)s+=n[a](t,r,i,o)||"";return s}}function LY(n){return function(e){e.root||(e=e.return)&&n(e)}}var FY=function(e,t,r){for(var i=0,o=0;i=o,o=ho(),i===38&&o===12&&(t[r]=1),!Dh(o);)Yr();return hp(e,Lr)},VY=function(e,t){var r=-1,i=44;do switch(Dh(i)){case 0:i===38&&ho()===12&&(t[r]=1),e[r]+=FY(Lr-1,t,r);break;case 2:e[r]+=lg(i);break;case 4:if(i===44){e[++r]=ho()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=I0(i)}while(i=Yr());return e},$Y=function(e,t){return gV(VY(mV(e),t))},nP=new WeakMap,BY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!nP.get(r))&&!i){nP.set(e,!0);for(var o=[],s=$Y(t,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},zY=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function yV(n,e){switch(SY(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+wy+n+Jn+n+n;case 6828:case 4268:return et+n+Jn+n+n;case 6165:return et+n+Jn+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+Jn+"flex-$1$2")+n;case 5443:return et+n+Jn+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+Jn+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+Jn+tt(n,"shrink","negative")+n;case 5292:return et+n+Jn+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+Jn+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qi(n)-1-e>6)switch(Fn(n,e+1)){case 109:if(Fn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+wy+(Fn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Hb(n,"stretch")?yV(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Fn(n,e+1)!==115)break;case 6444:switch(Fn(n,Qi(n)-3-(~Hb(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(Fn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Jn+"$2box$3")+n}break;case 5936:switch(Fn(n,e+11)){case 114:return et+n+Jn+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+Jn+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+Jn+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+Jn+n+n}return n}var jY=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case $T:e.return=yV(e.value,e.length);break;case fV:return su([zd(e,{value:tt(e.value,"@","@"+et)})],i);case VT:if(e.length)return xY(e.props,function(o){switch(TY(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return su([zd(e,{props:[tt(o,/:(read-\w+)/,":"+wy+"$1")]})],i);case"::placeholder":return su([zd(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),zd(e,{props:[tt(o,/:(plac\w+)/,":"+wy+"$1")]}),zd(e,{props:[tt(o,/:(plac\w+)/,Jn+"input-$1")]})],i)}return""})}},UY=[jY],vV=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var _=g.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||UY,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var _=g.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)o[_[v]]=!0;a.push(g)});var l,c=[BY,zY];{var u,d=[OY,LY(function(g){u.insert(g)})],h=NY(c.concat(i,d)),p=function(_){return su(AY(_),h)};l=function(_,v,w,b){u=w,p(_?_+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:t,sheet:new vY({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},_V={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=typeof Symbol=="function"&&Symbol.for,zT=Dn?Symbol.for("react.element"):60103,jT=Dn?Symbol.for("react.portal"):60106,D0=Dn?Symbol.for("react.fragment"):60107,P0=Dn?Symbol.for("react.strict_mode"):60108,R0=Dn?Symbol.for("react.profiler"):60114,A0=Dn?Symbol.for("react.provider"):60109,M0=Dn?Symbol.for("react.context"):60110,UT=Dn?Symbol.for("react.async_mode"):60111,O0=Dn?Symbol.for("react.concurrent_mode"):60111,N0=Dn?Symbol.for("react.forward_ref"):60112,L0=Dn?Symbol.for("react.suspense"):60113,WY=Dn?Symbol.for("react.suspense_list"):60120,F0=Dn?Symbol.for("react.memo"):60115,V0=Dn?Symbol.for("react.lazy"):60116,HY=Dn?Symbol.for("react.block"):60121,qY=Dn?Symbol.for("react.fundamental"):60117,KY=Dn?Symbol.for("react.responder"):60118,YY=Dn?Symbol.for("react.scope"):60119;function ti(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case zT:switch(n=n.type,n){case UT:case O0:case D0:case R0:case P0:case L0:return n;default:switch(n=n&&n.$$typeof,n){case M0:case N0:case V0:case F0:case A0:return n;default:return e}}case jT:return e}}}function wV(n){return ti(n)===O0}ft.AsyncMode=UT;ft.ConcurrentMode=O0;ft.ContextConsumer=M0;ft.ContextProvider=A0;ft.Element=zT;ft.ForwardRef=N0;ft.Fragment=D0;ft.Lazy=V0;ft.Memo=F0;ft.Portal=jT;ft.Profiler=R0;ft.StrictMode=P0;ft.Suspense=L0;ft.isAsyncMode=function(n){return wV(n)||ti(n)===UT};ft.isConcurrentMode=wV;ft.isContextConsumer=function(n){return ti(n)===M0};ft.isContextProvider=function(n){return ti(n)===A0};ft.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===zT};ft.isForwardRef=function(n){return ti(n)===N0};ft.isFragment=function(n){return ti(n)===D0};ft.isLazy=function(n){return ti(n)===V0};ft.isMemo=function(n){return ti(n)===F0};ft.isPortal=function(n){return ti(n)===jT};ft.isProfiler=function(n){return ti(n)===R0};ft.isStrictMode=function(n){return ti(n)===P0};ft.isSuspense=function(n){return ti(n)===L0};ft.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===D0||n===O0||n===R0||n===P0||n===L0||n===WY||typeof n=="object"&&n!==null&&(n.$$typeof===V0||n.$$typeof===F0||n.$$typeof===A0||n.$$typeof===M0||n.$$typeof===N0||n.$$typeof===qY||n.$$typeof===KY||n.$$typeof===YY||n.$$typeof===HY)};ft.typeOf=ti;_V.exports=ft;var GY=_V.exports,bV=GY,QY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EV={};EV[bV.ForwardRef]=QY;EV[bV.Memo]=JY;var XY=!0;function ZY(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var SV=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||XY===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},TV=function(e,t,r){SV(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function eG(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nG=/[A-Z]|^ms/g,rG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xV=function(e){return e.charCodeAt(1)===45},rP=function(e){return e!=null&&typeof e!="boolean"},bw=uV(function(n){return xV(n)?n:n.replace(nG,"-$&").toLowerCase()}),iP=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(rG,function(r,i,o){return Ji={name:i,styles:o,next:Ji},i})}return tG[e]!==1&&!xV(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ph(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Ji={name:t.name,styles:t.styles,next:Ji},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Ji={name:r.name,styles:r.styles,next:Ji},r=r.next;var i=t.styles+";";return i}return iG(n,e,t)}case"function":{if(n!==void 0){var o=Ji,s=t(n);return Ji=o,Ph(n,e,s)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function iG(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Ph(n,e,t[i])+";";else for(var o in t){var s=t[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":rP(s)&&(r+=bw(o)+":"+iP(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)rP(s[a])&&(r+=bw(o)+":"+iP(o,s[a])+";");else{var l=Ph(n,e,s);switch(o){case"animation":case"animationName":{r+=bw(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var oP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ji,WT=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Ji=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Ph(r,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Ph(r,t,e[a]),i&&(o+=s[a]);oP.lastIndex=0;for(var l="",c;(c=oP.exec(o))!==null;)l+="-"+c[1];var u=eG(o)+l;return{name:u,styles:o,next:Ji}},oG=function(e){return e()},IV=Kf.useInsertionEffect?Kf.useInsertionEffect:!1,sG=IV||oG,sP=IV||x.useLayoutEffect,CV=x.createContext(typeof HTMLElement<"u"?vV({key:"css"}):null),aG=CV.Provider,kV=function(e){return x.forwardRef(function(t,r){var i=x.useContext(CV);return e(t,i,r)})},$0=x.createContext({}),Ew={exports:{}},aP;function DV(){return aP||(aP=1,function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Ew)),Ew.exports}DV();var lG=kV(function(n,e){var t=n.styles,r=WT([t],void 0,x.useContext($0)),i=x.useRef();return sP(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),sP(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&TV(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function PV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return WT(e)}var B0=function(){var e=PV.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},cG=mY,uG=function(e){return e!=="theme"},lP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cG:uG},cP=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},dG=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return SV(t,r,i),sG(function(){return TV(t,r,i)}),null},fG=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;t!==void 0&&(o=t.label,s=t.target);var a=cP(e,t,r),l=a||lP(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=kV(function(g,_,v){var w=c&&g.as||i,b="",C=[],D=g;if(g.theme==null){D={};for(var M in g)D[M]=g[M];D.theme=x.useContext($0)}typeof g.className=="string"?b=ZY(_.registered,C,g.className):g.className!=null&&(b=g.className+" ");var S=WT(d.concat(C),_.registered,D);b+=_.key+"-"+S.name,s!==void 0&&(b+=" "+s);var E=c&&a===void 0?lP(w):l,I={};for(var k in g)c&&k==="as"||E(k)&&(I[k]=g[k]);return I.className=b,I.ref=v,x.createElement(x.Fragment,null,x.createElement(dG,{cache:_,serialized:S,isStringTag:typeof w=="string"}),x.createElement(w,I))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(g,_){return n(g,L({},t,_,{shouldForwardProp:cP(m,_,!0)})).apply(void 0,d)},m}},hG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Kb=fG.bind();hG.forEach(function(n){Kb[n]=Kb(n)});let Yb;typeof document=="object"&&(Yb=vV({key:"css",prepend:!0}));function pG(n){const{injectFirst:e,children:t}=n;return e&&Yb?N.jsx(aG,{value:Yb,children:t}):t}function mG(n){return n==null||Object.keys(n).length===0}function RV(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(mG(i)?t:i):e;return N.jsx(lG,{styles:r})}function HT(n,e){return Kb(n,e)}const AV=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},gG=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:RV,StyledEngineProvider:pG,ThemeContext:$0,css:PV,default:HT,internal_processStyles:AV,keyframes:B0},Symbol.toStringTag,{value:"Module"}));function yG(n){return Object.keys(n).length===0}function vG(n=null){const e=x.useContext($0);return!e||yG(e)?n:e}const _G=fp();function z0(n=_G){return vG(n)}function MV({props:n,name:e,defaultTheme:t,themeId:r}){let i=z0(t);return r&&(i=i[r]||i),bK({theme:i,name:e,props:n})}const wG=["sx"],bG=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:dp;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function qT(n){const{sx:e}=n,t=Ee(n,wG),{systemProps:r,otherProps:i}=bG(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Mo(a)?L({},r,a):r}:o=L({},r,e),L({},i,{sx:o})}const EG=Object.freeze(Object.defineProperty({__proto__:null,default:nd,extendSxProp:qT,unstable_createStyleFunctionSx:lV,unstable_defaultSxConfig:dp},Symbol.toStringTag,{value:"Module"}));function SG(n,e){return L({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}var on={};const TG=ss(Qq),xG=ss(wK);var OV=Si;Object.defineProperty(on,"__esModule",{value:!0});var oo=on.alpha=VV;on.blend=VG;on.colorChannel=void 0;var IG=on.darken=YT;on.decomposeColor=wi;on.emphasize=$V;var CG=on.getContrastRatio=MG;on.getLuminance=by;on.hexToRgb=NV;on.hslToRgb=FV;var kG=on.lighten=GT;on.private_safeAlpha=OG;on.private_safeColorChannel=void 0;on.private_safeDarken=NG;on.private_safeEmphasize=FG;on.private_safeLighten=LG;on.recomposeColor=id;on.rgbToHex=AG;var uP=OV(TG),DG=OV(xG);function KT(n,e=0,t=1){return(0,DG.default)(n,e,t)}function NV(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function PG(n){const e=n.toString(16);return e.length===1?`0${e}`:e}function wi(n){if(n.type)return n;if(n.charAt(0)==="#")return wi(NV(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error((0,uP.default)(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,uP.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const LV=n=>{const e=wi(n);return e.values.slice(0,3).map((t,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${t}%`:t).join(" ")};on.colorChannel=LV;const RG=(n,e)=>{try{return LV(n)}catch{return n}};on.private_safeColorChannel=RG;function id(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function AG(n){if(n.indexOf("#")===0)return n;const{values:e}=wi(n);return`#${e.map((t,r)=>PG(r===3?Math.round(255*t):t)).join("")}`}function FV(n){n=wi(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+t/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),id({type:a,values:l})}function by(n){n=wi(n);let e=n.type==="hsl"||n.type==="hsla"?wi(FV(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MG(n,e){const t=by(n),r=by(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function VV(n,e){return n=wi(n),e=KT(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,id(n)}function OG(n,e,t){try{return VV(n,e)}catch{return n}}function YT(n,e){if(n=wi(n),e=KT(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return id(n)}function NG(n,e,t){try{return YT(n,e)}catch{return n}}function GT(n,e){if(n=wi(n),e=KT(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return id(n)}function LG(n,e,t){try{return GT(n,e)}catch{return n}}function $V(n,e=.15){return by(n)>.5?YT(n,e):GT(n,e)}function FG(n,e,t){try{return $V(n,e)}catch{return n}}function VG(n,e,t,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-t)+c**(1/r)*t)**r),o=wi(n),s=wi(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return id({type:"rgb",values:a})}const Rh={black:"#000",white:"#fff"},$G={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},pc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jd={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},gc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},yc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},BG=["mode","contrastThreshold","tonalOffset"],dP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rh.white,default:Rh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Sw={text:{primary:Rh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fP(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=kG(n.main,i):e==="dark"&&(n.dark=IG(n.main,o)))}function zG(n="light"){return n==="dark"?{main:mc[200],light:mc[50],dark:mc[400]}:{main:mc[700],light:mc[400],dark:mc[800]}}function jG(n="light"){return n==="dark"?{main:hc[200],light:hc[50],dark:hc[400]}:{main:hc[500],light:hc[300],dark:hc[700]}}function UG(n="light"){return n==="dark"?{main:pc[500],light:pc[300],dark:pc[700]}:{main:pc[700],light:pc[400],dark:pc[800]}}function WG(n="light"){return n==="dark"?{main:gc[400],light:gc[300],dark:gc[700]}:{main:gc[700],light:gc[500],dark:gc[900]}}function HG(n="light"){return n==="dark"?{main:yc[400],light:yc[300],dark:yc[700]}:{main:yc[800],light:yc[500],dark:yc[900]}}function qG(n="light"){return n==="dark"?{main:jd[400],light:jd[300],dark:jd[700]}:{main:"#ed6c02",light:jd[500],dark:jd[900]}}function KG(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Ee(n,BG),o=n.primary||zG(e),s=n.secondary||jG(e),a=n.error||UG(e),l=n.info||WG(e),c=n.success||HG(e),u=n.warning||qG(e);function d(g){return CG(g,Sw.text.primary)>=t?Sw.text.primary:dP.text.primary}const h=({color:g,name:_,mainShade:v=500,lightShade:w=300,darkShade:b=700})=>{if(g=L({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(Ll(11,_?` (${_})`:"",v));if(typeof g.main!="string")throw new Error(Ll(12,_?` (${_})`:"",JSON.stringify(g.main)));return fP(g,"light",w,r),fP(g,"dark",b,r),g.contrastText||(g.contrastText=d(g.main)),g},p={dark:Sw,light:dP};return Kr(L({common:L({},Rh),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:$G,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const YG=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function GG(n){return Math.round(n*1e5)/1e5}const hP={textTransform:"uppercase"},pP='"Roboto", "Helvetica", "Arial", sans-serif';function QG(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=pP,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,h=Ee(t,YG),p=i/14,m=d||(v=>`${v/c*p}rem`),g=(v,w,b,C,D)=>L({fontFamily:r,fontWeight:v,fontSize:m(w),lineHeight:b},r===pP?{letterSpacing:`${GG(C/w)}em`}:{},D,u),_={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,hP),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,hP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Kr(L({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const JG=.2,XG=.14,ZG=.12;function kt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${JG})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${XG})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${ZG})`].join(",")}const eQ=["none",kt(0,2,1,-1,0,1,1,0,0,1,3,0),kt(0,3,1,-2,0,2,2,0,0,1,5,0),kt(0,3,3,-2,0,3,4,0,0,1,8,0),kt(0,2,4,-1,0,4,5,0,0,1,10,0),kt(0,3,5,-1,0,5,8,0,0,1,14,0),kt(0,3,5,-1,0,6,10,0,0,1,18,0),kt(0,4,5,-2,0,7,10,1,0,2,16,1),kt(0,5,5,-3,0,8,10,1,0,3,14,2),kt(0,5,6,-3,0,9,12,1,0,3,16,2),kt(0,6,6,-3,0,10,14,1,0,4,18,3),kt(0,6,7,-4,0,11,15,1,0,4,20,3),kt(0,7,8,-4,0,12,17,2,0,5,22,4),kt(0,7,8,-4,0,13,19,2,0,5,24,4),kt(0,7,9,-4,0,14,21,2,0,5,26,4),kt(0,8,9,-5,0,15,22,2,0,6,28,5),kt(0,8,10,-5,0,16,24,2,0,6,30,5),kt(0,8,11,-5,0,17,26,2,0,6,32,5),kt(0,9,11,-5,0,18,28,2,0,7,34,6),kt(0,9,12,-6,0,19,29,2,0,7,36,6),kt(0,10,13,-6,0,20,31,3,0,8,38,7),kt(0,10,13,-6,0,21,33,3,0,8,40,7),kt(0,10,14,-6,0,22,35,3,0,8,42,7),kt(0,11,14,-7,0,23,36,3,0,9,44,8),kt(0,11,15,-7,0,24,38,3,0,9,46,8)],tQ=["duration","easing","delay"],nQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mP(n){return`${Math.round(n)}ms`}function iQ(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function oQ(n){const e=L({},nQ,n.easing),t=L({},rQ,n.duration);return L({getAutoHeightDuration:iQ,create:(i=["all"],o={})=>{const{duration:s=t.standard,easing:a=e.easeInOut,delay:l=0}=o;return Ee(o,tQ),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:mP(s)} ${a} ${typeof l=="string"?l:mP(l)}`).join(",")}},n,{easing:e,duration:t})}const sQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},aQ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function BV(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:o={}}=n,s=Ee(n,aQ);if(n.vars)throw new Error(Ll(18));const a=KG(r),l=fp(n);let c=Kr(l,{mixins:SG(l.breakpoints,t),palette:a,shadows:eQ.slice(),typography:QG(a,o),transitions:oQ(i),zIndex:L({},sQ)});return c=Kr(c,s),c=e.reduce((u,d)=>Kr(u,d),c),c.unstable_sxConfig=L({},dp,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return nd({sx:d,theme:this})},c}const j0=BV(),pp="$$material";function At({props:n,name:e}){return MV({props:n,name:e,defaultTheme:j0,themeId:pp})}var mp={},Tw={exports:{}},gP;function lQ(){return gP||(gP=1,function(n){function e(t,r){if(t==null)return{};var i={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;i[o]=t[o]}return i}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Tw)),Tw.exports}const cQ=ss(gG),uQ=ss(Gq),dQ=ss(nK),fQ=ss(tK),hQ=ss(hY),pQ=ss(EG);var od=Si;Object.defineProperty(mp,"__esModule",{value:!0});var mQ=mp.default=kQ;mp.shouldForwardProp=ug;mp.systemDefaultTheme=void 0;var ii=od(DV()),Gb=od(lQ()),yP=EQ(cQ),gQ=uQ;od(dQ);od(fQ);var yQ=od(hQ),vQ=od(pQ);const _Q=["ownerState"],wQ=["variants"],bQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function zV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(zV=function(r){return r?t:e})(n)}function EQ(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=zV(e);if(t&&t.has(n))return t.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var s=i?Object.getOwnPropertyDescriptor(n,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=n[o]}return r.default=n,t&&t.set(n,r),r}function SQ(n){return Object.keys(n).length===0}function TQ(n){return typeof n=="string"&&n.charCodeAt(0)>96}function ug(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const xQ=mp.systemDefaultTheme=(0,yQ.default)(),IQ=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function hm({defaultTheme:n,theme:e,themeId:t}){return SQ(e)?n:e[t]||e}function CQ(n){return n?(e,t)=>t[n]:null}function dg(n,e){let{ownerState:t}=e,r=(0,Gb.default)(e,_Q);const i=typeof n=="function"?n((0,ii.default)({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(o=>dg(o,(0,ii.default)({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,Gb.default)(i,wQ);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,ii.default)({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ii.default)({ownerState:t},r,t)):l.style))}),a}return i}function kQ(n={}){const{themeId:e,defaultTheme:t=xQ,rootShouldForwardProp:r=ug,slotShouldForwardProp:i=ug}=n,o=s=>(0,vQ.default)((0,ii.default)({},s,{theme:hm((0,ii.default)({},s,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,yP.internal_processStyles)(s,D=>D.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=CQ(IQ(c))}=a,p=(0,Gb.default)(a,bQ),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let _,v=ug;c==="Root"||c==="root"?v=r:c?v=i:TQ(s)&&(v=void 0);const w=(0,yP.default)(s,(0,ii.default)({shouldForwardProp:v,label:_},p)),b=D=>typeof D=="function"&&D.__emotion_real!==D||(0,gQ.isPlainObject)(D)?M=>dg(D,(0,ii.default)({},M,{theme:hm({theme:M.theme,defaultTheme:t,themeId:e})})):D,C=(D,...M)=>{let S=b(D);const E=M?M.map(b):[];l&&h&&E.push(A=>{const O=hm((0,ii.default)({},A,{defaultTheme:t,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const P=O.components[l].styleOverrides,U={};return Object.entries(P).forEach(([K,W])=>{U[K]=dg(W,(0,ii.default)({},A,{theme:O}))}),h(A,U)}),l&&!m&&E.push(A=>{var O;const P=hm((0,ii.default)({},A,{defaultTheme:t,themeId:e})),U=P==null||(O=P.components)==null||(O=O[l])==null?void 0:O.variants;return dg({variants:U},(0,ii.default)({},A,{theme:P}))}),g||E.push(o);const I=E.length-M.length;if(Array.isArray(D)&&I>0){const A=new Array(I).fill("");S=[...D,...A],S.raw=[...D.raw,...A]}const k=w(S,...E);return s.muiName&&(k.muiName=s.muiName),k};return w.withConfig&&(C.withConfig=w.withConfig),C}}function jV(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ni=n=>jV(n)&&n!=="classes",Ie=mQ({themeId:pp,defaultTheme:j0,rootShouldForwardProp:ni});function DQ(n){return Ct("MuiSvgIcon",n)}gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const PQ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],RQ=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Re(e)}`,`fontSize${Re(t)}`]};return Rt(i,DQ,r)},AQ=Ie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Re(t.color)}`],e[`fontSize${Re(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,o,s,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(n.vars||n).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(n.vars||n).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),Qb=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Ee(r,PQ),m=x.isValidElement(i)&&i.type==="svg",g=L({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),_={};u||(_.viewBox=h);const v=RQ(g);return N.jsxs(AQ,L({as:a,className:de(v.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},_,p,m&&i.props,{ownerState:g,children:[m?i.props.children:i,d?N.jsx("title",{children:d}):null]}))});Qb.muiName="SvgIcon";function QT(n,e){function t(r,i){return N.jsx(Qb,L({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=Qb.muiName,x.memo(x.forwardRef(t))}const MQ={configure:n=>{MT.configure(n)}},OQ=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Re,createChainedFunction:jb,createSvgIcon:QT,debounce:PT,deprecatedPropType:rK,isMuiElement:sg,ownerDocument:Or,ownerWindow:ha,requirePropFactory:iK,setRef:vy,unstable_ClassNameGenerator:MQ,unstable_useEnhancedEffect:ts,unstable_useId:RT,unsupportedProp:sK,useControlled:Ub,useEventCallback:Za,useForkRef:rr,useIsFocusVisible:rV},Symbol.toStringTag,{value:"Module"})),NQ=ss(OQ);var vP;function wo(){return vP||(vP=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=NQ}(_w)),_w}var LQ=Si;Object.defineProperty(CT,"__esModule",{value:!0});var JT=CT.default=void 0,FQ=LQ(wo()),VQ=N;JT=CT.default=(0,FQ.default)((0,VQ.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Mn=[];for(var xw=0;xw<256;++xw)Mn.push((xw+256).toString(16).slice(1));function $Q(n,e=0){return(Mn[n[e+0]]+Mn[n[e+1]]+Mn[n[e+2]]+Mn[n[e+3]]+"-"+Mn[n[e+4]]+Mn[n[e+5]]+"-"+Mn[n[e+6]]+Mn[n[e+7]]+"-"+Mn[n[e+8]]+Mn[n[e+9]]+"-"+Mn[n[e+10]]+Mn[n[e+11]]+Mn[n[e+12]]+Mn[n[e+13]]+Mn[n[e+14]]+Mn[n[e+15]]).toLowerCase()}var pm,BQ=new Uint8Array(16);function zQ(){if(!pm&&(pm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pm(BQ)}var jQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _P={randomUUID:jQ};function UQ(n,e,t){if(_P.randomUUID&&!e&&!n)return _P.randomUUID();n=n||{};var r=n.random||(n.rng||zQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$Q(r)}function WQ({styles:n,themeId:e,defaultTheme:t={}}){const r=z0(t),i=typeof n=="function"?n(e&&r[e]||r):n;return N.jsx(RV,{styles:i})}const HQ=["className","component"];function qQ(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=HT("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(nd);return x.forwardRef(function(l,c){const u=z0(t),d=qT(l),{className:h,component:p="div"}=d,m=Ee(d,HQ);return N.jsx(o,L({as:p,ref:c,className:de(h,i?i(r):r),theme:e&&u[e]||u},m))})}const KQ=["ownerState"],YQ=["variants"],GQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function QQ(n){return Object.keys(n).length===0}function JQ(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Iw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const XQ=fp(),ZQ=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function mm({defaultTheme:n,theme:e,themeId:t}){return QQ(e)?n:e[t]||e}function eJ(n){return n?(e,t)=>t[n]:null}function fg(n,e){let{ownerState:t}=e,r=Ee(e,KQ);const i=typeof n=="function"?n(L({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(o=>fg(o,L({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=Ee(i,YQ);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(L({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(L({ownerState:t},r,t)):l.style))}),a}return i}function tJ(n={}){const{themeId:e,defaultTheme:t=XQ,rootShouldForwardProp:r=Iw,slotShouldForwardProp:i=Iw}=n,o=s=>nd(L({},s,{theme:mm(L({},s,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{AV(s,D=>D.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=eJ(ZQ(c))}=a,p=Ee(a,GQ),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let _,v=Iw;c==="Root"||c==="root"?v=r:c?v=i:JQ(s)&&(v=void 0);const w=HT(s,L({shouldForwardProp:v,label:_},p)),b=D=>typeof D=="function"&&D.__emotion_real!==D||Mo(D)?M=>fg(D,L({},M,{theme:mm({theme:M.theme,defaultTheme:t,themeId:e})})):D,C=(D,...M)=>{let S=b(D);const E=M?M.map(b):[];l&&h&&E.push(A=>{const O=mm(L({},A,{defaultTheme:t,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const P=O.components[l].styleOverrides,U={};return Object.entries(P).forEach(([K,W])=>{U[K]=fg(W,L({},A,{theme:O}))}),h(A,U)}),l&&!m&&E.push(A=>{var O;const P=mm(L({},A,{defaultTheme:t,themeId:e})),U=P==null||(O=P.components)==null||(O=O[l])==null?void 0:O.variants;return fg({variants:U},L({},A,{theme:P}))}),g||E.push(o);const I=E.length-M.length;if(Array.isArray(D)&&I>0){const A=new Array(I).fill("");S=[...D,...A],S.raw=[...D.raw,...A]}const k=w(S,...E);return s.muiName&&(k.muiName=s.muiName),k};return w.withConfig&&(C.withConfig=w.withConfig),C}}const nJ=tJ(),rJ=x.createContext(),iJ=()=>{const n=x.useContext(rJ);return n??!1},oJ=["className","component","disableGutters","fixed","maxWidth","classes"],sJ=fp(),aJ=nJ("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${Re(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),lJ=n=>MV({props:n,name:"MuiContainer",defaultTheme:sJ}),cJ=(n,e)=>{const t=l=>Ct(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=n,a={root:["root",s&&`maxWidth${Re(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Rt(a,t,r)};function uJ(n={}){const{createStyledComponent:e=aJ,useThemeProps:t=lJ,componentName:r="MuiContainer"}=n,i=e(({theme:s,ownerState:a})=>L({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>L({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return x.forwardRef(function(a,l){const c=t(a),{className:u,component:d="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg"}=c,g=Ee(c,oJ),_=L({},c,{component:d,disableGutters:h,fixed:p,maxWidth:m}),v=cJ(_,r);return N.jsx(i,L({as:d,ownerState:_,className:de(v.root,u),ref:l},g))})}function UV(){const n=z0(j0);return n[pp]||n}const wP=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)};function Ey(n){return typeof n=="string"}function dJ(n,e,t){return n===void 0||Ey(n)?e:L({},e,{ownerState:L({},e.ownerState,t)})}function WV(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function fJ(n,e,t){return typeof n=="function"?n(e,t):n}function bP(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function hJ(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const p=de(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m=L({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),g=L({},t,i,r);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const s=WV(L({},i,r)),a=bP(r),l=bP(i),c=e(s),u=de(c==null?void 0:c.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=L({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),h=L({},c,t,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const pJ=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pu(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,s=Ee(n,pJ),a=o?{}:fJ(r,i),{props:l,internalRef:c}=hJ(L({},s,{externalSlotProps:a})),u=rr(c,a==null?void 0:a.ref,(e=n.additionalProps)==null?void 0:e.ref);return dJ(t,L({},l,{ref:u}),i)}function mJ(){this.__data__=[],this.size=0}var gJ=mJ;function yJ(n,e){return n===e||n!==n&&e!==e}var vJ=yJ,_J=vJ;function wJ(n,e){for(var t=n.length;t--;)if(_J(n[t][0],e))return t;return-1}var U0=wJ,bJ=U0,EJ=Array.prototype,SJ=EJ.splice;function TJ(n){var e=this.__data__,t=bJ(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():SJ.call(e,t,1),--this.size,!0}var xJ=TJ,IJ=U0;function CJ(n){var e=this.__data__,t=IJ(e,n);return t<0?void 0:e[t][1]}var kJ=CJ,DJ=U0;function PJ(n){return DJ(this.__data__,n)>-1}var RJ=PJ,AJ=U0;function MJ(n,e){var t=this.__data__,r=AJ(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var OJ=MJ,NJ=gJ,LJ=xJ,FJ=kJ,VJ=RJ,$J=OJ;function sd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}sd.prototype.clear=NJ;sd.prototype.delete=LJ;sd.prototype.get=FJ;sd.prototype.has=VJ;sd.prototype.set=$J;var W0=sd,BJ=W0;function zJ(){this.__data__=new BJ,this.size=0}var jJ=zJ;function UJ(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var WJ=UJ;function HJ(n){return this.__data__.get(n)}var qJ=HJ;function KJ(n){return this.__data__.has(n)}var YJ=KJ,GJ=typeof $p=="object"&&$p&&$p.Object===Object&&$p,HV=GJ,QJ=HV,JJ=typeof self=="object"&&self&&self.Object===Object&&self,XJ=QJ||JJ||Function("return this")(),us=XJ,ZJ=us,eX=ZJ.Symbol,XT=eX,EP=XT,qV=Object.prototype,tX=qV.hasOwnProperty,nX=qV.toString,Ud=EP?EP.toStringTag:void 0;function rX(n){var e=tX.call(n,Ud),t=n[Ud];try{n[Ud]=void 0;var r=!0}catch{}var i=nX.call(n);return r&&(e?n[Ud]=t:delete n[Ud]),i}var iX=rX,oX=Object.prototype,sX=oX.toString;function aX(n){return sX.call(n)}var lX=aX,SP=XT,cX=iX,uX=lX,dX="[object Null]",fX="[object Undefined]",TP=SP?SP.toStringTag:void 0;function hX(n){return n==null?n===void 0?fX:dX:TP&&TP in Object(n)?cX(n):uX(n)}var ZT=hX;function pX(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var KV=pX,mX=ZT,gX=KV,yX="[object AsyncFunction]",vX="[object Function]",_X="[object GeneratorFunction]",wX="[object Proxy]";function bX(n){if(!gX(n))return!1;var e=mX(n);return e==vX||e==_X||e==yX||e==wX}var EX=bX,SX=us,TX=SX["__core-js_shared__"],xX=TX,Cw=xX,xP=function(){var n=/[^.]+$/.exec(Cw&&Cw.keys&&Cw.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function IX(n){return!!xP&&xP in n}var CX=IX,kX=Function.prototype,DX=kX.toString;function PX(n){if(n!=null){try{return DX.call(n)}catch{}try{return n+""}catch{}}return""}var YV=PX,RX=EX,AX=CX,MX=KV,OX=YV,NX=/[\\^$.*+?()[\]{}|]/g,LX=/^\[object .+?Constructor\]$/,FX=Function.prototype,VX=Object.prototype,$X=FX.toString,BX=VX.hasOwnProperty,zX=RegExp("^"+$X.call(BX).replace(NX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jX(n){if(!MX(n)||AX(n))return!1;var e=RX(n)?zX:LX;return e.test(OX(n))}var UX=jX;function WX(n,e){return n==null?void 0:n[e]}var HX=WX,qX=UX,KX=HX;function YX(n,e){var t=KX(n,e);return qX(t)?t:void 0}var ad=YX,GX=ad,QX=us,JX=GX(QX,"Map"),ex=JX,XX=ad,ZX=XX(Object,"create"),H0=ZX,IP=H0;function eZ(){this.__data__=IP?IP(null):{},this.size=0}var tZ=eZ;function nZ(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var rZ=nZ,iZ=H0,oZ="__lodash_hash_undefined__",sZ=Object.prototype,aZ=sZ.hasOwnProperty;function lZ(n){var e=this.__data__;if(iZ){var t=e[n];return t===oZ?void 0:t}return aZ.call(e,n)?e[n]:void 0}var cZ=lZ,uZ=H0,dZ=Object.prototype,fZ=dZ.hasOwnProperty;function hZ(n){var e=this.__data__;return uZ?e[n]!==void 0:fZ.call(e,n)}var pZ=hZ,mZ=H0,gZ="__lodash_hash_undefined__";function yZ(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=mZ&&e===void 0?gZ:e,this}var vZ=yZ,_Z=tZ,wZ=rZ,bZ=cZ,EZ=pZ,SZ=vZ;function ld(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ld.prototype.clear=_Z;ld.prototype.delete=wZ;ld.prototype.get=bZ;ld.prototype.has=EZ;ld.prototype.set=SZ;var TZ=ld,CP=TZ,xZ=W0,IZ=ex;function CZ(){this.size=0,this.__data__={hash:new CP,map:new(IZ||xZ),string:new CP}}var kZ=CZ;function DZ(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var PZ=DZ,RZ=PZ;function AZ(n,e){var t=n.__data__;return RZ(e)?t[typeof e=="string"?"string":"hash"]:t.map}var q0=AZ,MZ=q0;function OZ(n){var e=MZ(this,n).delete(n);return this.size-=e?1:0,e}var NZ=OZ,LZ=q0;function FZ(n){return LZ(this,n).get(n)}var VZ=FZ,$Z=q0;function BZ(n){return $Z(this,n).has(n)}var zZ=BZ,jZ=q0;function UZ(n,e){var t=jZ(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var WZ=UZ,HZ=kZ,qZ=NZ,KZ=VZ,YZ=zZ,GZ=WZ;function cd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}cd.prototype.clear=HZ;cd.prototype.delete=qZ;cd.prototype.get=KZ;cd.prototype.has=YZ;cd.prototype.set=GZ;var GV=cd,QZ=W0,JZ=ex,XZ=GV,ZZ=200;function eee(n,e){var t=this.__data__;if(t instanceof QZ){var r=t.__data__;if(!JZ||r.length<ZZ-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new XZ(r)}return t.set(n,e),this.size=t.size,this}var tee=eee,nee=W0,ree=jJ,iee=WJ,oee=qJ,see=YJ,aee=tee;function gp(n){var e=this.__data__=new nee(n);this.size=e.size}gp.prototype.clear=ree;gp.prototype.delete=iee;gp.prototype.get=oee;gp.prototype.has=see;gp.prototype.set=aee;var lee="__lodash_hash_undefined__";function cee(n){return this.__data__.set(n,lee),this}var uee=cee;function dee(n){return this.__data__.has(n)}var fee=dee,hee=GV,pee=uee,mee=fee;function Jb(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new hee;++e<t;)this.add(n[e])}Jb.prototype.add=Jb.prototype.push=pee;Jb.prototype.has=mee;var gee=us;gee.Uint8Array;var kP=XT,DP=kP?kP.prototype:void 0;DP&&DP.valueOf;function yee(n){return n!=null&&typeof n=="object"}var QV=yee,vee=ZT,_ee=QV,wee="[object Arguments]";function bee(n){return _ee(n)&&vee(n)==wee}var Eee=bee,PP=Eee,See=QV,JV=Object.prototype,Tee=JV.hasOwnProperty,xee=JV.propertyIsEnumerable;PP(function(){return arguments}());var Sy={exports:{}};function Iee(){return!1}var Cee=Iee;Sy.exports;(function(n,e){var t=us,r=Cee,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c})(Sy,Sy.exports);Sy.exports;var Ty={exports:{}};Ty.exports;(function(n,e){var t=HV,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(Ty,Ty.exports);var kee=Ty.exports,RP=kee;RP&&RP.isTypedArray;var Dee=ad,Pee=us,Ree=Dee(Pee,"DataView"),Aee=Ree,Mee=ad,Oee=us,Nee=Mee(Oee,"Promise"),Lee=Nee,Fee=ad,Vee=us,$ee=Fee(Vee,"Set"),Bee=$ee,zee=ad,jee=us,Uee=zee(jee,"WeakMap"),Wee=Uee,Xb=Aee,Zb=ex,eE=Lee,tE=Bee,nE=Wee,XV=ZT,ud=YV,AP="[object Map]",Hee="[object Object]",MP="[object Promise]",OP="[object Set]",NP="[object WeakMap]",LP="[object DataView]",qee=ud(Xb),Kee=ud(Zb),Yee=ud(eE),Gee=ud(tE),Qee=ud(nE),vc=XV;(Xb&&vc(new Xb(new ArrayBuffer(1)))!=LP||Zb&&vc(new Zb)!=AP||eE&&vc(eE.resolve())!=MP||tE&&vc(new tE)!=OP||nE&&vc(new nE)!=NP)&&(vc=function(n){var e=XV(n),t=e==Hee?n.constructor:void 0,r=t?ud(t):"";if(r)switch(r){case qee:return LP;case Kee:return AP;case Yee:return MP;case Gee:return OP;case Qee:return NP}return e});const Jee=async(n,e,t,r=!1,i,o=[],s=null,a=null)=>{if(!n){console.error("User is not authenticated");return}const l=Date.now(),c={key:UQ(),title:e,content:t,isList:r,userId:n.uid,creationDate:l,modifiedDate:l,isPinned:!1,isFavorite:!1,isArchived:!1,tags:o,dueDateTime:s,reminderDateTime:a};try{const u=await VH(iF(ed,"notes"),c);console.log("Added note:",{...c,id:u.id})}catch(u){console.error("Error adding note:",u)}},Xee=async(n,e,t,r,i,o,s,a,l)=>{try{const c=Zv(ed,"notes",n),u=await pF(c);if(!u.exists()){console.error("Note does not exist");return}const d=u.data(),h={title:e,content:t,isPinned:r!==void 0?r:d.isPinned,isFavorite:i!==void 0?i:d.isFavorite,isArchived:o!==void 0?o:d.isArchived,tags:s!==void 0?s:d.tags,dueDateTime:a!==void 0?a:d.dueDateTime,reminderDateTime:l!==void 0?l:d.reminderDateTime,modifiedDate:Date.now()};await LH(c,h),console.log("Updated note with id:",n)}catch(c){console.error("Error updating note:",c)}},ZV=async(n,e)=>{try{const t=Zv(ed,"notes",n);await FH(t),e(r=>r.filter(i=>i.id!==n)),console.log("Removed note with id:",n)}catch(t){console.error("Error removing note:",t)}},Zee=async n=>{try{const e=Zv(ed,"notes",n),t=await pF(e);return t.exists()?{id:t.id,...t.data()}:(console.error("Note not found"),null)}catch(e){throw console.error("Error fetching note:",e),e}};var tx={},ete=Si;Object.defineProperty(tx,"__esModule",{value:!0});var e$=tx.default=void 0,tte=ete(wo()),nte=N;e$=tx.default=(0,tte.default)((0,nte.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");var yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=Symbol.for("react.element"),rx=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),rte=Symbol.for("react.server_context"),X0=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),e_=Symbol.for("react.suspense_list"),t_=Symbol.for("react.memo"),n_=Symbol.for("react.lazy"),ite=Symbol.for("react.offscreen"),t$;t$=Symbol.for("react.module.reference");function Ii(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case nx:switch(n=n.type,n){case K0:case G0:case Y0:case Z0:case e_:return n;default:switch(n=n&&n.$$typeof,n){case rte:case J0:case X0:case n_:case t_:case Q0:return n;default:return e}}case rx:return e}}}yt.ContextConsumer=J0;yt.ContextProvider=Q0;yt.Element=nx;yt.ForwardRef=X0;yt.Fragment=K0;yt.Lazy=n_;yt.Memo=t_;yt.Portal=rx;yt.Profiler=G0;yt.StrictMode=Y0;yt.Suspense=Z0;yt.SuspenseList=e_;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(n){return Ii(n)===J0};yt.isContextProvider=function(n){return Ii(n)===Q0};yt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===nx};yt.isForwardRef=function(n){return Ii(n)===X0};yt.isFragment=function(n){return Ii(n)===K0};yt.isLazy=function(n){return Ii(n)===n_};yt.isMemo=function(n){return Ii(n)===t_};yt.isPortal=function(n){return Ii(n)===rx};yt.isProfiler=function(n){return Ii(n)===G0};yt.isStrictMode=function(n){return Ii(n)===Y0};yt.isSuspense=function(n){return Ii(n)===Z0};yt.isSuspenseList=function(n){return Ii(n)===e_};yt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===K0||n===G0||n===Y0||n===Z0||n===e_||n===ite||typeof n=="object"&&n!==null&&(n.$$typeof===n_||n.$$typeof===t_||n.$$typeof===Q0||n.$$typeof===J0||n.$$typeof===X0||n.$$typeof===t$||n.getModuleId!==void 0)};yt.typeOf=Ii;function rE(n,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},rE(n,e)}function n$(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,rE(n,e)}const FP={disabled:!1},xy=$.createContext(null);var ote=function(e){return e.scrollTop},gf="unmounted",Ba="exited",za="entering",Dc="entered",iE="exiting",bo=function(n){n$(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Ba,o.appearStatus=za):l=Dc:r.unmountOnExit||r.mountOnEnter?l=gf:l=Ba,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===gf?{status:Ba}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==za&&s!==Dc&&(o=za):(s===za||s===Dc)&&(o=iE)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===za){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Hc.findDOMNode(this);s&&ote(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ba&&this.setState({status:gf})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Hc.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||FP.disabled){this.safeSetState({status:Dc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:za},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Dc},function(){o.props.onEntered(c,u)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Hc.findDOMNode(this);if(!o||FP.disabled){this.safeSetState({status:Ba},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:iE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ba},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Hc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===gf)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Ee(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(xy.Provider,{value:null},typeof s=="function"?s(i,a):$.cloneElement($.Children.only(s),a))},e}($.Component);bo.contextType=xy;bo.propTypes={};function _c(){}bo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_c,onEntering:_c,onEntered:_c,onExit:_c,onExiting:_c,onExited:_c};bo.UNMOUNTED=gf;bo.EXITED=Ba;bo.ENTERING=za;bo.ENTERED=Dc;bo.EXITING=iE;function ste(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ix(n,e){var t=function(o){return e&&x.isValidElement(o)?e(o):o},r=Object.create(null);return n&&x.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function ate(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=t(c)}a[l]=t(l)}for(s=0;s<i.length;s++)a[i[s]]=t(i[s]);return a}function el(n,e,t){return t[e]!=null?t[e]:n.props[e]}function lte(n,e){return ix(n.children,function(t){return x.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:el(t,"appear",n),enter:el(t,"enter",n),exit:el(t,"exit",n)})})}function cte(n,e,t){var r=ix(n.children),i=ate(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(x.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=x.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=x.cloneElement(s,{onExited:t.bind(null,s),in:!0,exit:el(s,"exit",n),enter:el(s,"enter",n)}):!l&&a&&!u?i[o]=x.cloneElement(s,{in:!1}):l&&a&&x.isValidElement(c)&&(i[o]=x.cloneElement(s,{onExited:t.bind(null,s),in:c.props.in,exit:el(s,"exit",n),enter:el(s,"enter",n)}))}}),i}var ute=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},dte={component:"div",childFactory:function(e){return e}},ox=function(n){n$(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=o.handleExited.bind(ste(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?lte(i,a):cte(i,s,a),firstRender:!1}},t.handleExited=function(i,o){var s=ix(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=L({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Ee(i,["component","childFactory"]),l=this.state.contextValue,c=ute(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?$.createElement(xy.Provider,{value:l},c):$.createElement(xy.Provider,{value:l},$.createElement(o,a,c))},e}($.Component);ox.propTypes={};ox.defaultProps=dte;const r$=n=>n.scrollTop;function Iy(n,e){var t,r;const{timeout:i,easing:o,style:s={}}=n;return{duration:(t=s.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function fte(n){return Ct("MuiPaper",n)}gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hte=["className","component","elevation","square","variant"],pte=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Rt(o,fte,i)},mte=Ie("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return L({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&L({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${oo("#fff",wP(e.elevation))}, ${oo("#fff",wP(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),gte=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=Ee(r,hte),u=L({},r,{component:o,elevation:s,square:a,variant:l}),d=pte(u);return N.jsx(mte,L({as:o,ownerState:u,className:de(d.root,i),ref:t},c))});function yte(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=n,[u,d]=x.useState(!1),h=de(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=de(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&d(!0),x.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),N.jsx("span",{className:h,style:p,children:N.jsx("span",{className:m})})}const si=gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vte=["center","classes","className"];let r_=n=>n,VP,$P,BP,zP;const oE=550,_te=80,wte=B0(VP||(VP=r_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bte=B0($P||($P=r_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ete=B0(BP||(BP=r_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ste=Ie("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Tte=Ie(yte,{name:"MuiTouchRipple",slot:"Ripple"})(zP||(zP=r_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),si.rippleVisible,wte,oE,({theme:n})=>n.transitions.easing.easeInOut,si.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,si.child,si.childLeaving,bte,oE,({theme:n})=>n.transitions.easing.easeInOut,si.childPulsate,Ete,({theme:n})=>n.transitions.easing.easeInOut),xte=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Ee(r,vte),[l,c]=x.useState([]),u=x.useRef(0),d=x.useRef(null);x.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=x.useRef(!1),p=nV(),m=x.useRef(null),g=x.useRef(null),_=x.useCallback(C=>{const{pulsate:D,rippleX:M,rippleY:S,rippleSize:E,cb:I}=C;c(k=>[...k,N.jsx(Tte,{classes:{ripple:de(o.ripple,si.ripple),rippleVisible:de(o.rippleVisible,si.rippleVisible),ripplePulsate:de(o.ripplePulsate,si.ripplePulsate),child:de(o.child,si.child),childLeaving:de(o.childLeaving,si.childLeaving),childPulsate:de(o.childPulsate,si.childPulsate)},timeout:oE,pulsate:D,rippleX:M,rippleY:S,rippleSize:E},u.current)]),u.current+=1,d.current=I},[o]),v=x.useCallback((C={},D={},M=()=>{})=>{const{pulsate:S=!1,center:E=i||D.pulsate,fakeElement:I=!1}=D;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const k=I?null:g.current,A=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,P,U;if(E||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)O=Math.round(A.width/2),P=Math.round(A.height/2);else{const{clientX:K,clientY:W}=C.touches&&C.touches.length>0?C.touches[0]:C;O=Math.round(K-A.left),P=Math.round(W-A.top)}if(E)U=Math.sqrt((2*A.width**2+A.height**2)/3),U%2===0&&(U+=1);else{const K=Math.max(Math.abs((k?k.clientWidth:0)-O),O)*2+2,W=Math.max(Math.abs((k?k.clientHeight:0)-P),P)*2+2;U=Math.sqrt(K**2+W**2)}C!=null&&C.touches?m.current===null&&(m.current=()=>{_({pulsate:S,rippleX:O,rippleY:P,rippleSize:U,cb:M})},p.start(_te,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:S,rippleX:O,rippleY:P,rippleSize:U,cb:M})},[i,_,p]),w=x.useCallback(()=>{v({},{pulsate:!0})},[v]),b=x.useCallback((C,D)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{b(C,D)});return}m.current=null,c(M=>M.length>0?M.slice(1):M),d.current=D},[p]);return x.useImperativeHandle(t,()=>({pulsate:w,start:v,stop:b}),[w,v,b]),N.jsx(Ste,L({className:de(si.root,o.root,s),ref:g},a,{children:N.jsx(ox,{component:null,exit:!0,children:l})}))});function Ite(n){return Ct("MuiButtonBase",n)}const Cte=gt("MuiButtonBase",["root","disabled","focusVisible"]),kte=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Dte=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,s=Rt({root:["root",e&&"disabled",t&&"focusVisible"]},Ite,i);return t&&r&&(s.root+=` ${r}`),s},Pte=Ie("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Cte.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sx=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:g,onContextMenu:_,onDragLeave:v,onFocus:w,onFocusVisible:b,onKeyDown:C,onKeyUp:D,onMouseDown:M,onMouseLeave:S,onMouseUp:E,onTouchEnd:I,onTouchMove:k,onTouchStart:A,tabIndex:O=0,TouchRippleProps:P,touchRippleRef:U,type:K}=r,W=Ee(r,kte),q=x.useRef(null),V=x.useRef(null),Y=rr(V,U),{isFocusVisibleRef:Z,onFocus:ne,onBlur:fe,ref:re}=rV(),[ge,ce]=x.useState(!1);c&&ge&&ce(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),q.current.focus()}}),[]);const[Se,je]=x.useState(!1);x.useEffect(()=>{je(!0)},[]);const Bt=Se&&!u&&!c;x.useEffect(()=>{ge&&h&&!u&&Se&&V.current.pulsate()},[u,h,ge,Se]);function vt(_e,Un,qi=d){return Za(Wn=>(Un&&Un(Wn),!qi&&V.current&&V.current[_e](Wn),!0))}const zt=vt("start",M),Me=vt("stop",_),Ue=vt("stop",v),Ce=vt("stop",E),Pe=vt("stop",_e=>{ge&&_e.preventDefault(),S&&S(_e)}),Je=vt("start",A),or=vt("stop",I),Xt=vt("stop",k),fn=vt("stop",_e=>{fe(_e),Z.current===!1&&ce(!1),m&&m(_e)},!1),hn=Za(_e=>{q.current||(q.current=_e.currentTarget),ne(_e),Z.current===!0&&(ce(!0),b&&b(_e)),w&&w(_e)}),pn=()=>{const _e=q.current;return l&&l!=="button"&&!(_e.tagName==="A"&&_e.href)},it=x.useRef(!1),Fr=Za(_e=>{h&&!it.current&&ge&&V.current&&_e.key===" "&&(it.current=!0,V.current.stop(_e,()=>{V.current.start(_e)})),_e.target===_e.currentTarget&&pn()&&_e.key===" "&&_e.preventDefault(),C&&C(_e),_e.target===_e.currentTarget&&pn()&&_e.key==="Enter"&&!c&&(_e.preventDefault(),g&&g(_e))}),jt=Za(_e=>{h&&_e.key===" "&&V.current&&ge&&!_e.defaultPrevented&&(it.current=!1,V.current.stop(_e,()=>{V.current.pulsate(_e)})),D&&D(_e),g&&_e.target===_e.currentTarget&&pn()&&_e.key===" "&&!_e.defaultPrevented&&g(_e)});let We=l;We==="button"&&(W.href||W.to)&&(We=p);const sn={};We==="button"?(sn.type=K===void 0?"button":K,sn.disabled=c):(!W.href&&!W.to&&(sn.role="button"),c&&(sn["aria-disabled"]=c));const Xe=rr(t,re,q),ht=L({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:O,focusVisible:ge}),He=Dte(ht);return N.jsxs(Pte,L({as:We,className:de(He.root,a),ownerState:ht,onBlur:fn,onClick:g,onContextMenu:Me,onFocus:hn,onKeyDown:Fr,onKeyUp:jt,onMouseDown:zt,onMouseLeave:Pe,onMouseUp:Ce,onDragLeave:Ue,onTouchEnd:or,onTouchMove:Xt,onTouchStart:Je,ref:Xe,tabIndex:c?-1:O,type:K},sn,W,{children:[s,Bt?N.jsx(xte,L({ref:Y,center:o},P)):null]}))});function Rte(n){return Ct("MuiTypography",n)}gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ate=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Mte=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:o,classes:s}=n,a={root:["root",o,n.align!=="inherit"&&`align${Re(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Rt(a,Rte,s)},Ote=Ie("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Re(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>L({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),jP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Nte={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Lte=n=>Nte[n]||n,i$=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTypography"}),i=Lte(r.color),o=qT(L({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=jP}=o,m=Ee(o,Ate),g=L({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),_=l||(d?"p":p[h]||jP[h])||"span",v=Mte(g);return N.jsx(Ote,L({as:_,ref:t,ownerState:g,className:de(v.root,a)},m))}),Fte=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Vte(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function $te(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Bte(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||$te(n))}function zte(n){const e=[],t=[];return Array.from(n.querySelectorAll(Fte)).forEach((r,i)=>{const o=Vte(r);o===-1||!Bte(r)||(o===0?e.push(r):t.push({documentOrder:i,tabIndex:o,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function jte(){return!0}function Ute(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=zte,isEnabled:s=jte,open:a}=n,l=x.useRef(!1),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),p=x.useRef(!1),m=x.useRef(null),g=rr(e.ref,m),_=x.useRef(null);x.useEffect(()=>{!a||!m.current||(p.current=!t)},[t,a]),x.useEffect(()=>{if(!a||!m.current)return;const b=Or(m.current);return m.current.contains(b.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),x.useEffect(()=>{if(!a||!m.current)return;const b=Or(m.current),C=S=>{_.current=S,!(r||!s()||S.key!=="Tab")&&b.activeElement===m.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},D=()=>{const S=m.current;if(S===null)return;if(!b.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==u.current)return;if(b.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let E=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(E=o(m.current)),E.length>0){var I,k;const A=!!((I=_.current)!=null&&I.shiftKey&&((k=_.current)==null?void 0:k.key)==="Tab"),O=E[0],P=E[E.length-1];typeof O!="string"&&typeof P!="string"&&(A?P.focus():O.focus())}else S.focus()};b.addEventListener("focusin",D),b.addEventListener("keydown",C,!0);const M=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),b.removeEventListener("focusin",D),b.removeEventListener("keydown",C,!0)}},[t,r,i,s,a,o]);const v=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0,h.current=b.target;const C=e.props.onFocus;C&&C(b)},w=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0};return N.jsxs(x.Fragment,{children:[N.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:g,onFocus:v}),N.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}const Ru=Math.min,dl=Math.max,Cy=Math.round,gm=Math.floor,pa=n=>({x:n,y:n}),Wte={left:"right",right:"left",bottom:"top",top:"bottom"},Hte={start:"end",end:"start"};function qte(n,e,t){return dl(n,Ru(e,t))}function i_(n,e){return typeof n=="function"?n(e):n}function Au(n){return n.split("-")[0]}function yp(n){return n.split("-")[1]}function Kte(n){return n==="x"?"y":"x"}function ax(n){return n==="y"?"height":"width"}function Ah(n){return["top","bottom"].includes(Au(n))?"y":"x"}function lx(n){return Kte(Ah(n))}function Yte(n,e,t){t===void 0&&(t=!1);const r=yp(n),i=lx(n),o=ax(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=ky(s)),[s,ky(s)]}function Gte(n){const e=ky(n);return[sE(n),e,sE(e)]}function sE(n){return n.replace(/start|end/g,e=>Hte[e])}function Qte(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Jte(n,e,t,r){const i=yp(n);let o=Qte(Au(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(sE)))),o}function ky(n){return n.replace(/left|right|bottom|top/g,e=>Wte[e])}function Xte(n){return{top:0,right:0,bottom:0,left:0,...n}}function o$(n){return typeof n!="number"?Xte(n):{top:n,right:n,bottom:n,left:n}}function Dy(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function UP(n,e,t){let{reference:r,floating:i}=n;const o=Ah(e),s=lx(e),a=ax(s),l=Au(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(yp(e)){case"start":p[s]-=h*(t&&c?-1:1);break;case"end":p[s]+=h*(t&&c?-1:1);break}return p}const Zte=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=UP(c,r,l),h=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:_,fn:v}=a[g],{x:w,y:b,data:C,reset:D}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:n,floating:e}});u=w??u,d=b??d,p={...p,[_]:{...p[_],...C}},D&&m<=50&&(m++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(c=D.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):D.rects),{x:u,y:d}=UP(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function ene(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=i_(e,n),m=o$(p),_=a[h?d==="floating"?"reference":"floating":d],v=Dy(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(_)))==null||t?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Dy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-D.top+m.top)/C.y,bottom:(D.bottom-v.bottom+m.bottom)/C.y,left:(v.left-D.left+m.left)/C.x,right:(D.right-v.right+m.right)/C.x}}const tne=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=i_(n,e)||{};if(c==null)return{};const d=o$(u),h={x:t,y:r},p=lx(i),m=ax(p),g=await s.getDimensions(c),_=p==="y",v=_?"top":"left",w=_?"bottom":"right",b=_?"clientHeight":"clientWidth",C=o.reference[m]+o.reference[p]-h[p]-o.floating[m],D=h[p]-o.reference[p],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=M?M[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(M)))&&(S=a.floating[b]||o.floating[m]);const E=C/2-D/2,I=S/2-g[m]/2-1,k=Ru(d[v],I),A=Ru(d[w],I),O=k,P=S-g[m]-A,U=S/2-g[m]/2+E,K=qte(O,U,P),W=!l.arrow&&yp(i)!=null&&U!==K&&o.reference[m]/2-(U<O?k:A)-g[m]/2<0,q=W?U<O?U-O:U-P:0;return{[p]:h[p]+q,data:{[p]:K,centerOffset:U-K-q,...W&&{alignmentOffset:q}},reset:W}}}),nne=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,..._}=i_(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const v=Au(i),w=Ah(a),b=Au(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=h||(b||!g?[ky(a)]:Gte(a)),M=m!=="none";!h&&M&&D.push(...Jte(a,g,m,C));const S=[a,...D],E=await ene(e,_),I=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[v]),d){const U=Yte(i,s,C);I.push(E[U[0]],E[U[1]])}if(k=[...k,{placement:i,overflows:I}],!I.every(U=>U<=0)){var A,O;const U=(((A=o.flip)==null?void 0:A.index)||0)+1,K=S[U];if(K)return{data:{index:U,overflows:k},reset:{placement:K}};let W=(O=k.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(p){case"bestFit":{var P;const q=(P=k.filter(V=>{if(M){const Y=Ah(V.placement);return Y===w||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,Z)=>Y+Z,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:P[0];q&&(W=q);break}case"initialPlacement":W=a;break}if(i!==W)return{reset:{placement:W}}}return{}}}};async function rne(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Au(t),a=yp(t),l=Ah(t)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=i_(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const ine=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await rne(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function o_(){return typeof window<"u"}function dd(n){return s$(n)?(n.nodeName||"").toLowerCase():"#document"}function Gr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ds(n){var e;return(e=(s$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function s$(n){return o_()?n instanceof Node||n instanceof Gr(n).Node:!1}function hr(n){return o_()?n instanceof Element||n instanceof Gr(n).Element:!1}function yo(n){return o_()?n instanceof HTMLElement||n instanceof Gr(n).HTMLElement:!1}function WP(n){return!o_()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Gr(n).ShadowRoot}function vp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=bi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function one(n){return["table","td","th"].includes(dd(n))}function s_(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function cx(n){const e=ux(),t=hr(n)?bi(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function sne(n){let e=ma(n);for(;yo(e)&&!Mu(e);){if(cx(e))return e;if(s_(e))return null;e=ma(e)}return null}function ux(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mu(n){return["html","body","#document"].includes(dd(n))}function bi(n){return Gr(n).getComputedStyle(n)}function a_(n){return hr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ma(n){if(dd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||WP(n)&&n.host||ds(n);return WP(e)?e.host:e}function a$(n){const e=ma(n);return Mu(e)?n.ownerDocument?n.ownerDocument.body:n.body:yo(e)&&vp(e)?e:a$(e)}function Mh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=a$(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Gr(i);if(o){const a=ane(s);return e.concat(s,s.visualViewport||[],vp(i)?i:[],a&&t?Mh(a):[])}return e.concat(i,Mh(i,[],t))}function ane(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function l$(n){const e=bi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=yo(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=Cy(t)!==o||Cy(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function dx(n){return hr(n)?n:n.contextElement}function au(n){const e=dx(n);if(!yo(e))return pa(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=l$(e);let s=(o?Cy(t.width):t.width)/r,a=(o?Cy(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const lne=pa(0);function c$(n){const e=Gr(n);return!ux()||!e.visualViewport?lne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cne(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gr(n)?!1:e}function Fl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=dx(n);let s=pa(1);e&&(r?hr(r)&&(s=au(r)):s=au(n));const a=cne(o,t,r)?c$(o):pa(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=Gr(o),p=r&&hr(r)?Gr(r):r;let m=h,g=m.frameElement;for(;g&&r&&p!==m;){const _=au(g),v=g.getBoundingClientRect(),w=bi(g),b=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*_.x,C=v.top+(g.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=C,m=Gr(g),g=m.frameElement}}return Dy({width:u,height:d,x:l,y:c})}function une(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=ds(r),a=e?s_(e.floating):!1;if(r===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},c=pa(1);const u=pa(0),d=yo(r);if((d||!d&&!o)&&((dd(r)!=="body"||vp(s))&&(l=a_(r)),yo(r))){const h=Fl(r);c=au(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function dne(n){return Array.from(n.getClientRects())}function u$(n){return Fl(ds(n)).left+a_(n).scrollLeft}function fne(n){const e=ds(n),t=a_(n),r=n.ownerDocument.body,i=dl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=dl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+u$(n);const a=-t.scrollTop;return bi(r).direction==="rtl"&&(s+=dl(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function hne(n,e){const t=Gr(n),r=ds(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=ux();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function pne(n,e){const t=Fl(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=yo(n)?au(n):pa(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function HP(n,e,t){let r;if(e==="viewport")r=hne(n,t);else if(e==="document")r=fne(ds(n));else if(hr(e))r=pne(e,t);else{const i=c$(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Dy(r)}function d$(n,e){const t=ma(n);return t===e||!hr(t)||Mu(t)?!1:bi(t).position==="fixed"||d$(t,e)}function mne(n,e){const t=e.get(n);if(t)return t;let r=Mh(n,[],!1).filter(a=>hr(a)&&dd(a)!=="body"),i=null;const o=bi(n).position==="fixed";let s=o?ma(n):n;for(;hr(s)&&!Mu(s);){const a=bi(s),l=cx(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||vp(s)&&!l&&d$(n,s))?r=r.filter(u=>u!==s):i=a,s=ma(s)}return e.set(n,r),r}function gne(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?s_(e)?[]:mne(e,this._c):[].concat(t),r],a=s[0],l=s.reduce((c,u)=>{const d=HP(e,u,i);return c.top=dl(d.top,c.top),c.right=Ru(d.right,c.right),c.bottom=Ru(d.bottom,c.bottom),c.left=dl(d.left,c.left),c},HP(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yne(n){const{width:e,height:t}=l$(n);return{width:e,height:t}}function vne(n,e,t){const r=yo(e),i=ds(e),o=t==="fixed",s=Fl(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=pa(0);if(r||!r&&!o)if((dd(e)!=="body"||vp(i))&&(a=a_(e)),r){const d=Fl(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=u$(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function kw(n){return bi(n).position==="static"}function qP(n,e){return!yo(n)||bi(n).position==="fixed"?null:e?e(n):n.offsetParent}function f$(n,e){const t=Gr(n);if(s_(n))return t;if(!yo(n)){let i=ma(n);for(;i&&!Mu(i);){if(hr(i)&&!kw(i))return i;i=ma(i)}return t}let r=qP(n,e);for(;r&&one(r)&&kw(r);)r=qP(r,e);return r&&Mu(r)&&kw(r)&&!cx(r)?t:r||sne(n)||t}const _ne=async function(n){const e=this.getOffsetParent||f$,t=this.getDimensions,r=await t(n.floating);return{reference:vne(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wne(n){return bi(n).direction==="rtl"}const bne={convertOffsetParentRelativeRectToViewportRelativeRect:une,getDocumentElement:ds,getClippingRect:gne,getOffsetParent:f$,getElementRects:_ne,getClientRects:dne,getDimensions:yne,getScale:au,isElement:hr,isRTL:wne};function Ene(n,e){let t=null,r;const i=ds(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=n.getBoundingClientRect();if(a||e(),!d||!h)return;const p=gm(u),m=gm(i.clientWidth-(c+d)),g=gm(i.clientHeight-(u+h)),_=gm(c),w={rootMargin:-p+"px "+-m+"px "+-g+"px "+-_+"px",threshold:dl(0,Ru(1,l))||1};let b=!0;function C(D){const M=D[0].intersectionRatio;if(M!==l){if(!b)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(C,w)}t.observe(n)}return s(!0),o}function Sne(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dx(n),u=i||o?[...c?Mh(c):[],...Mh(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),o&&v.addEventListener("resize",t)});const d=c&&a?Ene(c,t):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Fl(n):null;l&&_();function _(){const v=Fl(n);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&t(),g=v,m=requestAnimationFrame(_)}return t(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",t),o&&w.removeEventListener("resize",t)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Tne=ine,xne=nne,KP=tne,Ine=(n,e,t)=>{const r=new Map,i={platform:bne,...t},o={...i.platform,_c:r};return Zte(n,e,{...i,platform:o})};var hg=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Py(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Py(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Py(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function h$(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function YP(n,e){const t=h$(n);return Math.round(e*t)/t}function Dw(n){const e=x.useRef(n);return hg(()=>{e.current=n}),e}function Cne(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(r);Py(h,r)||p(r);const[m,g]=x.useState(null),[_,v]=x.useState(null),w=x.useCallback(V=>{V!==M.current&&(M.current=V,g(V))},[]),b=x.useCallback(V=>{V!==S.current&&(S.current=V,v(V))},[]),C=o||m,D=s||_,M=x.useRef(null),S=x.useRef(null),E=x.useRef(u),I=l!=null,k=Dw(l),A=Dw(i),O=Dw(c),P=x.useCallback(()=>{if(!M.current||!S.current)return;const V={placement:e,strategy:t,middleware:h};A.current&&(V.platform=A.current),Ine(M.current,S.current,V).then(Y=>{const Z={...Y,isPositioned:O.current!==!1};U.current&&!Py(E.current,Z)&&(E.current=Z,Av.flushSync(()=>{d(Z)}))})},[h,e,t,A,O]);hg(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[c]);const U=x.useRef(!1);hg(()=>(U.current=!0,()=>{U.current=!1}),[]),hg(()=>{if(C&&(M.current=C),D&&(S.current=D),C&&D){if(k.current)return k.current(C,D,P);P()}},[C,D,P,k,I]);const K=x.useMemo(()=>({reference:M,floating:S,setReference:w,setFloating:b}),[w,b]),W=x.useMemo(()=>({reference:C,floating:D}),[C,D]),q=x.useMemo(()=>{const V={position:t,left:0,top:0};if(!W.floating)return V;const Y=YP(W.floating,u.x),Z=YP(W.floating,u.y);return a?{...V,transform:"translate("+Y+"px, "+Z+"px)",...h$(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:Z}},[t,a,W.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:P,refs:K,elements:W,floatingStyles:q}),[u,P,K,W,q])}const kne=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?KP({element:r.current,padding:i}).fn(t):{}:r?KP({element:r,padding:i}).fn(t):{}}}},Dne=(n,e)=>({...Tne(n),options:[n,e]}),Pne=(n,e)=>({...xne(n),options:[n,e]}),Rne=(n,e)=>({...kne(n),options:[n,e]});function Ane(n){return typeof n=="function"?n():n}const Mne=x.forwardRef(function(e,t){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=x.useState(null),l=rr(x.isValidElement(r)?r.ref:null,t);if(ts(()=>{o||a(Ane(i)||document.body)},[i,o]),ts(()=>{if(s&&!o)return vy(t,s),()=>{vy(t,null)}},[t,s,o]),o){if(x.isValidElement(r)){const c={ref:l};return x.cloneElement(r,c)}return N.jsx(x.Fragment,{children:r})}return N.jsx(x.Fragment,{children:s&&Av.createPortal(r,s)})});function One(n){const e=Or(n);return e.body===n?ha(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function $f(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function GP(n){return parseInt(ha(n).getComputedStyle(n).paddingRight,10)||0}function Nne(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function QP(n,e,t,r,i){const o=[e,t,...r];[].forEach.call(n.children,s=>{const a=o.indexOf(s)===-1,l=!Nne(s);a&&l&&$f(s,i)})}function Pw(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function Lne(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(One(r)){const s=iV(Or(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${GP(r)+s}px`;const a=Or(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${GP(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Or(r).body;else{const s=r.parentElement,a=ha(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Fne(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class Vne{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&$f(e.modalRef,!1);const i=Fne(t);QP(t,e.mount,e.modalRef,i,!0);const o=Pw(this.containers,s=>s.container===t);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=Pw(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Lne(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Pw(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&$f(e.modalRef,t),QP(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&$f(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function $ne(n){return typeof n=="function"?n():n}function Bne(n){return n?n.props.hasOwnProperty("in"):!1}const zne=new Vne;function jne(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,manager:i=zne,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=n,h=x.useRef({}),p=x.useRef(null),m=x.useRef(null),g=rr(m,d),[_,v]=x.useState(!u),w=Bne(l);let b=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(b=!1);const C=()=>Or(p.current),D=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),M=()=>{i.mount(D(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},S=Za(()=>{const W=$ne(e)||C().body;i.add(D(),W),m.current&&M()}),E=x.useCallback(()=>i.isTopModal(D()),[i]),I=Za(W=>{p.current=W,W&&(u&&E()?M():m.current&&$f(m.current,b))}),k=x.useCallback(()=>{i.remove(D(),b)},[b,i]);x.useEffect(()=>()=>{k()},[k]),x.useEffect(()=>{u?S():(!w||!o)&&k()},[u,k,w,o,S]);const A=W=>q=>{var V;(V=W.onKeyDown)==null||V.call(W,q),!(q.key!=="Escape"||q.which===229||!E())&&(t||(q.stopPropagation(),c&&c(q,"escapeKeyDown")))},O=W=>q=>{var V;(V=W.onClick)==null||V.call(W,q),q.target===q.currentTarget&&c&&c(q,"backdropClick")};return{getRootProps:(W={})=>{const q=WV(n);delete q.onTransitionEnter,delete q.onTransitionExited;const V=L({},q,W);return L({role:"presentation"},V,{onKeyDown:A(V),ref:g})},getBackdropProps:(W={})=>{const q=W;return L({"aria-hidden":!0},q,{onClick:O(q),open:u})},getTransitionProps:()=>{const W=()=>{v(!1),s&&s()},q=()=>{v(!0),a&&a(),o&&k()};return{onEnter:jb(W,l==null?void 0:l.props.onEnter),onExited:jb(q,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:I,isTopModal:E,exited:_,hasTransition:w}}const Une=["onChange","maxRows","minRows","style","value"];function ym(n){return parseInt(n,10)||0}const Wne={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Hne(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const qne=x.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Ee(e,Une),{current:c}=x.useRef(a!=null),u=x.useRef(null),d=rr(t,u),h=x.useRef(null),p=x.useCallback(()=>{const _=u.current,w=ha(_).getComputedStyle(_);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const b=h.current;b.style.width=w.width,b.value=_.value||e.placeholder||"x",b.value.slice(-1)===`
`&&(b.value+=" ");const C=w.boxSizing,D=ym(w.paddingBottom)+ym(w.paddingTop),M=ym(w.borderBottomWidth)+ym(w.borderTopWidth),S=b.scrollHeight;b.value="x";const E=b.scrollHeight;let I=S;o&&(I=Math.max(Number(o)*E,I)),i&&(I=Math.min(Number(i)*E,I)),I=Math.max(I,E);const k=I+(C==="border-box"?D+M:0),A=Math.abs(I-S)<=1;return{outerHeightStyle:k,overflowing:A}},[i,o,e.placeholder]),m=x.useCallback(()=>{const _=p();if(Hne(_))return;const v=u.current;v.style.height=`${_.outerHeightStyle}px`,v.style.overflow=_.overflowing?"hidden":""},[p]);ts(()=>{const _=()=>{m()};let v;const w=PT(_),b=u.current,C=ha(b);C.addEventListener("resize",w);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(_),D.observe(b)),()=>{w.clear(),cancelAnimationFrame(v),C.removeEventListener("resize",w),D&&D.disconnect()}},[p,m]),ts(()=>{m()});const g=_=>{c||m(),r&&r(_)};return N.jsxs(x.Fragment,{children:[N.jsx("textarea",L({value:a,onChange:g,ref:d,rows:o,style:s},l)),N.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:L({},Wne.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function fd({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const fx=x.createContext(void 0);function hd(){return x.useContext(fx)}function Kne(n){return N.jsx(WQ,L({},n,{defaultTheme:j0,themeId:pp}))}function JP(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function Ry(n,e=!1){return n&&(JP(n.value)&&n.value!==""||e&&JP(n.defaultValue)&&n.defaultValue!=="")}function Yne(n){return n.startAdornment}function Gne(n){return Ct("MuiInputBase",n)}const Ou=gt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Qne=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],l_=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Re(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},c_=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Jne=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=n,g={root:["root",`color${Re(t)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Re(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Rt(g,Gne,e)},u_=Ie("div",{name:"MuiInputBase",slot:"Root",overridesResolver:l_})(({theme:n,ownerState:e})=>L({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ou.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},e.multiline&&L({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),d_=Ie("input",{name:"MuiInputBase",slot:"Input",overridesResolver:c_})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light",r=L({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},o=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return L({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ou.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ou.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Xne=N.jsx(Kne,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hx=x.forwardRef(function(e,t){var r;const i=At({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:g=!1,id:_,inputComponent:v="input",inputProps:w={},inputRef:b,maxRows:C,minRows:D,multiline:M=!1,name:S,onBlur:E,onChange:I,onClick:k,onFocus:A,onKeyDown:O,onKeyUp:P,placeholder:U,readOnly:K,renderSuffix:W,rows:q,slotProps:V={},slots:Y={},startAdornment:Z,type:ne="text",value:fe}=i,re=Ee(i,Qne),ge=w.value!=null?w.value:fe,{current:ce}=x.useRef(ge!=null),Se=x.useRef(),je=x.useCallback(He=>{},[]),Bt=rr(Se,b,w.ref,je),[vt,zt]=x.useState(!1),Me=hd(),Ue=fd({props:i,muiFormControl:Me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=Me?Me.focused:vt,x.useEffect(()=>{!Me&&h&&vt&&(zt(!1),E&&E())},[Me,h,vt,E]);const Ce=Me&&Me.onFilled,Pe=Me&&Me.onEmpty,Je=x.useCallback(He=>{Ry(He)?Ce&&Ce():Pe&&Pe()},[Ce,Pe]);ts(()=>{ce&&Je({value:ge})},[ge,Je,ce]);const or=He=>{if(Ue.disabled){He.stopPropagation();return}A&&A(He),w.onFocus&&w.onFocus(He),Me&&Me.onFocus?Me.onFocus(He):zt(!0)},Xt=He=>{E&&E(He),w.onBlur&&w.onBlur(He),Me&&Me.onBlur?Me.onBlur(He):zt(!1)},fn=(He,..._e)=>{if(!ce){const Un=He.target||Se.current;if(Un==null)throw new Error(Ll(1));Je({value:Un.value})}w.onChange&&w.onChange(He,..._e),I&&I(He,..._e)};x.useEffect(()=>{Je(Se.current)},[]);const hn=He=>{Se.current&&He.currentTarget===He.target&&Se.current.focus(),k&&k(He)};let pn=v,it=w;M&&pn==="input"&&(q?it=L({type:void 0,minRows:q,maxRows:q},it):it=L({type:void 0,maxRows:C,minRows:D},it),pn=qne);const Fr=He=>{Je(He.animationName==="mui-auto-fill-cancel"?Se.current:{value:"x"})};x.useEffect(()=>{Me&&Me.setAdornedStart(!!Z)},[Me,Z]);const jt=L({},i,{color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:m,error:Ue.error,focused:Ue.focused,formControl:Me,fullWidth:g,hiddenLabel:Ue.hiddenLabel,multiline:M,size:Ue.size,startAdornment:Z,type:ne}),We=Jne(jt),sn=Y.root||c.Root||u_,Xe=V.root||u.root||{},ht=Y.input||c.Input||d_;return it=L({},it,(r=V.input)!=null?r:u.input),N.jsxs(x.Fragment,{children:[!p&&Xne,N.jsxs(sn,L({},Xe,!Ey(sn)&&{ownerState:L({},jt,Xe.ownerState)},{ref:t,onClick:hn},re,{className:de(We.root,Xe.className,l,K&&"MuiInputBase-readOnly"),children:[Z,N.jsx(fx.Provider,{value:null,children:N.jsx(ht,L({ownerState:jt,"aria-invalid":Ue.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:Ue.disabled,id:_,onAnimationStart:Fr,name:S,placeholder:U,readOnly:K,required:Ue.required,rows:q,value:ge,onKeyDown:O,onKeyUp:P,type:ne},it,!Ey(ht)&&{as:pn,ownerState:L({},jt,it.ownerState)},{ref:Bt,className:de(We.input,it.className,K&&"MuiInputBase-readOnly"),onBlur:Xt,onChange:fn,onFocus:or}))}),m,W?W(L({},Ue,{startAdornment:Z})):null]}))]})});function Zne(n){return Ct("MuiInput",n)}const Wd=L({},Ou,gt("MuiInput",["root","underline","input"]));function ere(n){return Ct("MuiOutlinedInput",n)}const ws=L({},Ou,gt("MuiOutlinedInput",["root","notchedOutline","input"]));function tre(n){return Ct("MuiFilledInput",n)}const Na=L({},Ou,gt("MuiFilledInput",["root","underline","input"])),nre=QT(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),rre=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ire={entering:{opacity:1},entered:{opacity:1}},ore=x.forwardRef(function(e,t){const r=UV(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:g,style:_,timeout:v=i,TransitionComponent:w=bo}=e,b=Ee(e,rre),C=x.useRef(null),D=rr(C,a.ref,t),M=U=>K=>{if(U){const W=C.current;K===void 0?U(W):U(W,K)}},S=M(h),E=M((U,K)=>{r$(U);const W=Iy({style:_,timeout:v,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",W),U.style.transition=r.transitions.create("opacity",W),u&&u(U,K)}),I=M(d),k=M(g),A=M(U=>{const K=Iy({style:_,timeout:v,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",K),U.style.transition=r.transitions.create("opacity",K),p&&p(U)}),O=M(m),P=U=>{o&&o(C.current,U)};return N.jsx(w,L({appear:s,in:c,nodeRef:C,onEnter:E,onEntered:I,onEntering:S,onExit:A,onExited:O,onExiting:k,addEndListener:P,timeout:v},b,{children:(U,K)=>x.cloneElement(a,L({style:L({opacity:0,visibility:U==="exited"&&!c?"hidden":void 0},ire[U],_,a.props.style),ref:D},K))}))});function sre(n){return Ct("MuiBackdrop",n)}gt("MuiBackdrop",["root","invisible"]);const are=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],lre=n=>{const{classes:e,invisible:t}=n;return Rt({root:["root",t&&"invisible"]},sre,e)},cre=Ie("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),ure=x.forwardRef(function(e,t){var r,i,o;const s=At({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:g={},TransitionComponent:_=ore,transitionDuration:v}=s,w=Ee(s,are),b=L({},s,{component:c,invisible:h}),C=lre(b),D=(r=m.root)!=null?r:d.root;return N.jsx(_,L({in:p,timeout:v},w,{children:N.jsx(cre,L({"aria-hidden":!0},D,{as:(i=(o=g.root)!=null?o:u.Root)!=null?i:c,className:de(C.root,l,D==null?void 0:D.className),ownerState:L({},b,D==null?void 0:D.ownerState),classes:C,ref:t,children:a}))}))}),dre=gt("MuiBox",["root"]),fre=BV(),Vs=qQ({themeId:pp,defaultTheme:fre,defaultClassName:dre.root,generateClassName:MT.generate});function hre(n){return Ct("MuiButton",n)}const vm=gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),pre=x.createContext({}),mre=x.createContext(void 0),gre=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],yre=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:o,classes:s}=n,a={root:["root",o,`${o}${Re(e)}`,`size${Re(i)}`,`${o}Size${Re(i)}`,`color${Re(e)}`,t&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Re(i)}`],endIcon:["icon","endIcon",`iconSize${Re(i)}`]},l=Rt(a,hre,s);return L({},s,l)},p$=n=>L({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),vre=Ie(sx,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Re(t.color)}`],e[`size${Re(t.size)}`],e[`${t.variant}Size${Re(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(({theme:n,ownerState:e})=>{var t,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],o=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return L({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:oo(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:oo(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[e.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:oo(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}),"&:active":L({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${vm.focusVisible}`]:L({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${vm.disabled}`]:L({color:(n.vars||n).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${oo(n.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vm.disabled}`]:{boxShadow:"none"}}),_re=Ie("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${Re(t.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},p$(n))),wre=Ie("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${Re(t.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},p$(n))),fl=x.forwardRef(function(e,t){const r=x.useContext(pre),i=x.useContext(mre),o=AT(r,e),s=At({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:_=!1,size:v="medium",startIcon:w,type:b,variant:C="text"}=s,D=Ee(s,gre),M=L({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:_,size:v,type:b,variant:C}),S=yre(M),E=w&&N.jsx(_re,{className:S.startIcon,ownerState:M,children:w}),I=m&&N.jsx(wre,{className:S.endIcon,ownerState:M,children:m}),k=i||"";return N.jsxs(vre,L({ownerState:M,className:de(r.className,S.root,u,k),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:de(S.focusVisible,g),ref:t,type:b},D,{classes:S,children:[E,a,I]}))}),m$=uJ({createStyledComponent:Ie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${Re(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),useThemeProps:n=>At({props:n,name:"MuiContainer"})});function bre(n){return Ct("MuiModal",n)}gt("MuiModal",["root","hidden","backdrop"]);const Ere=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Sre=n=>{const{open:e,exited:t,classes:r}=n;return Rt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},bre,r)},Tre=Ie("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>L({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),xre=Ie(ure,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),Ire=x.forwardRef(function(e,t){var r,i,o,s,a,l;const c=At({name:"MuiModal",props:e}),{BackdropComponent:u=xre,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:g,component:_,components:v={},componentsProps:w={},disableAutoFocus:b=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:D=!1,disablePortal:M=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:I=!1,keepMounted:k=!1,onBackdropClick:A,open:O,slotProps:P,slots:U}=c,K=Ee(c,Ere),W=L({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:C,disableEscapeKeyDown:D,disablePortal:M,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:I,keepMounted:k}),{getRootProps:q,getBackdropProps:V,getTransitionProps:Y,portalRef:Z,isTopModal:ne,exited:fe,hasTransition:re}=jne(L({},W,{rootRef:t})),ge=L({},W,{exited:fe}),ce=Sre(ge),Se={};if(m.props.tabIndex===void 0&&(Se.tabIndex="-1"),re){const{onEnter:Ce,onExited:Pe}=Y();Se.onEnter=Ce,Se.onExited=Pe}const je=(r=(i=U==null?void 0:U.root)!=null?i:v.Root)!=null?r:Tre,Bt=(o=(s=U==null?void 0:U.backdrop)!=null?s:v.Backdrop)!=null?o:u,vt=(a=P==null?void 0:P.root)!=null?a:w.root,zt=(l=P==null?void 0:P.backdrop)!=null?l:w.backdrop,Me=Pu({elementType:je,externalSlotProps:vt,externalForwardedProps:K,getSlotProps:q,additionalProps:{ref:t,as:_},ownerState:ge,className:de(h,vt==null?void 0:vt.className,ce==null?void 0:ce.root,!ge.open&&ge.exited&&(ce==null?void 0:ce.hidden))}),Ue=Pu({elementType:Bt,externalSlotProps:zt,additionalProps:d,getSlotProps:Ce=>V(L({},Ce,{onClick:Pe=>{A&&A(Pe),Ce!=null&&Ce.onClick&&Ce.onClick(Pe)}})),className:de(zt==null?void 0:zt.className,d==null?void 0:d.className,ce==null?void 0:ce.backdrop),ownerState:ge});return!k&&!O&&(!re||fe)?null:N.jsx(Mne,{ref:Z,container:g,disablePortal:M,children:N.jsxs(je,L({},Me,{children:[!I&&u?N.jsx(Bt,L({},Ue)):null,N.jsx(Ute,{disableEnforceFocus:C,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:ne,open:O,children:x.cloneElement(m,Se)})]}))})}),XP=gt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Cre(n){return Ct("MuiFab",n)}const ZP=gt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),kre=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Dre=n=>{const{color:e,variant:t,classes:r,size:i}=n,o={root:["root",t,`size${Re(i)}`,e==="inherit"?"colorInherit":e]},s=Rt(o,Cre,r);return L({},r,s)},Pre=Ie(sx,{name:"MuiFab",slot:"Root",shouldForwardProp:n=>ni(n)||n==="classes",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Re(t.size)}`],t.color==="inherit"&&e.colorInherit,e[Re(t.size)],e[t.color]]}})(({theme:n,ownerState:e})=>{var t,r;return L({},n.typography.button,{minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(n.vars||n).zIndex.fab,boxShadow:(n.vars||n).shadows[6],"&:active":{boxShadow:(n.vars||n).shadows[12]},color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:(n.vars||n).palette.grey[300],"&:hover":{backgroundColor:(n.vars||n).palette.grey.A100,"@media (hover: none)":{backgroundColor:(n.vars||n).palette.grey[300]},textDecoration:"none"},[`&.${ZP.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:n,ownerState:e})=>L({},e.color!=="inherit"&&e.color!=="default"&&(n.vars||n).palette[e.color]!=null&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main,"&:hover":{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}}),({theme:n})=>({[`&.${ZP.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}})),Rre=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:h="circular"}=r,p=Ee(r,kre),m=L({},r,{color:s,component:a,disabled:l,disableFocusRipple:c,size:d,variant:h}),g=Dre(m);return N.jsx(Pre,L({className:de(g.root,o),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:de(g.focusVisible,u),ownerState:m,ref:t},p,{classes:g,children:i}))}),Are=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Mre=n=>{const{classes:e,disableUnderline:t}=n,i=Rt({root:["root",!t&&"underline"],input:["input"]},tre,e);return L({},e,i)},Ore=Ie(u_,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...l_(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{var t;const r=n.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return L({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o}},[`&.${Na.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o},[`&.${Na.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t=(n.vars||n).palette[e.color||"primary"])==null?void 0:t.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Na.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Na.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Na.disabled}, .${Na.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Na.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&L({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Nre=Ie(d_,{name:"MuiFilledInput",slot:"Input",overridesResolver:c_})(({theme:n,ownerState:e})=>L({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),px=x.forwardRef(function(e,t){var r,i,o,s;const a=At({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:g="text"}=a,_=Ee(a,Are),v=L({},a,{fullWidth:u,inputComponent:d,multiline:h,type:g}),w=Mre(a),b={root:{ownerState:v},input:{ownerState:v}},C=p??c?Kr(b,p??c):b,D=(r=(i=m.root)!=null?i:l.Root)!=null?r:Ore,M=(o=(s=m.input)!=null?s:l.Input)!=null?o:Nre;return N.jsx(hx,L({slots:{root:D,input:M},componentsProps:C,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:g},_,{classes:w}))});px.muiName="Input";function Lre(n){return Ct("MuiFormControl",n)}gt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Fre=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Vre=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Re(t)}`,r&&"fullWidth"]};return Rt(i,Lre,e)},$re=Ie("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},e)=>L({},e.root,e[`margin${Re(n.margin)}`],n.fullWidth&&e.fullWidth)})(({ownerState:n})=>L({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),Bre=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:g="medium",variant:_="outlined"}=r,v=Ee(r,Fre),w=L({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:g,variant:_}),b=Vre(w),[C,D]=x.useState(()=>{let P=!1;return i&&x.Children.forEach(i,U=>{if(!sg(U,["Input","Select"]))return;const K=sg(U,["Select"])?U.props.input:U;K&&Yne(K.props)&&(P=!0)}),P}),[M,S]=x.useState(()=>{let P=!1;return i&&x.Children.forEach(i,U=>{sg(U,["Input","Select"])&&(Ry(U.props,!0)||Ry(U.props.inputProps,!0))&&(P=!0)}),P}),[E,I]=x.useState(!1);l&&E&&I(!1);const k=u!==void 0&&!l?u:E;let A;const O=x.useMemo(()=>({adornedStart:C,setAdornedStart:D,color:s,disabled:l,error:c,filled:M,focused:k,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{I(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{I(!0)},registerEffect:A,required:m,variant:_}),[C,s,l,c,M,k,d,h,A,m,g,_]);return N.jsx(fx.Provider,{value:O,children:N.jsx($re,L({as:a,ownerState:w,className:de(b.root,o),ref:t},v,{children:i}))})});function zre(n){return Ct("MuiFormHelperText",n)}const eR=gt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var tR;const jre=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ure=n=>{const{classes:e,contained:t,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=n,c={root:["root",i&&"disabled",o&&"error",r&&`size${Re(r)}`,t&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Rt(c,zre,e)},Wre=Ie("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Re(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(({theme:n,ownerState:e})=>L({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${eR.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${eR.error}`]:{color:(n.vars||n).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Hre=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=Ee(r,jre),l=hd(),c=fd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=L({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Ure(u);return N.jsx(Wre,L({as:s,ownerState:u,className:de(d.root,o),ref:t},a,{children:i===" "?tR||(tR=N.jsx("span",{className:"notranslate",children:""})):i}))});function qre(n){return Ct("MuiFormLabel",n)}const Bf=gt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Kre=["children","className","color","component","disabled","error","filled","focused","required"],Yre=n=>{const{classes:e,color:t,focused:r,disabled:i,error:o,filled:s,required:a}=n,l={root:["root",`color${Re(t)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Rt(l,qre,e)},Gre=Ie("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},e)=>L({},e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled)})(({theme:n,ownerState:e})=>L({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Bf.focused}`]:{color:(n.vars||n).palette[e.color].main},[`&.${Bf.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Bf.error}`]:{color:(n.vars||n).palette.error.main}})),Qre=Ie("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(({theme:n})=>({[`&.${Bf.error}`]:{color:(n.vars||n).palette.error.main}})),Jre=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=Ee(r,Kre),l=hd(),c=fd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=L({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Yre(u);return N.jsxs(Gre,L({as:s,ownerState:u,className:de(d.root,o),ref:t},a,{children:[i,c.required&&N.jsxs(Qre,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),Xre=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function aE(n){return`scale(${n}, ${n**2})`}const Zre={entering:{opacity:1,transform:aE(1)},entered:{opacity:1,transform:"none"}},Rw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),g$=x.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:g="auto",TransitionComponent:_=bo}=e,v=Ee(e,Xre),w=nV(),b=x.useRef(),C=UV(),D=x.useRef(null),M=rr(D,o.ref,t),S=K=>W=>{if(K){const q=D.current;W===void 0?K(q):K(q,W)}},E=S(u),I=S((K,W)=>{r$(K);const{duration:q,delay:V,easing:Y}=Iy({style:m,timeout:g,easing:s},{mode:"enter"});let Z;g==="auto"?(Z=C.transitions.getAutoHeightDuration(K.clientHeight),b.current=Z):Z=q,K.style.transition=[C.transitions.create("opacity",{duration:Z,delay:V}),C.transitions.create("transform",{duration:Rw?Z:Z*.666,delay:V,easing:Y})].join(","),l&&l(K,W)}),k=S(c),A=S(p),O=S(K=>{const{duration:W,delay:q,easing:V}=Iy({style:m,timeout:g,easing:s},{mode:"exit"});let Y;g==="auto"?(Y=C.transitions.getAutoHeightDuration(K.clientHeight),b.current=Y):Y=W,K.style.transition=[C.transitions.create("opacity",{duration:Y,delay:q}),C.transitions.create("transform",{duration:Rw?Y:Y*.666,delay:Rw?q:q||Y*.333,easing:V})].join(","),K.style.opacity=0,K.style.transform=aE(.75),d&&d(K)}),P=S(h),U=K=>{g==="auto"&&w.start(b.current||0,K),r&&r(D.current,K)};return N.jsx(_,L({appear:i,in:a,nodeRef:D,onEnter:I,onEntered:k,onEntering:E,onExit:O,onExited:P,onExiting:A,addEndListener:U,timeout:g==="auto"?null:g},v,{children:(K,W)=>x.cloneElement(o,L({style:L({opacity:0,transform:aE(.75),visibility:K==="exited"&&!a?"hidden":void 0},Zre[K],m,o.props.style),ref:M},W))}))});g$.muiSupportAuto=!0;const eie=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tie=n=>{const{classes:e,disableUnderline:t}=n,i=Rt({root:["root",!t&&"underline"],input:["input"]},Zne,e);return L({},e,i)},nie=Ie(u_,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...l_(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),L({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wd.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wd.disabled}, .${Wd.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Wd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),rie=Ie(d_,{name:"MuiInput",slot:"Input",overridesResolver:c_})({}),mx=x.forwardRef(function(e,t){var r,i,o,s;const a=At({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:g={},type:_="text"}=a,v=Ee(a,eie),w=tie(a),C={root:{ownerState:{disableUnderline:l}}},D=m??u?Kr(m??u,C):C,M=(r=(i=g.root)!=null?i:c.Root)!=null?r:nie,S=(o=(s=g.input)!=null?s:c.Input)!=null?o:rie;return N.jsx(hx,L({slots:{root:M,input:S},slotProps:D,fullWidth:d,inputComponent:h,multiline:p,ref:t,type:_},v,{classes:w}))});mx.muiName="Input";function iie(n){return Ct("MuiInputLabel",n)}gt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const oie=["disableAnimation","margin","shrink","variant","className"],sie=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=n,l={root:["root",t&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Re(r)}`,s],asterisk:[a&&"asterisk"]},c=Rt(l,iie,e);return L({},e,c)},aie=Ie(Jre,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bf.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(({theme:n,ownerState:e})=>L({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},e.variant==="filled"&&L({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&L({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&L({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),lie=x.forwardRef(function(e,t){const r=At({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=Ee(r,oie),l=hd();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=fd({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=L({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=sie(d);return N.jsx(aie,L({"data-shrink":c,ownerState:d,ref:t,className:de(h.root,s)},a,{classes:h}))}),lE=x.createContext({});function cie(n){return Ct("MuiList",n)}gt("MuiList",["root","padding","dense","subheader"]);const uie=["children","className","component","dense","disablePadding","subheader"],die=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return Rt({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},cie,e)},fie=Ie("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>L({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),hie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=Ee(r,uie),d=x.useMemo(()=>({dense:a}),[a]),h=L({},r,{component:s,dense:a,disablePadding:l}),p=die(h);return N.jsx(lE.Provider,{value:d,children:N.jsxs(fie,L({as:s,className:de(p.root,o),ref:t,ownerState:h},u,{children:[c,i]}))})}),nR=gt("MuiListItemIcon",["root","alignItemsFlexStart"]),rR=gt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),pie=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Aw(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function iR(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function y$(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function Hd(n,e,t,r,i,o){let s=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!y$(a,o)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const mie=x.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=Ee(e,pie),p=x.useRef(null),m=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ts(()=>{i&&p.current.focus()},[i]),x.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:C})=>{const D=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&D){const M=`${iV(Or(b))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=M,p.current.style.width=`calc(100% + ${M})`}return p.current}}),[]);const g=b=>{const C=p.current,D=b.key,M=Or(C).activeElement;if(D==="ArrowDown")b.preventDefault(),Hd(C,M,c,l,Aw);else if(D==="ArrowUp")b.preventDefault(),Hd(C,M,c,l,iR);else if(D==="Home")b.preventDefault(),Hd(C,null,c,l,Aw);else if(D==="End")b.preventDefault(),Hd(C,null,c,l,iR);else if(D.length===1){const S=m.current,E=D.toLowerCase(),I=performance.now();S.keys.length>0&&(I-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=I,S.keys.push(E);const k=M&&!S.repeating&&y$(M,S);S.previousKeyMatched&&(k||Hd(C,M,!1,l,Aw,S))?b.preventDefault():S.previousKeyMatched=!1}u&&u(b)},_=rr(p,t);let v=-1;x.Children.forEach(s,(b,C)=>{if(!x.isValidElement(b)){v===C&&(v+=1,v>=s.length&&(v=-1));return}b.props.disabled||(d==="selectedMenu"&&b.props.selected||v===-1)&&(v=C),v===C&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const w=x.Children.map(s,(b,C)=>{if(C===v){const D={};return o&&(D.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(D.tabIndex=0),x.cloneElement(b,D)}return b});return N.jsx(hie,L({role:"menu",ref:_,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:w}))});function gie(n){return Ct("MuiPopover",n)}gt("MuiPopover",["root","paper"]);const yie=["onEntering"],vie=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_ie=["slotProps"];function oR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function sR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function aR(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Mw(n){return typeof n=="function"?n():n}const wie=n=>{const{classes:e}=n;return Rt({root:["root"],paper:["paper"]},gie,e)},bie=Ie(Ire,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),v$=Ie(gte,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Eie=x.forwardRef(function(e,t){var r,i,o;const s=At({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:g=8,marginThreshold:_=16,open:v,PaperProps:w={},slots:b,slotProps:C,transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:M=g$,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:I=!1}=s,k=Ee(s.TransitionProps,yie),A=Ee(s,vie),O=(r=C==null?void 0:C.paper)!=null?r:w,P=x.useRef(),U=rr(P,O.ref),K=L({},s,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:_,externalPaperSlotProps:O,transformOrigin:D,TransitionComponent:M,transitionDuration:S,TransitionProps:k}),W=wie(K),q=x.useCallback(()=>{if(d==="anchorPosition")return u;const Ce=Mw(l),Je=(Ce&&Ce.nodeType===1?Ce:Or(P.current).body).getBoundingClientRect();return{top:Je.top+oR(Je,c.vertical),left:Je.left+sR(Je,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),V=x.useCallback(Ce=>({vertical:oR(Ce,D.vertical),horizontal:sR(Ce,D.horizontal)}),[D.horizontal,D.vertical]),Y=x.useCallback(Ce=>{const Pe={width:Ce.offsetWidth,height:Ce.offsetHeight},Je=V(Pe);if(d==="none")return{top:null,left:null,transformOrigin:aR(Je)};const or=q();let Xt=or.top-Je.vertical,fn=or.left-Je.horizontal;const hn=Xt+Pe.height,pn=fn+Pe.width,it=ha(Mw(l)),Fr=it.innerHeight-_,jt=it.innerWidth-_;if(_!==null&&Xt<_){const We=Xt-_;Xt-=We,Je.vertical+=We}else if(_!==null&&hn>Fr){const We=hn-Fr;Xt-=We,Je.vertical+=We}if(_!==null&&fn<_){const We=fn-_;fn-=We,Je.horizontal+=We}else if(pn>jt){const We=pn-jt;fn-=We,Je.horizontal+=We}return{top:`${Math.round(Xt)}px`,left:`${Math.round(fn)}px`,transformOrigin:aR(Je)}},[l,d,q,V,_]),[Z,ne]=x.useState(v),fe=x.useCallback(()=>{const Ce=P.current;if(!Ce)return;const Pe=Y(Ce);Pe.top!==null&&(Ce.style.top=Pe.top),Pe.left!==null&&(Ce.style.left=Pe.left),Ce.style.transformOrigin=Pe.transformOrigin,ne(!0)},[Y]);x.useEffect(()=>(I&&window.addEventListener("scroll",fe),()=>window.removeEventListener("scroll",fe)),[l,I,fe]);const re=(Ce,Pe)=>{E&&E(Ce,Pe),fe()},ge=()=>{ne(!1)};x.useEffect(()=>{v&&fe()}),x.useImperativeHandle(a,()=>v?{updatePosition:()=>{fe()}}:null,[v,fe]),x.useEffect(()=>{if(!v)return;const Ce=PT(()=>{fe()}),Pe=ha(l);return Pe.addEventListener("resize",Ce),()=>{Ce.clear(),Pe.removeEventListener("resize",Ce)}},[l,v,fe]);let ce=S;S==="auto"&&!M.muiSupportAuto&&(ce=void 0);const Se=m||(l?Or(Mw(l)).body:void 0),je=(i=b==null?void 0:b.root)!=null?i:bie,Bt=(o=b==null?void 0:b.paper)!=null?o:v$,vt=Pu({elementType:Bt,externalSlotProps:L({},O,{style:Z?O.style:L({},O.style,{opacity:0})}),additionalProps:{elevation:g,ref:U},ownerState:K,className:de(W.paper,O==null?void 0:O.className)}),zt=Pu({elementType:je,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:A,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:Se,open:v},ownerState:K,className:de(W.root,p)}),{slotProps:Me}=zt,Ue=Ee(zt,_ie);return N.jsx(je,L({},Ue,!Ey(je)&&{slotProps:Me,disableScrollLock:I},{children:N.jsx(M,L({appear:!0,in:v,onEntering:re,onExited:ge,timeout:ce},k,{children:N.jsx(Bt,L({},vt,{children:h}))}))}))});function Sie(n){return Ct("MuiMenu",n)}gt("MuiMenu",["root","paper","list"]);const Tie=["onEntering"],xie=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Iie={vertical:"top",horizontal:"right"},Cie={vertical:"top",horizontal:"left"},kie=n=>{const{classes:e}=n;return Rt({root:["root"],paper:["paper"],list:["list"]},Sie,e)},Die=Ie(Eie,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Pie=Ie(v$,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Rie=Ie(mie,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),_$=x.forwardRef(function(e,t){var r,i;const o=At({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:_}={},variant:v="selectedMenu",slots:w={},slotProps:b={}}=o,C=Ee(o.TransitionProps,Tie),D=Ee(o,xie),M=iJ(),S=L({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:_,PaperProps:p,transitionDuration:g,TransitionProps:C,variant:v}),E=kie(S),I=s&&!c&&h,k=x.useRef(null),A=(V,Y)=>{k.current&&k.current.adjustStyleForScrollbar(V,{direction:M?"rtl":"ltr"}),_&&_(V,Y)},O=V=>{V.key==="Tab"&&(V.preventDefault(),d&&d(V,"tabKeyDown"))};let P=-1;x.Children.map(a,(V,Y)=>{x.isValidElement(V)&&(V.props.disabled||(v==="selectedMenu"&&V.props.selected||P===-1)&&(P=Y))});const U=(r=w.paper)!=null?r:Pie,K=(i=b.paper)!=null?i:p,W=Pu({elementType:w.root,externalSlotProps:b.root,ownerState:S,className:[E.root,l]}),q=Pu({elementType:U,externalSlotProps:K,ownerState:S,className:E.paper});return N.jsx(Die,L({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Iie:Cie,slots:{paper:U,root:w.root},slotProps:{root:W,paper:q},open:h,ref:t,transitionDuration:g,TransitionProps:L({onEntering:A},C),ownerState:S},D,{classes:m,children:N.jsx(Rie,L({onKeyDown:O,actions:k,autoFocus:s&&(P===-1||c),autoFocusItem:I,variant:v},u,{className:de(E.list,u.className),children:a}))}))});function Aie(n){return Ct("MuiMenuItem",n)}const qd=gt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Mie=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Oie=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},Nie=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:o,classes:s}=n,l=Rt({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Aie,s);return L({},s,l)},Lie=Ie(sx,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Oie})(({theme:n,ownerState:e})=>L({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qd.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:oo(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${qd.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:oo(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${qd.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:oo(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:oo(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${qd.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${qd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${XP.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${XP.inset}`]:{marginLeft:52},[`& .${rR.root}`]:{marginTop:0,marginBottom:0},[`& .${rR.inset}`]:{paddingLeft:36},[`& .${nR.root}`]:{minWidth:36}},!e.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&L({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${nR.root} svg`]:{fontSize:"1.25rem"}}))),lR=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=Ee(r,Mie),m=x.useContext(lE),g=x.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),_=x.useRef(null);ts(()=>{i&&_.current&&_.current.focus()},[i]);const v=L({},r,{dense:g.dense,divider:a,disableGutters:l}),w=Nie(r),b=rr(_,t);let C;return r.disabled||(C=d!==void 0?d:-1),N.jsx(lE.Provider,{value:g,children:N.jsx(Lie,L({ref:b,role:u,tabIndex:C,component:o,focusVisibleClassName:de(w.focusVisible,c),className:de(w.root,h)},p,{ownerState:v,classes:w}))})});function Fie(n){return Ct("MuiNativeSelect",n)}const gx=gt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Vie=["className","disabled","error","IconComponent","inputRef","variant"],$ie=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,a={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Re(t)}`,o&&"iconOpen",r&&"disabled"]};return Rt(a,Fie,e)},w$=({ownerState:n,theme:e})=>L({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":L({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${gx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Bie=Ie("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ni,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${gx.multiple}`]:e.multiple}]}})(w$),b$=({ownerState:n,theme:e})=>L({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${gx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),zie=Ie("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Re(t.variant)}`],t.open&&e.iconOpen]}})(b$),jie=x.forwardRef(function(e,t){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=Ee(e,Vie),u=L({},e,{disabled:i,variant:l,error:o}),d=$ie(u);return N.jsxs(x.Fragment,{children:[N.jsx(Bie,L({ownerState:u,className:de(d.select,r),disabled:i,ref:a||t},c)),e.multiple?null:N.jsx(zie,{as:s,ownerState:u,className:d.icon})]})});var cR;const Uie=["children","classes","className","label","notched"],Wie=Ie("fieldset",{shouldForwardProp:ni})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Hie=Ie("legend",{shouldForwardProp:ni})(({ownerState:n,theme:e})=>L({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},n.withLabel&&L({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function qie(n){const{className:e,label:t,notched:r}=n,i=Ee(n,Uie),o=t!=null&&t!=="",s=L({},n,{notched:r,withLabel:o});return N.jsx(Wie,L({"aria-hidden":!0,className:e,ownerState:s},i,{children:N.jsx(Hie,{ownerState:s,children:o?N.jsx("span",{children:t}):cR||(cR=N.jsx("span",{className:"notranslate",children:""}))})}))}const Kie=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Yie=n=>{const{classes:e}=n,r=Rt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ere,e);return L({},e,r)},Gie=Ie(u_,{shouldForwardProp:n=>ni(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:l_})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return L({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${ws.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${ws.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${ws.focused} .${ws.notchedOutline}`]:{borderColor:(n.vars||n).palette[e.color].main,borderWidth:2},[`&.${ws.error} .${ws.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${ws.disabled} .${ws.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&L({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Qie=Ie(qie,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Jie=Ie(d_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:c_})(({theme:n,ownerState:e})=>L({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),yx=x.forwardRef(function(e,t){var r,i,o,s,a;const l=At({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:g={},type:_="text"}=l,v=Ee(l,Kie),w=Yie(l),b=hd(),C=fd({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),D=L({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:b,fullWidth:u,hiddenLabel:C.hiddenLabel,multiline:p,size:C.size,type:_}),M=(r=(i=g.root)!=null?i:c.Root)!=null?r:Gie,S=(o=(s=g.input)!=null?s:c.Input)!=null?o:Jie;return N.jsx(hx,L({slots:{root:M,input:S},renderSuffix:E=>N.jsx(Qie,{ownerState:D,className:w.notchedOutline,label:h!=null&&h!==""&&C.required?a||(a=N.jsxs(x.Fragment,{children:[h,"","*"]})):h,notched:typeof m<"u"?m:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:_},v,{classes:L({},w,{notchedOutline:null})}))});yx.muiName="Input";function Xie(n){return Ct("MuiSelect",n)}const Kd=gt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var uR;const Zie=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],eoe=Ie("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Kd.select}`]:e.select},{[`&.${Kd.select}`]:e[t.variant]},{[`&.${Kd.error}`]:e.error},{[`&.${Kd.multiple}`]:e.multiple}]}})(w$,{[`&.${Kd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),toe=Ie("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Re(t.variant)}`],t.open&&e.iconOpen]}})(b$),noe=Ie("input",{shouldForwardProp:n=>jV(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dR(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function roe(n){return n==null||typeof n=="string"&&!n.trim()}const ioe=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,a={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Re(t)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Rt(a,Xie,e)},ooe=x.forwardRef(function(e,t){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:g,inputRef:_,labelId:v,MenuProps:w={},multiple:b,name:C,onBlur:D,onChange:M,onClose:S,onFocus:E,onOpen:I,open:k,readOnly:A,renderValue:O,SelectDisplayProps:P={},tabIndex:U,value:K,variant:W="standard"}=e,q=Ee(e,Zie),[V,Y]=Ub({controlled:K,default:d,name:"Select"}),[Z,ne]=Ub({controlled:k,default:u,name:"Select"}),fe=x.useRef(null),re=x.useRef(null),[ge,ce]=x.useState(null),{current:Se}=x.useRef(k!=null),[je,Bt]=x.useState(),vt=rr(t,_),zt=x.useCallback(ye=>{re.current=ye,ye&&ce(ye)},[]),Me=ge==null?void 0:ge.parentNode;x.useImperativeHandle(vt,()=>({focus:()=>{re.current.focus()},node:fe.current,value:V}),[V]),x.useEffect(()=>{u&&Z&&ge&&!Se&&(Bt(a?null:Me.clientWidth),re.current.focus())},[ge,a]),x.useEffect(()=>{s&&re.current.focus()},[s]),x.useEffect(()=>{if(!v)return;const ye=Or(re.current).getElementById(v);if(ye){const Oe=()=>{getSelection().isCollapsed&&re.current.focus()};return ye.addEventListener("click",Oe),()=>{ye.removeEventListener("click",Oe)}}},[v]);const Ue=(ye,Oe)=>{ye?I&&I(Oe):S&&S(Oe),Se||(Bt(a?null:Me.clientWidth),ne(ye))},Ce=ye=>{ye.button===0&&(ye.preventDefault(),re.current.focus(),Ue(!0,ye))},Pe=ye=>{Ue(!1,ye)},Je=x.Children.toArray(l),or=ye=>{const Oe=Je.find(pt=>pt.props.value===ye.target.value);Oe!==void 0&&(Y(Oe.props.value),M&&M(ye,Oe))},Xt=ye=>Oe=>{let pt;if(Oe.currentTarget.hasAttribute("tabindex")){if(b){pt=Array.isArray(V)?V.slice():[];const ri=V.indexOf(ye.props.value);ri===-1?pt.push(ye.props.value):pt.splice(ri,1)}else pt=ye.props.value;if(ye.props.onClick&&ye.props.onClick(Oe),V!==pt&&(Y(pt),M)){const ri=Oe.nativeEvent||Oe,fs=new ri.constructor(ri.type,ri);Object.defineProperty(fs,"target",{writable:!0,value:{value:pt,name:C}}),M(fs,ye)}b||Ue(!1,Oe)}},fn=ye=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ye.key)!==-1&&(ye.preventDefault(),Ue(!0,ye))},hn=ge!==null&&Z,pn=ye=>{!hn&&D&&(Object.defineProperty(ye,"target",{writable:!0,value:{value:V,name:C}}),D(ye))};delete q["aria-invalid"];let it,Fr;const jt=[];let We=!1;(Ry({value:V})||p)&&(O?it=O(V):We=!0);const sn=Je.map(ye=>{if(!x.isValidElement(ye))return null;let Oe;if(b){if(!Array.isArray(V))throw new Error(Ll(2));Oe=V.some(pt=>dR(pt,ye.props.value)),Oe&&We&&jt.push(ye.props.children)}else Oe=dR(V,ye.props.value),Oe&&We&&(Fr=ye.props.children);return x.cloneElement(ye,{"aria-selected":Oe?"true":"false",onClick:Xt(ye),onKeyUp:pt=>{pt.key===" "&&pt.preventDefault(),ye.props.onKeyUp&&ye.props.onKeyUp(pt)},role:"option",selected:Oe,value:void 0,"data-value":ye.props.value})});We&&(b?jt.length===0?it=null:it=jt.reduce((ye,Oe,pt)=>(ye.push(Oe),pt<jt.length-1&&ye.push(", "),ye),[]):it=Fr);let Xe=je;!a&&Se&&ge&&(Xe=Me.clientWidth);let ht;typeof U<"u"?ht=U:ht=h?null:0;const He=P.id||(C?`mui-component-select-${C}`:void 0),_e=L({},e,{variant:W,value:V,open:hn,error:m}),Un=ioe(_e),qi=L({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Wn=RT();return N.jsxs(x.Fragment,{children:[N.jsx(eoe,L({ref:zt,tabIndex:ht,role:"combobox","aria-controls":Wn,"aria-disabled":h?"true":void 0,"aria-expanded":hn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,He].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:fn,onMouseDown:h||A?null:Ce,onBlur:pn,onFocus:E},P,{ownerState:_e,className:de(P.className,Un.select,c),id:He,children:roe(it)?uR||(uR=N.jsx("span",{className:"notranslate",children:""})):it})),N.jsx(noe,L({"aria-invalid":m,value:Array.isArray(V)?V.join(","):V,name:C,ref:fe,"aria-hidden":!0,onChange:or,tabIndex:-1,disabled:h,className:Un.nativeInput,autoFocus:s,ownerState:_e},q)),N.jsx(toe,{as:g,className:Un.icon,ownerState:_e}),N.jsx(_$,L({id:`menu-${C||""}`,anchorEl:Me,open:hn,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:L({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Wn},w.MenuListProps),slotProps:L({},w.slotProps,{paper:L({},qi,{style:L({minWidth:Xe},qi!=null?qi.style:null)})}),children:sn}))]})}),soe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],aoe=["root"],loe=n=>{const{classes:e}=n;return e},vx={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>ni(n)&&n!=="variant",slot:"Root"},coe=Ie(mx,vx)(""),uoe=Ie(yx,vx)(""),doe=Ie(px,vx)(""),E$=x.forwardRef(function(e,t){const r=At({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=nre,id:d,input:h,inputProps:p,label:m,labelId:g,MenuProps:_,multiple:v=!1,native:w=!1,onClose:b,onOpen:C,open:D,renderValue:M,SelectDisplayProps:S,variant:E="outlined"}=r,I=Ee(r,soe),k=w?jie:ooe,A=hd(),O=fd({props:r,muiFormControl:A,states:["variant","error"]}),P=O.variant||E,U=L({},r,{variant:P,classes:s}),K=loe(U),W=Ee(K,aoe),q=h||{standard:N.jsx(coe,{ownerState:U}),outlined:N.jsx(uoe,{label:m,ownerState:U}),filled:N.jsx(doe,{ownerState:U})}[P],V=rr(t,q.ref);return N.jsx(x.Fragment,{children:x.cloneElement(q,L({inputComponent:k,inputProps:L({children:o,error:O.error,IconComponent:u,variant:P,type:void 0,multiple:v},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:_,onClose:b,onOpen:C,open:D,renderValue:M,SelectDisplayProps:L({id:d},S)},p,{classes:p?Kr(W,p.classes):W},h?h.props.inputProps:{})},(v&&w||c)&&P==="outlined"?{notched:!0}:{},{ref:V,className:de(q.props.className,a,K.root)},!h&&{variant:P},I))})});E$.muiName="Select";function foe(n){return Ct("MuiTextField",n)}gt("MuiTextField",["root"]);const hoe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],poe={standard:mx,filled:px,outlined:yx},moe=n=>{const{classes:e}=n;return Rt({root:["root"]},foe,e)},goe=Ie(Bre,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Ay=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:_,inputProps:v,InputProps:w,inputRef:b,label:C,maxRows:D,minRows:M,multiline:S=!1,name:E,onBlur:I,onChange:k,onFocus:A,placeholder:O,required:P=!1,rows:U,select:K=!1,SelectProps:W,type:q,value:V,variant:Y="outlined"}=r,Z=Ee(r,hoe),ne=L({},r,{autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:P,select:K,variant:Y}),fe=moe(ne),re={};Y==="outlined"&&(_&&typeof _.shrink<"u"&&(re.notched=_.shrink),re.label=C),K&&((!W||!W.native)&&(re.id=void 0),re["aria-describedby"]=void 0);const ge=RT(g),ce=m&&ge?`${ge}-helper-text`:void 0,Se=C&&ge?`${ge}-label`:void 0,je=poe[Y],Bt=N.jsx(je,L({"aria-describedby":ce,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:S,name:E,rows:U,maxRows:D,minRows:M,type:q,value:V,id:ge,inputRef:b,onBlur:I,onChange:k,onFocus:A,placeholder:O,inputProps:v},re,w));return N.jsxs(goe,L({className:de(fe.root,a),disabled:u,error:d,fullWidth:p,ref:t,required:P,color:l,variant:Y,ownerState:ne},Z,{children:[C!=null&&C!==""&&N.jsx(lie,L({htmlFor:ge,id:Se},_,{children:C})),K?N.jsx(E$,L({"aria-describedby":ce,id:ge,labelId:Se,value:V,input:Bt},W,{children:s})):Bt,m&&N.jsx(Hre,L({id:ce},h,{children:m}))]}))}),yoe=QT(N.jsx("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote");/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:S$,setPrototypeOf:fR,isFrozen:voe,getPrototypeOf:_oe,getOwnPropertyDescriptor:woe}=Object;let{freeze:vr,seal:Ei,create:T$}=Object,{apply:cE,construct:uE}=typeof Reflect<"u"&&Reflect;vr||(vr=function(e){return e});Ei||(Ei=function(e){return e});cE||(cE=function(e,t,r){return e.apply(t,r)});uE||(uE=function(e,t){return new e(...t)});const _m=Xr(Array.prototype.forEach),hR=Xr(Array.prototype.pop),Yd=Xr(Array.prototype.push),pg=Xr(String.prototype.toLowerCase),Ow=Xr(String.prototype.toString),pR=Xr(String.prototype.match),Gd=Xr(String.prototype.replace),boe=Xr(String.prototype.indexOf),Eoe=Xr(String.prototype.trim),Ai=Xr(Object.prototype.hasOwnProperty),sr=Xr(RegExp.prototype.test),Qd=Soe(TypeError);function Xr(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cE(n,e,r)}}function Soe(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return uE(n,t)}}function Fe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pg;fR&&fR(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=t(i);o!==i&&(voe(e)||(e[r]=o),i=o)}n[i]=!0}return n}function Toe(n){for(let e=0;e<n.length;e++)Ai(n,e)||(n[e]=null);return n}function ja(n){const e=T$(null);for(const[t,r]of S$(n))Ai(n,t)&&(Array.isArray(r)?e[t]=Toe(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=ja(r):e[t]=r);return e}function Jd(n,e){for(;n!==null;){const r=woe(n,e);if(r){if(r.get)return Xr(r.get);if(typeof r.value=="function")return Xr(r.value)}n=_oe(n)}function t(){return null}return t}const mR=vr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nw=vr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lw=vr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xoe=vr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fw=vr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ioe=vr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gR=vr(["#text"]),yR=vr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vw=vr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vR=vr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wm=vr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Coe=Ei(/\{\{[\w\W]*|[\w\W]*\}\}/gm),koe=Ei(/<%[\w\W]*|[\w\W]*%>/gm),Doe=Ei(/\$\{[\w\W]*}/gm),Poe=Ei(/^data-[\-\w.\u00B7-\uFFFF]+$/),Roe=Ei(/^aria-[\-\w]+$/),x$=Ei(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Aoe=Ei(/^(?:\w+script|data):/i),Moe=Ei(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I$=Ei(/^html$/i),Ooe=Ei(/^[a-z][.\w]*(-[.\w]+)+$/i);var _R=Object.freeze({__proto__:null,ARIA_ATTR:Roe,ATTR_WHITESPACE:Moe,CUSTOM_ELEMENT:Ooe,DATA_ATTR:Poe,DOCTYPE_NAME:I$,ERB_EXPR:koe,IS_ALLOWED_URI:x$,IS_SCRIPT_OR_DATA:Aoe,MUSTACHE_EXPR:Coe,TMPLIT_EXPR:Doe});const Xd={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Noe=function(){return typeof window>"u"?null:window},Loe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},wR=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function C$(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Noe();const e=ve=>C$(ve);if(e.version="3.2.3",e.removed=[],!n||!n.document||n.document.nodeType!==Xd.document)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:p}=n,m=l.prototype,g=Jd(m,"cloneNode"),_=Jd(m,"remove"),v=Jd(m,"nextSibling"),w=Jd(m,"childNodes"),b=Jd(m,"parentNode");if(typeof s=="function"){const ve=t.createElement("template");ve.content&&ve.content.ownerDocument&&(t=ve.content.ownerDocument)}let C,D="";const{implementation:M,createNodeIterator:S,createDocumentFragment:E,getElementsByTagName:I}=t,{importNode:k}=r;let A=wR();e.isSupported=typeof S$=="function"&&typeof b=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:P,TMPLIT_EXPR:U,DATA_ATTR:K,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:Y}=_R;let{IS_ALLOWED_URI:Z}=_R,ne=null;const fe=Fe({},[...mR,...Nw,...Lw,...Fw,...gR]);let re=null;const ge=Fe({},[...yR,...Vw,...vR,...wm]);let ce=Object.seal(T$(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,je=null,Bt=!0,vt=!0,zt=!1,Me=!0,Ue=!1,Ce=!0,Pe=!1,Je=!1,or=!1,Xt=!1,fn=!1,hn=!1,pn=!0,it=!1;const Fr="user-content-";let jt=!0,We=!1,sn={},Xe=null;const ht=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const _e=Fe({},["audio","video","img","source","image","track"]);let Un=null;const qi=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wn="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml";let pt=Oe,ri=!1,fs=null;const md=Fe({},[Wn,ye,Oe],Ow);let Ca=Fe({},["mi","mo","mn","ms","mtext"]),ka=Fe({},["annotation-xml"]);const Da=Fe({},["title","style","font","a","script"]);let So=null;const gd=["application/xhtml+xml","text/html"],To="text/html";let Zt=null,Ci=null;const Tp=t.createElement("form"),hs=function(F){return F instanceof RegExp||F instanceof Function},tc=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ci&&Ci===F)){if((!F||typeof F!="object")&&(F={}),F=ja(F),So=gd.indexOf(F.PARSER_MEDIA_TYPE)===-1?To:F.PARSER_MEDIA_TYPE,Zt=So==="application/xhtml+xml"?Ow:pg,ne=Ai(F,"ALLOWED_TAGS")?Fe({},F.ALLOWED_TAGS,Zt):fe,re=Ai(F,"ALLOWED_ATTR")?Fe({},F.ALLOWED_ATTR,Zt):ge,fs=Ai(F,"ALLOWED_NAMESPACES")?Fe({},F.ALLOWED_NAMESPACES,Ow):md,Un=Ai(F,"ADD_URI_SAFE_ATTR")?Fe(ja(qi),F.ADD_URI_SAFE_ATTR,Zt):qi,He=Ai(F,"ADD_DATA_URI_TAGS")?Fe(ja(_e),F.ADD_DATA_URI_TAGS,Zt):_e,Xe=Ai(F,"FORBID_CONTENTS")?Fe({},F.FORBID_CONTENTS,Zt):ht,Se=Ai(F,"FORBID_TAGS")?Fe({},F.FORBID_TAGS,Zt):{},je=Ai(F,"FORBID_ATTR")?Fe({},F.FORBID_ATTR,Zt):{},sn=Ai(F,"USE_PROFILES")?F.USE_PROFILES:!1,Bt=F.ALLOW_ARIA_ATTR!==!1,vt=F.ALLOW_DATA_ATTR!==!1,zt=F.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ue=F.SAFE_FOR_TEMPLATES||!1,Ce=F.SAFE_FOR_XML!==!1,Pe=F.WHOLE_DOCUMENT||!1,Xt=F.RETURN_DOM||!1,fn=F.RETURN_DOM_FRAGMENT||!1,hn=F.RETURN_TRUSTED_TYPE||!1,or=F.FORCE_BODY||!1,pn=F.SANITIZE_DOM!==!1,it=F.SANITIZE_NAMED_PROPS||!1,jt=F.KEEP_CONTENT!==!1,We=F.IN_PLACE||!1,Z=F.ALLOWED_URI_REGEXP||x$,pt=F.NAMESPACE||Oe,Ca=F.MATHML_TEXT_INTEGRATION_POINTS||Ca,ka=F.HTML_INTEGRATION_POINTS||ka,ce=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&hs(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&hs(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ue&&(vt=!1),fn&&(Xt=!0),sn&&(ne=Fe({},gR),re=[],sn.html===!0&&(Fe(ne,mR),Fe(re,yR)),sn.svg===!0&&(Fe(ne,Nw),Fe(re,Vw),Fe(re,wm)),sn.svgFilters===!0&&(Fe(ne,Lw),Fe(re,Vw),Fe(re,wm)),sn.mathMl===!0&&(Fe(ne,Fw),Fe(re,vR),Fe(re,wm))),F.ADD_TAGS&&(ne===fe&&(ne=ja(ne)),Fe(ne,F.ADD_TAGS,Zt)),F.ADD_ATTR&&(re===ge&&(re=ja(re)),Fe(re,F.ADD_ATTR,Zt)),F.ADD_URI_SAFE_ATTR&&Fe(Un,F.ADD_URI_SAFE_ATTR,Zt),F.FORBID_CONTENTS&&(Xe===ht&&(Xe=ja(Xe)),Fe(Xe,F.FORBID_CONTENTS,Zt)),jt&&(ne["#text"]=!0),Pe&&Fe(ne,["html","head","body"]),ne.table&&(Fe(ne,["tbody"]),delete Se.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=F.TRUSTED_TYPES_POLICY,D=C.createHTML("")}else C===void 0&&(C=Loe(p,i)),C!==null&&typeof D=="string"&&(D=C.createHTML(""));vr&&vr(F),Ci=F}},vn=Fe({},[...Nw,...Lw,...xoe]),yd=Fe({},[...Fw,...Ioe]),Pa=function(F){let X=b(F);(!X||!X.tagName)&&(X={namespaceURI:pt,tagName:"template"});const he=pg(F.tagName),_t=pg(X.tagName);return fs[F.namespaceURI]?F.namespaceURI===ye?X.namespaceURI===Oe?he==="svg":X.namespaceURI===Wn?he==="svg"&&(_t==="annotation-xml"||Ca[_t]):!!vn[he]:F.namespaceURI===Wn?X.namespaceURI===Oe?he==="math":X.namespaceURI===ye?he==="math"&&ka[_t]:!!yd[he]:F.namespaceURI===Oe?X.namespaceURI===ye&&!ka[_t]||X.namespaceURI===Wn&&!Ca[_t]?!1:!yd[he]&&(Da[he]||!vn[he]):!!(So==="application/xhtml+xml"&&fs[F.namespaceURI]):!1},Hn=function(F){Yd(e.removed,{element:F});try{b(F).removeChild(F)}catch{_(F)}},nc=function(F,X){try{Yd(e.removed,{attribute:X.getAttributeNode(F),from:X})}catch{Yd(e.removed,{attribute:null,from:X})}if(X.removeAttribute(F),F==="is")if(Xt||fn)try{Hn(X)}catch{}else try{X.setAttribute(F,"")}catch{}},xp=function(F){let X=null,he=null;if(or)F="<remove></remove>"+F;else{const Ut=pR(F,/^[\r\n\t ]+/);he=Ut&&Ut[0]}So==="application/xhtml+xml"&&pt===Oe&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");const _t=C?C.createHTML(F):F;if(pt===Oe)try{X=new h().parseFromString(_t,So)}catch{}if(!X||!X.documentElement){X=M.createDocument(pt,"template",null);try{X.documentElement.innerHTML=ri?D:_t}catch{}}const _n=X.body||X.documentElement;return F&&he&&_n.insertBefore(t.createTextNode(he),_n.childNodes[0]||null),pt===Oe?I.call(X,Pe?"html":"body")[0]:Pe?X.documentElement:_n},xo=function(F){return S.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},vd=function(F){return F instanceof d&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof u)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},Ip=function(F){return typeof a=="function"&&F instanceof a};function Tr(ve,F,X){_m(ve,he=>{he.call(e,F,X,Ci)})}const _d=function(F){let X=null;if(Tr(A.beforeSanitizeElements,F,null),vd(F))return Hn(F),!0;const he=Zt(F.nodeName);if(Tr(A.uponSanitizeElement,F,{tagName:he,allowedTags:ne}),F.hasChildNodes()&&!Ip(F.firstElementChild)&&sr(/<[/\w]/g,F.innerHTML)&&sr(/<[/\w]/g,F.textContent)||F.nodeType===Xd.progressingInstruction||Ce&&F.nodeType===Xd.comment&&sr(/<[/\w]/g,F.data))return Hn(F),!0;if(!ne[he]||Se[he]){if(!Se[he]&&Ra(he)&&(ce.tagNameCheck instanceof RegExp&&sr(ce.tagNameCheck,he)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(he)))return!1;if(jt&&!Xe[he]){const _t=b(F)||F.parentNode,_n=w(F)||F.childNodes;if(_n&&_t){const Ut=_n.length;for(let Rn=Ut-1;Rn>=0;--Rn){const xr=g(_n[Rn],!0);xr.__removalCount=(F.__removalCount||0)+1,_t.insertBefore(xr,v(F))}}}return Hn(F),!0}return F instanceof l&&!Pa(F)||(he==="noscript"||he==="noembed"||he==="noframes")&&sr(/<\/no(script|embed|frames)/i,F.innerHTML)?(Hn(F),!0):(Ue&&F.nodeType===Xd.text&&(X=F.textContent,_m([O,P,U],_t=>{X=Gd(X,_t," ")}),F.textContent!==X&&(Yd(e.removed,{element:F.cloneNode()}),F.textContent=X)),Tr(A.afterSanitizeElements,F,null),!1)},rc=function(F,X,he){if(pn&&(X==="id"||X==="name")&&(he in t||he in Tp))return!1;if(!(vt&&!je[X]&&sr(K,X))){if(!(Bt&&sr(W,X))){if(!re[X]||je[X]){if(!(Ra(F)&&(ce.tagNameCheck instanceof RegExp&&sr(ce.tagNameCheck,F)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(F))&&(ce.attributeNameCheck instanceof RegExp&&sr(ce.attributeNameCheck,X)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(X))||X==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&sr(ce.tagNameCheck,he)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(he))))return!1}else if(!Un[X]){if(!sr(Z,Gd(he,V,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&F!=="script"&&boe(he,"data:")===0&&He[F])){if(!(zt&&!sr(q,Gd(he,V,"")))){if(he)return!1}}}}}}return!0},Ra=function(F){return F!=="annotation-xml"&&pR(F,Y)},ki=function(F){Tr(A.beforeSanitizeAttributes,F,null);const{attributes:X}=F;if(!X||vd(F))return;const he={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let _t=X.length;for(;_t--;){const _n=X[_t],{name:Ut,namespaceURI:Rn,value:xr}=_n,Di=Zt(Ut);let Mt=Ut==="value"?xr:Eoe(xr);if(he.attrName=Di,he.attrValue=Mt,he.keepAttr=!0,he.forceKeepAttr=void 0,Tr(A.uponSanitizeAttribute,F,he),Mt=he.attrValue,it&&(Di==="id"||Di==="name")&&(nc(Ut,F),Mt=Fr+Mt),Ce&&sr(/((--!?|])>)|<\/(style|title)/i,Mt)){nc(Ut,F);continue}if(he.forceKeepAttr||(nc(Ut,F),!he.keepAttr))continue;if(!Me&&sr(/\/>/i,Mt)){nc(Ut,F);continue}Ue&&_m([O,P,U],kp=>{Mt=Gd(Mt,kp," ")});const ic=Zt(F.nodeName);if(rc(ic,Di,Mt)){if(C&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Rn)switch(p.getAttributeType(ic,Di)){case"TrustedHTML":{Mt=C.createHTML(Mt);break}case"TrustedScriptURL":{Mt=C.createScriptURL(Mt);break}}try{Rn?F.setAttributeNS(Rn,Ut,Mt):F.setAttribute(Ut,Mt),vd(F)?Hn(F):hR(e.removed)}catch{}}}Tr(A.afterSanitizeAttributes,F,null)},Cp=function ve(F){let X=null;const he=xo(F);for(Tr(A.beforeSanitizeShadowDOM,F,null);X=he.nextNode();)Tr(A.uponSanitizeShadowNode,X,null),_d(X),ki(X),X.content instanceof o&&ve(X.content);Tr(A.afterSanitizeShadowDOM,F,null)};return e.sanitize=function(ve){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,he=null,_t=null,_n=null;if(ri=!ve,ri&&(ve="<!-->"),typeof ve!="string"&&!Ip(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw Qd("dirty is not a string, aborting")}else throw Qd("toString is not a function");if(!e.isSupported)return ve;if(Je||tc(F),e.removed=[],typeof ve=="string"&&(We=!1),We){if(ve.nodeName){const xr=Zt(ve.nodeName);if(!ne[xr]||Se[xr])throw Qd("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof a)X=xp("<!---->"),he=X.ownerDocument.importNode(ve,!0),he.nodeType===Xd.element&&he.nodeName==="BODY"||he.nodeName==="HTML"?X=he:X.appendChild(he);else{if(!Xt&&!Ue&&!Pe&&ve.indexOf("<")===-1)return C&&hn?C.createHTML(ve):ve;if(X=xp(ve),!X)return Xt?null:hn?D:""}X&&or&&Hn(X.firstChild);const Ut=xo(We?ve:X);for(;_t=Ut.nextNode();)_d(_t),ki(_t),_t.content instanceof o&&Cp(_t.content);if(We)return ve;if(Xt){if(fn)for(_n=E.call(X.ownerDocument);X.firstChild;)_n.appendChild(X.firstChild);else _n=X;return(re.shadowroot||re.shadowrootmode)&&(_n=k.call(r,_n,!0)),_n}let Rn=Pe?X.outerHTML:X.innerHTML;return Pe&&ne["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&sr(I$,X.ownerDocument.doctype.name)&&(Rn="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+Rn),Ue&&_m([O,P,U],xr=>{Rn=Gd(Rn,xr," ")}),C&&hn?C.createHTML(Rn):Rn},e.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tc(ve),Je=!0},e.clearConfig=function(){Ci=null,Je=!1},e.isValidAttribute=function(ve,F,X){Ci||tc({});const he=Zt(ve),_t=Zt(F);return rc(he,_t,X)},e.addHook=function(ve,F){typeof F=="function"&&Yd(A[ve],F)},e.removeHook=function(ve){return hR(A[ve])},e.removeHooks=function(ve){A[ve]=[]},e.removeAllHooks=function(){A=wR()},e}var Foe=C$();function Voe(n){const[e,t]=x.useState(null),r=Ku(),i=Foe.sanitize(n.content),o=a=>t(a.currentTarget),s=()=>t(null);return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"note",onDoubleClick:()=>r(`/note/${n.id}`),children:[N.jsxs("div",{className:"note-header",children:[N.jsx("div",{className:"note-header-left",children:N.jsx("h1",{className:"note-title",children:n.title})}),N.jsxs("div",{id:"menuIcon",children:[N.jsx(e$,{onClick:o}),N.jsxs(_$,{anchorEl:e,open:!!e,onClose:s,children:[N.jsxs(lR,{onClick:()=>r(`/note/${n.id}`),children:[N.jsx(yoe,{style:{marginRight:"10px"}}),"Edit Note"]}),N.jsxs(lR,{onClick:()=>ZV(n.id,n.setNotes),children:[N.jsx(JT,{style:{marginRight:"10px"}}),"Delete note"]})]})]})]}),N.jsx("div",{className:"note-content",dangerouslySetInnerHTML:{__html:i}})," ",N.jsx("div",{className:"note-date",children:N.jsx("p",{className:"date-time-text",children:n.date})})]})})}var _x={},$oe=Si;Object.defineProperty(_x,"__esModule",{value:!0});var k$=_x.default=void 0,Boe=$oe(wo()),zoe=N;k$=_x.default=(0,Boe.default)((0,zoe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function joe(){const n=Ku();return N.jsx("div",{children:N.jsx(Rre,{color:"primary","aria-label":"add",onClick:()=>n("/note/"),id:"create-note-fab",children:N.jsx(k$,{})})})}const bR=async n=>{if(n)try{const e=iF(ed,"notes"),t=DH(e,PH("userId","==",n.uid));return(await NH(t)).docs.map(o=>({...o.data(),id:o.id}))}catch(e){return console.error("Error fetching notes:",e),[]}else return[]};function Uoe(n){const e=new Date(n),t={weekday:"short",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",t).format(e)}var wx={},Woe=Si;Object.defineProperty(wx,"__esModule",{value:!0});var D$=wx.default=void 0,Hoe=Woe(wo()),qoe=N;D$=wx.default=(0,Hoe.default)((0,qoe.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var bx={},Koe=Si;Object.defineProperty(bx,"__esModule",{value:!0});var P$=bx.default=void 0,Yoe=Koe(wo()),Goe=N;P$=bx.default=(0,Yoe.default)((0,Goe.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");function Qoe({sortingOptions:n,currentSorting:e,onSortingChange:t,isAscending:r,toggleSortDirection:i}){return N.jsxs("div",{className:"sorter",children:[N.jsx("select",{id:"sorter-select",value:e,onChange:o=>t(o.target.value),children:n.map(o=>N.jsx("option",{value:o.value,children:o.label},o.value))}),r?N.jsx(D$,{onClick:i}):N.jsx(P$,{onClick:i})]})}function Joe({theme:n,toggleTheme:e}){const[t,r]=x.useState([]),[i,o]=x.useState(null),s=Ku(),[a,l]=x.useState("title");x.useEffect(()=>{const g=TT(td,_=>{_?o(_):s("/login")});return()=>g()},[s]),x.useEffect(()=>{(async()=>{if(i){const _=await bR(i);r(_||[])}})()},[i]),x.useEffect(()=>{(async()=>{if(i){const _=await bR(i);r(_||[]),console.log("Fetch notes:",t)}})()},[i,s]);const c=g=>{l(g),h(m)},[u,d]=x.useState(!0),h=g=>{if(!Array.isArray(t))return[];const _=[...t];switch(g){case"title":_.sort((v,w)=>v.title.localeCompare(w.title));case"creationDT":_.sort((v,w)=>new Date(v.creationDate)-new Date(w.creationDate));case"modifiedDT":_.sort((v,w)=>new Date(v.modifiedDate)-new Date(w.modifiedDate));case"dueDT":_.sort((v,w)=>new Date(v.dueDateTime)-new Date(w.dueDateTime));case"reminderDT":_.sort((v,w)=>new Date(v.reminderDateTime)-new Date(w.reminderDateTime))}return u?_:_.reverse()},p=()=>{d(g=>!g)},m=h(a);return N.jsxs(N.Fragment,{children:[N.jsx(joe,{user:i}),N.jsx(Yq,{toggleTheme:e,theme:n}),N.jsxs("div",{className:"sectioned-div",children:[N.jsxs("div",{className:"section-title",children:[N.jsx("h2",{children:"All Notes"}),N.jsx("p",{className:"section-badge",children:m.length})]}),N.jsx(Qoe,{sortingOptions:[{value:"title",label:"Title"},{value:"creationDT",label:"Creation Date"},{value:"modifiedDT",label:"Modified Date"},{value:"dueDT",label:"Due Date"},{value:"reminderDT",label:"Reminder Date"}],currentSorting:a,onSortingChange:c,toggleSortDirection:p,isAscending:u})]}),N.jsx("div",{id:"notes-grid",children:m.map(g=>N.jsx(Voe,{id:g.id,title:g.title,date:Uoe(g.creationDate),content:g.content,isList:g.isList,setNotes:r},g.id))})]})}var Ex={},Xoe=Si;Object.defineProperty(Ex,"__esModule",{value:!0});var Sx=Ex.default=void 0,Zoe=Xoe(wo()),ese=N;Sx=Ex.default=(0,Zoe.default)((0,ese.jsx)("path",{d:"m6 14 3 3v5h6v-5l3-3V9H6zm5-12h2v3h-2zM3.5 5.88l1.41-1.41 2.12 2.12L5.62 8zm13.46.71 2.12-2.12 1.41 1.41L18.38 8z"}),"Highlight");var Tx={},tse=Si;Object.defineProperty(Tx,"__esModule",{value:!0});var xx=Tx.default=void 0,nse=tse(wo()),rse=N;xx=Tx.default=(0,nse.default)((0,rse.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Ix={},ise=Si;Object.defineProperty(Ix,"__esModule",{value:!0});var Cx=Ix.default=void 0,ose=ise(wo()),sse=N;Cx=Ix.default=(0,ose.default)((0,sse.jsx)("path",{d:"M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6"}),"Brightness5");const ase=({toggleTheme:n,theme:e})=>{const[t,r]=x.useState(""),[i,o]=x.useState(""),s=Ku(),a=async l=>{l.preventDefault();try{await nq(t,i),ot.success("Login Successful!",{position:"top-center"}),window.location.href="/main"}catch(c){ot.error(c.message,{position:"bottom-center"})}};return x.useEffect(()=>{(async()=>{await iq()&&s("/main")})()},[s]),N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:n,children:[e==="light"?N.jsx(xx,{}):N.jsx(Cx,{})," "]})}),N.jsx(m$,{children:N.jsx(Vs,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:a,className:"register-form ",children:[N.jsx(Vs,{mb:2,children:N.jsxs(i$,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(Sx,{}),"Organica"]})}),N.jsx(Vs,{mb:2,children:N.jsx(Ay,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:t,onChange:l=>r(l.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Vs,{mb:2,children:N.jsx(Ay,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:l=>o(l.target.value),className:"custom-textfield",required:!0})}),N.jsx(fl,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Login"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/register",children:"Register"})]})," ",N.jsxs("p",{className:"custom-hyperlink",children:["Try app with"," ",N.jsx("a",{href:"",onClick:l=>{l.preventDefault(),r("test@gmail.com"),o("testpassword")},children:"Test Account"})]})]})})})]})},lse=({theme:n,toggleTheme:e})=>{const[t,r]=x.useState(""),[i,o]=x.useState(""),s=async a=>{a.preventDefault();try{await tq(t,i),ot.success("User Registered Successfully!",{position:"top-center"}),window.location.href="/login"}catch(l){ot.error(l.message,{position:"bottom-center"})}};return N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:e,children:[n==="light"?N.jsx(xx,{}):N.jsx(Cx,{})," "]})}),N.jsx(m$,{maxWidth:"sm",children:N.jsx(Vs,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:s,className:"register-form",children:[N.jsx(Vs,{mb:2,children:N.jsxs(i$,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(Sx,{}),"Organica"]})}),N.jsx(Vs,{mb:2,children:N.jsx(Ay,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:t,onChange:a=>r(a.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Vs,{mb:2,children:N.jsx(Ay,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:a=>o(a.target.value),className:"custom-textfield",required:!0})}),N.jsx(fl,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Register"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/login",children:"Login"})]})]})})})]})};var kx={},cse=Si;Object.defineProperty(kx,"__esModule",{value:!0});var Dx=kx.default=void 0,use=cse(wo()),dse=N;Dx=kx.default=(0,use.default)((0,dse.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var Px={},fse=Si;Object.defineProperty(Px,"__esModule",{value:!0});var Rx=Px.default=void 0,hse=fse(wo()),pse=N;Rx=Px.default=(0,hse.default)((0,pse.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");function Nn(n){this.content=n}Nn.prototype={constructor:Nn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Nn(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Nn(t)},addToStart:function(n,e){return new Nn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Nn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new Nn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Nn.from(n),n.size?new Nn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Nn.from(n),n.size?new Nn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Nn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Nn.from=function(n){if(n instanceof Nn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Nn(e)};function R$(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=R$(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function A$(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=A$(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new G(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new G(r,i)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new G(i,o)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return R$(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return A$(this,e,t,r)}findIndex(e,t=-1){if(e==0)return bm(0,e);if(e==this.size)return bm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||t>0?bm(r+1,s):bm(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new G(t||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const $w={index:0,offset:0};function bm(n,e){return $w.index=n,$w.offset=e,$w}function My(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!My(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!My(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let bt=class dE{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&My(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return dE.none;if(e instanceof dE)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};bt.none=[];class Oy extends Error{}class se{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=O$(this.content,e+this.openStart,t);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,t){return new se(M$(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return se.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(G.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new se(e,r,i)}}se.empty=new se(G.empty,0,0);function M$(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(M$(o.content,e-i-1,t-i-1)))}function O$(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=O$(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function mse(n,e,t){if(t.openStart>n.depth)throw new Oy("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Oy("Inconsistent open depths");return N$(n,e,t,0)}function N$(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=N$(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,a=s.content;return pl(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=gse(t,n);return pl(o,F$(n,s,a,e,r))}else return pl(o,Ny(n,e,r))}function L$(n,e){if(!e.type.compatibleContent(n.type))throw new Oy("Cannot join "+e.type.name+" onto "+n.type.name)}function fE(n,e,t){let r=n.node(t);return L$(r,e.node(t)),r}function hl(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function zf(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(hl(n.nodeAfter,r),o++));for(let a=o;a<s;a++)hl(i.child(a),r);e&&e.depth==t&&e.textOffset&&hl(e.nodeBefore,r)}function pl(n,e){return n.type.checkContent(e),n.copy(e)}function F$(n,e,t,r,i){let o=n.depth>i&&fE(n,e,i+1),s=r.depth>i&&fE(t,r,i+1),a=[];return zf(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(L$(o,s),hl(pl(o,F$(n,e,t,r,i+1)),a)):(o&&hl(pl(o,Ny(n,e,i+1)),a),zf(e,t,i,a),s&&hl(pl(s,Ny(t,r,i+1)),a)),zf(r,null,i,a),new G(a)}function Ny(n,e,t){let r=[];if(zf(null,n,t,r),n.depth>t){let i=fE(n,e,t+1);hl(pl(i,Ny(n,e,t+1)),r)}return zf(e,null,t,r),new G(r)}function gse(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(G.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Oh{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return bt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Ly(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Oh(t,r,o)}static resolveCached(e,t){let r=ER.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else ER.set(e,r=new yse);let i=r.elts[r.i]=Oh.resolve(e,t);return r.i=(r.i+1)%vse,i}}class yse{constructor(){this.elts=[],this.i=0}}const vse=12,ER=new WeakMap;class Ly{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _se=Object.create(null);let na=class hE{constructor(e,t,r,i=bt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&My(this.attrs,t||e.defaultAttrs||_se)&&bt.sameSet(this.marks,r||bt.none)}copy(e=null){return e==this.content?this:new hE(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new hE(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return se.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new se(c,i.depth-s,o.depth-s)}replace(e,t,r){return mse(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Oh.resolveCached(this,e)}resolveNoCache(e){return Oh.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),V$(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=G.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=G.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};na.prototype.text=void 0;class Fy extends na{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Fy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Fy(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function V$(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Vl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new wse(e,t);if(r.next==null)return Vl.empty;let i=$$(r);r.next&&r.err("Unexpected trailing text");let o=Cse(Ise(i));return kse(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return G.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=o(d,a.concat(u));if(h)return h}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Vl.empty=new Vl(!0);class wse{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $$(n){let e=[];do e.push(bse(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bse(n){let e=[];do e.push(Ese(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Ese(n){let e=xse(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Sse(n,e);else break;return e}function SR(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Sse(n,e){let t=SR(n),r=t;return n.eat(",")&&(n.next!="}"?r=SR(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Tse(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function xse(n){if(n.eat("(")){let e=$$(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Tse(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ise(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}else if(s.type=="star"){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=t();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=t();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function B$(n,e){return e-n}function TR(n,e){let t=[];return r(e),t.sort(B$);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&r(l)}}}function Cse(n){let e=Object.create(null);return t(TR(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);TR(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Vl(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(B$);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}}function kse(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function z$(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function j$(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function U$(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function W$(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Pse(n,r,e[r]);return t}let xR=class H${constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=W$(e,r.attrs),this.defaultAttrs=z$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Vl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:j$(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new na(this,this.computeAttrs(e),G.from(t),bt.setFrom(r))}createChecked(e=null,t,r){return t=G.from(t),this.checkContent(t),new na(this,this.computeAttrs(e),t,bt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=G.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(G.empty,!0);return o?new na(this,e,t.append(o),bt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){U$(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:bt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new H$(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Dse(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class Pse{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Dse(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class f_{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=W$(e,i.attrs),this.excluded=null;let o=z$(this.attrs);this.instance=o?new bt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new bt(this,j$(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new f_(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){U$(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class q${constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Nn.from(e.nodes),t.marks=Nn.from(e.marks||{}),this.nodes=xR.compile(this.spec.nodes,this),this.marks=f_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Vl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?IR(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:IR(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof xR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Fy(r,r.defaultAttrs,e,bt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return na.fromJSON(this,e)}markFromJSON(e){return bt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function IR(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Rse(n){return n.tag!=null}function Ase(n){return n.style!=null}class ra{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Rse(i))this.tags.push(i);else if(Ase(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new kR(this,t,!1);return r.addAll(e,bt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new kR(this,t,!0);return r.addAll(e,bt.none,t.from,t.to),se.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Nse(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=DR(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=DR(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ra(e,ra.schemaRules(e)))}}const K$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Mse={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Y$={ol:!0,ul:!0},Nh=1,pE=2,jf=4;function CR(n,e,t){return e!=null?(e?Nh:0)|(e==="full"?pE:0):n&&n.whitespace=="pre"?Nh|pE:t&~jf}class Em{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=bt.none,this.match=o||(s&jf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Nh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!K$.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class kR{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,s=CR(null,t.preserveWhitespace,0)|(r?jf:0);i?o=new Em(i.type,i.attrs,bt.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new Em(null,null,bt.none,!0,null,s):o=new Em(e.schema.topNodeType,null,bt.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&pE?"full":this.localPreserveWS||(i.options&Nh)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;Y$.hasOwnProperty(s)&&this.parser.normalizeLists&&Ose(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Mse.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(K$.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let d=l&&l.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,t.attrs||null,r,t.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=bt.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):PR(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=CR(e,o,s.options);s.options&jf&&s.content.length==0&&(a|=jf);let l=bt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):PR(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Em(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Nh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Ose(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Y$.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Nse(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function DR(n){let e={};for(let t in n)e[t]=n[t];return e}function PR(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class Jl{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Bw(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,t);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=mg(Bw(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&mg(Bw(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return mg(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Jl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=RR(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return RR(e.marks)}}function RR(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Bw(n){return n.document||window.document}const AR=new WeakMap;function Lse(n){let e=AR.get(n);return e===void 0&&AR.set(n,e=Fse(n)),e}function Fse(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function mg(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Lse(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=mg(n,h,t,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const G$=65535,Q$=Math.pow(2,16);function Vse(n,e){return n+e*Q$}function MR(n){return n&G$}function $se(n){return(n-(n&G$))/Q$}const J$=1,X$=2,gg=4,Z$=8;class mE{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Z$)>0}get deletedBefore(){return(this.delInfo&(J$|gg))>0}get deletedAfter(){return(this.delInfo&(X$|gg))>0}get deletedAcross(){return(this.delInfo&gg)>0}}class jr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&jr.empty)return jr.empty}recover(e){let t=0,r=MR(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+$se(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:t:t,p=l+i+(h<0?0:u);if(r)return p;let m=e==(t<0?l:d)?null:Vse(a/3,e-l),g=e==l?X$:e==d?J$:gg;return(t<0?e!=l:e!=d)&&(g|=Z$),new mE(p,g,m)}i+=u-c}return r?e+i:new mE(e+i,0,null)}touches(e,t){let r=0,i=MR(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new jr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?jr.empty:new jr(e<0?[0,-e,0]:[0,0,e])}}jr.empty=new jr([]);class Uf{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new Uf(this.maps,this.mirror,e,t)}copy(){return new Uf(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Uf;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new mE(e,i,null)}}const zw=Object.create(null);class ir{getMap(){return jr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=zw[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in zw)throw new RangeError("Duplicate use of step JSON ID "+e);return zw[e]=t,t.prototype.jsonID=e,t}}class un{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new un(e,null)}static fail(e){return new un(null,e)}static fromReplace(e,t,r,i){try{return un.ok(e.replace(t,r,i))}catch(o){if(o instanceof Oy)return un.fail(o.message);throw o}}}function Ax(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Ax(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return G.fromArray(r)}class $s extends ir{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new se(Ax(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return un.fromReplace(e,this.from,this.to,o)}invert(){return new so(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new $s(t.pos,r.pos,this.mark)}merge(e){return e instanceof $s&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $s(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $s(t.from,t.to,e.markFromJSON(t.mark))}}ir.jsonID("addMark",$s);class so extends ir{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new se(Ax(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return un.fromReplace(e,this.from,this.to,r)}invert(){return new $s(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new so(t.pos,r.pos,this.mark)}merge(e){return e instanceof so&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new so(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new so(t.from,t.to,e.markFromJSON(t.mark))}}ir.jsonID("removeMark",so);class Bs extends ir{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return un.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return un.fromReplace(e,this.pos,this.pos+1,new se(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Bs(this.pos,t.marks[i]);return new Bs(this.pos,this.mark)}}return new Nu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Bs(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bs(t.pos,e.markFromJSON(t.mark))}}ir.jsonID("addNodeMark",Bs);class Nu extends ir{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return un.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return un.fromReplace(e,this.pos,this.pos+1,new se(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Bs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Nu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Nu(t.pos,e.markFromJSON(t.mark))}}ir.jsonID("removeNodeMark",Nu);class Sn extends ir{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&gE(e,this.from,this.to)?un.fail("Structure replace would overwrite content"):un.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new jr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Sn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Sn(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Sn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Sn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Sn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Sn(t.from,t.to,se.fromJSON(e,t.slice),!!t.structure)}}ir.jsonID("replace",Sn);class xn extends ir{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(gE(e,this.from,this.gapFrom)||gE(e,this.gapTo,this.to)))return un.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return un.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?un.fromReplace(e,this.from,this.to,r):un.fail("Content does not fit in gap")}getMap(){return new jr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new xn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new xn(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xn(t.from,t.to,t.gapFrom,t.gapTo,se.fromJSON(e,t.slice),t.insert,!!t.structure)}}ir.jsonID("replaceAround",xn);function gE(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Bse(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,t),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==h&&s.mark.eq(d[g])?s.to=p:i.push(s=new so(h,p,d[g])));a&&a.to==h?a.to=p:o.push(a=new $s(h,p,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function zse(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof f_){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<i.length;p++){let m=i[p];m.step==o-1&&d.eq(i[p].style)&&(h=m)}h?(h.to=c,h.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new so(s.from,s.to,s.style)))}function Mx(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Sn(a,u,se.empty));else{r=d;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new so(a,u,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new se(G.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new Sn(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(G.empty,!0);n.replace(a,a,new se(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function jse(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function pd(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!jse(i,o,s))break}return null}function Use(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=G.empty,d=0;for(let m=o,g=!1;m>t;m--)g||r.index(m)>0?(g=!0,u=G.from(r.node(m).copy(u)),d++):l--;let h=G.empty,p=0;for(let m=o,g=!1;m>t;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=G.from(i.node(m).copy(h)),p++):c++;n.step(new xn(l,c,s,a,new se(u.append(h),d,p),u.size-d,!0))}function e4(n,e,t=null,r=n){let i=Wse(n,e),o=i&&Hse(r,e);return o?i.map(OR).concat({type:e,attrs:t}).concat(o.map(OR)):null}function OR(n){return{type:n,attrs:null}}function Wse(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function Hse(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function qse(n,e,t){let r=G.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new xn(i,o,i,o,new se(r,0,0),t.length,!0))}function Kse(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&Yse(n.doc,n.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&n4(n,s,a,o),Mx(n,n.mapping.slice(o).map(a,1),r,void 0,c===null);let u=n.mapping.slice(o),d=u.map(a,1),h=u.map(a+s.nodeSize,1);return n.step(new xn(d,h,d+1,h-1,new se(G.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&t4(n,s,a,o),!1}})}function t4(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function n4(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Yse(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Gse(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new xn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new se(G.from(s),0,0),1,!0))}function lu(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>o;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Qse(n,e,t=1,r){let i=n.doc.resolve(e),o=G.empty,s=G.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=G.from(i.node(a).copy(o));let u=r&&r[c];s=G.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}n.step(new Sn(e,e,new se(o.append(s),t,t),!0))}function Xl(n,e){let t=n.resolve(e),r=t.index();return r4(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Jse(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function r4(n,e){return!!(n&&e&&!n.isLeaf&&Jse(n,e))}function h_(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&r4(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Xse(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=n.steps.length;if(r===!1){let u=n.doc.resolve(e+t);n4(n,u.node(),u.before(),a)}s.inlineContent&&Mx(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Sn(c,l.map(e+t,-1),se.empty,!0)),r===!0){let u=n.doc.resolve(c);t4(n,u.node(),u.before(),n.steps.length)}return n}function Zse(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function eae(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function p_(n,e,t=e,r=se.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return i4(i,o,r)?new Sn(e,t,r):new tae(i,o,r).fit()}function i4(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class tae{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=G.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new se(o,s,a);return e>-1?new xn(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Sn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=jw(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(t==1&&(s?c.matchType(s.type)||(d=c.fillBefore(G.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=jw(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new se(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=jw(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new se(yf(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new se(yf(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),_=d.matchType(g.type);if(!_)break;c++,(c>1||l==0||g.content.size)&&(d=_,u.push(o4(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=vf(this.placed,t,G.from(u)),this.frontier[t].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,_=a;g<p;g++){let v=_.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),_=v.content}this.unplaced=m?e==0?se.empty:new se(yf(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new se(yf(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Uw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=Uw(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Uw(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=vf(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vf(this.placed,this.depth,G.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=vf(this.placed,this.frontier.length,t))}}function yf(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(yf(n.firstChild.content,e-1,t)))}function vf(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(vf(n.lastChild.content,e-1,t)))}function jw(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function o4(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,o4(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),n.copy(r)}function Uw(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!nae(t,o.content,s)?a:null}function nae(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function rae(n){return n.spec.defining||n.spec.definingForContent}function iae(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(i4(i,o,r))return n.step(new Sn(e,t,r));let s=a4(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=rae(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),m=c[p];if(m)for(let g=0;g<s.length;g++){let _=s[(g+l)%s.length],v=!0;_<0&&(v=!1,_=-_);let w=i.node(_-1),b=i.index(_-1);if(w.canReplaceWith(b,b,m.type,m.marks))return n.replace(i.before(_),v?o.after(_):t,new se(s4(r.content,0,r.openStart,p),p,r.openEnd))}}let d=n.steps.length;for(let h=s.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>d));h--){let p=s[h];p<0||(e=i.before(p),t=o.after(p))}}function s4(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(s4(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(G.empty,!0))}return n}function oae(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Zse(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new se(G.from(r),0,0))}function sae(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=a4(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function a4(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class cu extends ir{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return un.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return un.fromReplace(e,this.pos,this.pos+1,new se(G.from(i),0,t.isLeaf?0:1))}getMap(){return jr.empty}invert(e){return new cu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new cu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new cu(t.pos,t.attr,t.value)}}ir.jsonID("attr",cu);class Lh extends ir{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return un.ok(r)}getMap(){return jr.empty}invert(e){return new Lh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Lh(t.attr,t.value)}}ir.jsonID("docAttr",Lh);let Lu=class extends Error{};Lu=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Lu.prototype=Object.create(Error.prototype);Lu.prototype.constructor=Lu;Lu.prototype.name="TransformError";class aae{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Uf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Lu(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=se.empty){let i=p_(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new se(G.from(r),0,0))}delete(e,t){return this.replace(e,t,se.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return iae(this,e,t,r),this}replaceRangeWith(e,t,r){return oae(this,e,t,r),this}deleteRange(e,t){return sae(this,e,t),this}lift(e,t){return Use(this,e,t),this}join(e,t=1){return Xse(this,e,t),this}wrap(e,t){return qse(this,e,t),this}setBlockType(e,t=e,r,i=null){return Kse(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Gse(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new cu(e,t,r)),this}setDocAttribute(e,t){return this.step(new Lh(e,t)),this}addNodeMark(e,t){return this.step(new Bs(e,t)),this}removeNodeMark(e,t){if(!(t instanceof bt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Nu(e,t)),this}split(e,t=1,r){return Qse(this,e,t,r),this}addMark(e,t,r){return Bse(this,e,t,r),this}removeMark(e,t,r){return zse(this,e,t,r),this}clearIncompatible(e,t,r){return Mx(this,e,t,r),this}}const Ww=Object.create(null);class Be{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new lae(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=se.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?se.empty:t),a==0&&FR(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),FR(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Le(e):Pc(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?Pc(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Pc(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Bi(e.node(0))}static atStart(e){return Pc(e,e,0,0,1)||new Bi(e)}static atEnd(e){return Pc(e,e,e.content.size,e.childCount,-1)||new Bi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ww[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ww)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ww[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}}Be.prototype.visible=!0;class lae{constructor(e,t){this.$from=e,this.$to=t}}let NR=!1;function LR(n){!NR&&!n.parent.inlineContent&&(NR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Le extends Be{constructor(e,t=e){LR(e),LR(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Be.near(r);let i=e.resolve(t.map(this.anchor));return new Le(i.parent.inlineContent?i:r,r)}replace(e,t=se.empty){if(super.replace(e,t),t==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new m_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Be.findFrom(t,r,!0)||Be.findFrom(t,-r,!0);if(o)t=o.$head;else return Be.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Be.findFrom(e,-r,!0)||Be.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Le(e,t)}}Be.jsonID("text",Le);class m_{constructor(e,t){this.anchor=e,this.head=t}map(e){return new m_(e.map(this.anchor),e.map(this.head))}resolve(e){return Le.between(e.resolve(this.anchor),e.resolve(this.head))}}class xe extends Be{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Be.near(o):new xe(o)}content(){return new se(G.from(this.node),0,0)}eq(e){return e instanceof xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ox(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new xe(e.resolve(t.anchor))}static create(e,t){return new xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}xe.prototype.visible=!1;Be.jsonID("node",xe);class Ox{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new m_(r,r):new Ox(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&xe.isSelectable(r)?new xe(t):Be.near(t)}}class Bi extends Be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=se.empty){if(t==se.empty){e.delete(0,e.doc.content.size);let r=Be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bi(e)}map(e){return new Bi(e)}eq(e){return e instanceof Bi}getBookmark(){return cae}}Be.jsonID("all",Bi);const cae={map(){return this},resolve(n){return new Bi(n)}};function Pc(n,e,t,r,i,o=!1){if(e.inlineContent)return Le.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&xe.isSelectable(a))return xe.create(n,t-(i<0?a.nodeSize:0))}else{let l=Pc(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function FR(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Sn||i instanceof xn))return;let o=n.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),n.setSelection(Be.near(n.doc.resolve(s),t))}const VR=1,Sm=2,$R=4;class uae extends aae{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|VR)&~Sm,this.storedMarks=null,this}get selectionSet(){return(this.updated&VR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Sm,this}ensureMarks(e){return bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Sm)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Sm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$R,this}get scrolledIntoView(){return(this.updated&$R)>0}}function BR(n,e){return!e||!n?n:n.bind(e)}class _f{constructor(e,t,r){this.name=e,this.init=BR(t.init,r),this.apply=BR(t.apply,r)}}const dae=[new _f("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new _f("selection",{init(n,e){return n.selection||Be.atStart(e.doc)},apply(n){return n.selection}}),new _f("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new _f("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Hw{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dae.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _f(r.key,r.spec.state,r))})}}class Kc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Kc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new uae(this)}static create(e){let t=new Hw(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Kc(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Hw(this.schema,e.plugins),r=t.fields,i=new Kc(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Hw(e.schema,e.plugins),o=new Kc(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=na.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=Be.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=c.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function l4(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=l4(i,e,{})),t[r]=i}return t}class Eo{constructor(e){this.spec=e,this.props={},e.props&&l4(e.props,this,this.props),this.key=e.key?e.key.key:c4("plugin")}getState(e){return e[this.key]}}const qw=Object.create(null);function c4(n){return n in qw?n+"$"+ ++qw[n]:(qw[n]=0,n+"$")}class Zl{constructor(e="key"){this.key=c4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Vn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Fh=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let yE=null;const Po=function(n,e,t){let r=yE||(yE=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},fae=function(){yE=null},$l=function(n,e,t,r){return t&&(zR(n,e,t,r,-1)||zR(n,e,t,r,1))},hae=/^(img|br|input|textarea|hr)$/i;function zR(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:fi(n))){let o=n.parentNode;if(!o||o.nodeType!=1||_p(n)||hae.test(n.nodeName)||n.contentEditable=="false")return!1;e=Vn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?fi(n):0}else return!1}}function fi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function pae(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=fi(n)}else if(n.parentNode&&!_p(n))e=Vn(n),n=n.parentNode;else return null}}function mae(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!_p(n))e=Vn(n)+1,n=n.parentNode;else return null}}function gae(n,e,t){for(let r=e==0,i=e==fi(n);r||i;){if(n==t)return!0;let o=Vn(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==fi(n)}}function _p(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const g_=function(n){return n.focusNode&&$l(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ya(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function yae(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function vae(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(fi(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(fi(r.startContainer),r.startOffset)}}}const vo=typeof navigator<"u"?navigator:null,jR=typeof document<"u"?document:null,xa=vo&&vo.userAgent||"",vE=/Edge\/(\d+)/.exec(xa),u4=/MSIE \d/.exec(xa),_E=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xa),Nr=!!(u4||_E||vE),ia=u4?document.documentMode:_E?+_E[1]:vE?+vE[1]:0,Ui=!Nr&&/gecko\/(\d+)/i.test(xa);Ui&&+(/Firefox\/(\d+)/.exec(xa)||[0,0])[1];const wE=!Nr&&/Chrome\/(\d+)/.exec(xa),tr=!!wE,d4=wE?+wE[1]:0,_r=!Nr&&!!vo&&/Apple Computer/.test(vo.vendor),Fu=_r&&(/Mobile\/\w+/.test(xa)||!!vo&&vo.maxTouchPoints>2),ai=Fu||(vo?/Mac/.test(vo.platform):!1),_ae=vo?/Win/.test(vo.platform):!1,Bo=/Android \d/.test(xa),wp=!!jR&&"webkitFontSmoothing"in jR.documentElement.style,wae=wp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bae(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ko(n,e){return typeof n=="number"?n:n[e]}function Eae(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function UR(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=Fh(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?bae(o):Eae(a),u=0,d=0;if(e.top<c.top+ko(r,"top")?d=-(c.top-e.top+ko(i,"top")):e.bottom>c.bottom-ko(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ko(i,"top")-c.top:e.bottom-c.bottom+ko(i,"bottom")),e.left<c.left+ko(r,"left")?u=-(c.left-e.left+ko(i,"left")):e.right>c.right-ko(r,"right")&&(u=e.right-c.right+ko(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Sae(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:f4(n.dom)}}function f4(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Fh(r));return e}function Tae({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;h4(t,r==0?0:r-e)}function h4(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let wc=null;function xae(n){if(n.setActive)return n.setActive();if(wc)return n.focus(wc);let e=f4(n);n.focus(wc==null?{get preventScroll(){return wc={preventScroll:!0},!0}}:void 0),wc||(wc=!1,h4(e,0))}function p4(n,e){let t,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=n.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Po(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){t=u,r=g,i=g&&t.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(o=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!t&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(o=d+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?Iae(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:p4(t,i)}function Iae(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Es(r,1);if(o.top!=o.bottom&&Nx(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Nx(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Cae(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function kae(n,e,t){let{node:r,offset:i}=p4(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function Dae(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function m4(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Nx(e,c))return m4(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function Pae(n,e){let t=n.dom.ownerDocument,r,i=0,o=vae(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!Nx(e,c)||(s=m4(n.dom,e,c),!s))return null}if(_r)for(let c=s;r&&c;c=Fh(c))c.draggable&&(r=void 0);if(s=Cae(s,e),r){if(Ui&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;wp&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Dae(n,r,i,e))}a==null&&(a=kae(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function WR(n){return n.top<n.bottom||n.left<n.right}function Es(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(WR(r))return r}return Array.prototype.find.call(t,WR)||n.getBoundingClientRect()}const Rae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function g4(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=wp||Ui;if(r.nodeType==3)if(s&&(Rae.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Es(Po(r,i,i),t);if(Ui&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Es(Po(r,i-1,i-1),-1);if(c.top==l.top){let u=Es(Po(r,i,i+1),-1);if(u.top!=l.top)return Zd(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==r.nodeValue.length?(l--,u=1):t<0?l--:c++,Zd(Es(Po(r,l,c),u),u<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==fi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Kw(l.getBoundingClientRect(),!1)}if(o==null&&i<fi(r)){let l=r.childNodes[i];if(l.nodeType==1)return Kw(l.getBoundingClientRect(),!0)}return Kw(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==fi(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Po(l,fi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Zd(Es(c,1),!1)}if(o==null&&i<fi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Po(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Zd(Es(c,-1),!0)}return Zd(Es(r.nodeType==3?Po(r):r,-t),t>=0)}function Zd(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Kw(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function y4(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Aae(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return y4(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=g4(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Po(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const Mae=/[\u0590-\u08ac]/;function Oae(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return a?!Mae.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:y4(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=n.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:m,focusOffset:g}=n.domSelectionRange(),_=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),_}):r.pos==r.start()||r.pos==r.end()}let HR=null,qR=null,KR=!1;function Nae(n,e,t){return HR==e&&qR==t?KR:(HR=e,qR=t,KR=t=="up"||t=="down"?Aae(n,e,t):Oae(n,e,t))}const yi=0,YR=1,tl=2,_o=3;class bp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=yi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof _4){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof v4&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Vn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Vn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=s;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Vn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Vn(d.dom);break}t+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],_=m+g.size;if(o>m&&s<_)return g.setSelection(e-m-g.border,t-m-g.border,r,i);m=_}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Ui||_r)&&e==t){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,_;g;g=g.parentNode){if(_=g.nextSibling){_.nodeName=="BR"&&(a=l={node:_.parentNode,offset:Vn(_)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Ui&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&_r)&&$l(a.node,a.offset,u.anchorNode,u.anchorOffset)&&$l(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==t)&&!d){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>t){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==r||t==s?tl:YR,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=_o:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?tl:_o}r=s}this.dirty=tl}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?tl:YR;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class v4 extends bp{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==yi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Lae extends bp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Bl extends bp{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=Jl.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Bl(e,t,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&_o||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_o&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=yi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=yi}}slice(e,t,r){let i=Bl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=EE(o,t,s,r)),e>0&&(o=EE(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class oa extends bp{constructor(e,t,r,i,o,s,a,l,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let a=o.nodeViews[t.type.name],l,c=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Jl.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let h=u;return u=E4(u,r,t),c?l=new Fae(e,t,r,i,u,d||null,h,c,o,s+1):t.isText?new y_(e,t,r,i,u,h,o):new oa(e,t,r,i,u,d||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,r){return this.dirty==yi&&e.eq(this.node)&&Vy(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new $ae(this,s&&s.node,e);jae(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?bt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==tl)&&(s&&this.protectLocalComposition(e,s),w4(this.contentDOM,this.children,e),Fu&&Uae(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Le)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Wae(this.node.content,s,r-t,i-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Lae(this,o,t,i);e.input.compositionNodes.push(s),this.children=EE(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==_o||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=yi}updateOuterDeco(e){if(Vy(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=b4(this.dom,this.nodeDOM,bE(this.outerDeco,this.node,t),bE(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function GR(n,e,t,r,i){E4(r,e,n);let o=new oa(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class y_ extends oa{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==_o||this.dirty!=yi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=yi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=yi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new y_(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=_o)}get domAtom(){return!1}isText(e){return this.node.text==e}}class _4 extends bp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==yi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Fae extends oa{constructor(e,t,r,i,o,s,a,l,c,u){super(e,t,r,i,o,s,a,c,u),this.spec=l}update(e,t,r,i){if(this.dirty==_o)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function w4(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=QR(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof Bl){let l=r?r.previousSibling:n.lastChild;w4(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=QR(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Wf=function(n){n&&(this.nodeName=n)};Wf.prototype=Object.create(null);const nl=[new Wf];function bE(n,e,t){if(n.length==0)return nl;let r=t?nl[0]:new Wf,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new Wf(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&i.length==1&&i.push(r=new Wf(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function b4(n,e,t,r){if(t==nl&&r==nl)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=nl[0]),i=l}Vae(i,a||nl[0],s)}return i}function Vae(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function E4(n,e,t){return b4(n,n,nl,bE(e,t,n.nodeType!=1))}function Vy(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function QR(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class $ae{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Bae(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=yi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Bl.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==_o&&s.dom==s.contentDOM&&(s.dirty=tl),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof oa){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=_o&&Vy(t,l.outerDeco));if(!h&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,t,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=tl,d.updateChildren(i,s+1),d.dirty=yi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Vy(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=oa.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=oa.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new v4(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Bl;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof y_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((_r||tr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new _4(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Bae(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof Bl)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function zae(n,e){return n.type.side-e.type.side}function jae(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let _=i[s++];_.widget&&(u?(d||(d=[u])).push(_):u=_)}if(u)if(d){d.sort(zae);for(let _=0;_<d.length;_++)t(d[_],c,!!l)}else t(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<n.childCount)p=c,h=n.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=o&&a.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let m=o+h.nodeSize;if(h.isText){let _=m;s<i.length&&i[s].from<_&&(_=i[s].from);for(let v=0;v<a.length;v++)a[v].to<_&&(_=a[v].to);_<m&&(l=h.cut(_-o),h=h.cut(0,_-o),m=_,p=-1)}else for(;s<i.length&&i[s].to<m;)s++;let g=h.isInline&&!h.isLeaf?a.filter(_=>!_.inline):a.slice();r(h,g,e.forChild(o,h),p),o=m}}function Uae(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Wae(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function EE(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,u=a+=l.size;c>=t||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>t&&o.push(l.slice(t-c,l.size,r)))}return o}function Lx(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(g_(t)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&xe.isSelectable(d)&&i.parent&&!(d.isInline&&gae(t.focusNode,t.focusOffset,i.dom))){let h=i.posBefore;c=new xe(s==h?a:r.resolve(h))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=s,h=s;for(let p=0;p<t.rangeCount;p++){let m=t.getRangeAt(p);d=Math.min(d,n.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,n.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=h==n.state.selection.anchor?[h,d]:[d,h],a=r.resolve(s)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;c=Fx(n,u,a,d)}return c}function S4(n){return n.editable?n.hasFocus():x4(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Uo(n,e=!1){let t=n.state.selection;if(T4(n,t),!!S4(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&tr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&$l(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)qae(n);else{let{anchor:r,head:i}=t,o,s;JR&&!(t instanceof Le)&&(t.$from.parent.inlineContent||(o=XR(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=XR(n,t.to))),n.docView.setSelection(r,i,n,e),JR&&(o&&ZR(o),s&&ZR(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Hae(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const JR=_r||tr&&d4<63;function XR(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(_r&&i&&i.contentEditable=="false")return Yw(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Yw(i);if(o)return Yw(o)}}function Yw(n){return n.contentEditable="true",_r&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function ZR(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Hae(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!S4(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function qae(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Vn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Nr&&ia<=11&&(r.disabled=!0,r.disabled=!1)}function T4(n,e){if(e instanceof xe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(eA(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else eA(n)}function eA(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Fx(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Le.between(e,t,r)}function tA(n){return n.editable&&!n.hasFocus()?!1:x4(n)}function x4(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Kae(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return $l(e.node,e.offset,t.anchorNode,t.anchorOffset)}function SE(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Be.findFrom(o,e)}function xs(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function nA(n,e,t){let r=n.state.selection;if(r instanceof Le)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return xs(n,new Le(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=SE(n.state,e);return i&&i instanceof xe?xs(n,i):!1}else if(!(ai&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?xe.isSelectable(o)?xs(n,new xe(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):wp?xs(n,new Le(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof xe&&r.node.isInline)return xs(n,new Le(e>0?r.$to:r.$from));{let i=SE(n.state,e);return i?xs(n,i):!1}}}function $y(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Hf(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function bc(n,e){return e<0?Yae(n):Gae(n)}function Yae(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(Ui&&t.nodeType==1&&r<$y(t)&&Hf(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Hf(a,-1))i=t,o=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(I4(t))break;{let a=t.previousSibling;for(;a&&Hf(a,-1);)i=t.parentNode,o=Vn(a),a=a.previousSibling;if(a)t=a,r=$y(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?TE(n,t,r):i&&TE(n,i,o)}function Gae(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=$y(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Hf(a,1))o=t,s=++r;else break}else{if(I4(t))break;{let a=t.nextSibling;for(;a&&Hf(a,1);)o=a.parentNode,s=Vn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=$y(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&TE(n,o,s)}function I4(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qae(n,e){for(;n&&e==n.childNodes.length&&!_p(n);)e=Vn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Jae(n,e){for(;n&&!e&&!_p(n);)e=Vn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function TE(n,e,t){if(e.nodeType!=3){let o,s;(s=Qae(e,t))?(e=s,t=0):(o=Jae(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(g_(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Uo(n)},50)}function rA(n,e){let t=n.state.doc.resolve(e);if(!(tr||_ae)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function iA(n,e,t){let r=n.state.selection;if(r instanceof Le&&!r.empty||t.indexOf("s")>-1||ai&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=SE(n.state,e);if(s&&s instanceof xe)return xs(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Bi?Be.near(s,e):Be.findFrom(s,e);return a?xs(n,a):!1}return!1}function oA(n,e){if(!(n.state.selection instanceof Le))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function sA(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Xae(n){if(!_r||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;sA(n,r,"true"),setTimeout(()=>sA(n,r,"false"),20)}return!1}function Zae(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ele(n,e){let t=e.keyCode,r=Zae(e);if(t==8||ai&&t==72&&r=="c")return oA(n,-1)||bc(n,-1);if(t==46&&!e.shiftKey||ai&&t==68&&r=="c")return oA(n,1)||bc(n,1);if(t==13||t==27)return!0;if(t==37||ai&&t==66&&r=="c"){let i=t==37?rA(n,n.state.selection.from)=="ltr"?-1:1:-1;return nA(n,i,r)||bc(n,i)}else if(t==39||ai&&t==70&&r=="c"){let i=t==39?rA(n,n.state.selection.from)=="ltr"?1:-1:1;return nA(n,i,r)||bc(n,i)}else{if(t==38||ai&&t==80&&r=="c")return iA(n,-1,r)||bc(n,-1);if(t==40||ai&&t==78&&r=="c")return Xae(n)||iA(n,1,r)||bc(n,1);if(r==(ai?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function C4(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=n.someProp("clipboardSerializer")||Jl.fromSchema(n.state.schema),a=M4(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=A4[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(t)}`);let h=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function k4(n,e,t,r,i){let o=i.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",h=>{e=h(e,o||r,n)}),o)return e?new se(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let d=n.someProp("clipboardTextParser",h=>h(e,i,r,n));if(d)a=d;else{let h=i.marks(),{schema:p}=n.state,m=Jl.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let _=s.appendChild(document.createElement("p"));g&&_.appendChild(m.serializeNode(p.text(g,h)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),s=ile(t),wp&&ole(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||ra.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!tle.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=sle(aA(a,+u[1],+u[2]),u[4]);else if(a=se.maxOpen(nle(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=aA(a,d,h)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const tle=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function nle(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&P4(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=R4(s[s.length-1],o.length));let u=D4(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return G.from(s)}return n}function D4(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,G.from(n));return n}function P4(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=P4(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(G.from(D4(t,n,i+1))))}}function R4(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,R4(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(r))}function xE(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=xE(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function aA(n,e,t){return e<n.openStart&&(n=new se(xE(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new se(xE(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const A4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let lA=null;function M4(){return lA||(lA=document.implementation.createHTMLDocument("title"))}let Gw=null;function rle(n){let e=window.trustedTypes;return e?(Gw||(Gw=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Gw.createHTML(n)):n}function ile(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=M4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&A4[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=rle(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function ole(n){let e=n.querySelectorAll(tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function sle(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=G.from(l.create(r[a+1],i)),o++,s++}return new se(i,o,s)}const wr={},br={},ale={touchstart:!0,touchmove:!0};class lle{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cle(n){for(let e in wr){let t=wr[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{dle(n,r)&&!Vx(n,r)&&(n.editable||!(r.type in br))&&t(n,r)},ale[e]?{passive:!0}:void 0)}_r&&n.dom.addEventListener("input",()=>null),IE(n)}function zs(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ule(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function IE(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Vx(n,r))})}function Vx(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function dle(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function fle(n,e){!Vx(n,e)&&wr[e.type]&&(n.editable||!(e.type in br))&&wr[e.type](n,e)}br.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!N4(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Bo&&tr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Fu&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ya(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ele(n,t)?t.preventDefault():zs(n,"key")};br.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};br.keypress=(n,e)=>{let t=e;if(N4(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||ai&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Le)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function v_(n){return{left:n.clientX,top:n.clientY}}function hle(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function $x(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function uu(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function ple(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&xe.isSelectable(r)?(uu(n,new xe(t)),!0):!1}function mle(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof xe&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(xe.isSelectable(a)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(uu(n,xe.create(n.state.doc,i)),!0):!1}function gle(n,e,t,r,i){return $x(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?mle(n,t):ple(n,t))}function yle(n,e,t,r){return $x(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function vle(n,e,t,r){return $x(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||_le(n,t,r)}function _le(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(uu(n,Le.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)uu(n,Le.create(r,a+1,a+1+s.content.size));else if(xe.isSelectable(s))uu(n,xe.create(r,a));else continue;return!0}}function Bx(n){return By(n)}const O4=ai?"metaKey":"ctrlKey";wr.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Bx(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&hle(t,n.input.lastClick)&&!t[O4]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(v_(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new wle(n,s,t,!!r)):(o=="doubleClick"?yle:vle)(n,s.pos,s.inside,t)?t.preventDefault():zs(n,"pointer"))};class wle{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[O4],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let u=e.state.doc.resolve(t.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof xe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ui&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(v_(e))),this.updateAllowDefault(e),this.allowDefault||!t?zs(this.view,"pointer"):gle(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||_r&&this.mightDrag&&!this.mightDrag.node.isAtom||tr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(uu(this.view,Be.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):zs(this.view,"pointer")}move(e){this.updateAllowDefault(e),zs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wr.touchstart=n=>{n.input.lastTouch=Date.now(),Bx(n),zs(n,"pointer")};wr.touchmove=n=>{n.input.lastTouch=Date.now(),zs(n,"pointer")};wr.contextmenu=n=>Bx(n);function N4(n,e){return n.composing?!0:_r&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const ble=Bo?5e3:-1;br.compositionstart=br.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Le&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),By(n,!0),n.markCursor=null;else if(By(n,!e.selection.empty),Ui&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}L4(n,ble)};br.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,L4(n,20))};function L4(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>By(n),e))}function F4(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Sle());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ele(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=pae(e.focusNode,e.focusOffset),r=mae(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function Sle(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function By(n,e=!1){if(!(Bo&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),F4(n),e||n.docView&&n.docView.dirty){let t=Lx(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Tle(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Vh=Nr&&ia<15||Fu&&wae<604;wr.copy=br.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Vh?null:t.clipboardData,s=r.content(),{dom:a,text:l}=C4(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Tle(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xle(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Ile(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?$h(n,r.value,null,i,e):$h(n,r.textContent,r.innerHTML,i,e)},50)}function $h(n,e,t,r,i){let o=k4(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||se.empty)))return!0;if(!o)return!1;let s=xle(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function V4(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}br.paste=(n,e)=>{let t=e;if(n.composing&&!Bo)return;let r=Vh?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&$h(n,V4(r),r.getData("text/html"),i,t)?t.preventDefault():Ile(n,t)};class $4{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const B4=ai?"altKey":"ctrlKey";wr.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(v_(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof xe?i.to-1:i.to))){if(r&&r.mightDrag)s=xe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(s=xe.create(n.state.doc,d.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:c,slice:u}=C4(n,a);(!t.dataTransfer.files.length||!tr||d4>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Vh?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Vh||t.dataTransfer.setData("text/plain",c),n.dragging=new $4(u,!t[B4],s)};wr.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};br.dragover=br.dragenter=(n,e)=>e.preventDefault();br.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(v_(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",m=>{s=m(s,n)}):s=k4(n,V4(t.dataTransfer),Vh?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!t[B4]);if(n.someProp("handleDrop",m=>m(n,t,s||se.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?eae(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=n.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&xe.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new xe(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,_,v,w)=>m=w),c.setSelection(Fx(n,p,c.doc.resolve(m)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};wr.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Uo(n)},20))};wr.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};wr.beforeinput=(n,e)=>{if(tr&&Bo&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Ya(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in br)wr[n]=br[n];function Bh(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class zy{constructor(e,t){this.toDOM=e,this.spec=t||ml,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new Li(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof zy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sa{constructor(e,t){this.attrs=e,this.spec=t||ml}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Li(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof sa&&Bh(this.attrs,e.attrs)&&Bh(this.spec,e.spec)}static is(e){return e.type instanceof sa}destroy(){}}class zx{constructor(e,t){this.attrs=e,this.spec=t||ml}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Li(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof zx&&Bh(this.attrs,e.attrs)&&Bh(this.spec,e.spec)}destroy(){}}class Li{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Li(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Li(e,e,new zy(t,r))}static inline(e,t,r,i){return new Li(e,t,new sa(r,i))}static node(e,t,r,i){return new Li(e,t,new zx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sa}get widget(){return this.type instanceof zy}}const Rc=[],ml={};class En{constructor(e,t){this.local=e.length?e:Rc,this.children=t.length?t:Rc}static create(e,t){return t.length?jy(t,e,0,ml):Xn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==Xn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ml)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Cle(this.children,s||[],e,t,r,i,o):s?new En(s.sort(gl),Rc):Xn}add(e,t){return t.length?this==Xn?En.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=j4(t,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,jy(u,a,c+1,ml)),o+=3}});let s=z4(o?U4(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new En(s.length?this.local.concat(s).sort(gl):this.local,i||this.children)}remove(e){return e.length==0||this==Xn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=Xn?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new En(i,r):Xn}forChild(e,t){if(this==Xn)return this;if(t.isLeaf)return En.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof sa){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new En(i.sort(gl),Rc);return r?new Ms([a,r]):a}return r||Xn}eq(e){if(this==e)return!0;if(!(e instanceof En)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return jx(this.localsInner(e))}localsInner(e){if(this==Xn)return Rc;if(e.inlineContent||!this.local.some(sa.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sa||t.push(this.local[r]);return t}forEachSet(e){e(this)}}En.empty=new En([],[]);En.removeOverlap=jx;const Xn=En.empty;class Ms{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ml));return Ms.from(r)}forChild(e,t){if(t.isLeaf)return En.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=Xn&&(o instanceof Ms?r=r.concat(o.members):r.push(o))}return Ms.from(r)}eq(e){if(!(e instanceof Ms)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?jx(r?t:t.sort(gl)):Rc}static from(e){switch(e.length){case 0:return Xn;case 1:return e[0];default:return new Ms(e.every(t=>t instanceof En)?e:e.reduce((t,r)=>t.concat(r instanceof En?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Cle(n,e,t,r,i,o,s){let a=n.slice();for(let c=0,u=o;c<t.maps.length;c++){let d=0;t.maps[c].forEach((h,p,m,g)=>{let _=g-m-(p-h);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||h>w+u-d)continue;let b=a[v]+u-d;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&_&&(a[v]+=_,a[v+1]+=_)}d+=_}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=t.map(n[c+1]+o,-1),p=h-i,{index:m,offset:g}=r.content.findIndex(d),_=r.maybeChild(m);if(_&&g==d&&g+_.nodeSize==p){let v=a[c+2].mapInner(t,_,u+1,n[c]+o+1,s);v!=Xn?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=kle(a,n,e,t,i,o,s),u=jy(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new En(e.sort(gl),a)}function z4(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Li(i.from+e,i.to+e,i.type))}return t}function kle(n,e,t,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?t.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function j4(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function U4(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function jy(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let c=j4(n,a,l+t);if(c){o=!0;let u=jy(c,a,t+l+1,r);u!=Xn&&i.push(l,l+a.nodeSize,u)}});let s=z4(o?U4(n):n,-t).sort(gl);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new En(s,i):Xn}function gl(n,e){return n.from-e.from||n.to-e.to}function jx(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),cA(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),cA(e,i,r.copy(o.from,r.to)));break}}}return e}function cA(n,e,t){for(;e<n.length&&gl(t,n[e])>0;)e++;n.splice(e,0,t)}function Qw(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Xn&&e.push(r)}),n.cursorWrapper&&e.push(En.create(n.state.doc,[n.cursorWrapper.deco])),Ms.from(e)}const Dle={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ple=Nr&&ia<=11;class Rle{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Ale{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rle,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Nr&&ia<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ple&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Dle)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(tA(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(Nr&&ia<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&$l(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Fh(o))t.add(o);for(let o=e.anchorNode;o;o=Fh(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&tA(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let d=this.registerMutation(t[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Ui&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||Nle(e,d)!=p)&&h.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&g_(r)&&(c=Lx(e))&&c.eq(Be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Uo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),Mle(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Uo(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Nr&&ia<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==e.target?Vn(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Vn(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let uA=new WeakMap,dA=!1;function Mle(n){if(!uA.has(n)&&(uA.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Ui,dA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dA=!0}}function fA(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return $l(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function Ole(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return fA(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?fA(n,t):null}function Nle(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Lle(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],g_(l)||c.push({node:l.focusNode,offset:l.focusOffset})),tr&&n.input.lastKeyCode===8)for(let _=o;_>i;_--){let v=r.childNodes[_-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){o=_;break}if(!w||w.size)break}let d=n.state.doc,h=n.someProp("domParser")||ra.fromSchema(n.state.schema),p=d.resolve(s),m=null,g=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Fle,context:p});if(c&&c[0].pos!=null){let _=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=_),m={anchor:_+s,head:v+s}}return{doc:g,sel:m,from:s,to:a}}function Fle(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(_r&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||_r&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Vle=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $le(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,k=Lx(n,I);if(k&&!n.state.selection.eq(k)){if(tr&&Bo&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",O=>O(n,Ya(13,"Enter"))))return;let A=n.state.tr.setSelection(k);I=="pointer"?A.setMeta("pointer",!0):I=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),n.dispatch(A)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=Lle(n,e,t),u=n.state.doc,d=u.slice(c.from,c.to),h,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(h=n.state.selection.to,p="end"):(h=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let m=jle(d.content,c.doc.content,c.from,h,p);if(m&&n.input.domChangeCount++,(Fu&&n.input.lastIOSEnter>Date.now()-225||Bo)&&i.some(I=>I.nodeType==1&&!Vle.test(I.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",I=>I(n,Ya(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Le&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let I=hA(n,n.state.doc,c.sel);if(I&&!I.eq(n.state.selection)){let k=n.state.tr.setSelection(I);o&&k.setMeta("composition",o),n.dispatch(k)}}return}n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof Le&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),Nr&&ia<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),w=g.sameParent(_)&&g.parent.inlineContent&&v.end()>=m.endA,b;if((Fu&&n.input.lastIOSEnter>Date.now()-225&&(!w||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(_)&&(b=Be.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==_.pos)&&n.someProp("handleKeyDown",I=>I(n,Ya(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&zle(u,m.start,m.endA,g,_)&&n.someProp("handleKeyDown",I=>I(n,Ya(8,"Backspace")))){Bo&&tr&&n.domObserver.suppressSelectionUpdates();return}tr&&m.endB==m.start&&(n.input.lastChromeDelete=Date.now()),Bo&&!w&&g.start()!=_.start()&&_.parentOffset==0&&g.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,Ya(13,"Enter"))})},20));let C=m.start,D=m.endA,M,S,E;if(w){if(g.pos==_.pos)Nr&&ia<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(n),20)),M=n.state.tr.delete(C,D),S=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(E=Ble(g.parent.content.cut(g.parentOffset,_.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))M=n.state.tr,E.type=="add"?M.addMark(C,D,E.mark):M.removeMark(C,D,E.mark);else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let I=g.parent.textBetween(g.parentOffset,_.parentOffset);if(n.someProp("handleTextInput",k=>k(n,C,D,I)))return;M=n.state.tr.insertText(I,C,D)}}if(M||(M=n.state.tr.replace(C,D,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let I=hA(n,M.doc,c.sel);I&&!(tr&&n.composing&&I.empty&&(m.start!=m.endB||n.input.lastChromeDelete<Date.now()-100)&&(I.head==C||I.head==M.mapping.map(D)-1)||Nr&&I.empty&&I.head==C)&&M.setSelection(I)}S&&M.ensureMarks(S),o&&M.setMeta("composition",o),n.dispatch(M.scrollIntoView())}function hA(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Fx(n,e.resolve(t.anchor),e.resolve(t.head))}function Ble(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<t.length;u++)o=t[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(G.from(c).eq(n))return{mark:a,type:s}}function zle(n,e,t,r,i){if(t-e<=i.pos-r.pos||Jw(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(Jw(o,!0,!0));return!s.parent.isTextblock||s.pos>t||Jw(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Jw(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function jle(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&n.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&pA(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<n.size&&pA(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function pA(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Ule{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lle,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(_A),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=yA(this),gA(this),this.nodeViews=vA(this),this.docView=GR(this.state.doc,mA(this),Qw(this),this.dom,this),this.domObserver=new Ale(this,(r,i,o,s)=>$le(this,r,i,o,s)),this.domObserver.start(),cle(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&IE(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(_A),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(F4(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=vA(this);Hle(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&IE(this),this.editable=yA(this),gA(this);let l=Qw(this),c=mA(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let h=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Sae(this);if(s){this.domObserver.stop();let p=d&&(Nr||tr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Wle(i.selection,e.selection);if(d){let m=tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ele(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=GR(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Kae(this))?Uo(this,p):(T4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Tae(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&UR(this,t.getBoundingClientRect(),e)}else UR(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new $4(e.slice,e.move,i<0?void 0:xe.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Nr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xae(this.dom),Uo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pae(this,e)}coordsAtPos(e,t=1){return g4(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Nae(this,t||this.state,e)}pasteHTML(e,t){return $h(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return $h(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(ule(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fae())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return fle(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?_r&&this.root.nodeType===11&&yae(this.dom.ownerDocument)==this.dom&&Ole(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function mA(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Li.node(0,n.state.doc.content.size,e)]}function gA(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Li.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function yA(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Wle(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function vA(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Hle(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function _A(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ga={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Uy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qle=typeof navigator<"u"&&/Mac/.test(navigator.platform),Kle=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $n=0;$n<10;$n++)ga[48+$n]=ga[96+$n]=String($n);for(var $n=1;$n<=24;$n++)ga[$n+111]="F"+$n;for(var $n=65;$n<=90;$n++)ga[$n]=String.fromCharCode($n+32),Uy[$n]=String.fromCharCode($n);for(var Xw in ga)Uy.hasOwnProperty(Xw)||(Uy[Xw]=ga[Xw]);function Yle(n){var e=qle&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Kle&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Uy:ga)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Gle=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Qle(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Gle?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function Jle(n){let e=Object.create(null);for(let t in n)e[Qle(t)]=n[t];return e}function Zw(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Xle(n){return new Eo({props:{handleKeyDown:Zle(n)}})}function Zle(n){let e=Jle(n);return function(t,r){let i=Yle(r),o,s=e[Zw(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Zw(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ga[r.keyCode])&&o!=i){let a=e[Zw(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const ece=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function W4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const tce=(n,e,t)=>{let r=W4(n,t);if(!r)return!1;let i=Ux(r);if(!i){let s=r.blockRange(),a=s&&pd(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(Y4(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Vu(o,"end")||xe.isSelectable(o)))for(let s=r.depth;;s--){let a=p_(n.doc,r.before(s),r.after(s),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Vu(o,"end")?Be.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):xe.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},nce=(n,e,t)=>{let r=W4(n,t);if(!r)return!1;let i=Ux(r);return i?H4(n,i,e):!1},rce=(n,e,t)=>{let r=q4(n,t);if(!r)return!1;let i=Wx(r);return i?H4(n,i,e):!1};function H4(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=p_(n.doc,o,l,se.empty);if(!c||c.from!=o||c instanceof Sn&&c.slice.size>=l-o)return!1;if(t){let u=n.tr.step(c);u.setSelection(Le.create(u.doc,o)),t(u.scrollIntoView())}return!0}function Vu(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const ice=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Ux(r)}let s=o&&o.nodeBefore;return!s||!xe.isSelectable(s)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Ux(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function q4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const oce=(n,e,t)=>{let r=q4(n,t);if(!r)return!1;let i=Wx(r);if(!i)return!1;let o=i.nodeAfter;if(Y4(n,i,e,1))return!0;if(r.parent.content.size==0&&(Vu(o,"start")||xe.isSelectable(o))){let s=p_(n.doc,r.before(),r.after(),se.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Vu(o,"start")?Be.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):xe.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},sce=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Wx(r)}let s=o&&o.nodeAfter;return!s||!xe.isSelectable(s)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,o.pos)).scrollIntoView()),!0)};function Wx(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const ace=(n,e)=>{let t=n.selection,r=t instanceof xe,i;if(r){if(t.node.isTextblock||!Xl(n.doc,t.from))return!1;i=t.from}else if(i=h_(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(xe.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},lce=(n,e)=>{let t=n.selection,r;if(t instanceof xe){if(t.node.isTextblock||!Xl(n.doc,t.to))return!1;r=t.to}else if(r=h_(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},cce=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&pd(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},uce=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function K4(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const dce=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=K4(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Be.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},fce=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Bi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=K4(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(Le.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},hce=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(lu(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&pd(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},pce=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(xe.create(n.doc,i))),!0)};function mce(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Xl(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Y4(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&mce(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,m=G.empty;for(let v=s.length-1;v>=0;v--)m=G.from(s[v].create(null,m));m=G.from(i.copy(m));let g=n.tr.step(new xn(e.pos-1,p,e.pos,p,new se(m,1,0),s.length,!0)),_=g.doc.resolve(p+2*s.length);_.nodeAfter&&_.nodeAfter.type==i.type&&Xl(g.doc,_.pos)&&g.join(_.pos),t(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Be.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&pd(d);if(h!=null&&h>=e.depth)return t&&t(n.tr.lift(d,h).scrollIntoView()),!0;if(c&&Vu(o,"start",!0)&&Vu(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=o,_=1;for(;!g.isTextblock;g=g.firstChild)_++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let v=G.empty;for(let b=m.length-1;b>=0;b--)v=G.from(m[b].copy(v));let w=n.tr.step(new xn(e.pos-m.length,e.pos+o.nodeSize,e.pos+_,e.pos+o.nodeSize-_,new se(v,m.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function G4(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Le.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const gce=G4(-1),yce=G4(1);function vce(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&e4(s,n,e);return a?(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function wA(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function _ce(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o);if(!s)return!1;let a=r?t.tr:null;return wce(a,s,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function wce(n,e,t,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);o=new Ly(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Ly(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=e4(o,t,r,e);return a?(n&&bce(n,e,a,i,t),!0):!1}function bce(n,e,t,r,i){let o=G.empty;for(let u=t.length-1;u>=0;u--)o=G.from(t[u].type.create(t[u].attrs,o));n.step(new xn(e.start-(r?2:0),e.end,e.start,e.end,new se(o,0,0),t.length,!0));let s=0;for(let u=0;u<t.length;u++)t[u].type==i&&(s=u+1);let a=t.length-s,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&lu(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function Ece(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?Sce(e,t,n,o):Tce(e,t,o):!0:!1}}function Sce(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new xn(o-1,s,o,s,new se(G.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Ly(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=pd(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Xl(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function Tce(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,m=t.endIndex-1,g=t.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?G.empty:G.from(i))))return!1;let d=o.pos,h=d+s.nodeSize;return r.step(new xn(d-(a?1:0),h+(l?1:0),d+1,h-1,new se((a?G.empty:G.from(i.copy(G.empty))).append(l?G.empty:G.from(i.copy(G.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function xce(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=G.from(c?n.create():null),d=new se(G.from(n.create(null,G.from(a.type.create(null,u)))),c?3:1,0),h=o.start,p=o.end;t(e.tr.step(new xn(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function __(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class w_{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...g)=>{const _=this.buildProps(c,t),v=p(...g)(_);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:__({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Ice{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function pe(n,e,t){return n.config[e]===void 0&&n.parent?pe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?pe(n.parent,e,t):null}):n.config[e]}function b_(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Q4(n){const e=[],{nodeExtensions:t,markExtensions:r}=b_(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=pe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...o,...p}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=pe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...o,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:s.name,name:u,attribute:h})})}),e}function Cn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Hx(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function CE(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Hx(t,r),{})}function J4(n){return typeof n=="function"}function Ye(n,e=void 0,...t){return J4(n)?e?n.bind(e)(...t):n(...t):n}function Cce(n={}){return Object.keys(n).length===0&&n.constructor===Object}function kce(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function bA(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):kce(t.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function EA(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&Cce(t)?!1:t!=null))}function Dce(n,e){var t;const r=Q4(n),{nodeExtensions:i,markExtensions:o}=b_(n),s=(t=i.find(c=>pe(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((v,w)=>{const b=pe(w,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),p=EA({...h,content:Ye(pe(c,"content",d)),marks:Ye(pe(c,"marks",d)),group:Ye(pe(c,"group",d)),inline:Ye(pe(c,"inline",d)),atom:Ye(pe(c,"atom",d)),selectable:Ye(pe(c,"selectable",d)),draggable:Ye(pe(c,"draggable",d)),code:Ye(pe(c,"code",d)),whitespace:Ye(pe(c,"whitespace",d)),linebreakReplacement:Ye(pe(c,"linebreakReplacement",d)),defining:Ye(pe(c,"defining",d)),isolating:Ye(pe(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var w;return[v.name,{default:(w=v==null?void 0:v.attribute)===null||w===void 0?void 0:w.default}]}))}),m=Ye(pe(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>bA(v,u)));const g=pe(c,"renderHTML",d);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:CE(v,u)}));const _=pe(c,"renderText",d);return _&&(p.toText=_),[c.name,p]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(_=>_.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((_,v)=>{const w=pe(v,"extendMarkSchema",d);return{..._,...w?w(c):{}}},{}),p=EA({...h,inclusive:Ye(pe(c,"inclusive",d)),excludes:Ye(pe(c,"excludes",d)),group:Ye(pe(c,"group",d)),spanning:Ye(pe(c,"spanning",d)),code:Ye(pe(c,"code",d)),attrs:Object.fromEntries(u.map(_=>{var v;return[_.name,{default:(v=_==null?void 0:_.attribute)===null||v===void 0?void 0:v.default}]}))}),m=Ye(pe(c,"parseHTML",d));m&&(p.parseDOM=m.map(_=>bA(_,u)));const g=pe(c,"renderHTML",d);return g&&(p.toDOM=_=>g({mark:_,HTMLAttributes:CE(_,u)})),[c.name,p]}));return new q$({topNode:s,nodes:a,marks:l})}function e1(n,e){return e.nodes[n]||e.marks[n]||null}function SA(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function qx(n,e){const t=Jl.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const Pce=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),t};function Kx(n){return Object.prototype.toString.call(n)==="[object RegExp]"}const Rce=(n,e)=>{if(Kx(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Tm(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=Pce(c)+o;return s.forEach(h=>{if(u)return;const p=Rce(d,h.find);if(!p)return;const m=l.state.tr,g=__({state:l.state,transaction:m}),_={from:r-(p[0].length-o.length),to:i},{commands:v,chain:w,can:b}=new w_({editor:t,state:g});h.handler({state:g,range:_,match:p,commands:v,chain:w,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),u=!0)}),u}function Ace(n){const{editor:e,rules:t}=n,r=new Eo({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=qx(G.from(u),s.schema);const{from:d}=l,h=d+u.length;Tm({editor:e,from:d,to:h,text:u,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Tm({editor:e,from:o,to:s,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Tm({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Tm({editor:e,from:s.pos,to:s.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Mce(n){return Object.prototype.toString.call(n).slice(8,-1)}function xm(n){return Mce(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function E_(n,e){const t={...n};return xm(n)&&xm(e)&&Object.keys(e).forEach(r=>{xm(e[r])&&xm(n[r])?t[r]=E_(n[r],e[r]):t[r]=e[r]}),t}class zh{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ye(pe(this,"addOptions",{name:this.name}))),this.storage=Ye(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zh(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new zh(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ye(pe(t,"addOptions",{name:t.name})),t.storage=Ye(pe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function Oce(n){return typeof n=="number"}const Nce=(n,e,t)=>{if(Kx(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function Lce(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=n,{commands:l,chain:c,can:u}=new w_({editor:e,state:t}),d=[];return t.doc.nodesBetween(r,i,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,m),_=Math.min(i,m+p.content.size),v=p.textBetween(g-m,_-m,void 0,"");Nce(v,o.find,s).forEach(b=>{if(b.index===void 0)return;const C=g+b.index+1,D=C+b[0].length,M={from:t.tr.mapping.map(C),to:t.tr.mapping.map(D)},S=o.handler({state:t,range:M,match:b,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(S)})}),d.every(p=>p!==null)}const Fce=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Vce(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const g=u.tr,_=__({state:u,transaction:g});if(!(!Lce({editor:e,state:_,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new Eo({view(d){const h=p=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(o=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,_=m.getMeta("uiEvent")==="drop"&&!o,v=m.getMeta("applyPasteRules"),w=!!v;if(!g&&!_&&!w)return;if(w){let{text:D}=v;typeof D=="string"?D=D:D=qx(G.from(D),p.schema);const{from:M}=v,S=M+D.length,E=Fce(D);return l({rule:u,state:p,from:M,to:{b:S},pasteEvt:E})}const b=h.doc.content.findDiffStart(p.doc.content),C=h.doc.content.findDiffEnd(p.doc.content);if(!(!Oce(b)||!C||b===C.b))return l({rule:u,state:p,from:b,to:C,pasteEvt:s})}}))}function $ce(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Yc{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Yc.resolve(e),this.schema=Dce(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Yc.sort(Yc.flatten(e)),r=$ce(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=pe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=pe(r,"priority")||100,s=pe(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:e1(t.name,this.schema)},i=pe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Yc.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:e1(s.name,this.schema)},l=[],c=pe(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&pe(s,"exitable",a)&&(u.ArrowRight=()=>zh.handleExit({editor:e,mark:s})),c){const g=Object.fromEntries(Object.entries(c()).map(([_,v])=>[_,()=>v({editor:e})]));u={...u,...g}}const d=Xle(u);l.push(d);const h=pe(s,"addInputRules",a);SA(s,e.options.enableInputRules)&&h&&r.push(...h());const p=pe(s,"addPasteRules",a);SA(s,e.options.enablePasteRules)&&p&&i.push(...p());const m=pe(s,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[Ace({editor:e,rules:r}),...Vce({editor:e,rules:i}),...o]}get attributes(){return Q4(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=b_(this.extensions);return Object.fromEntries(t.filter(r=>!!pe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Cn(r.name,this.schema)},s=pe(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d,h)=>{const p=CE(l,i);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:e1(e.name,this.schema)};e.type==="mark"&&(!((t=Ye(pe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=pe(e,"onBeforeCreate",r),o=pe(e,"onCreate",r),s=pe(e,"onUpdate",r),a=pe(e,"onSelectionUpdate",r),l=pe(e,"onTransaction",r),c=pe(e,"onFocus",r),u=pe(e,"onBlur",r),d=pe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Wi{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ye(pe(this,"addOptions",{name:this.name}))),this.storage=Ye(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wi(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Wi({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ye(pe(t,"addOptions",{name:t.name})),t.storage=Ye(pe(t,"addStorage",{name:t.name,options:t.options})),t}}function X4(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=o);const p=s==null?void 0:s[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function Z4(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Bce=Wi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Eo({key:new Zl("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=Z4(t);return X4(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),zce=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),jce=(n=!1)=>({commands:e})=>e.setContent("",n),Uce=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=pd(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},Wce=n=>e=>n(e),Hce=()=>({state:n,dispatch:e})=>fce(n,e),qce=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new Le(r.doc.resolve(s-1))),!0},Kce=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);n.delete(a,l).scrollIntoView()}return!0}return!1},Yce=n=>({tr:e,state:t,dispatch:r})=>{const i=Cn(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},Gce=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Qce=()=>({state:n,dispatch:e})=>ece(n,e),Jce=()=>({commands:n})=>n.keyboardShortcut("Enter"),Xce=()=>({state:n,dispatch:e})=>dce(n,e);function Wy(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Kx(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function e3(n,e,t={}){return n.find(r=>r.type===e&&Wy(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function TA(n,e,t={}){return!!e3(n,e,t)}function t3(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!e3([...i.node.marks],e,t)))return;let s=i.index,a=n.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&TA([...n.parent.child(s-1).marks],e,t);)s-=1,a-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&TA([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Ia(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Zce=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=Ia(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const d=t3(l,o,e);if(d&&d.from<=c&&d.to>=u){const h=Le.create(s,d.from,d.to);t.setSelection(h)}}return!0},eue=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function n3(n){return n instanceof Le}function rl(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function r3(n,e=null){if(!e)return null;const t=Be.atStart(n),r=Be.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Le.create(n,rl(0,i,o),rl(n.content.size,i,o)):Le.create(n,rl(e,i,o),rl(e,i,o))}function Yx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const tue=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Yx()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!n3(t.state.selection))return s(),!0;const a=r3(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},nue=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),rue=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),i3=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&i3(r)}return n};function Im(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return i3(t)}function Hy(n,e,t){if(n instanceof na||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(n);return t.errorOnInvalidContent&&s.check(),s}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Hy("",e,t)}if(i){if(t.errorOnInvalidContent){let s=!1,a="";const l=new q$({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?ra.fromSchema(l).parseSlice(Im(n),t.parseOptions):ra.fromSchema(l).parse(Im(n),t.parseOptions),t.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=ra.fromSchema(e);return t.slice?o.parseSlice(Im(n),t.parseOptions).content:o.parse(Im(n),t.parseOptions)}return Hy("",e,t)}function iue(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Sn||i instanceof xn))return;const o=n.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),n.setSelection(Be.near(n.doc.resolve(s),t))}const oue=n=>!("type"in n),sue=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Hy(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(s=t.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(m){return o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,d=!0;if((oue(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;if(u){if(Array.isArray(e))p=e.map(m=>m.text||"").join("");else if(e instanceof G){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),p=m}else typeof e=="object"&&e&&e.text?p=e.text:p=e;r.insertText(p,l,c)}else p=a,r.replaceWith(l,c,p);t.updateSelection&&iue(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},aue=()=>({state:n,dispatch:e})=>ace(n,e),lue=()=>({state:n,dispatch:e})=>lce(n,e),cue=()=>({state:n,dispatch:e})=>tce(n,e),uue=()=>({state:n,dispatch:e})=>oce(n,e),due=()=>({state:n,dispatch:e,tr:t})=>{try{const r=h_(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},fue=()=>({state:n,dispatch:e,tr:t})=>{try{const r=h_(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},hue=()=>({state:n,dispatch:e})=>nce(n,e),pue=()=>({state:n,dispatch:e})=>rce(n,e);function o3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function mue(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Yx()||o3()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const gue=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=mue(n).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function jh(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?Cn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const p=Math.max(r,h),m=Math.min(i,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Wy(d.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const yue=(n,e={})=>({state:t,dispatch:r})=>{const i=Cn(n,t.schema);return jh(t,i,e)?cce(t,r):!1},vue=()=>({state:n,dispatch:e})=>hce(n,e),_ue=n=>({state:e,dispatch:t})=>{const r=Cn(n,e.schema);return Ece(r)(e,t)},wue=()=>({state:n,dispatch:e})=>uce(n,e);function S_(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function xA(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const bue=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=S_(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Cn(n,r.schema)),a==="mark"&&(s=Ia(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&t.setNodeMarkup(u,void 0,xA(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&t.addMark(u,u+c.nodeSize,s.create(xA(d.attrs,e)))})})}),!0):!1},Eue=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Sue=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),Tue=()=>({state:n,dispatch:e})=>ice(n,e),xue=()=>({state:n,dispatch:e})=>sce(n,e),Iue=()=>({state:n,dispatch:e})=>pce(n,e),Cue=()=>({state:n,dispatch:e})=>yce(n,e),kue=()=>({state:n,dispatch:e})=>gce(n,e);function kE(n,e,t={},r={}){return Hy(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Due=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:u}=o;if(t.preserveWhitespace!=="full"){const d=kE(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function Gx(n,e){const t=Ia(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function Pue(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Rue(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Qx(n){return e=>Rue(e.$from,n)}function Aue(n,e){const t={from:0,to:n.content.size};return X4(n,t,e)}function Mue(n,e){const t=Cn(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?{...s.attrs}:{}}function Oue(n,e){const t=S_(typeof e=="string"?e:e.name,n.schema);return t==="node"?Mue(n,e):t==="mark"?Gx(n,e):{}}function yg(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function DE(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?Ia(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Wy(d.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;n.doc.nodesBetween(p,m,(g,_)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,_),w=Math.min(m,_+g.nodeSize),b=w-v;s+=b,a.push(...g.marks.map(C=>({mark:C,from:v,to:w})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Wy(d.mark.attrs,t,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=s}function Nue(n,e,t={}){if(!e)return jh(n,null,t)||DE(n,null,t);const r=S_(e,n.schema);return r==="node"?jh(n,e,t):r==="mark"?DE(n,e,t):!1}function IA(n,e){const{nodeExtensions:t}=b_(e),r=t.find(s=>s.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ye(pe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Jx(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(Jx(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Lue(n,e,t){var r;const{selection:i}=e;let o=null;if(n3(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(t),m=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=p&&m}return!c}),c})}const Fue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=Ia(n,r.schema);if(i)if(s){const c=Gx(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),g=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&t.addMark(m,g,l.create({...v.attrs,...e}))}):t.addMark(m,g,l.create(e))})});return Lue(r,t,l)},Vue=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),$ue=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=Cn(n,t.schema);let s;return t.selection.$anchor.sameParent(t.selection.$head)&&(s=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>wA(o,{...s,...e})(t)?!0:a.clearNodes()).command(({state:a})=>wA(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Bue=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=rl(n,0,r.content.size),o=xe.create(r,i);e.setSelection(o)}return!0},zue=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,s=Le.atStart(r).from,a=Le.atEnd(r).to,l=rl(i,s,a),c=rl(o,s,a),u=Le.create(r,l,c);e.setSelection(u)}return!0},jue=n=>({state:e,dispatch:t})=>{const r=Cn(n,e.schema);return xce(r)(e,t)};function CA(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const Uue=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=yg(c,a.node().type.name,a.node().attrs);if(o instanceof xe&&o.node.isBlock)return!a.parentOffset||!lu(s,a.pos)?!1:(r&&(n&&CA(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:Pue(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=lu(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&lu(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(m&&(o instanceof Le&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),_=e.doc.resolve(g);a.node(-1).canReplaceWith(_.index(),_.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}n&&CA(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},Wue=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var s;const a=Cn(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=G.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-w;E>=l.depth-3;E-=1)v=G.from(l.node(E).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...yg(h,l.node().type.name,l.node().attrs),...e},D=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(C))||void 0;v=v.append(G.from(a.createAndFill(null,D)||void 0));const M=l.before(l.depth-(w-1));t.replace(M,l.after(-b),new se(v,4-w,0));let S=-1;t.doc.nodesBetween(M,t.doc.content.size,(E,I)=>{if(S>-1)return!1;E.isTextblock&&E.content.size===0&&(S=I+1)}),S>-1&&t.setSelection(Le.near(t.doc.resolve(S))),t.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...yg(h,d.type.name,d.attrs),...e},g={...yg(h,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const _=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!lu(t.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:w}=r,{splittableMarks:b}=o.extensionManager,C=w||v.$to.parentOffset&&v.$from.marks();if(t.split(l.pos,2,_).scrollIntoView(),!C||!i)return!0;const D=C.filter(M=>b.includes(M.type.name));t.ensureMarks(D)}return!0},t1=(n,e)=>{const t=Qx(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Xl(n.doc,t.pos)&&n.join(t.pos),!0},n1=(n,e)=>{const t=Qx(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Xl(n.doc,r)&&n.join(r),!0},Hue=(n,e,t,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,p=Cn(n,s.schema),m=Cn(e,s.schema),{selection:g,storedMarks:_}=s,{$from:v,$to:w}=g,b=v.blockRange(w),C=_||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const D=Qx(M=>IA(M.type.name,d))(g);if(b.depth>=1&&D&&b.depth-D.depth<=1){if(D.node.type===p)return c.liftListItem(m);if(IA(D.node.type.name,d)&&p.validContent(D.node.content)&&a)return l().command(()=>(o.setNodeMarkup(D.pos,p),!0)).command(()=>t1(o,p)).command(()=>n1(o,p)).run()}return!t||!C||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>t1(o,p)).command(()=>n1(o,p)).run():l().command(()=>{const M=u().wrapInList(p,r),S=C.filter(E=>h.includes(E.type.name));return o.ensureMarks(S),M?!0:c.clearNodes()}).wrapInList(p,r).command(()=>t1(o,p)).command(()=>n1(o,p)).run()},que=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=Ia(n,r.schema);return DE(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},Kue=(n,e,t={})=>({state:r,commands:i})=>{const o=Cn(n,r.schema),s=Cn(e,r.schema),a=jh(r,o,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...t})},Yue=(n,e={})=>({state:t,commands:r})=>{const i=Cn(n,t.schema);return jh(t,i,e)?r.lift(i):r.wrapIn(i,e)},Gue=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},Que=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},Jue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=Ia(n,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:h,to:p}=a;const m=(o=c.marks().find(_=>_.type===l))===null||o===void 0?void 0:o.attrs,g=t3(c,l,m);g&&(h=g.from,p=g.to),t.removeMark(h,p,l)}else d.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos,l)});return t.removeStoredMark(l),!0},Xue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=S_(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Cn(n,r.schema)),a==="mark"&&(s=Ia(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,h,p,m;t.selection.empty?r.doc.nodesBetween(c,u,(g,_)=>{o&&o===g.type&&(p=Math.max(_,c),m=Math.min(_+g.nodeSize,u),d=_,h=g)}):r.doc.nodesBetween(c,u,(g,_)=>{_<c&&o&&o===g.type&&(p=Math.max(_,c),m=Math.min(_+g.nodeSize,u),d=_,h=g),_>=c&&_<=u&&(o&&o===g.type&&t.setNodeMarkup(_,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(v=>{if(s===v.type){const w=Math.max(_,c),b=Math.min(_+g.nodeSize,u);t.addMark(w,b,s.create({...v.attrs,...e}))}}))}),h&&(d!==void 0&&t.setNodeMarkup(d,void 0,{...h.attrs,...e}),s&&h.marks.length&&h.marks.forEach(g=>{s===g.type&&t.addMark(p,m,s.create({...g.attrs,...e}))}))}),!0):!1},Zue=(n,e={})=>({state:t,dispatch:r})=>{const i=Cn(n,t.schema);return vce(i,e)(t,r)},ede=(n,e={})=>({state:t,dispatch:r})=>{const i=Cn(n,t.schema);return _ce(i,e)(t,r)};var tde=Object.freeze({__proto__:null,blur:zce,clearContent:jce,clearNodes:Uce,command:Wce,createParagraphNear:Hce,cut:qce,deleteCurrentNode:Kce,deleteNode:Yce,deleteRange:Gce,deleteSelection:Qce,enter:Jce,exitCode:Xce,extendMarkRange:Zce,first:eue,focus:tue,forEach:nue,insertContent:rue,insertContentAt:sue,joinBackward:cue,joinDown:lue,joinForward:uue,joinItemBackward:due,joinItemForward:fue,joinTextblockBackward:hue,joinTextblockForward:pue,joinUp:aue,keyboardShortcut:gue,lift:yue,liftEmptyBlock:vue,liftListItem:_ue,newlineInCode:wue,resetAttributes:bue,scrollIntoView:Eue,selectAll:Sue,selectNodeBackward:Tue,selectNodeForward:xue,selectParentNode:Iue,selectTextblockEnd:Cue,selectTextblockStart:kue,setContent:Due,setMark:Fue,setMeta:Vue,setNode:$ue,setNodeSelection:Bue,setTextSelection:zue,sinkListItem:jue,splitBlock:Uue,splitListItem:Wue,toggleList:Hue,toggleMark:que,toggleNode:Kue,toggleWrap:Yue,undoInputRule:Gue,unsetAllMarks:Que,unsetMark:Jue,updateAttributes:Xue,wrapIn:Zue,wrapInList:ede});const nde=Wi.create({name:"commands",addCommands(){return{...tde}}}),rde=Wi.create({name:"drop",addProseMirrorPlugins(){return[new Eo({key:new Zl("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),ide=Wi.create({name:"editable",addProseMirrorPlugins(){return[new Eo({key:new Zl("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ode=Wi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Eo({key:new Zl("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),sde=Wi.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=m.parent.type.spec.isolating,_=d.pos-d.parentOffset,v=g&&m.parent.childCount===1?_===d.pos:Be.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yx()||o3()?o:i},addProseMirrorPlugins(){return[new Eo({key:new Zl("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=Be.atStart(e.doc).from,c=Be.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!Jx(t.doc))return;const h=t.tr,p=__({state:t,transaction:h}),{commands:m}=new w_({editor:this.editor,state:p});if(m.clearNodes(),!!h.steps.length)return h}})]}}),ade=Wi.create({name:"paste",addProseMirrorPlugins(){return[new Eo({key:new Zl("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),lde=Wi.create({name:"tabindex",addProseMirrorPlugins(){return[new Eo({key:new Zl("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ga{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ga(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ga(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ga(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,s=this.pos+r+(o?0:1),a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new Ga(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new Ga(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,s=Object.keys(t);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>t[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const cde=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ude(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class dde extends Ice{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ude(cde,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=J4(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=t.filter(a=>!a.key.startsWith(s))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[ide,Bce.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),nde,ode,sde,lde,rde,ade].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Yc(i,this)}createCommandManager(){this.commandManager=new w_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=kE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=kE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=r3(t,this.options.autofocus);this.view=new Ule(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Kc.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Oue(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return Nue(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return qx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Aue(this.state.doc,{blockSeparator:t,textSerializers:{...Z4(this.schema),...r}})}get isEmpty(){return Jx(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ga(t,this)}get $doc(){return this.$pos(0)}}let fde=class PE{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ye(pe(this,"addOptions",{name:this.name}))),this.storage=Ye(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new PE(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new PE(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ye(pe(t,"addOptions",{name:t.name})),t.storage=Ye(pe(t,"addStorage",{name:t.name,options:t.options})),t}};const hde=fde.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Hx(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pde=zh.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Hx(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Gx(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}});function mde(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var s3={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function gde(){if(kA)return r1;kA=1;var n=$;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),g=m[0].inst,_=m[1];return o(function(){g.value=p,g.getSnapshot=h,l(g)&&_({inst:g})},[d,p,h]),i(function(){return l(g)&&_({inst:g}),d(function(){l(g)&&_({inst:g})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!t(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return r1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,r1}s3.exports=gde();var Xx=s3.exports;const yde=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},vde=({contentComponent:n})=>{const e=Xx.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return $.createElement($.Fragment,null,Object.values(e))};function _de(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Hc.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class wde extends $.Component{constructor(e){var t;super(e),this.editorContentRef=$.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=_de(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return $.createElement($.Fragment,null,$.createElement("div",{ref:yde(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&$.createElement(vde,{contentComponent:e.contentComponent}))}}const bde=x.forwardRef((n,e)=>{const t=$.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return $.createElement(wde,{key:t,innerRef:e,...n})}),Ede=$.memo(bde);var Sde=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},Tde=mde(Sde),a3={exports:{}},i1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function xde(){if(DA)return i1;DA=1;var n=$,e=Xx;function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return i1.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=o(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function v(M){if(!w){if(w=!0,b=M,M=h(M),p!==void 0&&g.hasValue){var S=g.value;if(p(S,M))return C=S}return C=M}if(S=C,r(b,M))return S;var E=h(M);return p!==void 0&&p(S,E)?S:(b=M,C=E)}var w=!1,b,C,D=d===void 0?null:d;return[function(){return v(u())},D===null?void 0:function(){return v(D())}]},[u,d,h,p]);var _=i(c,m[0],m[1]);return s(function(){g.hasValue=!0,g.value=_},[_]),l(_),_},i1}a3.exports=xde();var Ide=a3.exports;const Cde=typeof window<"u"?x.useLayoutEffect:x.useEffect;class kde{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Dde(n){var e;const[t]=x.useState(()=>new kde(n.editor)),r=Ide.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:Tde);return Cde(()=>t.watch(n.editor),[n.editor,t]),x.useDebugValue(r),r}const Pde=!1,RE=typeof window>"u",Rde=RE||!!(typeof window<"u"&&window.next);class Ade{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return RE||Rde?null:this.createEditor();if(this.options.current.immediatelyRender&&RE&&Pde)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new dde(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Mde(n={},e=[]){const t=x.useRef(n);t.current=n;const[r]=x.useState(()=>new Ade(t)),i=Xx.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(e)),Dde({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const Zx=x.createContext({editor:null}),Ode=Zx.Consumer,Nde=()=>x.useContext(Zx);function Lde({children:n,slotAfter:e,slotBefore:t,editorContainerProps:r={},...i}){const o=Mde(i);return o?$.createElement(Zx.Provider,{value:{editor:o}},t,$.createElement(Ode,null,({editor:s})=>$.createElement(Ede,{editor:s,...r})),n,e):null}const Fde=x.createContext({onDragStart:void 0}),Vde=()=>x.useContext(Fde);$.forwardRef((n,e)=>{const{onDragStart:t}=Vde(),r=n.as||"div";return $.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});var $de=x;function Bde(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var qy=Bde($de),zde=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jde=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},PA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=jde(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return qy.default.createElement("svg",zde({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),qy.default.createElement("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"}))},Ude=qy.default.memo?qy.default.memo(PA):PA,Wde=Ude;const Hde=Jt(Wde);var qde=x;function Kde(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Ky=Kde(qde),Yde=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gde=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},RA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Gde(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Ky.default.createElement("svg",Yde({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Ky.default.createElement("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z"}))},Qde=Ky.default.memo?Ky.default.memo(RA):RA,Jde=Qde;const Xde=Jt(Jde);var Zde=x;function efe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Yy=efe(Zde),tfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},AA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=nfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Yy.default.createElement("svg",tfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Yy.default.createElement("path",{d:"M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z"}))},rfe=Yy.default.memo?Yy.default.memo(AA):AA,ife=rfe;const ofe=Jt(ife);var sfe=x;function afe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Gy=afe(sfe),lfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},MA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=cfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Gy.default.createElement("svg",lfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Gy.default.createElement("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z"}))},ufe=Gy.default.memo?Gy.default.memo(MA):MA,dfe=ufe;const ffe=Jt(dfe);var hfe=x;function pfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Qy=pfe(hfe),mfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},OA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=gfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Qy.default.createElement("svg",mfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Qy.default.createElement("path",{d:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z"}))},yfe=Qy.default.memo?Qy.default.memo(OA):OA,vfe=yfe;const _fe=Jt(vfe);var wfe=x;function bfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Jy=bfe(wfe),Efe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},NA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Sfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Jy.default.createElement("svg",Efe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Jy.default.createElement("path",{d:"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"}))},Tfe=Jy.default.memo?Jy.default.memo(NA):NA,xfe=Tfe;const Ife=Jt(xfe);var Cfe=x;function kfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Xy=kfe(Cfe),Dfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},LA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Pfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Xy.default.createElement("svg",Dfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Xy.default.createElement("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z"}))},Rfe=Xy.default.memo?Xy.default.memo(LA):LA,Afe=Rfe;const Mfe=Jt(Afe);var Ofe=x;function Nfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Zy=Nfe(Ofe),Lfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ffe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},FA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Ffe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Zy.default.createElement("svg",Lfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Zy.default.createElement("path",{d:"M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"}))},Vfe=Zy.default.memo?Zy.default.memo(FA):FA,$fe=Vfe;const Bfe=Jt($fe);var zfe=x;function jfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var ev=jfe(zfe),Ufe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},VA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Wfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return ev.default.createElement("svg",Ufe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),ev.default.createElement("path",{d:"M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z"}))},Hfe=ev.default.memo?ev.default.memo(VA):VA,qfe=Hfe;const Kfe=Jt(qfe);var Yfe=x;function Gfe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var tv=Gfe(Yfe),Qfe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jfe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},$A=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Jfe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return tv.default.createElement("svg",Qfe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),tv.default.createElement("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"}))},Xfe=tv.default.memo?tv.default.memo($A):$A,Zfe=Xfe;const ehe=Jt(Zfe);var the=x;function nhe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var nv=nhe(the),rhe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ihe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},BA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=ihe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return nv.default.createElement("svg",rhe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),nv.default.createElement("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"}))},ohe=nv.default.memo?nv.default.memo(BA):BA,she=ohe;const ahe=Jt(she);var lhe=x;function che(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var rv=che(lhe),uhe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dhe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},zA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=dhe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return rv.default.createElement("svg",uhe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),rv.default.createElement("path",{d:"M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z"}))},fhe=rv.default.memo?rv.default.memo(zA):zA,hhe=fhe;const phe=Jt(hhe);var mhe=x;function ghe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var iv=ghe(mhe),yhe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vhe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},jA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=vhe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return iv.default.createElement("svg",yhe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),iv.default.createElement("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z"}))},_he=iv.default.memo?iv.default.memo(jA):jA,whe=_he;const bhe=Jt(whe);var Ehe=x;function She(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var ov=She(Ehe),The=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xhe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},UA=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=xhe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return ov.default.createElement("svg",The({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),ov.default.createElement("path",{d:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z"}))},Ihe=ov.default.memo?ov.default.memo(UA):UA,Che=Ihe;const khe=Jt(Che);function l3({setEditorContent:n,initialContent:e=null}){const t=()=>{const{editor:o}=Nde();return o?(n(o.getHTML()),N.jsx("div",{className:"control-group",children:N.jsxs("div",{className:"button-group",children:[N.jsx("button",{onClick:()=>o.chain().focus().toggleBold().run(),disabled:!o.can().chain().focus().toggleBold().run(),className:o.isActive("bold")?"is-active":"",children:N.jsx(Hde,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleItalic().run(),disabled:!o.can().chain().focus().toggleItalic().run(),className:o.isActive("italic")?"is-active":"",children:N.jsx(Xde,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleStrike().run(),disabled:!o.can().chain().focus().toggleStrike().run(),className:o.isActive("strike")?"is-active":"",children:N.jsx(ofe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:1}).run(),className:o.isActive("heading",{level:1})?"is-active":"",children:N.jsx(ffe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:2}).run(),className:o.isActive("heading",{level:2})?"is-active":"",children:N.jsx(_fe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:3}).run(),className:o.isActive("heading",{level:3})?"is-active":"",children:N.jsx(Ife,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:4}).run(),className:o.isActive("heading",{level:4})?"is-active":"",children:N.jsx(Mfe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:5}).run(),className:o.isActive("heading",{level:5})?"is-active":"",children:N.jsx(Bfe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:6}).run(),className:o.isActive("heading",{level:6})?"is-active":"",children:N.jsx(Kfe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleBulletList().run(),className:o.isActive("bulletList")?"is-active":"",children:N.jsx(ehe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleOrderedList().run(),className:o.isActive("orderedList")?"is-active":"",children:N.jsx(ahe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().setHorizontalRule().run(),children:N.jsx(phe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().undo().run(),disabled:!o.can().chain().focus().undo().run(),children:N.jsx(bhe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().redo().run(),disabled:!o.can().chain().focus().redo().run(),children:N.jsx(khe,{})})]})})):null},r=[pde.configure({types:[hde.name]}),nB.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],i=e||"<p></p>";return N.jsx(Lde,{slotBefore:N.jsx(t,{}),extensions:r,content:i})}function Dhe({theme:n,toggleTheme:e}){const{id:t}=ij(),r=Ku(),[i,o]=x.useState(null),[s,a]=x.useState(""),[l,c]=x.useState("<p></p>");x.useEffect(()=>{(async()=>{const m=await Zee(t);o(m),a(m.title),c(m.content)})()},[t]);const u=async()=>{try{await Xee(t,s,l),r("/main")}catch(p){console.error("Error updating note:",p)}},d=()=>{r("/main")},h=()=>{ZV(t,o),r("/main")};return i?N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:s,onChange:p=>a(p.target.value),placeholder:"Add a title..."}),N.jsx(l3,{setEditorContent:c,initialContent:l}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(fl,{onClick:d,color:"primary",children:[N.jsx(Rx,{})," Cancel"]}),N.jsxs(fl,{onClick:u,color:"primary",variant:"contained",children:[N.jsx(Dx,{})," Save"]}),N.jsxs(fl,{onClick:h,color:"secondary",children:[N.jsx(JT,{})," Delete"]})]})]}):N.jsx("p",{children:"Loading..."})}function ae(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function at(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function rs(n,e){const t=ae(n);return isNaN(e)?at(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Hi(n,e){const t=ae(n);if(isNaN(e))return at(n,NaN);if(!e)return t;const r=t.getDate(),i=at(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function eI(n,e){const t=+ae(n);return at(n,t+e)}const c3=6048e5,Phe=864e5,T_=6e4,x_=36e5,Rhe=1e3;function Ahe(n,e){return eI(n,e*x_)}let Mhe={};function ec(){return Mhe}function is(n,e){var a,l,c,u;const t=ec(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=ae(n),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function $u(n){return is(n,{weekStartsOn:1})}function u3(n){const e=ae(n),t=e.getFullYear(),r=at(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=$u(r),o=at(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const s=$u(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function zl(n){const e=ae(n);return e.setHours(0,0,0,0),e}function sv(n){const e=ae(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Bu(n,e){const t=zl(n),r=zl(e),i=+t-sv(t),o=+r-sv(r);return Math.round((i-o)/Phe)}function Ohe(n){const e=u3(n),t=at(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),$u(t)}function AE(n,e){return eI(n,e*T_)}function tI(n,e){const t=e*3;return Hi(n,t)}function Nhe(n,e){return eI(n,e*1e3)}function av(n,e){const t=e*7;return rs(n,t)}function Wo(n,e){return Hi(n,e*12)}function WA(n){let e;return n.forEach(function(t){const r=ae(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function HA(n){let e;return n.forEach(t=>{const r=ae(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Lhe(n,e){const t=zl(n),r=zl(e);return+t==+r}function Ho(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function lv(n){if(!Ho(n)&&typeof n!="number")return!1;const e=ae(n);return!isNaN(Number(e))}function cv(n,e){const t=ae(n),r=ae(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function yl(n){const e=ae(n);return Math.trunc(e.getMonth()/3)+1}function uv(n,e){const t=ae(n),r=ae(e),i=t.getFullYear()-r.getFullYear(),o=yl(t)-yl(r);return i*4+o}function dv(n,e){const t=ae(n),r=ae(e);return t.getFullYear()-r.getFullYear()}function Fhe(n,e){const t=ae(n),r=ae(e),i=qA(t,r),o=Math.abs(Bu(t,r));t.setDate(t.getDate()-i*o);const s=+(qA(t,r)===-i),a=i*(o-s);return a===0?0:a}function qA(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function d3(n){const e=ae(n);return e.setHours(23,59,59,999),e}function f3(n){const e=ae(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function ME(n){const e=ae(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function h3(n){const e=ae(n);return e.setDate(1),e.setHours(0,0,0,0),e}function p3(n){const e=ae(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function I_(n){const e=ae(n),t=at(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Vhe(n,e){var a,l;const t=ec(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=ae(n),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const $he={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bhe=(n,e,t)=>{let r;const i=$he[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function o1(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const zhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Whe={date:o1({formats:zhe,defaultWidth:"full"}),time:o1({formats:jhe,defaultWidth:"full"}),dateTime:o1({formats:Uhe,defaultWidth:"full"})},Hhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qhe=(n,e,t,r)=>Hhe[n];function ef(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{const s=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[s]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const Khe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ghe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zhe=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},epe={ordinalNumber:Zhe,era:ef({values:Khe,defaultWidth:"wide"}),quarter:ef({values:Yhe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ef({values:Ghe,defaultWidth:"wide"}),day:ef({values:Qhe,defaultWidth:"wide"}),dayPeriod:ef({values:Jhe,defaultWidth:"wide",formattingValues:Xhe,defaultFormattingWidth:"wide"})};function tf(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?npe(a,d=>d.test(s)):tpe(a,d=>d.test(s));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function tpe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function npe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function rpe(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const ipe=/^(\d+)(th|st|nd|rd)?/i,ope=/\d+/i,spe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ape={any:[/^b/i,/^(a|c)/i]},lpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cpe={any:[/1/i,/2/i,/3/i,/4/i]},upe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ppe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gpe={ordinalNumber:rpe({matchPattern:ipe,parsePattern:ope,valueCallback:n=>parseInt(n,10)}),era:tf({matchPatterns:spe,defaultMatchWidth:"wide",parsePatterns:ape,defaultParseWidth:"any"}),quarter:tf({matchPatterns:lpe,defaultMatchWidth:"wide",parsePatterns:cpe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tf({matchPatterns:upe,defaultMatchWidth:"wide",parsePatterns:dpe,defaultParseWidth:"any"}),day:tf({matchPatterns:fpe,defaultMatchWidth:"wide",parsePatterns:hpe,defaultParseWidth:"any"}),dayPeriod:tf({matchPatterns:ppe,defaultMatchWidth:"any",parsePatterns:mpe,defaultParseWidth:"any"})},m3={code:"en-US",formatDistance:Bhe,formatLong:Whe,formatRelative:qhe,localize:epe,match:gpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ype(n){const e=ae(n);return Bu(e,I_(e))+1}function nI(n){const e=ae(n),t=+$u(e)-+Ohe(e);return Math.round(t/c3)+1}function rI(n,e){var u,d,h,p;const t=ae(n),r=t.getFullYear(),i=ec(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=at(n,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=is(s,e),l=at(n,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=is(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function vpe(n,e){var a,l,c,u;const t=ec(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=rI(n,e),o=at(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),is(o,e)}function g3(n,e){const t=ae(n),r=+is(t,e)-+vpe(t,e);return Math.round(r/c3)+1}function st(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const bs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return st(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):st(t+1,2)},d(n,e){return st(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return st(n.getHours()%12||12,e.length)},H(n,e){return st(n.getHours(),e.length)},m(n,e){return st(n.getMinutes(),e.length)},s(n,e){return st(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return st(i,e.length)}},Ec={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KA={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return bs.y(n,e)},Y:function(n,e,t,r){const i=rI(n,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return st(s,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):st(o,e.length)},R:function(n,e){const t=u3(n);return st(t,e.length)},u:function(n,e){const t=n.getFullYear();return st(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return st(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return st(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return bs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return st(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=g3(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):st(i,e.length)},I:function(n,e,t){const r=nI(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):st(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):bs.d(n,e)},D:function(n,e,t){const r=ype(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):st(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return st(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return st(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return st(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Ec.noon:r===0?i=Ec.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Ec.evening:r>=12?i=Ec.afternoon:r>=4?i=Ec.morning:i=Ec.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return bs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):bs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):bs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):bs.s(n,e)},S:function(n,e){return bs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return GA(r);case"XXXX":case"XX":return Ua(r);case"XXXXX":case"XXX":default:return Ua(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return GA(r);case"xxxx":case"xx":return Ua(r);case"xxxxx":case"xxx":default:return Ua(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YA(r,":");case"OOOO":default:return"GMT"+Ua(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YA(r,":");case"zzzz":default:return"GMT"+Ua(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return st(r,e.length)},T:function(n,e,t){const r=n.getTime();return st(r,e.length)}};function YA(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+st(o,2)}function GA(n,e){return n%60===0?(n>0?"-":"+")+st(Math.abs(n)/60,2):Ua(n,e)}function Ua(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=st(Math.trunc(r/60),2),o=st(r%60,2);return t+i+e+o}const QA=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y3=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_pe=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return QA(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",QA(r,e)).replace("{{time}}",y3(i,e))},fv={p:y3,P:_pe},wpe=/^D+$/,bpe=/^Y+$/,Epe=["D","DD","YY","YYYY"];function v3(n){return wpe.test(n)}function _3(n){return bpe.test(n)}function OE(n,e,t){const r=Spe(n,e,t);if(console.warn(r),Epe.includes(n))throw new RangeError(r)}function Spe(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ipe=/^'([^]*?)'?$/,Cpe=/''/g,kpe=/[a-zA-Z]/;function JA(n,e,t){var u,d,h,p,m,g,_,v;const r=ec(),i=(t==null?void 0:t.locale)??r.locale??m3,o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??0,a=ae(n);if(!lv(a))throw new RangeError("Invalid time value");let l=e.match(xpe).map(w=>{const b=w[0];if(b==="p"||b==="P"){const C=fv[b];return C(w,i.formatLong)}return w}).join("").match(Tpe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Dpe(w)};if(KA[b])return{isToken:!0,value:w};if(b.match(kpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&_3(b)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&v3(b))&&OE(b,e,String(n));const C=KA[b[0]];return C(a,b,i.localize,c)}).join("")}function Dpe(n){const e=n.match(Ipe);return e?e[1].replace(Cpe,"'"):n}function XA(n){return ae(n).getDate()}function Ppe(n){return ae(n).getDay()}function Rpe(n){const e=ae(n),t=e.getFullYear(),r=e.getMonth(),i=at(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ape(){return Object.assign({},ec())}function po(n){return ae(n).getHours()}function Mpe(n){let t=ae(n).getDay();return t===0&&(t=7),t}function mo(n){return ae(n).getMinutes()}function pr(n){return ae(n).getMonth()}function qo(n){return ae(n).getSeconds()}function NE(n){return ae(n).getTime()}function Ne(n){return ae(n).getFullYear()}function ya(n,e){const t=ae(n),r=ae(e);return t.getTime()>r.getTime()}function jl(n,e){const t=ae(n),r=ae(e);return+t<+r}function Ope(n,e){const t=ae(n),r=ae(e);return+t==+r}function Npe(n,e){const t=e instanceof Date?at(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const Lpe=10;class w3{constructor(){le(this,"subPriority",0)}validate(e,t){return!0}}class Fpe extends w3{constructor(e,t,r,i,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Vpe extends w3{constructor(){super(...arguments);le(this,"priority",Lpe);le(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:at(t,Npe(t,Date))}}class nt{run(e,t,r,i){const o=this.parse(e,t,r,i);return o?{setter:new Fpe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class $pe extends nt{constructor(){super(...arguments);le(this,"priority",140);le(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},eo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function nn(n,e){return n&&{value:e(n.value),rest:n.rest}}function Lt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function to(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*x_+o*T_+s*Rhe),rest:e.slice(t[0].length)}}function b3(n){return Lt(tn.anyDigitsSigned,n)}function Qt(n,e){switch(n){case 1:return Lt(tn.singleDigit,e);case 2:return Lt(tn.twoDigits,e);case 3:return Lt(tn.threeDigits,e);case 4:return Lt(tn.fourDigits,e);default:return Lt(new RegExp("^\\d{1,"+n+"}"),e)}}function hv(n,e){switch(n){case 1:return Lt(tn.singleDigitSigned,e);case 2:return Lt(tn.twoDigitsSigned,e);case 3:return Lt(tn.threeDigitsSigned,e);case 4:return Lt(tn.fourDigitsSigned,e);default:return Lt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function iI(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function E3(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function S3(n){return n%400===0||n%4===0&&n%100!==0}class Bpe extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return nn(Qt(4,t),o);case"yo":return nn(i.ordinalNumber(t,{unit:"year"}),o);default:return nn(Qt(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const o=t.getFullYear();if(i.isTwoDigitYear){const a=E3(i.year,o);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class zpe extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return nn(Qt(4,t),o);case"Yo":return nn(i.ordinalNumber(t,{unit:"year"}),o);default:return nn(Qt(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,o){const s=rI(t,o);if(i.isTwoDigitYear){const l=E3(i.year,s);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),is(t,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),is(t,o)}}class jpe extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return hv(r==="R"?4:r.length,t)}set(t,r,i){const o=at(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),$u(o)}}class Upe extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return hv(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Wpe extends nt{constructor(){super(...arguments);le(this,"priority",120);le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Qt(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Hpe extends nt{constructor(){super(...arguments);le(this,"priority",120);le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Qt(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class qpe extends nt{constructor(){super(...arguments);le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);le(this,"priority",110)}parse(t,r,i){const o=s=>s-1;switch(r){case"M":return nn(Lt(tn.month,t),o);case"MM":return nn(Qt(2,t),o);case"Mo":return nn(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class Kpe extends nt{constructor(){super(...arguments);le(this,"priority",110);le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const o=s=>s-1;switch(r){case"L":return nn(Lt(tn.month,t),o);case"LL":return nn(Qt(2,t),o);case"Lo":return nn(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function Ype(n,e,t){const r=ae(n),i=g3(r,t)-e;return r.setDate(r.getDate()-i*7),r}class Gpe extends nt{constructor(){super(...arguments);le(this,"priority",100);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Lt(tn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,o){return is(Ype(t,i,o),o)}}function Qpe(n,e){const t=ae(n),r=nI(t)-e;return t.setDate(t.getDate()-r*7),t}class Jpe extends nt{constructor(){super(...arguments);le(this,"priority",100);le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Lt(tn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return $u(Qpe(t,i))}}const Xpe=[31,28,31,30,31,30,31,31,30,31,30,31],Zpe=[31,29,31,30,31,30,31,31,30,31,30,31];class eme extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"subPriority",1);le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Lt(tn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Qt(r.length,t)}}validate(t,r){const i=t.getFullYear(),o=S3(i),s=t.getMonth();return o?r>=1&&r<=Zpe[s]:r>=1&&r<=Xpe[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class tme extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"subpriority",1);le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Lt(tn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Qt(r.length,t)}}validate(t,r){const i=t.getFullYear();return S3(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function oI(n,e,t){var d,h,p,m;const r=ec(),i=(t==null?void 0:t.weekStartsOn)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=ae(n),s=o.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return rs(o,u)}class nme extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=oI(t,i,o),t.setHours(0,0,0,0),t}}class rme extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return nn(Qt(r.length,t),s);case"eo":return nn(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=oI(t,i,o),t.setHours(0,0,0,0),t}}class ime extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return nn(Qt(r.length,t),s);case"co":return nn(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=oI(t,i,o),t.setHours(0,0,0,0),t}}function ome(n,e){const t=ae(n),r=Mpe(t),i=e-r;return rs(t,i)}class sme extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Qt(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return nn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return nn(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return nn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return nn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=ome(t,i),t.setHours(0,0,0,0),t}}class ame extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(iI(i),0,0,0),t}}class lme extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(iI(i),0,0,0),t}}class cme extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(iI(i),0,0,0),t}}class ume extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Lt(tn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class dme extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Lt(tn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class fme extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Lt(tn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class hme extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Lt(tn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class pme extends nt{constructor(){super(...arguments);le(this,"priority",60);le(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Lt(tn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class mme extends nt{constructor(){super(...arguments);le(this,"priority",50);le(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Lt(tn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class gme extends nt{constructor(){super(...arguments);le(this,"priority",30);le(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return nn(Qt(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class yme extends nt{constructor(){super(...arguments);le(this,"priority",10);le(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return to(eo.basicOptionalMinutes,t);case"XX":return to(eo.basic,t);case"XXXX":return to(eo.basicOptionalSeconds,t);case"XXXXX":return to(eo.extendedOptionalSeconds,t);case"XXX":default:return to(eo.extended,t)}}set(t,r,i){return r.timestampIsSet?t:at(t,t.getTime()-sv(t)-i)}}class vme extends nt{constructor(){super(...arguments);le(this,"priority",10);le(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return to(eo.basicOptionalMinutes,t);case"xx":return to(eo.basic,t);case"xxxx":return to(eo.basicOptionalSeconds,t);case"xxxxx":return to(eo.extendedOptionalSeconds,t);case"xxx":default:return to(eo.extended,t)}}set(t,r,i){return r.timestampIsSet?t:at(t,t.getTime()-sv(t)-i)}}class _me extends nt{constructor(){super(...arguments);le(this,"priority",40);le(this,"incompatibleTokens","*")}parse(t){return b3(t)}set(t,r,i){return[at(t,i*1e3),{timestampIsSet:!0}]}}class wme extends nt{constructor(){super(...arguments);le(this,"priority",20);le(this,"incompatibleTokens","*")}parse(t){return b3(t)}set(t,r,i){return[at(t,i),{timestampIsSet:!0}]}}const bme={G:new $pe,y:new Bpe,Y:new zpe,R:new jpe,u:new Upe,Q:new Wpe,q:new Hpe,M:new qpe,L:new Kpe,w:new Gpe,I:new Jpe,d:new eme,D:new tme,E:new nme,e:new rme,c:new ime,i:new sme,a:new ame,b:new lme,B:new cme,h:new ume,H:new dme,K:new fme,k:new hme,m:new pme,s:new mme,S:new gme,X:new yme,x:new vme,t:new _me,T:new wme},Eme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tme=/^'([^]*?)'?$/,xme=/''/g,Ime=/\S/,Cme=/[a-zA-Z]/;function s1(n,e,t,r){var g,_,v,w,b,C,D,M;const i=Ape(),o=(r==null?void 0:r.locale)??i.locale??m3,s=(r==null?void 0:r.firstWeekContainsDate)??((_=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(v=i.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((C=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:C.weekStartsOn)??i.weekStartsOn??((M=(D=i.locale)==null?void 0:D.options)==null?void 0:M.weekStartsOn)??0;if(e==="")return n===""?ae(t):at(t,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},c=[new Vpe],u=e.match(Sme).map(S=>{const E=S[0];if(E in fv){const I=fv[E];return I(S,o.formatLong)}return S}).join("").match(Eme),d=[];for(let S of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&_3(S)&&OE(S,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&v3(S)&&OE(S,e,n);const E=S[0],I=bme[E];if(I){const{incompatibleTokens:k}=I;if(Array.isArray(k)){const O=d.find(P=>k.includes(P.token)||P.token===E);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${S}\` at the same time`)}else if(I.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);d.push({token:E,fullToken:S});const A=I.run(n,S,o.match,l);if(!A)return at(t,NaN);c.push(A.setter),n=A.rest}else{if(E.match(Cme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(S==="''"?S="'":E==="'"&&(S=kme(S)),n.indexOf(S)===0)n=n.slice(S.length);else return at(t,NaN)}}if(n.length>0&&Ime.test(n))return at(t,NaN);const h=c.map(S=>S.priority).sort((S,E)=>E-S).filter((S,E,I)=>I.indexOf(S)===E).map(S=>c.filter(E=>E.priority===S).sort((E,I)=>I.subPriority-E.subPriority)).map(S=>S[0]);let p=ae(t);if(isNaN(p.getTime()))return at(t,NaN);const m={};for(const S of h){if(!S.validate(p,l))return at(t,NaN);const E=S.set(p,m,l);Array.isArray(E)?(p=E[0],Object.assign(m,E[1])):p=E}return at(t,p)}function kme(n){return n.match(Tme)[1].replace(xme,"'")}function Dme(n,e){const t=ae(n),r=ae(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function Pme(n,e){const t=ME(n),r=ME(e);return+t==+r}function Rme(n,e){const t=ae(n),r=ae(e);return t.getFullYear()===r.getFullYear()}function Uh(n,e){const t=+ae(n),[r,i]=[+ae(e.start),+ae(e.end)].sort((o,s)=>o-s);return t>=r&&t<=i}function Ame(n,e){return rs(n,-e)}function Mme(n,e){const r=Fme(n);let i;if(r.date){const l=Vme(r.date,2);i=$me(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=Bme(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=zme(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+s+a)}const Cm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ome=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Lme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fme(n){const e={},t=n.split(Cm.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Cm.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Cm.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=Cm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Vme(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function $me(n,e){if(e===null)return new Date(NaN);const t=n.match(Ome);if(!t)return new Date(NaN);const r=!!t[4],i=nf(t[1]),o=nf(t[2])-1,s=nf(t[3]),a=nf(t[4]),l=nf(t[5])-1;if(r)return qme(e,a,l)?jme(e,a,l):new Date(NaN);{const c=new Date(0);return!Wme(e,o,s)||!Hme(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function nf(n){return n?parseInt(n):1}function Bme(n){const e=n.match(Nme);if(!e)return NaN;const t=a1(e[1]),r=a1(e[2]),i=a1(e[3]);return Kme(t,r,i)?t*x_+r*T_+i*1e3:NaN}function a1(n){return n&&parseFloat(n.replace(",","."))||0}function zme(n){if(n==="Z")return 0;const e=n.match(Lme);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Yme(r,i)?t*(r*x_+i*T_):NaN}function jme(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Ume=[31,null,31,30,31,30,31,31,30,31,30,31];function T3(n){return n%400===0||n%4===0&&n%100!==0}function Wme(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Ume[e]||(T3(n)?29:28))}function Hme(n,e){return e>=1&&e<=(T3(n)?366:365)}function qme(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Kme(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Yme(n,e){return e>=0&&e<=59}function Br(n,e){const t=ae(n),r=t.getFullYear(),i=t.getDate(),o=at(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=Rpe(o);return t.setMonth(e,Math.min(i,s)),t}function Gme(n,e){let t=ae(n);return isNaN(+t)?at(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Br(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function vg(n,e){const t=ae(n);return t.setHours(e),t}function _g(n,e){const t=ae(n);return t.setMinutes(e),t}function Ac(n,e){const t=ae(n),r=Math.trunc(t.getMonth()/3)+1,i=e-r;return Br(t,t.getMonth()+i*3)}function wg(n,e){const t=ae(n);return t.setSeconds(e),t}function Gi(n,e){const t=ae(n);return isNaN(+t)?at(n,NaN):(t.setFullYear(e),t)}function zu(n,e){return Hi(n,-e)}function x3(n,e){return tI(n,-e)}function ZA(n,e){return av(n,-e)}function ju(n,e){return Wo(n,-e)}const I3={...Kf},Qme=I3.useInsertionEffect,Jme=Qme||(n=>n());function Xme(n){const e=x.useRef(()=>{});return Jme(()=>{e.current=n}),x.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var pv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function LE(){return LE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LE.apply(this,arguments)}let eM=!1,Zme=0;const tM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Zme++;function ege(){const[n,e]=x.useState(()=>eM?tM():void 0);return pv(()=>{n==null&&e(tM())},[]),x.useEffect(()=>{eM=!0},[]),n}const tge=I3.useId,C3=tge||ege,nge=x.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:m,...g}={},..._}=e,v=C3(),[w,b]=x.useState(!1);if(pv(()=>{if(!i)return;bi(i).direction==="rtl"&&b(!0)},[i]),!i)return null;const[C,D]=r.split("-"),M=C==="top"||C==="bottom";let S=d;(M&&s!=null&&s.x||!M&&s!=null&&s.y)&&(S=null);const E=u*2,I=E/2,k=a/2*(c/-8+1),A=l/2*c/4,O=!!p,P=S&&D==="end"?"bottom":"top";let U=S&&D==="end"?"right":"left";S&&w&&(U=D==="end"?"left":"right");const K=(o==null?void 0:o.x)!=null?S||o.x:"",W=(o==null?void 0:o.y)!=null?S||o.y:"",q=p||"M0,0"+(" H"+a)+(" L"+(a-k)+","+(l-A))+(" Q"+a/2+","+l+" "+k+","+(l-A))+" Z",V={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[C];return x.createElement("svg",LE({},_,{"aria-hidden":!0,ref:t,width:O?a:a+E,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[U]:K,[P]:W,[C]:M||O?"100%":"calc(100% - "+E/2+"px)",transform:[V,m].filter(Y=>!!Y).join(" "),...g}}),E>0&&x.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:E+(p?0:1),d:q}),x.createElement("path",{stroke:E&&!p?_.fill:"none",d:q}),x.createElement("clipPath",{id:v},x.createElement("rect",{x:-I,y:I*(O?-1:1),width:a+E,height:a})))});function rge(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const ige=x.createContext(null),oge=x.createContext(null),sge=()=>{var n;return((n=x.useContext(ige))==null?void 0:n.id)||null},age=()=>x.useContext(oge);function lge(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=C3(),o=x.useRef({}),[s]=x.useState(()=>rge()),a=sge()!=null,[l,c]=x.useState(r.reference),u=Xme((p,m,g)=>{o.current.openEvent=p?m:void 0,s.emit("openchange",{open:p,event:m,reason:g,nested:a}),t==null||t(p,m,g)}),d=x.useMemo(()=>({setPositionReference:c}),[]),h=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:u,elements:h,events:s,floatingId:i,refs:d}),[e,u,h,s,i,d])}function cge(n){n===void 0&&(n={});const{nodeId:e}=n,t=lge({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[o,s]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||o,d=x.useRef(null),h=age();pv(()=>{u&&(d.current=u)},[u]);const p=Cne({...n,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(b=>{const C=hr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(C),p.refs.setReference(C)},[p.refs]),g=x.useCallback(b=>{(hr(b)||b===null)&&(d.current=b,s(b)),(hr(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!hr(b))&&p.refs.setReference(b)},[p.refs]),_=x.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:d}),[p.refs,g,m]),v=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),w=x.useMemo(()=>({...p,...r,refs:_,elements:v,nodeId:e}),[p,_,v,e,r]);return pv(()=>{r.dataRef.current.floatingContext=w;const b=h==null?void 0:h.nodesRef.current.find(C=>C.id===e);b&&(b.context=w)}),x.useMemo(()=>({...p,context:w,refs:_,elements:v}),[p,_,v,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var FE=function(e,t){return FE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},FE(e,t)};function Pn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");FE(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ge=function(){return Ge=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ge.apply(this,arguments)};function ao(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var uge=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,o=n.className,s=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return $.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},dge=function(n,e){var t=x.useRef(null),r=x.useRef(n);r.current=n;var i=x.useCallback(function(o){var s;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},C_=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,o=n.style,s=n.ignoreClass,a=dge(t,s);return $.createElement("div",{className:r,style:o,ref:function(l){a.current=l,i&&(i.current=l)}},e)},oe;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(oe||(oe={}));function k3(){var n=typeof window<"u"?window:globalThis;return n}var Ep=12,fge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function lt(n){if(n==null)return new Date;var e=typeof n=="string"?Mme(n):ae(n);return Ao(e)?e:new Date}function l1(n,e,t,r,i){var o,s=null,a=vl(t)||vl(qf()),l=!0;if(Array.isArray(e))return e.forEach(function(u){var d=s1(n,u,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Ao(d,i)&&n===It(d,u,t)),Ao(d,i)&&l&&(s=d)}),s;if(s=s1(n,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Ao(s)&&n===It(s,e,t);else if(!Ao(s)){var c=((o=e.match(fge))!==null&&o!==void 0?o:[]).map(function(u){var d=u[0];if(d==="p"||d==="P"){var h=fv[d];return a?h(u,a.formatLong):d}return u}).join("");n.length>0&&(s=s1(n,c.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ao(s)||(s=new Date(n))}return Ao(s)&&l?s:null}function Ao(n,e){return lv(n)&&!jl(n,e??new Date("1/1/1800"))}function It(n,e,t){if(t==="en")return JA(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?vl(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&qf()&&vl(qf())&&(r=vl(qf())),JA(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function oi(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&It(n,i,r)||""}function hge(n,e,t){if(!n)return"";var r=oi(n,t),i=e?oi(e,t):"";return"".concat(r," - ").concat(i)}function pge(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?oi(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=oi(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function c1(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return vg(_g(wg(n,a),o),r)}function mge(n){return nI(n)}function gge(n,e){return It(n,"ddd",e)}function bg(n){return zl(n)}function aa(n,e,t){var r=vl(e||qf());return is(n,{locale:r,weekStartsOn:t})}function Ko(n){return h3(n)}function wf(n){return I_(n)}function nM(n){return ME(n)}function rM(){return zl(lt())}function iM(n){return d3(n)}function yge(n){return Vhe(n)}function vge(n){return f3(n)}function Xi(n,e){return n&&e?Rme(n,e):!n&&!e}function cr(n,e){return n&&e?Dme(n,e):!n&&!e}function mv(n,e){return n&&e?Pme(n,e):!n&&!e}function Ke(n,e){return n&&e?Lhe(n,e):!n&&!e}function il(n,e){return n&&e?Ope(n,e):!n&&!e}function bf(n,e,t){var r,i=zl(e),o=d3(t);try{r=Uh(n,{start:i,end:o})}catch{r=!1}return r}function qf(){var n=k3();return n.__localeId__}function vl(n){if(typeof n=="string"){var e=k3();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function _ge(n,e,t){return e(It(n,"EEEE",t))}function wge(n,e){return It(n,"EEEEEE",e)}function bge(n,e){return It(n,"EEE",e)}function sI(n,e){return It(Br(lt(),n),"LLLL",e)}function D3(n,e){return It(Br(lt(),n),"LLL",e)}function Ege(n,e){return It(Ac(lt(),n),"QQQ",e)}function di(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return Sp(n,{minDate:r,maxDate:i})||o&&o.some(function(u){return u instanceof Date?Ke(n,u):Ke(n,u.date)})||s&&s.some(function(u){var d=u.start,h=u.end;return Uh(n,{start:d,end:h})})||a&&!a.some(function(u){return Ke(n,u)})||l&&!l.some(function(u){var d=u.start,h=u.end;return Uh(n,{start:d,end:h})})||c&&!c(lt(n))||!1}function aI(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return Uh(n,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?Ke(n,o):Ke(n,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function P3(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate;return Sp(n,{minDate:r?h3(r):void 0,maxDate:i?f3(i):void 0})||(o==null?void 0:o.some(function(l){return cr(n,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return cr(n,l)})||a&&!a(lt(n))||!1}function km(n,e,t,r){var i=Ne(n),o=pr(n),s=Ne(e),a=pr(e),l=Ne(r);return i===s&&i===l?o<=t&&t<=a:i<s?l===i&&o<=t||l===s&&a>=t||l<s&&l>i:!1}function Sge(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates;return Sp(n,{minDate:r,maxDate:i})||o&&o.some(function(a){return cr(a instanceof Date?a:a.date,n)})||s&&!s.some(function(a){return cr(a,n)})||!1}function Dm(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate;return Sp(n,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(l){return mv(n,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return mv(n,l)})||a&&!a(lt(n))||!1}function Pm(n,e,t){if(!e||!t||!lv(e)||!lv(t))return!1;var r=Ne(e),i=Ne(t);return r<=n&&i>=n}function Eg(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate,l=new Date(n,0,1);return Sp(l,{minDate:r?I_(r):void 0,maxDate:i?p3(i):void 0})||(o==null?void 0:o.some(function(c){return Xi(l,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Xi(l,c)})||a&&!a(lt(l))||!1}function Rm(n,e,t,r){var i=Ne(n),o=yl(n),s=Ne(e),a=yl(e),l=Ne(r);return i===s&&i===l?o<=t&&t<=a:i<s?l===i&&o<=t||l===s&&a>=t||l<s&&l>i:!1}function Sp(n,e){var t,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(t=i&&Bu(n,i)<0||o&&Bu(n,o)>0)!==null&&t!==void 0?t:!1}function oM(n,e){return e.some(function(t){return po(t)===po(n)&&mo(t)===mo(n)&&qo(t)===qo(n)})}function sM(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return r&&oM(n,r)||i&&!oM(n,i)||o&&!o(n)||!1}function aM(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=lt();i=vg(i,po(n)),i=_g(i,mo(n)),i=wg(i,qo(n));var o=lt();o=vg(o,po(t)),o=_g(o,mo(t)),o=wg(o,qo(t));var s=lt();s=vg(s,po(r)),s=_g(s,mo(r)),s=wg(s,qo(r));var a;try{a=!Uh(i,{start:o,end:s})}catch{a=!1}return a}function lM(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=zu(n,1);return r&&cv(r,o)>0||i&&i.every(function(s){return cv(s,o)>0})||!1}function cM(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=Hi(n,1);return r&&cv(o,r)>0||i&&i.every(function(s){return cv(o,s)>0})||!1}function Tge(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=I_(n),s=x3(o,1);return r&&uv(r,s)>0||i&&i.every(function(a){return uv(a,s)>0})||!1}function xge(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=p3(n),s=tI(o,1);return r&&uv(s,r)>0||i&&i.every(function(a){return uv(s,a)>0})||!1}function uM(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=ju(n,1);return r&&dv(r,o)>0||i&&i.every(function(s){return dv(s,o)>0})||!1}function Ige(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,o=i===void 0?Ep:i,s=wf(ju(n,o)),a=js(s,o).endPeriod,l=r&&Ne(r);return l&&l>a||!1}function dM(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=Wo(n,1);return r&&dv(o,r)>0||i&&i.every(function(s){return dv(o,s)>0})||!1}function Cge(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,o=i===void 0?Ep:i,s=Wo(n,o),a=js(s,o).startPeriod,l=r&&Ne(r);return l&&l<a||!1}function R3(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Bu(i,e)>=0});return HA(r)}else return t?HA(t):e}function A3(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Bu(i,e)<=0});return WA(r)}else return t?WA(t):e}function fM(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=n.length;i<o;i++){var s=n[i];if(Ho(s)){var a=It(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(t=c[0])!==null&&t!==void 0?t:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var h=0,p=d.length;h<p;h++){var m=d[h];if(m){var a=It(m,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function kge(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function Dge(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,o=r.holidayName;if(Ho(i)){var s=It(i,"MM.dd.yyyy"),a=t.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&kge(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ao(ao([],l,!0),[o],!1):[o],t.set(s,a)}}}),t}function Pge(n,e,t,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=n,c=i[a];c&&(l=Ahe(l,po(c)),l=AE(l,mo(c)),l=Nhe(l,qo(c)));var u=AE(n,(t+1)*r);ya(l,e)&&jl(l,u)&&c!=null&&s.push(c)}return s}function hM(n){return n<10?"0".concat(n):"".concat(n)}function js(n,e){e===void 0&&(e=Ep);var t=Math.ceil(Ne(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function Rge(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function pM(n){var e=n.getSeconds(),t=n.getMilliseconds();return ae(n.getTime()-e*1e3-t)}function Age(n,e){return pM(n).getTime()===pM(e).getTime()}function mM(n){if(!Ho(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function gM(n,e){if(!Ho(n)||!Ho(e))throw new Error("Invalid date received");var t=mM(n),r=mM(e);return jl(t,r)}function M3(n){return n.key===oe.Space}var Mge=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=$.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),d=u[0],h=u[1];c.setHours(Number(d)),c.setMinutes(Number(h))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?x.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):$.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return $.createElement("div",{className:"react-datepicker__input-time-container"},$.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),$.createElement("div",{className:"react-datepicker-time__input-container"},$.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(x.Component),Oge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,o,s=r.key;s===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.isSameDay=function(r){return Ke(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),di(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return aI(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ke(t.props.day,aa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Ke(r,aa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=It(i,"MM.dd.yyyy");return o.get(s)},t.getHolidaysClass=function(){var r,i=t.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=It(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:bf(i,o,s)},t.isInSelectingRange=function(){var r,i=t.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,u=i.startDate,d=i.endDate,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||a||l)||!h||!c&&t.isDisabled()?!1:s&&d&&(jl(h,d)||il(h,d))?bf(o,h,d):a&&u&&(ya(h,u)||il(h,u))||l&&u&&!d&&(ya(h,u)||il(h,u))?bf(o,u,h):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,s=i.startDate,a=i.selectsStart,l=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?Ke(o,l):Ke(o,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,s=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||l?Ke(o,c):Ke(o,s)},t.isRangeStart=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Ke(o,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Ke(s,i)},t.isWeekend=function(){var r=Ppe(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===pr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(pr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(lt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return de("react-datepicker__day",i,"react-datepicker__day--"+gge(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:s;return"".concat(c," ").concat(It(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,l=It(i,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?Ke(u,i):Ke(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Ke(i,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(XA(t.props.day),t.props.day):XA(t.props.day)},t.render=function(){return $.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&$.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(x.Component),Nge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,o,s=r.key;s===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.props.date,t.props.selected)&&Ke(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ke(t.props.date,t.props.selected)&&Ke(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Ke(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,s=t.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&Ke(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{ref:this.weekNumberEl,className:de(a),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(x.Component),Lge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return di(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,o){for(var s,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var h=!t.isDisabled(d);if(h){c=d;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,i,o),t.props.showWeekPicker&&t.handleDayClick(c,o),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):mge(r)},t.renderDays=function(){var r=t.startOfWeek(),i=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;i.push($.createElement(Nge,Ge({key:"W"},e.defaultProps,t.props,{weekNumber:o,date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=rs(r,a);return $.createElement(Oge,Ge({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return aa(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.startOfWeek(),t.props.selected)&&Ke(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{className:de(t)},this.renderDays())},e}(x.Component),rf,Fge=6,du={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},u1=(rf={},rf[du.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},rf[du.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},rf[du.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},rf),Am=1;function yM(n,e){return n?du.FOUR_COLUMNS:e?du.TWO_COLUMNS:du.THREE_COLUMNS}var Vge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ao([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=ao([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(r){return di(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return aI(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var o,s;(s=(o=t.props).onDayClick)===null||s===void 0||s.call(o,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:cr(Br(o,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:mv(Ac(o,r),s)},t.isRangeEndMonth=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:cr(Br(o,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:mv(Ac(o,r),a)},t.isInSelectingRangeMonth=function(r){var i,o=t.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!h?!1:a&&d?km(h,d,r,s):l&&u||c&&u&&!d?km(u,h,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,s=o.day,a=o.startDate,l=o.selectsStart,c=Br(s,r),u=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?cr(c,u):cr(c,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,s=o.day,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=Br(s,r),d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||c?cr(u,d):cr(u,a)},t.isInSelectingRangeQuarter=function(r){var i,o=t.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Rm(h,d,r,s):l&&u||c&&u&&!d?Rm(u,h,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,o=rs(r,6);return cr(r,i)||cr(o,i)},t.isCurrentMonth=function(r,i){return Ne(r)===Ne(lt())&&i===pr(lt())},t.isCurrentQuarter=function(r,i){return Ne(r)===Ne(lt())&&i===yl(lt())},t.isSelectedMonth=function(r,i,o){return pr(o)===i&&Ne(r)===Ne(o)},t.isSelectMonthInList=function(r,i,o){return o.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,o){return yl(r)===i&&Ne(r)===Ne(o)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,o=0,s=!1,a=aa(Ko(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(m){return t.props.showWeekPicker?aa(m,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(m){return t.props.showWeekPicker?aa(m,t.props.locale,t.props.calendarStartDay):t.props.selected},u=t.props.selected?c(t.props.selected):void 0,d=t.props.preSelection?l(t.props.preSelection):void 0;r.push($.createElement(Lge,Ge({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:a,month:pr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!s;){o++,a=av(a,1);var h=i&&o>=Fge,p=!i&&!t.isWeekInMonth(a);if(h||p)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var o=t.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||t.handleDayClick(Ko(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||t.handleDayMouseEnter(Ko(s))},t.handleMonthNavigation=function(r,i){var o,s,a,l;(s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,o){var s,a=t.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,h=a.maxDate,p=a.showFourColumnMonthYearPicker,m=a.showTwoColumnMonthYearPicker;if(c){var g=yM(p,m),_=t.getVerticalOffset(g),v=(s=u1[g])===null||s===void 0?void 0:s.grid,w=function(S,E,I){var k,A,O=E,P=I;switch(S){case oe.ArrowRight:O=Hi(E,Am),P=I===11?0:I+Am;break;case oe.ArrowLeft:O=zu(E,Am),P=I===0?11:I-Am;break;case oe.ArrowUp:O=zu(E,_),P=!((k=v==null?void 0:v[0])===null||k===void 0)&&k.includes(I)?I+12-_:I-_;break;case oe.ArrowDown:O=Hi(E,_),P=!((A=v==null?void 0:v[v.length-1])===null||A===void 0)&&A.includes(I)?I-12+_:I+_;break}return{newCalculatedDate:O,newCalculatedMonth:P}},b=function(S,E,I){for(var k=40,A=S,O=!1,P=0,U=w(A,E,I),K=U.newCalculatedDate,W=U.newCalculatedMonth;!O;){if(P>=k){K=E,W=I;break}if(d&&K<d){A=oe.ArrowRight;var q=w(A,K,W);K=q.newCalculatedDate,W=q.newCalculatedMonth}if(h&&K>h){A=oe.ArrowLeft;var q=w(A,K,W);K=q.newCalculatedDate,W=q.newCalculatedMonth}if(Sge(K,t.props)){var q=w(A,K,W);K=q.newCalculatedDate,W=q.newCalculatedMonth}else O=!0;P++}return{newCalculatedDate:K,newCalculatedMonth:W}};if(i===oe.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),u==null||u(l));return}var C=b(i,c,o),D=C.newCalculatedDate,M=C.newCalculatedMonth;switch(i){case oe.ArrowRight:case oe.ArrowLeft:case oe.ArrowUp:case oe.ArrowDown:t.handleMonthNavigation(M,D);break}}},t.getVerticalOffset=function(r){var i,o;return(o=(i=u1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,i){var o=t.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==oe.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,l,i),a&&a(r)},t.onQuarterClick=function(r,i){var o=Ac(t.props.day,i);Dm(o,t.props)||t.handleDayClick(nM(o),r)},t.onQuarterMouseEnter=function(r){var i=Ac(t.props.day,r);Dm(i,t.props)||t.handleDayMouseEnter(nM(i))},t.handleQuarterNavigation=function(r,i){var o,s,a,l;t.isDisabled(i)||t.isExcluded(i)||((s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case oe.Enter:t.onQuarterClick(r,i),(s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,t.props.selected);break;case oe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,tI(t.props.preSelection,1));break;case oe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,x3(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var i,o=t.props,s=o.day,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=Br(s,r);return{isDisabled:(i=(a||l||c||u)&&P3(d,t.props))!==null&&i!==void 0?i:!1,labelDate:d}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,u=c?c(Br(o,r)):void 0,d=t.getSelection();return de("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(o,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(o,r,l)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?km(s,a,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=pr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=yl(t.props.preSelection),o=Dm(t.props.day,t.props),s=r===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,u=i.locale,d=Br(c,r),h=t.isDisabled(d)||t.isExcluded(d)?l:s;return"".concat(h," ").concat(It(d,"MMMM yyyy",u))},t.getQuarterClassNames=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,u=i.maxDate,d=i.excludeDates,h=i.includeDates,p=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,_=(c||u||d||h||p)&&Dm(Ac(o,r),t.props);return de("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":_,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&t.isSelectedQuarter(o,r,m)&&!_,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Rm(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,l=i.day,c=D3(r,a),u=sI(r,a);return s?s(r,c,u,l):o?u:c},t.getQuarterContent=function(r){var i,o=t.props,s=o.renderQuarterContent,a=o.locale,l=Ege(r,a);return(i=s==null?void 0:s(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=u1[yM(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return $.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(h,p){return $.createElement("div",{ref:t.MONTH_REFS[h],key:p,onClick:function(m){t.onMonthClick(m,h)},onKeyDown:function(m){M3(m)&&(m.preventDefault(),m.key=oe.Enter),t.onMonthKeyDown(m,h)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(h)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(h)}:void 0,tabIndex:Number(t.getTabIndex(h)),className:t.getMonthClassNames(h),"aria-disabled":t.isMonthDisabled(h),role:"option","aria-label":t.getAriaLabel(h),"aria-current":t.isCurrentMonth(a,h)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,h,l):void 0},t.getMonthContent(h))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,o=r.selected,s=[1,2,3,4];return $.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return $.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":o?t.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return de("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,s=t.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return $.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(It(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(x.Component),$ge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return $.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?$.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return $.createElement(C_,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),Bge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,o){return $.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(r){return $.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return $.createElement($ge,Ge({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,r)];return i&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return D3(o,t.props.locale)}:function(o){return sI(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return $.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(x.Component);function zge(n,e){for(var t=[],r=Ko(n),i=Ko(e);!ya(r,i);)t.push(lt(r)),r=Hi(r,1);return t}var jge=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=NE(i),s=Xi(r.props.date,i)&&cr(r.props.date,i);return $.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?$.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",It(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:zge(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=de({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return $.createElement(C_,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),Uge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ko(t.props.minDate),i=Ko(t.props.maxDate),o=[];!ya(r,i);){var s=NE(r);o.push($.createElement("option",{key:s,value:s},It(r,t.props.dateFormat,t.props.locale))),r=Hi(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:NE(Ko(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=It(t.props.date,t.props.dateFormat,t.props.locale);return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return $.createElement(jge,Ge({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=lt(r);Xi(t.props.date,i)&&cr(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),Wge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var i,o;(t.props.minTime||t.props.maxTime)&&aM(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&sM(r,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&Age(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&aM(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&sM(r,t.props)},t.liClasses=function(r){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(po(r)*3600+mo(r)*60+qo(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,i){var o,s;r.key===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(r.key===oe.ArrowUp||r.key===oe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===oe.ArrowDown||r.key===oe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===oe.Enter&&t.handleClick(i),(s=(o=t.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},t.renderTimes=function(){for(var r,i=[],o=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||lt(),l=bg(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(_,v){return _.getTime()-v.getTime()}),u=60*Rge(a),d=u/s,h=0;h<d;h++){var p=AE(l,h*s);if(i.push(p),c){var m=Pge(l,p,h,s,c);i=i.concat(m)}}var g=i.reduce(function(_,v){return v.getTime()<=a.getTime()?v:_},i[0]);return i.map(function(_){return $.createElement("li",{key:_.valueOf(),onClick:t.handleClick.bind(t,_),className:t.liClasses(_),ref:function(v){_===g&&(t.centerLi=v)},onKeyDown:function(v){t.handleOnKeyDown(v,_)},tabIndex:_===g?0:-1,role:"option","aria-selected":t.isSelectedTime(_)?"true":void 0,"aria-disabled":t.isDisabledTime(_)?"true":void 0},It(_,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?$.createElement($.Fragment,null):$.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},$.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return $.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),$.createElement("div",{className:"react-datepicker__time"},$.createElement("div",{className:"react-datepicker__time-box"},$.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(x.Component),vM=3,Hge=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ao([],Array(r.props.yearItemNumber),!0).map(function(){return x.createRef()}),r.isDisabled=function(i){return di(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return aI(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,l,c,u=r.props,d=u.date,h=u.yearItemNumber;if(!(d===void 0||h===void 0)){var p=js(d,h).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-p<0?r.updateFocusOnPaginate(h-(p-i)):i-p>=h?r.updateFocusOnPaginate(Math.abs(h-(i-p))):(c=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return Ke(i,o)},r.isCurrentYear=function(i){return i===Ne(lt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Xi(Gi(lt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Xi(Gi(lt(),i),r.props.endDate)},r.isInRange=function(i){return Pm(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.startDate,u=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&u?Pm(i,r.selectingDate(),u):a&&c||l&&c&&!u?Pm(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,c=Gi(lt(),i);return l?Xi(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xi(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=Gi(lt(),i);return l||c?Xi(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xi(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,l=o.excludeDates,c=o.includeDates,u=o.filterDate,d=wf(Gi(r.props.date,i)),h=(s||a||l||c||u)&&Eg(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ke(d,wf(r.props.selected))&&Ke(d,wf(r.props.preSelection))&&!h}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(wf(Gi(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,l=i.key,c=r.props,u=c.date,d=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==oe.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case oe.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case oe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Wo(r.props.preSelection,1));break;case oe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,ju(r.props.preSelection,1));break;case oe.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var p=js(u,d).startPeriod,m=vM,g=o-m;if(g<p){var _=d%m;o>=p&&o<p+_?m=_:m+=_,g=o-m}r.handleYearNavigation(g,ju(r.props.preSelection,m));break}case oe.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var v=js(u,d).endPeriod,m=vM,g=o+m;if(g>v){var _=d%m;o<=v&&o>v-_?m=_:m+=_,g=o+m}r.handleYearNavigation(g,Wo(r.props.preSelection,m));break}}h&&h(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,c=o.selected,u=o.excludeDates,d=o.includeDates,h=o.filterDate,p=o.yearClassName;return de("react-datepicker__year-text","react-datepicker__year-".concat(i),s?p==null?void 0:p(Gi(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===Ne(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||h)&&Eg(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Ne(r.props.preSelection),s=Eg(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return de("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var c=js(o,s),u=c.startPeriod,d=c.endPeriod,h=function(g){r.push($.createElement("div",{ref:p.YEAR_REFS[g-u],onClick:function(_){t.onYearClick(_,g)},onKeyDown:function(_){M3(_)&&(_.preventDefault(),_.key=oe.Enter),t.onYearKeyDown(_,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(_){return a(_,g)},onPointerEnter:p.props.usePointerEvent?function(_){return a(_,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(_){return l(_,g)},onPointerLeave:p.props.usePointerEvent?function(_){return l(_,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,m=u;m<=d;m++)h(m);return $.createElement("div",{className:this.getYearContainerClassNames()},$.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(x.Component);function qge(n,e,t,r){for(var i=[],o=0;o<2*e+1;o++){var s=n+e-o,a=!0;t&&(a=Ne(t)<=s),r&&a&&(a=Ne(r)>=s),a&&i.push(s)}return i}var Kge=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return $.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?$.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=r.props.minDate?Ne(r.props.minDate):null,u=r.props.maxDate?Ne(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift($.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push($.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:qge(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=x.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=de({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return $.createElement(C_,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),Yge=function(n){Pn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Ne(t.props.minDate):1900,i=t.props.maxDate?Ne(t.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push($.createElement("option",{key:s,value:s},s));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},$.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return $.createElement(Kge,Ge({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var o,s;(s=(o=t.props).onSelect)===null||s===void 0||s.call(o,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),Gge=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Qge=function(n){var e=(n.className||"").split(/\s+/);return Gge.some(function(t){return e.indexOf(t)>=0})},Jge=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;Qge(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=R3(r.props),c=A3(r.props),u=lt(),d=a||s||o;return d||(l&&jl(u,l)?l:c&&ya(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Hi(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:zu(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:Gi(lt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,l;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!di(i,r.props))return i;for(var o=Ko(i),s=vge(i),a=Fhe(s,o),l=null,c=0;c<=a;c++){var u=rs(o,c);if(!di(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(i){var o,s,a,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:Gi(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:Br(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:Gi(Br(s,pr(i)),Ne(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=aa(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push($.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=rs(o,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return $.createElement("div",{key:a,"aria-label":It(l,"EEEE",r.props.locale),className:de("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?_ge(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?bge(i,o):wge(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:ju(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=uM(r.state.date,r.props);break;case r.props.showYearPicker:o=Ige(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=Tge(r.state.date,r.props);break;default:o=lM(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,h=d===void 0?e.defaultProps.previousMonthButtonLabel:d,p=u.previousYearButtonLabel,m=p===void 0?e.defaultProps.previousYearButtonLabel:p,g=r.props,_=g.previousMonthAriaLabel,v=_===void 0?typeof h=="string"?h:"Previous Month":_,w=g.previousYearAriaLabel,b=w===void 0?typeof m=="string"?m:"Previous Year":w;return $.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?b:v},$.createElement("span",{className:s.join(" ")},c?m:h))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Wo(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=dM(r.state.date,r.props);break;case r.props.showYearPicker:o=Cge(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=xge(r.state.date,r.props);break;default:o=cM(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,h=d===void 0?e.defaultProps.nextMonthButtonLabel:d,p=u.nextYearButtonLabel,m=p===void 0?e.defaultProps.nextYearButtonLabel:p,g=r.props,_=g.nextMonthAriaLabel,v=_===void 0?typeof h=="string"?h:"Next Month":_,w=g.nextYearAriaLabel,b=w===void 0?typeof m=="string"?m:"Next Year":w;return $.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?b:v},$.createElement("span",{className:a.join(" ")},c?m:h))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),$.createElement("h2",{className:o.join(" ")},It(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return $.createElement(Yge,Ge({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ne(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return $.createElement(Bge,Ge({},e.defaultProps,r.props,{month:pr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return $.createElement(Uge,Ge({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(rM(),i),r.props.setPreSelection&&r.props.setPreSelection(rM())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return $.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return $.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),$.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),$.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=lM(r.state.date,r.props),u=cM(r.state.date,r.props),d=uM(r.state.date,r.props),h=dM(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return $.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,Ge(Ge({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:h})),p&&$.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=js(o,c),d=u.startPeriod,h=u.endPeriod;return $.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):Ne(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Wo(r.state.date,l):zu(r.state.date,l),u=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,d=0;d<a;++d){var h=d-u+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Wo(c,h):Hi(c,h),m="month-".concat(d),g=d<a-1,_=d>0;s.push($.createElement("div",{key:m,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),$.createElement(Vge,Ge({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:_}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return $.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),$.createElement(Hge,Ge({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return $.createElement(Wge,Ge({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Ao(i)&&!!r.props.selected,s=o?"".concat(hM(i.getHours()),":").concat(hM(i.getMinutes())):"";if(r.props.showTimeInput)return $.createElement(Mge,Ge({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=js(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Ne(r.state.date):l="".concat(sI(pr(r.state.date),r.props.locale)," ").concat(Ne(r.state.date)),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return $.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=x.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ep}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Ke(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!cr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||uge;return $.createElement(C_,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},$.createElement(t,{className:de("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(x.Component),Xge=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?$.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):$.isValidElement(e)?$.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):$.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},$.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},O3=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Hc.createPortal(this.props.children,this.el)},e}(x.Component),Zge="[tabindex], a, button, input, select, textarea",eye=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},N3=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Zge),1,-1).filter(eye)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=x.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?$.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},$.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,$.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(x.Component);function tye(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=x.useRef(null),s=cge(Ge({open:!i,whileElementsMounted:Sne,placement:t.popperPlacement,middleware:ao([Pne({padding:15}),Dne(10),Rne({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=Ge(Ge({},t),{hidePopper:i,popperProps:Ge(Ge({},s),{arrowRef:o})});return $.createElement(n,Ge({},a))};return e}var nye=function(n){Pn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,o=t.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=t.popperComponent,l=t.targetComponent,c=t.enableTabLoop,u=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,p=t.popperProps,m=t.showArrow,g=void 0;if(!s){var _=de("react-datepicker-popper",r);g=$.createElement(N3,{enableTabLoop:c},$.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:_,"data-placement":p.placement,onKeyDown:u},a,m&&$.createElement(nge,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=x.createElement(this.props.popperContainer,{},g)),d&&!s&&(g=$.createElement(O3,{portalId:d,portalHost:h},g));var v=de("react-datepicker-wrapper",i);return $.createElement($.Fragment,null,$.createElement("div",{ref:p.refs.setReference,className:v},l),g)},e}(x.Component),rye=tye(nye),_M="react-datepicker-ignore-onclickoutside";function iye(n,e){return n&&e?pr(n)!==pr(e)||Ne(n)!==Ne(e):n!==e}var d1="Date input not valid.",wM=function(n){Pn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:lt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return Ao(a)?ao(ao([],o,!0),[Ge(Ge({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=R3(r.props),a=A3(r.props),l=s&&jl(o,bg(s))?s:a&&ya(o,iM(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:fM(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Ge(Ge({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ge(Ge({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:f1},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ho(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:oye});var c=r.props,u=c.dateFormat,d=u===void 0?e.defaultProps.dateFormat:u,h=c.strictParsing,p=h===void 0?e.defaultProps.strictParsing:h,m=c.selectsRange,g=c.startDate,_=c.endDate,v=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(m){var w=v.split("-",2).map(function(k){return k.trim()}),b=w[0],C=w[1],D=l1(b??"",d,r.props.locale,p),M=l1(C??"",d,r.props.locale,p),S=(g==null?void 0:g.getTime())!==(D==null?void 0:D.getTime()),E=(_==null?void 0:_.getTime())!==(M==null?void 0:M.getTime());if(!S&&!E||D&&di(D,r.props)||M&&di(M,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[D,M],l)}else{var I=l1(v,d,r.props.locale,p,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&I&&!Ke(I,r.props.selected)&&(I=Gme(r.props.selected,{hours:po(I),minutes:mo(I),seconds:qo(I)})),(I||!v)&&r.setSelected(I,l,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!gM(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var l,c,u=i;if(r.props.showYearPicker){if(u!==null&&Eg(Ne(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&P3(u,r.props))return}else if(u!==null&&di(u,r.props))return;var d=r.props,h=d.onChange,p=d.selectsRange,m=d.startDate,g=d.endDate,_=d.selectsMultiple,v=d.selectedDates,w=d.minTime,b=d.swapRange;if(!il(r.props.selected,u)||r.props.allowSameDay||p||_)if(u!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=c1(u,{hour:po(r.props.selected),minute:mo(r.props.selected),second:qo(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(u=c1(u,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var C=!m&&!g,D=m&&!g,M=m&&g;C?h==null||h([u,null],o):D&&(u===null?h==null||h([null,null],o):gM(u,m)?b?h==null||h([u,m],o):h==null||h([u,null],o):h==null||h([m,u],o)),M&&(h==null||h([u,null],o))}else if(_){if(u!==null)if(!(v!=null&&v.length))h==null||h([u],o);else{var S=v.some(function(I){return Ke(I,u)});if(S){var E=v.filter(function(I){return!Ke(I,u)});h==null||h(E,o)}else h==null||h(ao(ao([],v,!0),[u],!1),o)}}else h==null||h(u,o);s||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Ho(r.props.minDate),s=Ho(r.props.maxDate),a=!0;if(i){var l=bg(i);if(o&&s)a=bf(i,r.props.minDate,r.props.maxDate);else if(o){var c=bg(r.props.minDate);a=ya(i,c)||il(l,c)}else if(s){var u=iM(r.props.maxDate);a=jl(i,u)||il(l,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:c1(a,{hour:po(i),minute:mo(i)});r.setState({preSelection:l}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,l,c,u;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===oe.ArrowDown||d===oe.ArrowUp||d===oe.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===oe.ArrowDown||d===oe.ArrowUp){i.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=lt(r.state.preSelection);d===oe.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===f1?(r.handleSelect(m,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):d===oe.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):d===oe.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:d1})}},r.onPortalKeyDown=function(i){var o=i.key;o===oe.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,l,c,u,d=r.props,h=d.minDate,p=d.maxDate,m=d.disabledKeyboardNavigation,g=d.showWeekPicker,_=d.shouldCloseOnSelect,v=d.locale,w=d.calendarStartDay,b=d.adjustDateOnChange,C=d.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!m){var D=i.key,M=i.shiftKey,S=lt(r.state.preSelection),E=function(K,W){var q=W;switch(K){case oe.ArrowRight:q=g?av(W,1):rs(W,1);break;case oe.ArrowLeft:q=g?ZA(W,1):Ame(W,1);break;case oe.ArrowUp:q=ZA(W,1);break;case oe.ArrowDown:q=av(W,1);break;case oe.PageUp:q=M?ju(W,1):zu(W,1);break;case oe.PageDown:q=M?Wo(W,1):Hi(W,1);break;case oe.Home:q=aa(W,v,w);break;case oe.End:q=yge(W);break}return q},I=function(K,W){for(var q=40,V=K,Y=!1,Z=0,ne=E(K,W);!Y;){if(Z>=q){ne=W;break}h&&ne<h&&(V=oe.ArrowRight,ne=di(h,r.props)?E(V,ne):h),p&&ne>p&&(V=oe.ArrowLeft,ne=di(p,r.props)?E(V,ne):p),di(ne,r.props)?((V===oe.PageUp||V===oe.Home)&&(V=oe.ArrowRight),(V===oe.PageDown||V===oe.End)&&(V=oe.ArrowLeft),ne=E(V,ne)):Y=!0,Z++}return ne};if(D===oe.Enter){i.preventDefault(),r.handleSelect(S,i),!_&&r.setPreSelection(S);return}else if(D===oe.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:d1});return}var k=null;switch(D){case oe.ArrowLeft:case oe.ArrowRight:case oe.ArrowUp:case oe.ArrowDown:case oe.PageUp:case oe.PageDown:case oe.Home:case oe.End:k=I(D,S);break}if(!k){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:d1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:f1}),b&&r.setSelected(k),r.setPreSelection(k),C){var A=pr(S),O=pr(k),P=Ne(S),U=Ne(k);A!==O||P!==U?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===oe.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:$.createElement(Jge,Ge({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Dge(r.modifyHolidays()),outsideClickIgnoreClass:_M,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(oi(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+oi(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(oi(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(oi(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(oi(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(oi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(oi(r.props.selected,{dateFormat:c,locale:a})),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,o,s,a=de(r.props.className,(i={},i[_M]=r.state.open,i)),l=r.props.customInput||$.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,h=d===void 0?e.defaultProps.dateFormat:d,p=u.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?hge(r.props.startDate,r.props.endDate,{dateFormat:h,locale:p}):r.props.selectsMultiple?pge((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:h,locale:p}):oi(r.props.selected,{dateFormat:h,locale:p});return x.cloneElement(l,(o={},o[c]=function(g){r.input=g},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=de(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,d=i.clearButtonClassName,h=d===void 0?"":d,p=i.ariaLabelClose,m=p===void 0?"Close":p,g=i.selectedDates;return o&&(a!=null||l!=null||c!=null||g!=null&&g.length)?$.createElement("button",{type:"button",className:de("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ep,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,o,s,a;t.inline&&iye(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:fM(this.props.highlightDates)}),!r.focused&&!il(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,o=t.calendarIconClassname,s=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),$.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&$.createElement(Xge,Ge({icon:i,className:de(s,!s&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?$.createElement(N3,{enableTabLoop:this.props.enableTabLoop},$.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=$.createElement(O3,Ge({portalId:this.props.portalId},this.props),r)),$.createElement("div",null,this.renderInputContainer(),r)}return $.createElement(rye,Ge({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(x.Component),oye="input",f1="navigate";function sye(){const n=Ku(),[e,t]=x.useState(""),[r,i]=x.useState(null),[o,s]=x.useState(null),[a,l]=x.useState(null),[c,u]=x.useState(null);x.useEffect(()=>{const p=TT(td,m=>{m?i(m):n("/login")});return()=>p()},[n]);const d=()=>{Jee(r,e,c,o).then(()=>{n("/main")})},h=()=>{n("/main")};return N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Add a title..."}),N.jsx(l3,{setEditorContent:u}),N.jsxs("div",{className:"date-time-picker",children:[N.jsx(wM,{selected:o,onChange:p=>s(p),showTimeSelect:!0,dateFormat:"Pp",placeholderText:"Due Date"}),N.jsx(wM,{selected:a,onChange:p=>l(p),showTimeSelect:!0,dateFormat:"Pp",placeholderText:"Reminder Date"})]}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(fl,{onClick:h,color:"primary",children:[N.jsx(Rx,{})," Cancel"]}),N.jsxs(fl,{onClick:d,color:"primary",variant:"contained",children:[N.jsx(Dx,{})," Save"]})]})]})}let aye=()=>{const[n,e]=x.useState(()=>localStorage.getItem("theme")||"light");x.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]);const t=()=>{e(n==="light"?"dark":"light")};return N.jsxs(bj,{children:[N.jsx("div",{children:N.jsxs(vj,{children:["// redirect to login page",N.jsx(Sc,{path:"/*",element:N.jsx(ase,{theme:n,toggleTheme:t})}),N.jsx(Sc,{path:"/register",element:N.jsx(lse,{theme:n,toggleTheme:t})}),N.jsx(Sc,{path:"/main",element:N.jsx(Joe,{theme:n,toggleTheme:t})}),N.jsx(Sc,{path:"/note/:id",element:N.jsx(Dhe,{theme:n,toggleTheme:t})}),N.jsx(Sc,{path:"/note/",element:N.jsx(sye,{theme:n,toggleTheme:t})})]})}),N.jsx(Mj,{})]})};var bM={};const lye=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function cye(n){if("serviceWorker"in navigator){if(new URL(bM.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t=`${bM.PUBLIC_URL}/service-worker.js`;lye?(uye(t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):L3(t)})}}function L3(n,e){navigator.serviceWorker.register(n).then(t=>{t.onupdatefound=()=>{const r=t.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(t=>{console.error("Error during service worker registration:",t)})}function uye(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then(t=>{const r=t.headers.get("content-type");t.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):L3(n)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const dye=document.getElementById("root"),fye=ON(dye);fye.render(N.jsx($.StrictMode,{children:N.jsx(aye,{})}));cye();
