function lM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Si(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gC={exports:{}},ip={},yC={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),uM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),fM=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),mM=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),yM=Symbol.for("react.memo"),vM=Symbol.for("react.lazy"),tw=Symbol.iterator;function _M(t){return t===null||typeof t!="object"?null:(t=tw&&t[tw]||t["@@iterator"],typeof t=="function"?t:null)}var vC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_C=Object.assign,bC={};function Za(t,e,n){this.props=t,this.context=e,this.refs=bC,this.updater=n||vC}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EC(){}EC.prototype=Za.prototype;function q0(t,e,n){this.props=t,this.context=e,this.refs=bC,this.updater=n||vC}var H0=q0.prototype=new EC;H0.constructor=q0;_C(H0,Za.prototype);H0.isPureReactComponent=!0;var nw=Array.isArray,wC=Object.prototype.hasOwnProperty,K0={current:null},IC={key:!0,ref:!0,__self:!0,__source:!0};function SC(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wC.call(e,r)&&!IC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$c,type:t,key:o,ref:s,props:i,_owner:K0.current}}function bM(t,e){return{$$typeof:$c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===$c}function EM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rw=/\/+/g;function Og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EM(""+t.key):e.toString(36)}function cf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $c:case uM:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Og(s,0):r,nw(i)?(n="",t!=null&&(n=t.replace(rw,"$&/")+"/"),cf(i,e,n,"",function(u){return u})):i!=null&&(Q0(i)&&(i=bM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",nw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Og(o,a);s+=cf(o,e,n,l,i)}else if(l=_M(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Og(o,a++),s+=cf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return cf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},df={transition:null},IM={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:df,ReactCurrentOwner:K0};function TC(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!Q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Za;Se.Fragment=cM;Se.Profiler=fM;Se.PureComponent=q0;Se.StrictMode=dM;Se.Suspense=gM;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IM;Se.act=TC;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_C({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=K0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wC.call(e,l)&&!IC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$c,type:t.type,key:i,ref:o,props:r,_owner:s}};Se.createContext=function(t){return t={$$typeof:pM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hM,_context:t},t.Consumer=t};Se.createElement=SC;Se.createFactory=function(t){var e=SC.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:mM,render:t}};Se.isValidElement=Q0;Se.lazy=function(t){return{$$typeof:vM,_payload:{_status:-1,_result:t},_init:wM}};Se.memo=function(t,e){return{$$typeof:yM,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};Se.unstable_act=TC;Se.useCallback=function(t,e){return In.current.useCallback(t,e)};Se.useContext=function(t){return In.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Se.useEffect=function(t,e){return In.current.useEffect(t,e)};Se.useId=function(){return In.current.useId()};Se.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return In.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Se.useRef=function(t){return In.current.useRef(t)};Se.useState=function(t){return In.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return In.current.useTransition()};Se.version="18.3.1";yC.exports=Se;var T=yC.exports;const ee=rp(T),qf=lM({__proto__:null,default:ee},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SM=T,TM=Symbol.for("react.element"),xM=Symbol.for("react.fragment"),CM=Object.prototype.hasOwnProperty,RM=SM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PM={key:!0,ref:!0,__self:!0,__source:!0};function xC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)CM.call(e,r)&&!PM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TM,type:t,key:o,ref:s,props:i,_owner:RM.current}}ip.Fragment=xM;ip.jsx=xC;ip.jsxs=xC;gC.exports=ip;var N=gC.exports,CC={exports:{}},nr={},RC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var X=F.length;F.push(W);e:for(;0<X;){var he=X-1>>>1,ne=F[he];if(0<i(ne,W))F[he]=W,F[X]=ne,X=he;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],X=F.pop();if(X!==W){F[0]=X;e:for(var he=0,ne=F.length,re=ne>>>1;he<re;){var oe=2*(he+1)-1,me=F[oe],ye=oe+1,Ae=F[ye];if(0>i(me,X))ye<ne&&0>i(Ae,me)?(F[he]=Ae,F[ye]=X,he=ye):(F[he]=me,F[oe]=X,he=oe);else if(ye<ne&&0>i(Ae,X))F[he]=Ae,F[ye]=X,he=ye;else break e}}return W}function i(F,W){var X=F.sortIndex-W.sortIndex;return X!==0?X:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function x(F){if(v=!1,_(F),!g)if(n(l)!==null)g=!0,Q(k);else{var W=n(u);W!==null&&K(x,W.startTime-F)}}function k(F,W){g=!1,v&&(v=!1,b(w),w=-1),m=!0;var X=h;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||F&&!D());){var he=f.callback;if(typeof he=="function"){f.callback=null,h=f.priorityLevel;var ne=he(f.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var oe=n(u);oe!==null&&K(x,oe.startTime-W),re=!1}return re}finally{f=null,h=X,m=!1}}var O=!1,S=null,w=-1,C=5,R=-1;function D(){return!(t.unstable_now()-R<C)}function M(){if(S!==null){var F=t.unstable_now();R=F;var W=!0;try{W=S(!0,F)}finally{W?A():(O=!1,S=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=M,A=function(){U.postMessage(null)}}else A=function(){I(M,0)};function Q(F){S=F,O||(O=!0,A())}function K(F,W){w=I(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Q(k))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var X=h;h=W;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return W()}finally{h=X}},t.unstable_scheduleCallback=function(F,W,X){var he=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?he+X:he):X=he,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,F={id:d++,callback:W,priorityLevel:F,startTime:X,expirationTime:ne,sortIndex:-1},X>he?(F.sortIndex=X,e(u,F),n(l)===null&&F===n(u)&&(v?(b(w),w=-1):v=!0,K(x,X-he))):(F.sortIndex=ne,e(l,F),g||m||(g=!0,Q(k))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var W=h;return function(){var X=h;h=W;try{return F.apply(this,arguments)}finally{h=X}}}})(PC);RC.exports=PC;var AM=RC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM=T,er=AM;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AC=new Set,Wu={};function Ts(t,e){Pa(t,e),Pa(t+"Capture",e)}function Pa(t,e){for(Wu[t]=e,t=0;t<e.length;t++)AC.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=Object.prototype.hasOwnProperty,DM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},ow={};function NM(t){return qy.call(ow,t)?!0:qy.call(iw,t)?!1:DM.test(t)?ow[t]=!0:(iw[t]=!0,!1)}function OM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MM(t,e,n,r){if(e===null||typeof e>"u"||OM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function X0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Jt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Jt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,X0);Jt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J0(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MM(e,n,i,r)&&(n=null),r||i===null?NM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=kM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rd=Symbol.for("react.element"),ra=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),Hy=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),t_=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),NC=Symbol.for("react.offscreen"),sw=Symbol.iterator;function Bl(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Mg;function cu(t){if(Mg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mg=e&&e[1]||""}return`
`+Mg+t}var Lg=!1;function $g(t,e){if(!t||Lg)return"";Lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cu(t):""}function LM(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function Yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case ra:return"Portal";case Hy:return"Profiler";case Z0:return"StrictMode";case Ky:return"Suspense";case Qy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DC:return(t.displayName||"Context")+".Consumer";case kC:return(t._context.displayName||"Context")+".Provider";case e_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case t_:return e=t.displayName||null,e!==null?e:Yy(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Yy(t(e))}catch{}}return null}function $M(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yy(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VM(t){var e=OC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=VM(t))}function MC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xy(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=po(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LC(t,e){e=e.checked,e!=null&&J0(t,"checked",e,!1)}function Jy(t,e){LC(t,e);var n=po(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zy(t,e.type,po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zy(t,e,n){(e!=="number"||Hf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var du=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+po(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(du(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:po(n)}}function $C(t,e){var n=po(e.value),r=po(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ad,FC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ad=Ad||document.createElement("div"),Ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FM=["Webkit","ms","Moz","O"];Object.keys(Iu).forEach(function(t){FM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Iu[e]=Iu[t]})});function BC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Iu.hasOwnProperty(t)&&Iu[t]?(""+e).trim():e+"px"}function jC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BM=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(t,e){if(e){if(BM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=null;function n_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ov=null,ya=null,va=null;function dw(t){if(t=Bc(t)){if(typeof ov!="function")throw Error(q(280));var e=t.stateNode;e&&(e=up(e),ov(t.stateNode,t.type,e))}}function UC(t){ya?va?va.push(t):va=[t]:ya=t}function zC(){if(ya){var t=ya,e=va;if(va=ya=null,dw(t),e)for(t=0;t<e.length;t++)dw(e[t])}}function WC(t,e){return t(e)}function GC(){}var Vg=!1;function qC(t,e,n){if(Vg)return t(e,n);Vg=!0;try{return WC(t,e,n)}finally{Vg=!1,(ya!==null||va!==null)&&(GC(),zC())}}function qu(t,e){var n=t.stateNode;if(n===null)return null;var r=up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var sv=!1;if(gi)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){sv=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{sv=!1}function jM(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Su=!1,Kf=null,Qf=!1,av=null,UM={onError:function(t){Su=!0,Kf=t}};function zM(t,e,n,r,i,o,s,a,l){Su=!1,Kf=null,jM.apply(UM,arguments)}function WM(t,e,n,r,i,o,s,a,l){if(zM.apply(this,arguments),Su){if(Su){var u=Kf;Su=!1,Kf=null}else throw Error(q(198));Qf||(Qf=!0,av=u)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fw(t){if(xs(t)!==t)throw Error(q(188))}function GM(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fw(i),t;if(o===r)return fw(i),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function KC(t){return t=GM(t),t!==null?QC(t):null}function QC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QC(t);if(e!==null)return e;t=t.sibling}return null}var YC=er.unstable_scheduleCallback,hw=er.unstable_cancelCallback,qM=er.unstable_shouldYield,HM=er.unstable_requestPaint,xt=er.unstable_now,KM=er.unstable_getCurrentPriorityLevel,r_=er.unstable_ImmediatePriority,XC=er.unstable_UserBlockingPriority,Yf=er.unstable_NormalPriority,QM=er.unstable_LowPriority,JC=er.unstable_IdlePriority,op=null,Qr=null;function YM(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(op,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:ZM,XM=Math.log,JM=Math.LN2;function ZM(t){return t>>>=0,t===0?32:31-(XM(t)/JM|0)|0}var kd=64,Dd=4194304;function fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fu(a):(o&=s,o!==0&&(r=fu(o)))}else s=n&~i,s!==0?r=fu(s):o!==0&&(r=fu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),i=1<<n,r|=t[n],e&=~i;return r}function eL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Lr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=eL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function lv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZC(){var t=kd;return kd<<=1,!(kd&4194240)&&(kd=64),t}function Fg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function nL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function i_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function eR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tR,o_,nR,rR,iR,uv=!1,Nd=[],Ji=null,Zi=null,eo=null,Hu=new Map,Ku=new Map,Bi=[],rL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(e.pointerId)}}function Ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Bc(e),e!==null&&o_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iL(t,e,n,r,i){switch(e){case"focusin":return Ji=Ul(Ji,t,e,n,r,i),!0;case"dragenter":return Zi=Ul(Zi,t,e,n,r,i),!0;case"mouseover":return eo=Ul(eo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hu.set(o,Ul(Hu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ku.set(o,Ul(Ku.get(o)||null,t,e,n,r,i)),!0}return!1}function oR(t){var e=Ko(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=HC(n),e!==null){t.blockedOn=e,iR(t.priority,function(){nR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iv=r,n.target.dispatchEvent(r),iv=null}else return e=Bc(n),e!==null&&o_(e),t.blockedOn=n,!1;e.shift()}return!0}function mw(t,e,n){ff(t)&&n.delete(e)}function oL(){uv=!1,Ji!==null&&ff(Ji)&&(Ji=null),Zi!==null&&ff(Zi)&&(Zi=null),eo!==null&&ff(eo)&&(eo=null),Hu.forEach(mw),Ku.forEach(mw)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,uv||(uv=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,oL)))}function Qu(t){function e(i){return zl(i,t)}if(0<Nd.length){zl(Nd[0],t);for(var n=1;n<Nd.length;n++){var r=Nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ji!==null&&zl(Ji,t),Zi!==null&&zl(Zi,t),eo!==null&&zl(eo,t),Hu.forEach(e),Ku.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)oR(n),n.blockedOn===null&&Bi.shift()}var _a=Ti.ReactCurrentBatchConfig,Jf=!0;function sL(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=1,s_(t,e,n,r)}finally{je=i,_a.transition=o}}function aL(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=4,s_(t,e,n,r)}finally{je=i,_a.transition=o}}function s_(t,e,n,r){if(Jf){var i=cv(t,e,n,r);if(i===null)Qg(t,e,r,Zf,n),pw(t,r);else if(iL(i,t,e,n,r))r.stopPropagation();else if(pw(t,r),e&4&&-1<rL.indexOf(t)){for(;i!==null;){var o=Bc(i);if(o!==null&&tR(o),o=cv(t,e,n,r),o===null&&Qg(t,e,r,Zf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Qg(t,e,r,null,n)}}var Zf=null;function cv(t,e,n,r){if(Zf=null,t=n_(r),t=Ko(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zf=t,null}function sR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KM()){case r_:return 1;case XC:return 4;case Yf:case QM:return 16;case JC:return 536870912;default:return 16}default:return 16}}var Hi=null,a_=null,hf=null;function aR(){if(hf)return hf;var t,e=a_,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hf=i.slice(t,1<r?1-r:void 0)}function pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Od(){return!0}function gw(){return!1}function rr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Od:gw,this.isPropagationStopped=gw,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Od)},persist:function(){},isPersistent:Od}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l_=rr(el),Fc=yt({},el,{view:0,detail:0}),lL=rr(Fc),Bg,jg,Wl,sp=yt({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(Bg=t.screenX-Wl.screenX,jg=t.screenY-Wl.screenY):jg=Bg=0,Wl=t),Bg)},movementY:function(t){return"movementY"in t?t.movementY:jg}}),yw=rr(sp),uL=yt({},sp,{dataTransfer:0}),cL=rr(uL),dL=yt({},Fc,{relatedTarget:0}),Ug=rr(dL),fL=yt({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),hL=rr(fL),pL=yt({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mL=rr(pL),gL=yt({},el,{data:0}),vw=rr(gL),yL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_L[t])?!!e[t]:!1}function u_(){return bL}var EL=yt({},Fc,{key:function(t){if(t.key){var e=yL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u_,charCode:function(t){return t.type==="keypress"?pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wL=rr(EL),IL=yt({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_w=rr(IL),SL=yt({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u_}),TL=rr(SL),xL=yt({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),CL=rr(xL),RL=yt({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PL=rr(RL),AL=[9,13,27,32],c_=gi&&"CompositionEvent"in window,Tu=null;gi&&"documentMode"in document&&(Tu=document.documentMode);var kL=gi&&"TextEvent"in window&&!Tu,lR=gi&&(!c_||Tu&&8<Tu&&11>=Tu),bw=" ",Ew=!1;function uR(t,e){switch(t){case"keyup":return AL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function DL(t,e){switch(t){case"compositionend":return cR(e);case"keypress":return e.which!==32?null:(Ew=!0,bw);case"textInput":return t=e.data,t===bw&&Ew?null:t;default:return null}}function NL(t,e){if(oa)return t==="compositionend"||!c_&&uR(t,e)?(t=aR(),hf=a_=Hi=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lR&&e.locale!=="ko"?null:e.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OL[t.type]:e==="textarea"}function dR(t,e,n,r){UC(r),e=eh(e,"onChange"),0<e.length&&(n=new l_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xu=null,Yu=null;function ML(t){wR(t,0)}function ap(t){var e=la(t);if(MC(e))return t}function LL(t,e){if(t==="change")return e}var fR=!1;if(gi){var zg;if(gi){var Wg="oninput"in document;if(!Wg){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Wg=typeof Iw.oninput=="function"}zg=Wg}else zg=!1;fR=zg&&(!document.documentMode||9<document.documentMode)}function Sw(){xu&&(xu.detachEvent("onpropertychange",hR),Yu=xu=null)}function hR(t){if(t.propertyName==="value"&&ap(Yu)){var e=[];dR(e,Yu,t,n_(t)),qC(ML,e)}}function $L(t,e,n){t==="focusin"?(Sw(),xu=e,Yu=n,xu.attachEvent("onpropertychange",hR)):t==="focusout"&&Sw()}function VL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ap(Yu)}function FL(t,e){if(t==="click")return ap(e)}function BL(t,e){if(t==="input"||t==="change")return ap(e)}function jL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:jL;function Xu(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qy.call(e,i)||!Fr(t[i],e[i]))return!1}return!0}function Tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xw(t,e){var n=Tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tw(n)}}function pR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mR(){for(var t=window,e=Hf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hf(t.document)}return e}function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UL(t){var e=mR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pR(n.ownerDocument.documentElement,n)){if(r!==null&&d_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=xw(n,o);var s=xw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zL=gi&&"documentMode"in document&&11>=document.documentMode,sa=null,dv=null,Cu=null,fv=!1;function Cw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fv||sa==null||sa!==Hf(r)||(r=sa,"selectionStart"in r&&d_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cu&&Xu(Cu,r)||(Cu=r,r=eh(dv,"onSelect"),0<r.length&&(e=new l_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sa)))}function Md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Gg={},gR={};gi&&(gR=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function lp(t){if(Gg[t])return Gg[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gR)return Gg[t]=e[n];return t}var yR=lp("animationend"),vR=lp("animationiteration"),_R=lp("animationstart"),bR=lp("transitionend"),ER=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(t,e){ER.set(t,e),Ts(e,[t])}for(var qg=0;qg<Rw.length;qg++){var Hg=Rw[qg],WL=Hg.toLowerCase(),GL=Hg[0].toUpperCase()+Hg.slice(1);Eo(WL,"on"+GL)}Eo(yR,"onAnimationEnd");Eo(vR,"onAnimationIteration");Eo(_R,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(bR,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function Pw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WM(r,e,void 0,t),t.currentTarget=null}function wR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,a,u),o=l}}}if(Qf)throw t=av,Qf=!1,av=null,t}function st(t,e){var n=e[yv];n===void 0&&(n=e[yv]=new Set);var r=t+"__bubble";n.has(r)||(IR(e,t,2,!1),n.add(r))}function Kg(t,e,n){var r=0;e&&(r|=4),IR(n,t,r,e)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[Ld]){t[Ld]=!0,AC.forEach(function(n){n!=="selectionchange"&&(qL.has(n)||Kg(n,!1,t),Kg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ld]||(e[Ld]=!0,Kg("selectionchange",!1,e))}}function IR(t,e,n,r){switch(sR(e)){case 1:var i=sL;break;case 4:i=aL;break;default:i=s_}n=i.bind(null,e,n,t),i=void 0,!sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ko(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qC(function(){var u=o,d=n_(n),f=[];e:{var h=ER.get(t);if(h!==void 0){var m=l_,g=t;switch(t){case"keypress":if(pf(n)===0)break e;case"keydown":case"keyup":m=wL;break;case"focusin":g="focus",m=Ug;break;case"focusout":g="blur",m=Ug;break;case"beforeblur":case"afterblur":m=Ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TL;break;case yR:case vR:case _R:m=hL;break;case bR:m=CL;break;case"scroll":m=lL;break;case"wheel":m=PL;break;case"copy":case"cut":case"paste":m=mL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_w}var v=(e&4)!==0,I=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,b!==null&&(x=qu(y,b),x!=null&&v.push(Zu(y,x,_)))),I)break;y=y.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==iv&&(g=n.relatedTarget||n.fromElement)&&(Ko(g)||g[yi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ko(g):null,g!==null&&(I=xs(g),g!==I||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=yw,x="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=_w,x="onPointerLeave",b="onPointerEnter",y="pointer"),I=m==null?h:la(m),_=g==null?h:la(g),h=new v(x,y+"leave",m,n,d),h.target=I,h.relatedTarget=_,x=null,Ko(d)===u&&(v=new v(b,y+"enter",g,n,d),v.target=_,v.relatedTarget=I,x=v),I=x,m&&g)t:{for(v=m,b=g,y=0,_=v;_;_=Fs(_))y++;for(_=0,x=b;x;x=Fs(x))_++;for(;0<y-_;)v=Fs(v),y--;for(;0<_-y;)b=Fs(b),_--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=Fs(v),b=Fs(b)}v=null}else v=null;m!==null&&Aw(f,h,m,v,!1),g!==null&&I!==null&&Aw(f,I,g,v,!0)}}e:{if(h=u?la(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=LL;else if(ww(h))if(fR)k=BL;else{k=VL;var O=$L}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=FL);if(k&&(k=k(t,u))){dR(f,k,n,d);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Zy(h,"number",h.value)}switch(O=u?la(u):window,t){case"focusin":(ww(O)||O.contentEditable==="true")&&(sa=O,dv=u,Cu=null);break;case"focusout":Cu=dv=sa=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,Cw(f,n,d);break;case"selectionchange":if(zL)break;case"keydown":case"keyup":Cw(f,n,d)}var S;if(c_)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else oa?uR(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(lR&&n.locale!=="ko"&&(oa||w!=="onCompositionStart"?w==="onCompositionEnd"&&oa&&(S=aR()):(Hi=d,a_="value"in Hi?Hi.value:Hi.textContent,oa=!0)),O=eh(u,w),0<O.length&&(w=new vw(w,t,null,n,d),f.push({event:w,listeners:O}),S?w.data=S:(S=cR(n),S!==null&&(w.data=S)))),(S=kL?DL(t,n):NL(t,n))&&(u=eh(u,"onBeforeInput"),0<u.length&&(d=new vw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}wR(f,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qu(t,n),o!=null&&r.unshift(Zu(t,o,i)),o=qu(t,e),o!=null&&r.push(Zu(t,o,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Aw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qu(n,o),l!=null&&s.unshift(Zu(n,l,a))):i||(l=qu(n,o),l!=null&&s.push(Zu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var HL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function kw(t){return(typeof t=="string"?t:""+t).replace(HL,`
`).replace(KL,"")}function $d(t,e,n){if(e=kw(e),kw(t)!==e&&n)throw Error(q(425))}function th(){}var hv=null,pv=null;function mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,QL=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,YL=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(t){return Dw.resolve(null).then(t).catch(XL)}:gv;function XL(t){setTimeout(function(){throw t})}function Yg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qu(e)}function to(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Gr="__reactFiber$"+tl,ec="__reactProps$"+tl,yi="__reactContainer$"+tl,yv="__reactEvents$"+tl,JL="__reactListeners$"+tl,ZL="__reactHandles$"+tl;function Ko(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nw(t);t!==null;){if(n=t[Gr])return n;t=Nw(t)}return e}t=n,n=t.parentNode}return null}function Bc(t){return t=t[Gr]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function la(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function up(t){return t[ec]||null}var vv=[],ua=-1;function wo(t){return{current:t}}function lt(t){0>ua||(t.current=vv[ua],vv[ua]=null,ua--)}function tt(t,e){ua++,vv[ua]=t.current,t.current=e}var mo={},dn=wo(mo),Mn=wo(!1),ss=mo;function Aa(t,e){var n=t.type.contextTypes;if(!n)return mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function nh(){lt(Mn),lt(dn)}function Ow(t,e,n){if(dn.current!==mo)throw Error(q(168));tt(dn,e),tt(Mn,n)}function SR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,$M(t)||"Unknown",i));return yt({},n,r)}function rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mo,ss=dn.current,tt(dn,t),tt(Mn,Mn.current),!0}function Mw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=SR(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,lt(Mn),lt(dn),tt(dn,t)):lt(Mn),tt(Mn,n)}var si=null,cp=!1,Xg=!1;function TR(t){si===null?si=[t]:si.push(t)}function e$(t){cp=!0,TR(t)}function Io(){if(!Xg&&si!==null){Xg=!0;var t=0,e=je;try{var n=si;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,cp=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),YC(r_,Io),i}finally{je=e,Xg=!1}}return null}var ca=[],da=0,ih=null,oh=0,ur=[],cr=0,as=null,li=1,ui="";function Lo(t,e){ca[da++]=oh,ca[da++]=ih,ih=t,oh=e}function xR(t,e,n){ur[cr++]=li,ur[cr++]=ui,ur[cr++]=as,as=t;var r=li;t=ui;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var o=32-Lr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,li=1<<32-Lr(e)+i|n<<i|r,ui=o+t}else li=1<<o|n<<i|r,ui=t}function f_(t){t.return!==null&&(Lo(t,1),xR(t,1,0))}function h_(t){for(;t===ih;)ih=ca[--da],ca[da]=null,oh=ca[--da],ca[da]=null;for(;t===as;)as=ur[--cr],ur[cr]=null,ui=ur[--cr],ur[cr]=null,li=ur[--cr],ur[cr]=null}var Qn=null,Gn=null,ct=!1,Nr=null;function CR(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Gn=to(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Gn=null,!0):!1;default:return!1}}function _v(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bv(t){if(ct){var e=Gn;if(e){var n=e;if(!Lw(t,e)){if(_v(t))throw Error(q(418));e=to(n.nextSibling);var r=Qn;e&&Lw(t,e)?CR(r,n):(t.flags=t.flags&-4097|2,ct=!1,Qn=t)}}else{if(_v(t))throw Error(q(418));t.flags=t.flags&-4097|2,ct=!1,Qn=t}}}function $w(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function Vd(t){if(t!==Qn)return!1;if(!ct)return $w(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mv(t.type,t.memoizedProps)),e&&(e=Gn)){if(_v(t))throw RR(),Error(q(418));for(;e;)CR(t,e),e=to(e.nextSibling)}if($w(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=to(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Qn?to(t.stateNode.nextSibling):null;return!0}function RR(){for(var t=Gn;t;)t=to(t.nextSibling)}function ka(){Gn=Qn=null,ct=!1}function p_(t){Nr===null?Nr=[t]:Nr.push(t)}var t$=Ti.ReactCurrentBatchConfig;function Gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Fd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vw(t){var e=t._init;return e(t._payload)}function PR(t){function e(b,y){if(t){var _=b.deletions;_===null?(b.deletions=[y],b.flags|=16):_.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=oo(b,y),b.index=0,b.sibling=null,b}function o(b,y,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<y?(b.flags|=2,y):_):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,y,_,x){return y===null||y.tag!==6?(y=iy(_,b.mode,x),y.return=b,y):(y=i(y,_),y.return=b,y)}function l(b,y,_,x){var k=_.type;return k===ia?d(b,y,_.props.children,x,_.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vi&&Vw(k)===y.type)?(x=i(y,_.props),x.ref=Gl(b,y,_),x.return=b,x):(x=Ef(_.type,_.key,_.props,null,b.mode,x),x.ref=Gl(b,y,_),x.return=b,x)}function u(b,y,_,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=oy(_,b.mode,x),y.return=b,y):(y=i(y,_.children||[]),y.return=b,y)}function d(b,y,_,x,k){return y===null||y.tag!==7?(y=es(_,b.mode,x,k),y.return=b,y):(y=i(y,_),y.return=b,y)}function f(b,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=iy(""+y,b.mode,_),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rd:return _=Ef(y.type,y.key,y.props,null,b.mode,_),_.ref=Gl(b,null,y),_.return=b,_;case ra:return y=oy(y,b.mode,_),y.return=b,y;case Vi:var x=y._init;return f(b,x(y._payload),_)}if(du(y)||Bl(y))return y=es(y,b.mode,_,null),y.return=b,y;Fd(b,y)}return null}function h(b,y,_,x){var k=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(b,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rd:return _.key===k?l(b,y,_,x):null;case ra:return _.key===k?u(b,y,_,x):null;case Vi:return k=_._init,h(b,y,k(_._payload),x)}if(du(_)||Bl(_))return k!==null?null:d(b,y,_,x,null);Fd(b,_)}return null}function m(b,y,_,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(_)||null,a(y,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rd:return b=b.get(x.key===null?_:x.key)||null,l(y,b,x,k);case ra:return b=b.get(x.key===null?_:x.key)||null,u(y,b,x,k);case Vi:var O=x._init;return m(b,y,_,O(x._payload),k)}if(du(x)||Bl(x))return b=b.get(_)||null,d(y,b,x,k,null);Fd(y,x)}return null}function g(b,y,_,x){for(var k=null,O=null,S=y,w=y=0,C=null;S!==null&&w<_.length;w++){S.index>w?(C=S,S=null):C=S.sibling;var R=h(b,S,_[w],x);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(b,S),y=o(R,y,w),O===null?k=R:O.sibling=R,O=R,S=C}if(w===_.length)return n(b,S),ct&&Lo(b,w),k;if(S===null){for(;w<_.length;w++)S=f(b,_[w],x),S!==null&&(y=o(S,y,w),O===null?k=S:O.sibling=S,O=S);return ct&&Lo(b,w),k}for(S=r(b,S);w<_.length;w++)C=m(S,b,w,_[w],x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?w:C.key),y=o(C,y,w),O===null?k=C:O.sibling=C,O=C);return t&&S.forEach(function(D){return e(b,D)}),ct&&Lo(b,w),k}function v(b,y,_,x){var k=Bl(_);if(typeof k!="function")throw Error(q(150));if(_=k.call(_),_==null)throw Error(q(151));for(var O=k=null,S=y,w=y=0,C=null,R=_.next();S!==null&&!R.done;w++,R=_.next()){S.index>w?(C=S,S=null):C=S.sibling;var D=h(b,S,R.value,x);if(D===null){S===null&&(S=C);break}t&&S&&D.alternate===null&&e(b,S),y=o(D,y,w),O===null?k=D:O.sibling=D,O=D,S=C}if(R.done)return n(b,S),ct&&Lo(b,w),k;if(S===null){for(;!R.done;w++,R=_.next())R=f(b,R.value,x),R!==null&&(y=o(R,y,w),O===null?k=R:O.sibling=R,O=R);return ct&&Lo(b,w),k}for(S=r(b,S);!R.done;w++,R=_.next())R=m(S,b,w,R.value,x),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),y=o(R,y,w),O===null?k=R:O.sibling=R,O=R);return t&&S.forEach(function(M){return e(b,M)}),ct&&Lo(b,w),k}function I(b,y,_,x){if(typeof _=="object"&&_!==null&&_.type===ia&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Rd:e:{for(var k=_.key,O=y;O!==null;){if(O.key===k){if(k=_.type,k===ia){if(O.tag===7){n(b,O.sibling),y=i(O,_.props.children),y.return=b,b=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vi&&Vw(k)===O.type){n(b,O.sibling),y=i(O,_.props),y.ref=Gl(b,O,_),y.return=b,b=y;break e}n(b,O);break}else e(b,O);O=O.sibling}_.type===ia?(y=es(_.props.children,b.mode,x,_.key),y.return=b,b=y):(x=Ef(_.type,_.key,_.props,null,b.mode,x),x.ref=Gl(b,y,_),x.return=b,b=x)}return s(b);case ra:e:{for(O=_.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(b,y.sibling),y=i(y,_.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=oy(_,b.mode,x),y.return=b,b=y}return s(b);case Vi:return O=_._init,I(b,y,O(_._payload),x)}if(du(_))return g(b,y,_,x);if(Bl(_))return v(b,y,_,x);Fd(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,_),y.return=b,b=y):(n(b,y),y=iy(_,b.mode,x),y.return=b,b=y),s(b)):n(b,y)}return I}var Da=PR(!0),AR=PR(!1),sh=wo(null),ah=null,fa=null,m_=null;function g_(){m_=fa=ah=null}function y_(t){var e=sh.current;lt(sh),t._currentValue=e}function Ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){ah=t,m_=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(m_!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(ah===null)throw Error(q(308));fa=t,ah.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var Qo=null;function v_(t){Qo===null?Qo=[t]:Qo.push(t)}function kR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,v_(e)):(n.next=i.next,i.next=n),e.interleaved=n,vi(t,r)}function vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function __(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vi(t,n)}return i=r.interleaved,i===null?(e.next=e,v_(r)):(e.next=i.next,i.next=e),r.interleaved=e,vi(t,n)}function mf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i_(t,n)}}function Fw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lh(t,e,n,r){var i=t.updateQueue;Fi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=yt({},f,h);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);us|=s,t.lanes=s,t.memoizedState=f}}function Bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var jc={},Yr=wo(jc),tc=wo(jc),nc=wo(jc);function Yo(t){if(t===jc)throw Error(q(174));return t}function b_(t,e){switch(tt(nc,e),tt(tc,t),tt(Yr,jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tv(e,t)}lt(Yr),tt(Yr,e)}function Na(){lt(Yr),lt(tc),lt(nc)}function NR(t){Yo(nc.current);var e=Yo(Yr.current),n=tv(e,t.type);e!==n&&(tt(tc,t),tt(Yr,n))}function E_(t){tc.current===t&&(lt(Yr),lt(tc))}var ht=wo(0);function uh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jg=[];function w_(){for(var t=0;t<Jg.length;t++)Jg[t]._workInProgressVersionPrimary=null;Jg.length=0}var gf=Ti.ReactCurrentDispatcher,Zg=Ti.ReactCurrentBatchConfig,ls=0,mt=null,Nt=null,Vt=null,ch=!1,Ru=!1,rc=0,n$=0;function on(){throw Error(q(321))}function I_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function S_(t,e,n,r,i,o){if(ls=o,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?s$:a$,t=n(r,i),Ru){o=0;do{if(Ru=!1,rc=0,25<=o)throw Error(q(301));o+=1,Vt=Nt=null,e.updateQueue=null,gf.current=l$,t=n(r,i)}while(Ru)}if(gf.current=dh,e=Nt!==null&&Nt.next!==null,ls=0,Vt=Nt=mt=null,ch=!1,e)throw Error(q(300));return t}function T_(){var t=rc!==0;return rc=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?mt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function _r(){if(Nt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Vt===null?mt.memoizedState:Vt.next;if(e!==null)Vt=e,Nt=t;else{if(t===null)throw Error(q(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Vt===null?mt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ic(t,e){return typeof e=="function"?e(t):e}function ey(t){var e=_r(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((ls&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,mt.lanes|=d,us|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,mt.lanes|=o,us|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ty(t){var e=_r(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fr(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OR(){}function MR(t,e){var n=mt,r=_r(),i=e(),o=!Fr(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,x_(VR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,oc(9,$R.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(q(349));ls&30||LR(n,e,i)}return i}function LR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $R(t,e,n,r){e.value=n,e.getSnapshot=r,FR(e)&&BR(t)}function VR(t,e,n){return n(function(){FR(e)&&BR(t)})}function FR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function BR(t){var e=vi(t,1);e!==null&&$r(e,t,1,-1)}function jw(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=o$.bind(null,mt,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jR(){return _r().memoizedState}function yf(t,e,n,r){var i=Ur();mt.flags|=t,i.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function dp(t,e,n,r){var i=_r();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&I_(r,s.deps)){i.memoizedState=oc(e,n,o,r);return}}mt.flags|=t,i.memoizedState=oc(1|e,n,o,r)}function Uw(t,e){return yf(8390656,8,t,e)}function x_(t,e){return dp(2048,8,t,e)}function UR(t,e){return dp(4,2,t,e)}function zR(t,e){return dp(4,4,t,e)}function WR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GR(t,e,n){return n=n!=null?n.concat([t]):null,dp(4,4,WR.bind(null,e,t),n)}function C_(){}function qR(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HR(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KR(t,e,n){return ls&21?(Fr(n,e)||(n=ZC(),mt.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function r$(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Zg.transition;Zg.transition={};try{t(!1),e()}finally{je=n,Zg.transition=r}}function QR(){return _r().memoizedState}function i$(t,e,n){var r=io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YR(t))XR(e,n);else if(n=kR(t,e,n,r),n!==null){var i=bn();$r(n,t,r,i),JR(n,e,r)}}function o$(t,e,n){var r=io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YR(t))XR(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fr(a,s)){var l=e.interleaved;l===null?(i.next=i,v_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kR(t,e,i,r),n!==null&&(i=bn(),$r(n,t,r,i),JR(n,e,r))}}function YR(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function XR(t,e){Ru=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i_(t,n)}}var dh={readContext:vr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},s$={readContext:vr,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:Uw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yf(4194308,4,WR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var n=Ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i$.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:jw,useDebugValue:C_,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=jw(!1),e=t[0];return t=r$.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Ur();if(ct){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ft===null)throw Error(q(349));ls&30||LR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Uw(VR.bind(null,r,o,t),[t]),r.flags|=2048,oc(9,$R.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ur(),e=Ft.identifierPrefix;if(ct){var n=ui,r=li;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a$={readContext:vr,useCallback:qR,useContext:vr,useEffect:x_,useImperativeHandle:GR,useInsertionEffect:UR,useLayoutEffect:zR,useMemo:HR,useReducer:ey,useRef:jR,useState:function(){return ey(ic)},useDebugValue:C_,useDeferredValue:function(t){var e=_r();return KR(e,Nt.memoizedState,t)},useTransition:function(){var t=ey(ic)[0],e=_r().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:MR,useId:QR,unstable_isNewReconciler:!1},l$={readContext:vr,useCallback:qR,useContext:vr,useEffect:x_,useImperativeHandle:GR,useInsertionEffect:UR,useLayoutEffect:zR,useMemo:HR,useReducer:ty,useRef:jR,useState:function(){return ty(ic)},useDebugValue:C_,useDeferredValue:function(t){var e=_r();return Nt===null?e.memoizedState=t:KR(e,Nt.memoizedState,t)},useTransition:function(){var t=ty(ic)[0],e=_r().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:MR,useId:QR,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fp={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=io(t),o=pi(r,i);o.payload=e,n!=null&&(o.callback=n),e=no(t,o,i),e!==null&&($r(e,t,i,r),mf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=io(t),o=pi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=no(t,o,i),e!==null&&($r(e,t,i,r),mf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=io(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=no(t,i,r),e!==null&&($r(e,t,r,n),mf(e,t,r))}};function zw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Xu(n,r)||!Xu(i,o):!0}function ZR(t,e,n){var r=!1,i=mo,o=e.contextType;return typeof o=="object"&&o!==null?o=vr(o):(i=Ln(e)?ss:dn.current,r=e.contextTypes,o=(r=r!=null)?Aa(t,i):mo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ww(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fp.enqueueReplaceState(e,e.state,null)}function Iv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},__(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vr(o):(o=Ln(e)?ss:dn.current,i.context=Aa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fp.enqueueReplaceState(i,i.state,null),lh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=LM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ny(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function eP(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,Ov=r),Sv(t,e)},n}function tP(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Gw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=I$.bind(null,t,e,n),e.then(t,t))}function qw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,no(n,e,1))),n.lanes|=1),t)}var c$=Ti.ReactCurrentOwner,Nn=!1;function mn(t,e,n,r){e.child=t===null?AR(e,null,n,r):Da(e,t.child,n,r)}function Kw(t,e,n,r,i){n=n.render;var o=e.ref;return ba(e,i),r=S_(t,e,n,r,o,i),n=T_(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ct&&n&&f_(e),e.flags|=1,mn(t,e,r,i),e.child)}function Qw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!M_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nP(t,e,o,r,i)):(t=Ef(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(s,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=oo(o,r),t.ref=e.ref,t.return=e,e.child=t}function nP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xu(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,_i(t,e,i)}return Tv(t,e,n,r,i)}function rP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(pa,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(pa,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(pa,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(pa,zn),zn|=r;return mn(t,e,i,n),e.child}function iP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,n,r,i){var o=Ln(n)?ss:dn.current;return o=Aa(e,o),ba(e,i),n=S_(t,e,n,r,o,i),r=T_(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ct&&r&&f_(e),e.flags|=1,mn(t,e,n,i),e.child)}function Yw(t,e,n,r,i){if(Ln(n)){var o=!0;rh(e)}else o=!1;if(ba(e,i),e.stateNode===null)vf(t,e),ZR(e,n,r),Iv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Ln(n)?ss:dn.current,u=Aa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ww(e,s,r,u),Fi=!1;var h=e.memoizedState;s.state=h,lh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Mn.current||Fi?(typeof d=="function"&&(wv(e,n,d,r),l=e.memoizedState),(a=Fi||zw(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,DR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=Ln(n)?ss:dn.current,l=Aa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Ww(e,s,r,l),Fi=!1,h=e.memoizedState,s.state=h,lh(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||Mn.current||Fi?(typeof m=="function"&&(wv(e,n,m,r),g=e.memoizedState),(u=Fi||zw(e,n,u,r,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return xv(t,e,n,r,o,i)}function xv(t,e,n,r,i,o){iP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Mw(e,n,!1),_i(t,e,o);r=e.stateNode,c$.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Da(e,t.child,null,o),e.child=Da(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&Mw(e,n,!0),e.child}function oP(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),b_(t,e.containerInfo)}function Xw(t,e,n,r,i){return ka(),p_(i),e.flags|=256,mn(t,e,n,r),e.child}var Cv={dehydrated:null,treeContext:null,retryLane:0};function Rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function sP(t,e,n){var r=e.pendingProps,i=ht.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(ht,i&1),t===null)return bv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=mp(s,r,0,null),t=es(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rv(n),e.memoizedState=Cv,t):R_(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return d$(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=oo(a,o):(o=es(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Rv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Cv,r}return o=t.child,t=o.sibling,r=oo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R_(t,e){return e=mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bd(t,e,n,r){return r!==null&&p_(r),Da(e,t.child,null,n),t=R_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d$(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ny(Error(q(422))),Bd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=mp({mode:"visible",children:r.children},i,0,null),o=es(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Da(e,t.child,null,s),e.child.memoizedState=Rv(s),e.memoizedState=Cv,o);if(!(e.mode&1))return Bd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=ny(o,r,void 0),Bd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nn||a){if(r=Ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vi(t,i),$r(r,t,i,-1))}return O_(),r=ny(Error(q(421))),Bd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gn=to(i.nextSibling),Qn=e,ct=!0,Nr=null,t!==null&&(ur[cr++]=li,ur[cr++]=ui,ur[cr++]=as,li=t.id,ui=t.overflow,as=e),e=R_(e,r.children),e.flags|=4096,e)}function Jw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ev(t.return,e,n)}function ry(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jw(t,n,e);else if(t.tag===19)Jw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ry(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ry(e,!0,n,null,o);break;case"together":ry(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f$(t,e,n){switch(e.tag){case 3:oP(e),ka();break;case 5:NR(e);break;case 1:Ln(e.type)&&rh(e);break;case 4:b_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(sh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?sP(t,e,n):(tt(ht,ht.current&1),t=_i(t,e,n),t!==null?t.sibling:null);tt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,rP(t,e,n)}return _i(t,e,n)}var lP,Pv,uP,cP;lP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pv=function(){};uP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yo(Yr.current);var o=null;switch(n){case"input":i=Xy(t,i),r=Xy(t,r),o=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),o=[];break;case"textarea":i=ev(t,i),r=ev(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=th)}nv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};cP=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h$(t,e,n){var r=e.pendingProps;switch(h_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Ln(e.type)&&nh(),sn(e),null;case 3:return r=e.stateNode,Na(),lt(Mn),lt(dn),w_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nr!==null&&($v(Nr),Nr=null))),Pv(t,e),sn(e),null;case 5:E_(e);var i=Yo(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)uP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return sn(e),null}if(t=Yo(Yr.current),Vd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gr]=e,r[ec]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<hu.length;i++)st(hu[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":aw(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":uw(r,o),st("invalid",r)}nv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",""+a]):Wu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":Pd(r),lw(r,o,!0);break;case"textarea":Pd(r),cw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=th)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gr]=e,t[ec]=r,lP(t,e,!1,!1),e.stateNode=t;e:{switch(s=rv(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<hu.length;i++)st(hu[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":aw(t,r),i=Xy(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),st("invalid",t);break;case"textarea":uw(t,r),i=ev(t,r),st("invalid",t);break;default:i=r}nv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gu(t,l):typeof l=="number"&&Gu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&st("scroll",t):l!=null&&J0(t,o,l,s))}switch(n){case"input":Pd(t),lw(t,r,!1);break;case"textarea":Pd(t),cw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+po(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ga(t,!!r.multiple,o,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=th)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)cP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Yo(nc.current),Yo(Yr.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(o=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:$d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$d(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return sn(e),null;case 13:if(lt(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Gn!==null&&e.mode&1&&!(e.flags&128))RR(),ka(),e.flags|=98560,o=!1;else if(o=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Gr]=e}else ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else Nr!==null&&($v(Nr),Nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Ot===0&&(Ot=3):O_())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Na(),Pv(t,e),t===null&&Ju(e.stateNode.containerInfo),sn(e),null;case 10:return y_(e.type._context),sn(e),null;case 17:return Ln(e.type)&&nh(),sn(e),null;case 19:if(lt(ht),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ql(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uh(t),s!==null){for(e.flags|=128,ql(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ht,ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>Ma&&(e.flags|=128,r=!0,ql(o,!1),e.lanes=4194304)}else{if(!r)if(t=uh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return sn(e),null}else 2*xt()-o.renderingStartTime>Ma&&n!==1073741824&&(e.flags|=128,r=!0,ql(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ht.current,tt(ht,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return N_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function p$(t,e){switch(h_(e),e.tag){case 1:return Ln(e.type)&&nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na(),lt(Mn),lt(dn),w_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E_(e),null;case 13:if(lt(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ht),null;case 4:return Na(),null;case 10:return y_(e.type._context),null;case 22:case 23:return N_(),null;case 24:return null;default:return null}}var jd=!1,un=!1,m$=typeof WeakSet=="function"?WeakSet:Set,te=null;function ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function Av(t,e,n){try{n()}catch(r){Et(t,e,r)}}var Zw=!1;function g$(t,e){if(hv=Jf,t=mR(),d_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:t,selectionRange:n},Jf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,I=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:kr(e.type,v),I);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(x){Et(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return g=Zw,Zw=!1,g}function Pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Av(e,n,o)}i=i.next}while(i!==r)}}function hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dP(t){var e=t.alternate;e!==null&&(t.alternate=null,dP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[ec],delete e[yv],delete e[JL],delete e[ZL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fP(t){return t.tag===5||t.tag===3||t.tag===4}function eI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=th));else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var Ht=null,Dr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)hP(t,e,n),n=n.sibling}function hP(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(op,n)}catch{}switch(n.tag){case 5:un||ha(n,e);case 6:var r=Ht,i=Dr;Ht=null,Ni(t,e,n),Ht=r,Dr=i,Ht!==null&&(Dr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Dr?(t=Ht,n=n.stateNode,t.nodeType===8?Yg(t.parentNode,n):t.nodeType===1&&Yg(t,n),Qu(t)):Yg(Ht,n.stateNode));break;case 4:r=Ht,i=Dr,Ht=n.stateNode.containerInfo,Dr=!0,Ni(t,e,n),Ht=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Av(n,e,s),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!un&&(ha(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Ni(t,e,n),un=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function tI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m$),e.forEach(function(r){var i=T$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,Dr=!1;break e;case 3:Ht=a.stateNode.containerInfo,Dr=!0;break e;case 4:Ht=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(Ht===null)throw Error(q(160));hP(o,s,i),Ht=null,Dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pP(e,t),e=e.sibling}function pP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),jr(t),r&4){try{Pu(3,t,t.return),hp(3,t)}catch(v){Et(t,t.return,v)}try{Pu(5,t,t.return)}catch(v){Et(t,t.return,v)}}break;case 1:Ar(e,t),jr(t),r&512&&n!==null&&ha(n,n.return);break;case 5:if(Ar(e,t),jr(t),r&512&&n!==null&&ha(n,n.return),t.flags&32){var i=t.stateNode;try{Gu(i,"")}catch(v){Et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LC(i,o),rv(a,s);var u=rv(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?jC(i,f):d==="dangerouslySetInnerHTML"?FC(i,f):d==="children"?Gu(i,f):J0(i,d,f,u)}switch(a){case"input":Jy(i,o);break;case"textarea":$C(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ga(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?ga(i,!!o.multiple,o.defaultValue,!0):ga(i,!!o.multiple,o.multiple?[]:"",!1))}i[ec]=o}catch(v){Et(t,t.return,v)}}break;case 6:if(Ar(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Et(t,t.return,v)}}break;case 3:if(Ar(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(v){Et(t,t.return,v)}break;case 4:Ar(e,t),jr(t);break;case 13:Ar(e,t),jr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(k_=xt())),r&4&&tI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||d,Ar(e,t),un=u):Ar(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Pu(4,h,h.return);break;case 1:ha(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Et(r,n,v)}}break;case 5:ha(h,h.return);break;case 22:if(h.memoizedState!==null){rI(f);continue}}m!==null?(m.return=h,te=m):rI(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BC("display",s))}catch(v){Et(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Et(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(e,t),jr(t),r&4&&tI(t);break;case 21:break;default:Ar(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fP(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gu(i,""),r.flags&=-33);var o=eI(t);Nv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eI(t);Dv(t,a,s);break;default:throw Error(q(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y$(t,e,n){te=t,mP(t)}function mP(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=jd;var u=un;if(jd=s,(un=l)&&!u)for(te=i;te!==null;)s=te,l=s.child,s.tag===22&&s.memoizedState!==null?iI(i):l!==null?(l.return=s,te=l):iI(i);for(;o!==null;)te=o,mP(o),o=o.sibling;te=i,jd=a,un=u}nI(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):nI(t)}}function nI(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||hp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}un||e.flags&512&&kv(e)}catch(h){Et(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function rI(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function iI(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hp(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Et(e,i,l)}}var o=e.return;try{kv(e)}catch(l){Et(e,o,l)}break;case 5:var s=e.return;try{kv(e)}catch(l){Et(e,s,l)}}}catch(l){Et(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var v$=Math.ceil,fh=Ti.ReactCurrentDispatcher,P_=Ti.ReactCurrentOwner,mr=Ti.ReactCurrentBatchConfig,ke=0,Ft=null,kt=null,Xt=0,zn=0,pa=wo(0),Ot=0,sc=null,us=0,pp=0,A_=0,Au=null,Dn=null,k_=0,Ma=1/0,oi=null,hh=!1,Ov=null,ro=null,Ud=!1,Ki=null,ph=0,ku=0,Mv=null,_f=-1,bf=0;function bn(){return ke&6?xt():_f!==-1?_f:_f=xt()}function io(t){return t.mode&1?ke&2&&Xt!==0?Xt&-Xt:t$.transition!==null?(bf===0&&(bf=ZC()),bf):(t=je,t!==0||(t=window.event,t=t===void 0?16:sR(t.type)),t):1}function $r(t,e,n,r){if(50<ku)throw ku=0,Mv=null,Error(q(185));Vc(t,n,r),(!(ke&2)||t!==Ft)&&(t===Ft&&(!(ke&2)&&(pp|=n),Ot===4&&ji(t,Xt)),$n(t,r),n===1&&ke===0&&!(e.mode&1)&&(Ma=xt()+500,cp&&Io()))}function $n(t,e){var n=t.callbackNode;tL(t,e);var r=Xf(t,t===Ft?Xt:0);if(r===0)n!==null&&hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hw(n),e===1)t.tag===0?e$(oI.bind(null,t)):TR(oI.bind(null,t)),YL(function(){!(ke&6)&&Io()}),n=null;else{switch(eR(r)){case 1:n=r_;break;case 4:n=XC;break;case 16:n=Yf;break;case 536870912:n=JC;break;default:n=Yf}n=IP(n,gP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gP(t,e){if(_f=-1,bf=0,ke&6)throw Error(q(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=Xf(t,t===Ft?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mh(t,r);else{e=r;var i=ke;ke|=2;var o=vP();(Ft!==t||Xt!==e)&&(oi=null,Ma=xt()+500,Zo(t,e));do try{E$();break}catch(a){yP(t,a)}while(!0);g_(),fh.current=o,ke=i,kt!==null?e=0:(Ft=null,Xt=0,e=Ot)}if(e!==0){if(e===2&&(i=lv(t),i!==0&&(r=i,e=Lv(t,i))),e===1)throw n=sc,Zo(t,0),ji(t,r),$n(t,xt()),n;if(e===6)ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!_$(i)&&(e=mh(t,r),e===2&&(o=lv(t),o!==0&&(r=o,e=Lv(t,o))),e===1))throw n=sc,Zo(t,0),ji(t,r),$n(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:$o(t,Dn,oi);break;case 3:if(ji(t,r),(r&130023424)===r&&(e=k_+500-xt(),10<e)){if(Xf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gv($o.bind(null,t,Dn,oi),e);break}$o(t,Dn,oi);break;case 4:if(ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Lr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v$(r/1960))-r,10<r){t.timeoutHandle=gv($o.bind(null,t,Dn,oi),r);break}$o(t,Dn,oi);break;case 5:$o(t,Dn,oi);break;default:throw Error(q(329))}}}return $n(t,xt()),t.callbackNode===n?gP.bind(null,t):null}function Lv(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=mh(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&$v(e)),t}function $v(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function _$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~A_,e&=~pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function oI(t){if(ke&6)throw Error(q(327));Ea();var e=Xf(t,0);if(!(e&1))return $n(t,xt()),null;var n=mh(t,e);if(t.tag!==0&&n===2){var r=lv(t);r!==0&&(e=r,n=Lv(t,r))}if(n===1)throw n=sc,Zo(t,0),ji(t,e),$n(t,xt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,Dn,oi),$n(t,xt()),null}function D_(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Ma=xt()+500,cp&&Io())}}function cs(t){Ki!==null&&Ki.tag===0&&!(ke&6)&&Ea();var e=ke;ke|=1;var n=mr.transition,r=je;try{if(mr.transition=null,je=1,t)return t()}finally{je=r,mr.transition=n,ke=e,!(ke&6)&&Io()}}function N_(){zn=pa.current,lt(pa)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QL(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(h_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nh();break;case 3:Na(),lt(Mn),lt(dn),w_();break;case 5:E_(r);break;case 4:Na();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:y_(r.type._context);break;case 22:case 23:N_()}n=n.return}if(Ft=t,kt=t=oo(t.current,null),Xt=zn=e,Ot=0,sc=null,A_=pp=us=0,Dn=Au=null,Qo!==null){for(e=0;e<Qo.length;e++)if(n=Qo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qo=null}return t}function yP(t,e){do{var n=kt;try{if(g_(),gf.current=dh,ch){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ch=!1}if(ls=0,Vt=Nt=mt=null,Ru=!1,rc=0,P_.current=null,n===null||n.return===null){Ot=1,sc=e,kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qw(s);if(m!==null){m.flags&=-257,Hw(m,s,a,o,e),m.mode&1&&Gw(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Gw(o,u,e),O_();break e}l=Error(q(426))}}else if(ct&&a.mode&1){var I=qw(s);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Hw(I,s,a,o,e),p_(Oa(l,a));break e}}o=l=Oa(l,a),Ot!==4&&(Ot=2),Au===null?Au=[o]:Au.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=eP(o,l,e);Fw(o,b);break e;case 1:a=l;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ro===null||!ro.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=tP(o,a,e);Fw(o,x);break e}}o=o.return}while(o!==null)}bP(n)}catch(k){e=k,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function vP(){var t=fh.current;return fh.current=dh,t===null?dh:t}function O_(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ft===null||!(us&268435455)&&!(pp&268435455)||ji(Ft,Xt)}function mh(t,e){var n=ke;ke|=2;var r=vP();(Ft!==t||Xt!==e)&&(oi=null,Zo(t,e));do try{b$();break}catch(i){yP(t,i)}while(!0);if(g_(),ke=n,fh.current=r,kt!==null)throw Error(q(261));return Ft=null,Xt=0,Ot}function b$(){for(;kt!==null;)_P(kt)}function E$(){for(;kt!==null&&!qM();)_P(kt)}function _P(t){var e=wP(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?bP(t):kt=e,P_.current=null}function bP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p$(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,kt=null;return}}else if(n=h$(n,e,zn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Ot===0&&(Ot=5)}function $o(t,e,n){var r=je,i=mr.transition;try{mr.transition=null,je=1,w$(t,e,n,r)}finally{mr.transition=i,je=r}return null}function w$(t,e,n,r){do Ea();while(Ki!==null);if(ke&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nL(t,o),t===Ft&&(kt=Ft=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,IP(Yf,function(){return Ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mr.transition,mr.transition=null;var s=je;je=1;var a=ke;ke|=4,P_.current=null,g$(t,n),pP(n,t),UL(pv),Jf=!!hv,pv=hv=null,t.current=n,y$(n),HM(),ke=a,je=s,mr.transition=o}else t.current=n;if(Ud&&(Ud=!1,Ki=t,ph=i),o=t.pendingLanes,o===0&&(ro=null),YM(n.stateNode),$n(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hh)throw hh=!1,t=Ov,Ov=null,t;return ph&1&&t.tag!==0&&Ea(),o=t.pendingLanes,o&1?t===Mv?ku++:(ku=0,Mv=t):ku=0,Io(),null}function Ea(){if(Ki!==null){var t=eR(ph),e=mr.transition,n=je;try{if(mr.transition=null,je=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,ph=0,ke&6)throw Error(q(331));var i=ke;for(ke|=4,te=t.current;te!==null;){var o=te,s=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Pu(8,d,o)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(dP(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}te=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,te=s;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,te=b;break e}te=o.return}}var y=t.current;for(te=y;te!==null;){s=te;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,te=_;else e:for(s=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hp(9,a)}}catch(k){Et(a,a.return,k)}if(a===s){te=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,te=x;break e}te=a.return}}if(ke=i,Io(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(op,t)}catch{}r=!0}return r}finally{je=n,mr.transition=e}}return!1}function sI(t,e,n){e=Oa(n,e),e=eP(t,e,1),t=no(t,e,1),e=bn(),t!==null&&(Vc(t,1,e),$n(t,e))}function Et(t,e,n){if(t.tag===3)sI(t,t,n);else for(;e!==null;){if(e.tag===3){sI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ro===null||!ro.has(r))){t=Oa(n,t),t=tP(e,t,1),e=no(e,t,1),t=bn(),e!==null&&(Vc(e,1,t),$n(e,t));break}}e=e.return}}function I$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Xt&n)===n&&(Ot===4||Ot===3&&(Xt&130023424)===Xt&&500>xt()-k_?Zo(t,0):A_|=n),$n(t,e)}function EP(t,e){e===0&&(t.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var n=bn();t=vi(t,e),t!==null&&(Vc(t,e,n),$n(t,n))}function S$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EP(t,n)}function T$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),EP(t,n)}var wP;wP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,f$(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,ct&&e.flags&1048576&&xR(e,oh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vf(t,e),t=e.pendingProps;var i=Aa(e,dn.current);ba(e,n),i=S_(null,e,r,t,i,n);var o=T_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,rh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,__(e),i.updater=fp,e.stateNode=i,i._reactInternals=e,Iv(e,r,t,n),e=xv(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&f_(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C$(r),t=kr(r,t),i){case 0:e=Tv(null,e,r,t,n);break e;case 1:e=Yw(null,e,r,t,n);break e;case 11:e=Kw(null,e,r,t,n);break e;case 14:e=Qw(null,e,r,kr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Yw(t,e,r,i,n);case 3:e:{if(oP(e),t===null)throw Error(q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DR(t,e),lh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Oa(Error(q(423)),e),e=Xw(t,e,r,n,i);break e}else if(r!==i){i=Oa(Error(q(424)),e),e=Xw(t,e,r,n,i);break e}else for(Gn=to(e.stateNode.containerInfo.firstChild),Qn=e,ct=!0,Nr=null,n=AR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){e=_i(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return NR(e),t===null&&bv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,mv(r,i)?s=null:o!==null&&mv(r,o)&&(e.flags|=32),iP(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&bv(e),null;case 13:return sP(t,e,n);case 4:return b_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Kw(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tt(sh,r._currentValue),r._currentValue=s,o!==null)if(Fr(o.value,s)){if(o.children===i.children&&!Mn.current){e=_i(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ev(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ev(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ba(e,n),i=vr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),Qw(t,e,r,i,n);case 15:return nP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),vf(t,e),e.tag=1,Ln(r)?(t=!0,rh(e)):t=!1,ba(e,n),ZR(e,r,i),Iv(e,r,i,n),xv(null,e,r,!0,t,n);case 19:return aP(t,e,n);case 22:return rP(t,e,n)}throw Error(q(156,e.tag))};function IP(t,e){return YC(t,e)}function x$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new x$(t,e,n,r)}function M_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C$(t){if(typeof t=="function")return M_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===e_)return 11;if(t===t_)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ef(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")M_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ia:return es(n.children,i,o,e);case Z0:s=8,i|=8;break;case Hy:return t=fr(12,n,e,i|2),t.elementType=Hy,t.lanes=o,t;case Ky:return t=fr(13,n,e,i),t.elementType=Ky,t.lanes=o,t;case Qy:return t=fr(19,n,e,i),t.elementType=Qy,t.lanes=o,t;case NC:return mp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kC:s=10;break e;case DC:s=9;break e;case e_:s=11;break e;case t_:s=14;break e;case Vi:s=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=fr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function es(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function mp(t,e,n,r){return t=fr(22,t,r,e),t.elementType=NC,t.lanes=n,t.stateNode={isHidden:!1},t}function iy(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function oy(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function R$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fg(0),this.expirationTimes=Fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L_(t,e,n,r,i,o,s,a,l){return t=new R$(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},__(o),t}function P$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SP(t){if(!t)return mo;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Ln(n))return SR(t,n,e)}return e}function TP(t,e,n,r,i,o,s,a,l){return t=L_(n,r,!0,t,i,o,s,a,l),t.context=SP(null),n=t.current,r=bn(),i=io(n),o=pi(r,i),o.callback=e??null,no(n,o,i),t.current.lanes=i,Vc(t,i,r),$n(t,r),t}function gp(t,e,n,r){var i=e.current,o=bn(),s=io(i);return n=SP(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=no(i,e,s),t!==null&&($r(t,i,s,o),mf(t,i,s)),s}function gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $_(t,e){aI(t,e),(t=t.alternate)&&aI(t,e)}function A$(){return null}var xP=typeof reportError=="function"?reportError:function(t){console.error(t)};function V_(t){this._internalRoot=t}yp.prototype.render=V_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));gp(t,e,null,null)};yp.prototype.unmount=V_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){gp(null,t,null,null)}),e[yi]=null}};function yp(t){this._internalRoot=t}yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=rR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&oR(t)}};function F_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lI(){}function k$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=gh(s);o.call(u)}}var s=TP(e,r,t,0,null,!1,!1,"",lI);return t._reactRootContainer=s,t[yi]=s.current,Ju(t.nodeType===8?t.parentNode:t),cs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gh(l);a.call(u)}}var l=L_(t,0,!1,null,null,!1,!1,"",lI);return t._reactRootContainer=l,t[yi]=l.current,Ju(t.nodeType===8?t.parentNode:t),cs(function(){gp(e,l,n,r)}),l}function _p(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gh(s);a.call(l)}}gp(e,s,t,i)}else s=k$(n,e,t,i,r);return gh(s)}tR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fu(e.pendingLanes);n!==0&&(i_(e,n|1),$n(e,xt()),!(ke&6)&&(Ma=xt()+500,Io()))}break;case 13:cs(function(){var r=vi(t,1);if(r!==null){var i=bn();$r(r,t,1,i)}}),$_(t,1)}};o_=function(t){if(t.tag===13){var e=vi(t,134217728);if(e!==null){var n=bn();$r(e,t,134217728,n)}$_(t,134217728)}};nR=function(t){if(t.tag===13){var e=io(t),n=vi(t,e);if(n!==null){var r=bn();$r(n,t,e,r)}$_(t,e)}};rR=function(){return je};iR=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};ov=function(t,e,n){switch(e){case"input":if(Jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=up(r);if(!i)throw Error(q(90));MC(r),Jy(r,i)}}}break;case"textarea":$C(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};WC=D_;GC=cs;var D$={usingClientEntryPoint:!1,Events:[Bc,la,up,UC,zC,D_]},Hl={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N$={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KC(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||A$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{op=zd.inject(N$),Qr=zd}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D$;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F_(e))throw Error(q(200));return P$(t,e,null,n)};nr.createRoot=function(t,e){if(!F_(t))throw Error(q(299));var n=!1,r="",i=xP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L_(t,1,!1,null,null,n,!1,r,i),t[yi]=e.current,Ju(t.nodeType===8?t.parentNode:t),new V_(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=KC(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return cs(t)};nr.hydrate=function(t,e,n){if(!vp(e))throw Error(q(200));return _p(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!F_(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=xP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=TP(e,null,t,1,n??null,i,!1,o,s),t[yi]=e.current,Ju(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yp(e)};nr.render=function(t,e,n){if(!vp(e))throw Error(q(200));return _p(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!vp(t))throw Error(q(40));return t._reactRootContainer?(cs(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};nr.unstable_batchedUpdates=D_;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vp(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return _p(t,e,n,!1,r)};nr.version="18.3.1-next-f1338f8080-20240426";function CP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CP)}catch(t){console.error(t)}}CP(),CC.exports=nr;var nl=CC.exports;const pu=rp(nl);var RP,uI=nl;RP=uI.createRoot,uI.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const cI="popstate";function O$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Vv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:AP(i)}return L$(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M$(){return Math.random().toString(36).substr(2,8)}function dI(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,n,r){return n===void 0&&(n=null),ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:n,key:e&&e.key||r||M$()})}function AP(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(ac({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=Qi.Pop;let I=d(),b=I==null?null:I-u;u=I,l&&l({action:a,location:v.location,delta:b})}function h(I,b){a=Qi.Push;let y=Vv(v.location,I,b);u=d()+1;let _=dI(y,u),x=v.createHref(y);try{s.pushState(_,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(x)}o&&l&&l({action:a,location:v.location,delta:1})}function m(I,b){a=Qi.Replace;let y=Vv(v.location,I,b);u=d();let _=dI(y,u),x=v.createHref(y);s.replaceState(_,"",x),o&&l&&l({action:a,location:v.location,delta:0})}function g(I){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof I=="string"?I:AP(I);return y=y.replace(/ $/,"%20"),Mt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let v={get action(){return a},get location(){return t(i,s)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cI,f),l=I,()=>{i.removeEventListener(cI,f),l=null}},createHref(I){return e(i,I)},createURL:g,encodeLocation(I){let b=g(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(I){return s.go(I)}};return v}var fI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fI||(fI={}));function $$(t,e,n){return n===void 0&&(n="/"),V$(t,e,n,!1)}function V$(t,e,n,r){let i=typeof e=="string"?rl(e):e,o=NP(i.pathname||"/",n);if(o==null)return null;let s=kP(t);F$(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Y$(o);a=K$(s[l],u,r)}return a}function kP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ts([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kP(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:q$(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of DP(o.path))i(o,s,l)}),e}function DP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=DP(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function F$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B$=/^:[\w-]+$/,j$=3,U$=2,z$=1,W$=10,G$=-2,hI=t=>t==="*";function q$(t,e){let n=t.split("/"),r=n.length;return n.some(hI)&&(r+=G$),e&&(r+=U$),n.filter(i=>!hI(i)).reduce((i,o)=>i+(B$.test(o)?j$:o===""?z$:W$),r)}function H$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function K$(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=pI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=pI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ts([o,f.pathname]),pathnameBase:nV(ts([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ts([o,f.pathnameBase]))}return s}function pI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Q$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function X$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rl(t):t;return{pathname:n?n.startsWith("/")?n:J$(n,e):e,search:rV(r),hash:iV(i)}}function J$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eV(t,e){let n=Z$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tV(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rl(t):(i=ac({},t),Mt(!i.pathname||!i.pathname.includes("?"),sy("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),sy("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),sy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=X$(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),nV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OP=["post","put","patch","delete"];new Set(OP);const sV=["get",...OP];new Set(sV);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}const B_=T.createContext(null),aV=T.createContext(null),bp=T.createContext(null),Ep=T.createContext(null),Cs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),MP=T.createContext(null);function wp(){return T.useContext(Ep)!=null}function LP(){return wp()||Mt(!1),T.useContext(Ep).location}function $P(t){T.useContext(bp).static||T.useLayoutEffect(t)}function il(){let{isDataRoute:t}=T.useContext(Cs);return t?EV():lV()}function lV(){wp()||Mt(!1);let t=T.useContext(B_),{basename:e,future:n,navigator:r}=T.useContext(bp),{matches:i}=T.useContext(Cs),{pathname:o}=LP(),s=JSON.stringify(eV(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return $P(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=tV(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ts([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}function uV(){let{matches:t}=T.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function cV(t,e){return dV(t,e)}function dV(t,e,n,r){wp()||Mt(!1);let{navigator:i}=T.useContext(bp),{matches:o}=T.useContext(Cs),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=LP(),d;if(e){var f;let I=typeof e=="string"?rl(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||Mt(!1),d=I}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let I=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(I.length).join("/")}let g=$$(t,{pathname:m}),v=gV(g&&g.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&v?T.createElement(Ep.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qi.Pop}},v):v}function fV(){let t=bV(),e=oV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const hV=T.createElement(fV,null);class pV extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Cs.Provider,{value:this.props.routeContext},T.createElement(MP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mV(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(B_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Cs.Provider,{value:e},r)}function gV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Mt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,g=!1,v=null,I=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||hV,l&&(u<0&&h===0?(g=!0,I=null):u===h&&(g=!0,I=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),y=()=>{let _;return m?_=v:g?_=I:f.route.Component?_=T.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,T.createElement(mV,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(pV,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var VP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VP||{}),yh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yh||{});function yV(t){let e=T.useContext(B_);return e||Mt(!1),e}function vV(t){let e=T.useContext(aV);return e||Mt(!1),e}function _V(t){let e=T.useContext(Cs);return e||Mt(!1),e}function FP(t){let e=_V(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function bV(){var t;let e=T.useContext(MP),n=vV(yh.UseRouteError),r=FP(yh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EV(){let{router:t}=yV(VP.UseNavigateStable),e=FP(yh.UseNavigateStable),n=T.useRef(!1);return $P(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lc({fromRouteId:e},o)))},[t,e])}function Ys(t){Mt(!1)}function wV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:o,static:s=!1,future:a}=t;wp()&&Mt(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:o,static:s,future:lc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=rl(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,v=T.useMemo(()=>{let I=NP(d,l);return I==null?null:{location:{pathname:I,search:f,hash:h,state:m,key:g},navigationType:i}},[l,d,f,h,m,g,i]);return v==null?null:T.createElement(bp.Provider,{value:u},T.createElement(Ep.Provider,{children:n,value:v}))}function IV(t){let{children:e,location:n}=t;return cV(Fv(e),n)}new Promise(()=>{});function Fv(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Fv(r.props.children,o));return}r.type!==Ys&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SV="6";try{window.__reactRouterVersion=SV}catch{}const TV="startTransition",mI=qf[TV];function xV(t){let{basename:e,children:n,future:r,window:i}=t,o=T.useRef();o.current==null&&(o.current=O$({window:i,v5Compat:!0}));let s=o.current,[a,l]=T.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=T.useCallback(f=>{u&&mI?mI(()=>l(f)):l(f)},[l,u]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(wV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var gI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gI||(gI={}));var yI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yI||(yI={}));function BP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BP(t))&&(r&&(r+=" "),r+=e);return r}const uc=t=>typeof t=="number"&&!isNaN(t),ns=t=>typeof t=="string",qn=t=>typeof t=="function",wf=t=>ns(t)||qn(t)?t:null,Bv=t=>T.isValidElement(t)||ns(t)||qn(t)||uc(t);function CV(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Ip(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(s){let{children:a,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:h,playToast:m}=s;const g=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,I=T.useRef(0);return T.useLayoutEffect(()=>{const b=f.current,y=g.split(" "),_=x=>{x.target===f.current&&(m(),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),I.current===0&&x.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),T.useEffect(()=>{const b=f.current,y=()=>{b.removeEventListener("animationend",y),i?CV(b,d,o):d()};h||(u?y():(I.current=1,b.className+=` ${v}`,b.addEventListener("animationend",y)))},[h]),ee.createElement(ee.Fragment,null,a)}}function vI(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const yn=new Map;let cc=[];const jv=new Set,RV=t=>jv.forEach(e=>e(t)),jP=()=>yn.size>0;function UP(t,e){var n;if(e)return!((n=yn.get(e))==null||!n.isToastActive(t));let r=!1;return yn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function zP(t,e){Bv(t)&&(jP()||cc.push({content:t,options:e}),yn.forEach(n=>{n.buildToast(t,e)}))}function _I(t,e){yn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function PV(t){const{subscribe:e,getSnapshot:n,setProps:r}=T.useRef(function(o){const s=o.containerId||1;return{subscribe(a){const l=function(d,f,h){let m=1,g=0,v=[],I=[],b=[],y=f;const _=new Map,x=new Set,k=()=>{b=Array.from(_.values()),x.forEach(w=>w())},O=w=>{I=w==null?[]:I.filter(C=>C!==w),k()},S=w=>{const{toastId:C,onOpen:R,updateId:D,children:M}=w.props,A=D==null;w.staleId&&_.delete(w.staleId),_.set(C,w),I=[...I,w.props.toastId].filter(z=>z!==w.staleId),k(),h(vI(w,A?"added":"updated")),A&&qn(R)&&R(T.isValidElement(M)&&M.props)};return{id:d,props:y,observe:w=>(x.add(w),()=>x.delete(w)),toggle:(w,C)=>{_.forEach(R=>{C!=null&&C!==R.props.toastId||qn(R.toggle)&&R.toggle(w)})},removeToast:O,toasts:_,clearQueue:()=>{g-=v.length,v=[]},buildToast:(w,C)=>{if((ne=>{let{containerId:re,toastId:oe,updateId:me}=ne;const ye=re?re!==d:d!==1,Ae=_.has(oe)&&me==null;return ye||Ae})(C))return;const{toastId:R,updateId:D,data:M,staleId:A,delay:z}=C,U=()=>{O(R)},Q=D==null;Q&&g++;const K={...y,style:y.toastStyle,key:m++,...Object.fromEntries(Object.entries(C).filter(ne=>{let[re,oe]=ne;return oe!=null})),toastId:R,updateId:D,data:M,closeToast:U,isIn:!1,className:wf(C.className||y.toastClassName),bodyClassName:wf(C.bodyClassName||y.bodyClassName),progressClassName:wf(C.progressClassName||y.progressClassName),autoClose:!C.isLoading&&(F=C.autoClose,W=y.autoClose,F===!1||uc(F)&&F>0?F:W),deleteToast(){const ne=_.get(R),{onClose:re,children:oe}=ne.props;qn(re)&&re(T.isValidElement(oe)&&oe.props),h(vI(ne,"removed")),_.delete(R),g--,g<0&&(g=0),v.length>0?S(v.shift()):k()}};var F,W;K.closeButton=y.closeButton,C.closeButton===!1||Bv(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=!Bv(y.closeButton)||y.closeButton);let X=w;T.isValidElement(w)&&!ns(w.type)?X=T.cloneElement(w,{closeToast:U,toastProps:K,data:M}):qn(w)&&(X=w({closeToast:U,toastProps:K,data:M}));const he={content:X,props:K,staleId:A};y.limit&&y.limit>0&&g>y.limit&&Q?v.push(he):uc(z)?setTimeout(()=>{S(he)},z):S(he)},setProps(w){y=w},setToggle:(w,C)=>{_.get(w).toggle=C},isToastActive:w=>I.some(C=>C===w),getSnapshot:()=>y.newestOnTop?b.reverse():b}}(s,o,RV);yn.set(s,l);const u=l.observe(a);return cc.forEach(d=>zP(d.content,d.options)),cc=[],()=>{u(),yn.delete(s)}},setProps(a){var l;(l=yn.get(s))==null||l.setProps(a)},getSnapshot(){var a;return(a=yn.get(s))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=T.useSyncExternalStore(e,n,n);return{getToastToRender:function(o){if(!i)return[];const s=new Map;return i.forEach(a=>{const{position:l}=a.props;s.has(l)||s.set(l,[]),s.get(l).push(a)}),Array.from(s,a=>o(a[0],a[1]))},isToastActive:UP,count:i==null?void 0:i.length}}function AV(t){const[e,n]=T.useState(!1),[r,i]=T.useState(!1),o=T.useRef(null),s=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:f}=t;var h,m;function g(){n(!0)}function v(){n(!1)}function I(_){const x=o.current;s.canDrag&&x&&(s.didMove=!0,e&&v(),s.delta=t.draggableDirection==="x"?_.clientX-s.start:_.clientY-s.start,s.start!==_.clientX&&(s.canCloseOnClick=!1),x.style.transform=`translate3d(${t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",b);const _=o.current;if(s.canDrag&&s.didMove&&_){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(m=yn.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||m.setToggle(h.id,h.fn),T.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){s.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",b);const x=o.current;s.canCloseOnClick=!0,s.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(s.start=_.clientX,s.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(s.start=_.clientY,s.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:x,bottom:k,left:O,right:S}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=O&&_.clientX<=S&&_.clientY>=x&&_.clientY<=k?v():g()}};return a&&l&&(y.onMouseEnter=v,t.stacked||(y.onMouseLeave=g)),f&&(y.onClick=_=>{d&&d(_),s.canCloseOnClick&&u()}),{playToast:g,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:y}}function kV(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:h}=t;const m=o||l&&u===0,g={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(g.transform=`scaleX(${u})`);const v=fe("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),I=qn(s)?s({rtl:d,type:i,defaultClassName:v}):fe(v,s),b={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&r()}};return ee.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},ee.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),ee.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:I,style:g,...b}))}let DV=1;const WP=()=>""+DV++;function NV(t){return t&&(ns(t.toastId)||uc(t.toastId))?t.toastId:WP()}function Du(t,e){return zP(t,e),e.toastId}function vh(t,e){return{...e,type:e&&e.type||t,toastId:NV(e)}}function Wd(t){return(e,n)=>Du(e,vh(t,n))}function Fe(t,e){return Du(t,vh("default",e))}Fe.loading=(t,e)=>Du(t,vh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Fe.promise=function(t,e,n){let r,{pending:i,error:o,success:s}=e;i&&(r=ns(i)?Fe.loading(i,n):Fe.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,h)=>{if(f==null)return void Fe.dismiss(r);const m={type:d,...a,...n,data:h},g=ns(f)?{render:f}:f;return r?Fe.update(r,{...m,...g}):Fe(g.render,{...m,...g}),h},u=qn(t)?t():t;return u.then(d=>l("success",s,d)).catch(d=>l("error",o,d)),u},Fe.success=Wd("success"),Fe.info=Wd("info"),Fe.error=Wd("error"),Fe.warning=Wd("warning"),Fe.warn=Fe.warning,Fe.dark=(t,e)=>Du(t,vh("default",{theme:"dark",...e})),Fe.dismiss=function(t){(function(e){var n;if(jP()){if(e==null||ns(n=e)||uc(n))yn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=yn.get(e.containerId);r?r.removeToast(e.id):yn.forEach(i=>{i.removeToast(e.id)})}}else cc=cc.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Fe.clearWaitingQueue=function(t){t===void 0&&(t={}),yn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Fe.isActive=UP,Fe.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var o;let{containerId:s}=i;return(o=yn.get(s||1))==null?void 0:o.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:WP()};o.toastId!==t&&(o.staleId=t);const s=o.render||i;delete o.render,Du(s,o)}},Fe.done=t=>{Fe.update(t,{progress:1})},Fe.onChange=function(t){return jv.add(t),()=>{jv.delete(t)}},Fe.play=t=>_I(!0,t),Fe.pause=t=>_I(!1,t);const OV=typeof window<"u"?T.useLayoutEffect:T.useEffect,Gd=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},ay={info:function(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ee.createElement("div",{className:"Toastify__spinner"})}},MV=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=AV(t),{closeButton:s,children:a,autoClose:l,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:m,position:g,className:v,style:I,bodyClassName:b,bodyStyle:y,progressClassName:_,progressStyle:x,updateId:k,role:O,progress:S,rtl:w,toastId:C,deleteToast:R,isIn:D,isLoading:M,closeOnClick:A,theme:z}=t,U=fe("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":A}),Q=qn(v)?v({rtl:w,position:g,type:d,defaultClassName:U}):fe(U,v),K=function(he){let{theme:ne,type:re,isLoading:oe,icon:me}=he,ye=null;const Ae={theme:ne,type:re};return me===!1||(qn(me)?ye=me({...Ae,isLoading:oe}):T.isValidElement(me)?ye=T.cloneElement(me,Ae):oe?ye=ay.spinner():(St=>St in ay)(re)&&(ye=ay[re](Ae))),ye}(t),F=!!S||!l,W={closeToast:h,type:d,theme:z};let X=null;return s===!1||(X=qn(s)?s(W):T.isValidElement(s)?T.cloneElement(s,W):function(he){let{closeToast:ne,theme:re,ariaLabel:oe="close"}=he;return ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:me=>{me.stopPropagation(),ne(me)},"aria-label":oe},ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(W)),ee.createElement(m,{isIn:D,done:R,position:g,preventExitTransition:n,nodeRef:r,playToast:o},ee.createElement("div",{id:C,onClick:u,"data-in":D,className:Q,...i,style:I,ref:r},ee.createElement("div",{...D&&{role:O},className:qn(b)?b({type:d}):fe("Toastify__toast-body",b),style:y},K!=null&&ee.createElement("div",{className:fe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},K),ee.createElement("div",null,a)),X,ee.createElement(kV,{...k&&!F?{key:`pb-${k}`}:{},rtl:w,theme:z,delay:l,isRunning:e,isIn:D,closeToast:h,hide:f,type:d,style:x,className:_,controlledProgress:F,progress:S||0})))},Sp=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},LV=Ip(Sp("bounce",!0));Ip(Sp("slide",!0));Ip(Sp("zoom"));Ip(Sp("flip"));const $V={position:"top-right",transition:LV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function VV(t){let e={...$V,...t};const n=t.stacked,[r,i]=T.useState(!0),o=T.useRef(null),{getToastToRender:s,isToastActive:a,count:l}=PV(e),{className:u,style:d,rtl:f,containerId:h}=e;function m(v){const I=fe("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return qn(u)?u({position:v,rtl:f,defaultClassName:I}):fe(I,wf(u))}function g(){n&&(i(!0),Fe.play())}return OV(()=>{if(n){var v;const I=o.current.querySelectorAll('[data-in="true"]'),b=12,y=(v=e.position)==null?void 0:v.includes("top");let _=0,x=0;Array.from(I).reverse().forEach((k,O)=>{const S=k;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=y?"top":"bot");const w=_*(r?.2:1)+(r?0:b*O);S.style.setProperty("--y",`${y?w:-1*w}px`),S.style.setProperty("--g",`${b}`),S.style.setProperty("--s",""+(1-(r?x:0))),_+=S.offsetHeight,x+=.025})}},[r,l,n]),ee.createElement("div",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),Fe.pause())},onMouseLeave:g},s((v,I)=>{const b=I.length?{...d}:{...d,pointerEvents:"none"};return ee.createElement("div",{className:m(v),style:b,key:`container-${v}`},I.map(y=>{let{content:_,props:x}=y;return ee.createElement(MV,{...x,stacked:n,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},_)}))}))}var bI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new BV;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jV=function(t){const e=GP(t);return qP.encodeByteArray(e,!0)},HP=function(t){return jV(t).replace(/\./g,"")},KP=function(t){try{return qP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=()=>UV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof bI>"u")return;const t=bI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KP(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return zV()||WV()||GV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qV=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QP=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config},YP=t=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function QV(){var t;const e=(t=Tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JV(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XP(){return!QV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JP(){try{return typeof indexedDB=="object"}catch{return!1}}function ZV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eF,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xi(i,a,r)}}function tF(t,e){return t.replace(nF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nF=/\{\$([^}]+)}/g;function rF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(EI(o)&&EI(s)){if(!dc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iF(t,e){const n=new oF(t,e);return n.subscribe.bind(n)}class oF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ly),i.error===void 0&&(i.error=ly),i.complete===void 0&&(i.complete=ly);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lF(t){return t===Vo?void 0:t}function uF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const dF={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},fF=xe.INFO,hF={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},pF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j_{constructor(e){this.name=e,this._logLevel=fF,this._logHandler=pF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const mF=(t,e)=>e.some(n=>t instanceof n);let wI,II;function gF(){return wI||(wI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yF(){return II||(II=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,Uv=new WeakMap,eA=new WeakMap,uy=new WeakMap,U_=new WeakMap;function vF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(so(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ZP.set(n,t)}).catch(()=>{}),U_.set(e,t),e}function _F(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Uv.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bF(t){zv=t(zv)}function EF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return eA.set(r,e.sort?e.sort():[e]),so(r)}:yF().includes(t)?function(...e){return t.apply(cy(this),e),so(ZP.get(this))}:function(...e){return so(t.apply(cy(this),e))}}function wF(t){return typeof t=="function"?EF(t):(t instanceof IDBTransaction&&_F(t),mF(t,gF())?new Proxy(t,zv):t)}function so(t){if(t instanceof IDBRequest)return vF(t);if(uy.has(t))return uy.get(t);const e=wF(t);return e!==t&&(uy.set(t,e),U_.set(e,t)),e}const cy=t=>U_.get(t);function IF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=so(s);return r&&s.addEventListener("upgradeneeded",l=>{r(so(s.result),l.oldVersion,l.newVersion,so(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const SF=["get","getKey","getAll","getAllKeys","count"],TF=["put","add","delete","clear"],dy=new Map;function SI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SF.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dy.set(e,o),o}bF(t=>({...t,get:(e,n,r)=>SI(e,n)||t.get(e,n,r),has:(e,n)=>!!SI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",TI="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new j_("@firebase/app"),RF="@firebase/app-compat",PF="@firebase/analytics-compat",AF="@firebase/analytics",kF="@firebase/app-check-compat",DF="@firebase/app-check",NF="@firebase/auth",OF="@firebase/auth-compat",MF="@firebase/database",LF="@firebase/database-compat",$F="@firebase/functions",VF="@firebase/functions-compat",FF="@firebase/installations",BF="@firebase/installations-compat",jF="@firebase/messaging",UF="@firebase/messaging-compat",zF="@firebase/performance",WF="@firebase/performance-compat",GF="@firebase/remote-config",qF="@firebase/remote-config-compat",HF="@firebase/storage",KF="@firebase/storage-compat",QF="@firebase/firestore",YF="@firebase/vertexai-preview",XF="@firebase/firestore-compat",JF="firebase",ZF="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="[DEFAULT]",e4={[Wv]:"fire-core",[RF]:"fire-core-compat",[AF]:"fire-analytics",[PF]:"fire-analytics-compat",[DF]:"fire-app-check",[kF]:"fire-app-check-compat",[NF]:"fire-auth",[OF]:"fire-auth-compat",[MF]:"fire-rtdb",[LF]:"fire-rtdb-compat",[$F]:"fire-fn",[VF]:"fire-fn-compat",[FF]:"fire-iid",[BF]:"fire-iid-compat",[jF]:"fire-fcm",[UF]:"fire-fcm-compat",[zF]:"fire-perf",[WF]:"fire-perf-compat",[GF]:"fire-rc",[qF]:"fire-rc-compat",[HF]:"fire-gcs",[KF]:"fire-gcs-compat",[QF]:"fire-fst",[XF]:"fire-fst-compat",[YF]:"fire-vertex","fire-js":"fire-js",[JF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,t4=new Map,qv=new Map;function xI(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if(qv.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(const n of _h.values())xI(n,t);for(const n of t4.values())xI(n,t);return!0}function z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Uc("app","Firebase",n4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=ZF;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=QP()),!n)throw ao.create("no-options");const o=_h.get(i);if(o){if(dc(n,o.options)&&dc(r,o.config))return o;throw ao.create("duplicate-app",{appName:i})}const s=new cF(i);for(const l of qv.values())s.addComponent(l);const a=new r4(n,r,s);return _h.set(i,a),a}function i4(t=Gv){const e=_h.get(t);if(!e&&t===Gv&&QP())return tA();if(!e)throw ao.create("no-app",{appName:t});return e}function lo(t,e,n){var r;let i=(r=e4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}La(new ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-heartbeat-database",s4=1,fc="firebase-heartbeat-store";let fy=null;function nA(){return fy||(fy=IF(o4,s4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),fy}async function a4(t){try{const n=(await nA()).transaction(fc),r=await n.objectStore(fc).get(rA(t));return await n.done,r}catch(e){if(e instanceof xi)fs.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function CI(t,e){try{const r=(await nA()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,rA(t)),await r.done}catch(n){if(n instanceof xi)fs.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=1024,u4=30*24*60*60*1e3;class c4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=u4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RI(),{heartbeatsToSend:r,unsentEntries:i}=d4(this._heartbeatsCache.heartbeats),o=HP(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function RI(){return new Date().toISOString().substring(0,10)}function d4(t,e=l4){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JP()?ZV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PI(t){return HP(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){La(new ds("platform-logger",e=>new xF(e),"PRIVATE")),La(new ds("heartbeat",e=>new c4(e),"PRIVATE")),lo(Wv,TI,t),lo(Wv,TI,"esm2017"),lo("fire-js","")}h4("");var p4="firebase",m4="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(p4,m4,"app");var AI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,iA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function C(){}C.prototype=w.prototype,S.D=w.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(R,D,M){for(var A=Array(arguments.length-2),z=2;z<arguments.length;z++)A[z-2]=arguments[z];return w.prototype[D].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,C){C||(C=0);var R=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)R[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;16>D;++D)R[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=S.g[0],C=S.g[1],D=S.g[2];var M=S.g[3],A=w+(M^C&(D^M))+R[0]+3614090360&4294967295;w=C+(A<<7&4294967295|A>>>25),A=M+(D^w&(C^D))+R[1]+3905402710&4294967295,M=w+(A<<12&4294967295|A>>>20),A=D+(C^M&(w^C))+R[2]+606105819&4294967295,D=M+(A<<17&4294967295|A>>>15),A=C+(w^D&(M^w))+R[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=w+(M^C&(D^M))+R[4]+4118548399&4294967295,w=C+(A<<7&4294967295|A>>>25),A=M+(D^w&(C^D))+R[5]+1200080426&4294967295,M=w+(A<<12&4294967295|A>>>20),A=D+(C^M&(w^C))+R[6]+2821735955&4294967295,D=M+(A<<17&4294967295|A>>>15),A=C+(w^D&(M^w))+R[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=w+(M^C&(D^M))+R[8]+1770035416&4294967295,w=C+(A<<7&4294967295|A>>>25),A=M+(D^w&(C^D))+R[9]+2336552879&4294967295,M=w+(A<<12&4294967295|A>>>20),A=D+(C^M&(w^C))+R[10]+4294925233&4294967295,D=M+(A<<17&4294967295|A>>>15),A=C+(w^D&(M^w))+R[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=w+(M^C&(D^M))+R[12]+1804603682&4294967295,w=C+(A<<7&4294967295|A>>>25),A=M+(D^w&(C^D))+R[13]+4254626195&4294967295,M=w+(A<<12&4294967295|A>>>20),A=D+(C^M&(w^C))+R[14]+2792965006&4294967295,D=M+(A<<17&4294967295|A>>>15),A=C+(w^D&(M^w))+R[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=w+(D^M&(C^D))+R[1]+4129170786&4294967295,w=C+(A<<5&4294967295|A>>>27),A=M+(C^D&(w^C))+R[6]+3225465664&4294967295,M=w+(A<<9&4294967295|A>>>23),A=D+(w^C&(M^w))+R[11]+643717713&4294967295,D=M+(A<<14&4294967295|A>>>18),A=C+(M^w&(D^M))+R[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=w+(D^M&(C^D))+R[5]+3593408605&4294967295,w=C+(A<<5&4294967295|A>>>27),A=M+(C^D&(w^C))+R[10]+38016083&4294967295,M=w+(A<<9&4294967295|A>>>23),A=D+(w^C&(M^w))+R[15]+3634488961&4294967295,D=M+(A<<14&4294967295|A>>>18),A=C+(M^w&(D^M))+R[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=w+(D^M&(C^D))+R[9]+568446438&4294967295,w=C+(A<<5&4294967295|A>>>27),A=M+(C^D&(w^C))+R[14]+3275163606&4294967295,M=w+(A<<9&4294967295|A>>>23),A=D+(w^C&(M^w))+R[3]+4107603335&4294967295,D=M+(A<<14&4294967295|A>>>18),A=C+(M^w&(D^M))+R[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=w+(D^M&(C^D))+R[13]+2850285829&4294967295,w=C+(A<<5&4294967295|A>>>27),A=M+(C^D&(w^C))+R[2]+4243563512&4294967295,M=w+(A<<9&4294967295|A>>>23),A=D+(w^C&(M^w))+R[7]+1735328473&4294967295,D=M+(A<<14&4294967295|A>>>18),A=C+(M^w&(D^M))+R[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=w+(C^D^M)+R[5]+4294588738&4294967295,w=C+(A<<4&4294967295|A>>>28),A=M+(w^C^D)+R[8]+2272392833&4294967295,M=w+(A<<11&4294967295|A>>>21),A=D+(M^w^C)+R[11]+1839030562&4294967295,D=M+(A<<16&4294967295|A>>>16),A=C+(D^M^w)+R[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=w+(C^D^M)+R[1]+2763975236&4294967295,w=C+(A<<4&4294967295|A>>>28),A=M+(w^C^D)+R[4]+1272893353&4294967295,M=w+(A<<11&4294967295|A>>>21),A=D+(M^w^C)+R[7]+4139469664&4294967295,D=M+(A<<16&4294967295|A>>>16),A=C+(D^M^w)+R[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=w+(C^D^M)+R[13]+681279174&4294967295,w=C+(A<<4&4294967295|A>>>28),A=M+(w^C^D)+R[0]+3936430074&4294967295,M=w+(A<<11&4294967295|A>>>21),A=D+(M^w^C)+R[3]+3572445317&4294967295,D=M+(A<<16&4294967295|A>>>16),A=C+(D^M^w)+R[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=w+(C^D^M)+R[9]+3654602809&4294967295,w=C+(A<<4&4294967295|A>>>28),A=M+(w^C^D)+R[12]+3873151461&4294967295,M=w+(A<<11&4294967295|A>>>21),A=D+(M^w^C)+R[15]+530742520&4294967295,D=M+(A<<16&4294967295|A>>>16),A=C+(D^M^w)+R[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=w+(D^(C|~M))+R[0]+4096336452&4294967295,w=C+(A<<6&4294967295|A>>>26),A=M+(C^(w|~D))+R[7]+1126891415&4294967295,M=w+(A<<10&4294967295|A>>>22),A=D+(w^(M|~C))+R[14]+2878612391&4294967295,D=M+(A<<15&4294967295|A>>>17),A=C+(M^(D|~w))+R[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=w+(D^(C|~M))+R[12]+1700485571&4294967295,w=C+(A<<6&4294967295|A>>>26),A=M+(C^(w|~D))+R[3]+2399980690&4294967295,M=w+(A<<10&4294967295|A>>>22),A=D+(w^(M|~C))+R[10]+4293915773&4294967295,D=M+(A<<15&4294967295|A>>>17),A=C+(M^(D|~w))+R[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=w+(D^(C|~M))+R[8]+1873313359&4294967295,w=C+(A<<6&4294967295|A>>>26),A=M+(C^(w|~D))+R[15]+4264355552&4294967295,M=w+(A<<10&4294967295|A>>>22),A=D+(w^(M|~C))+R[6]+2734768916&4294967295,D=M+(A<<15&4294967295|A>>>17),A=C+(M^(D|~w))+R[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=w+(D^(C|~M))+R[4]+4149444226&4294967295,w=C+(A<<6&4294967295|A>>>26),A=M+(C^(w|~D))+R[11]+3174756917&4294967295,M=w+(A<<10&4294967295|A>>>22),A=D+(w^(M|~C))+R[2]+718787259&4294967295,D=M+(A<<15&4294967295|A>>>17),A=C+(M^(D|~w))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var C=w-this.blockSize,R=this.B,D=this.h,M=0;M<w;){if(D==0)for(;M<=C;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<w;)if(R[D++]=S.charCodeAt(M++),D==this.blockSize){i(this,R),D=0;break}}else for(;M<w;)if(R[D++]=S[M++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var C=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=C&255,C/=256;for(this.u(S),S=Array(16),w=C=0;4>w;++w)for(var R=0;32>R;R+=8)S[C++]=this.g[w]>>>R&255;return S};function o(S,w){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=w(S)}function s(S,w){this.h=w;for(var C=[],R=!0,D=S.length-1;0<=D;D--){var M=S[D]|0;R&&M==w||(C[D]=M,R=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?o(S,function(w){return new s([w|0],0>w?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return I(u(-S));for(var w=[],C=1,R=0;S>=C;R++)w[R]=S/C|0,C*=4294967296;return new s(w,0)}function d(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return I(d(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(w,8)),R=f,D=0;D<S.length;D+=8){var M=Math.min(8,S.length-D),A=parseInt(S.substring(D,D+M),w);8>M?(M=u(Math.pow(w,M)),R=R.j(M).add(u(A))):(R=R.j(C),R=R.add(u(A)))}return R}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-I(this).m();for(var S=0,w=1,C=0;C<this.g.length;C++){var R=this.i(C);S+=(0<=R?R:4294967296+R)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(v(this))return"-"+I(this).toString(S);for(var w=u(Math.pow(S,6)),C=this,R="";;){var D=x(C,w).g;C=b(C,D.j(w));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=D,g(C))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=b(this,S),v(S)?-1:g(S)?0:1};function I(S){for(var w=S.g.length,C=[],R=0;R<w;R++)C[R]=~S.g[R];return new s(C,~S.h).add(h)}t.abs=function(){return v(this)?I(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],R=0,D=0;D<=w;D++){var M=R+(this.i(D)&65535)+(S.i(D)&65535),A=(M>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=A>>>16,M&=65535,A&=65535,C[D]=A<<16|M}return new s(C,C[C.length-1]&-2147483648?-1:0)};function b(S,w){return S.add(I(w))}t.j=function(S){if(g(this)||g(S))return f;if(v(this))return v(S)?I(this).j(I(S)):I(I(this).j(S));if(v(S))return I(this.j(I(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var w=this.g.length+S.g.length,C=[],R=0;R<2*w;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<S.g.length;D++){var M=this.i(R)>>>16,A=this.i(R)&65535,z=S.i(D)>>>16,U=S.i(D)&65535;C[2*R+2*D]+=A*U,y(C,2*R+2*D),C[2*R+2*D+1]+=M*U,y(C,2*R+2*D+1),C[2*R+2*D+1]+=A*z,y(C,2*R+2*D+1),C[2*R+2*D+2]+=M*z,y(C,2*R+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new s(C,0)};function y(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function _(S,w){this.g=S,this.h=w}function x(S,w){if(g(w))throw Error("division by zero");if(g(S))return new _(f,f);if(v(S))return w=x(I(S),w),new _(I(w.g),I(w.h));if(v(w))return w=x(S,I(w)),new _(I(w.g),w.h);if(30<S.g.length){if(v(S)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=w;0>=R.l(S);)C=k(C),R=k(R);var D=O(C,1),M=O(R,1);for(R=O(R,2),C=O(C,2);!g(R);){var A=M.add(R);0>=A.l(S)&&(D=D.add(C),M=A),R=O(R,1),C=O(C,1)}return w=b(S,D.j(w)),new _(D,w)}for(D=f;0<=S.l(w);){for(C=Math.max(1,Math.floor(S.m()/w.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=u(C),A=M.j(w);v(A)||0<A.l(S);)C-=R,M=u(C),A=M.j(w);g(M)&&(M=h),D=D.add(M),S=b(S,A)}return new _(D,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],R=0;R<w;R++)C[R]=this.i(R)&S.i(R);return new s(C,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],R=0;R<w;R++)C[R]=this.i(R)|S.i(R);return new s(C,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),C=[],R=0;R<w;R++)C[R]=this.i(R)^S.i(R);return new s(C,this.h^S.h)};function k(S){for(var w=S.g.length+1,C=[],R=0;R<w;R++)C[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(C,S.h)}function O(S,w){var C=w>>5;w%=32;for(var R=S.g.length-C,D=[],M=0;M<R;M++)D[M]=0<w?S.i(M+C)>>>w|S.i(M+C+1)<<32-w:S.i(M+C);return new s(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,rs=s}).apply(typeof AI<"u"?AI:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oA,sA,yu,aA,If,Hv,lA,uA,cA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,E){return c==Array.prototype||c==Object.prototype||(c[p]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var E=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var $=c[P];if(!($ in E))break e;E=E[$]}c=c[c.length-1],P=E[c],p=p(P),p!=P&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}function o(c,p){c instanceof String&&(c+="");var E=0,P=!1,$={next:function(){if(!P&&E<c.length){var B=E++;return{value:p(B,c[B]),done:!1}}return P=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(c){return c||function(){return o(this,function(p,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,E){return c.call.apply(c.bind,arguments)}function f(c,p,E){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,P),c.apply(p,$)}}return function(){return c.apply(p,arguments)}}function h(c,p,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function g(c,p){function E(){}E.prototype=p.prototype,c.aa=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(P,$,B){for(var Y=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Y[Je-2]=arguments[Je];return p.prototype[$].apply(P,Y)}}function v(c){const p=c.length;if(0<p){const E=Array(p);for(let P=0;P<p;P++)E[P]=c[P];return E}return[]}function I(c,p){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(l(P)){const $=c.length||0,B=P.length||0;c.length=$+B;for(let Y=0;Y<B;Y++)c[$+Y]=P[Y]}else c.push(P)}}class b{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var k=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(c,p,E){for(const P in c)p.call(E,c[P],P,c)}function S(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function w(c){const p={};for(const E in c)p[E]=c[E];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let E,P;for(let $=1;$<arguments.length;$++){P=arguments[$];for(E in P)c[E]=P[E];for(let B=0;B<C.length;B++)E=C[B],Object.prototype.hasOwnProperty.call(P,E)&&(c[E]=P[E])}}function D(c){var p=1;c=c.split(":");const E=[];for(;0<p&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function M(c){a.setTimeout(()=>{throw c},0)}function A(){var c=W;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class z{constructor(){this.h=this.g=null}add(p,E){const P=U.get();P.set(p,E),this.h?this.h.next=P:this.g=P,this.h=P}}var U=new b(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,W=new z,X=()=>{const c=a.Promise.resolve(void 0);K=()=>{c.then(he)}};var he=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(E){M(E)}var p=U;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,p),a.removeEventListener("test",E,p)}catch{}return c}();function me(c,p){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(k){e:{try{x(p.nodeName);var $=!0;break e}catch{}$=!1}$||(p=null)}}else E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&me.aa.h.call(this)}}g(me,re);var ye={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),St=0;function Ge(c,p,E,P,$){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!P,this.ha=$,this.key=++St,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,p,E,P,$){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var Y=ve(c,p,P,$);return-1<Y?(p=c[Y],E||(p.fa=!1)):(p=new Ge(p,this.src,B,!!P,$),p.fa=E,c.push(p)),p};function Ie(c,p){var E=p.type;if(E in c.g){var P=c.g[E],$=Array.prototype.indexOf.call(P,p,void 0),B;(B=0<=$)&&Array.prototype.splice.call(P,$,1),B&&(ft(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ve(c,p,E,P){for(var $=0;$<c.length;++$){var B=c[$];if(!B.da&&B.listener==p&&B.capture==!!E&&B.ha==P)return $}return-1}var De="closure_lm_"+(1e6*Math.random()|0),qe={};function xr(c,p,E,P,$){if(Array.isArray(p)){for(var B=0;B<p.length;B++)xr(c,p[B],E,P,$);return null}return E=jn(E),c&&c[Ae]?c.K(p,E,u(P)?!!P.capture:!!P,$):Cn(c,p,E,!1,P,$)}function Cn(c,p,E,P,$,B){if(!p)throw Error("Invalid event type");var Y=u($)?!!$.capture:!!$,Je=Lt(c);if(Je||(c[De]=Je=new Te(c)),E=Je.add(p,E,P,Y,B),E.proxy)return E;if(P=Rn(),E.proxy=P,P.src=c,P.listener=E,c.addEventListener)oe||($=Y),$===void 0&&($=!1),c.addEventListener(p.toString(),P,$);else if(c.attachEvent)c.attachEvent(et(p.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rn(){function c(E){return p.call(c.src,c.listener,E)}const p=Cr;return c}function Pn(c,p,E,P,$){if(Array.isArray(p))for(var B=0;B<p.length;B++)Pn(c,p[B],E,P,$);else P=u(P)?!!P.capture:!!P,E=jn(E),c&&c[Ae]?(c=c.i,p=String(p).toString(),p in c.g&&(B=c.g[p],E=ve(B,E,P,$),-1<E&&(ft(B[E]),Array.prototype.splice.call(B,E,1),B.length==0&&(delete c.g[p],c.h--)))):c&&(c=Lt(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ve(p,E,P,$)),(E=-1<c?p[c]:null)&&tn(E))}function tn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ae])Ie(p.i,c);else{var E=c.type,P=c.proxy;p.removeEventListener?p.removeEventListener(E,P,c.capture):p.detachEvent?p.detachEvent(et(E),P):p.addListener&&p.removeListener&&p.removeListener(P),(E=Lt(p))?(Ie(E,c),E.h==0&&(E.src=null,p[De]=null)):ft(c)}}}function et(c){return c in qe?qe[c]:qe[c]="on"+c}function Cr(c,p){if(c.da)c=!0;else{p=new me(p,this);var E=c.listener,P=c.ha||c.src;c.fa&&tn(c),c=E.call(P,p)}return c}function Lt(c){return c=c[De],c instanceof Te?c:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(c){return typeof c=="function"?c:(c[He]||(c[He]=function(p){return c.handleEvent(p)}),c[He])}function rt(){ne.call(this),this.i=new Te(this),this.M=this,this.F=null}g(rt,ne),rt.prototype[Ae]=!0,rt.prototype.removeEventListener=function(c,p,E,P){Pn(this,c,p,E,P)};function it(c,p){var E,P=c.F;if(P)for(E=[];P;P=P.F)E.push(P);if(c=c.M,P=p.type||p,typeof p=="string")p=new re(p,c);else if(p instanceof re)p.target=p.target||c;else{var $=p;p=new re(P,c),R(p,$)}if($=!0,E)for(var B=E.length-1;0<=B;B--){var Y=p.g=E[B];$=Oe(Y,P,!0,p)&&$}if(Y=p.g=c,$=Oe(Y,P,!0,p)&&$,$=Oe(Y,P,!1,p)&&$,E)for(B=0;B<E.length;B++)Y=p.g=E[B],$=Oe(Y,P,!1,p)&&$}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var E=c.g[p],P=0;P<E.length;P++)ft(E[P]);delete c.g[p],c.h--}}this.F=null},rt.prototype.K=function(c,p,E,P){return this.i.add(String(c),p,!1,E,P)},rt.prototype.L=function(c,p,E,P){return this.i.add(String(c),p,!0,E,P)};function Oe(c,p,E,P){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var $=!0,B=0;B<p.length;++B){var Y=p[B];if(Y&&!Y.da&&Y.capture==E){var Je=Y.listener,Gt=Y.ha||Y.src;Y.fa&&Ie(c.i,Y),$=Je.call(Gt,P)!==!1&&$}}return $&&!P.defaultPrevented}function de(c,p,E){if(typeof c=="function")E&&(c=h(c,E));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function or(c){c.g=de(()=>{c.g=null,c.i&&(c.i=!1,or(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ro extends ne{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(c){ne.call(this),this.h=c,this.g={}}g(Rr,ne);var ce=[];function Ke(c){O(c.g,function(p,E){this.g.hasOwnProperty(E)&&tn(p)},c),c.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Ke(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=a.JSON.stringify,Pi=a.JSON.parse,dd=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _g(){}_g.prototype.h=null;function cE(c){return c.h||(c.h=c.i())}function dE(){}var Cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bg(){re.call(this,"d")}g(bg,re);function Eg(){re.call(this,"c")}g(Eg,re);var Po={},fE=null;function fd(){return fE=fE||new rt}Po.La="serverreachability";function hE(c){re.call(this,Po.La,c)}g(hE,re);function Rl(c){const p=fd();it(p,new hE(p))}Po.STAT_EVENT="statevent";function pE(c,p){re.call(this,Po.STAT_EVENT,c),this.stat=p}g(pE,re);function hn(c){const p=fd();it(p,new pE(p,c))}Po.Ma="timingevent";function mE(c,p){re.call(this,Po.Ma,c),this.size=p}g(mE,re);function Pl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Al(){this.g=!0}Al.prototype.xa=function(){this.g=!1};function FO(c,p,E,P,$,B){c.info(function(){if(c.g)if(B)for(var Y="",Je=B.split("&"),Gt=0;Gt<Je.length;Gt++){var Ne=Je[Gt].split("=");if(1<Ne.length){var nn=Ne[0];Ne=Ne[1];var rn=nn.split("_");Y=2<=rn.length&&rn[1]=="type"?Y+(nn+"="+Ne+"&"):Y+(nn+"=redacted&")}}else Y=null;else Y=B;return"XMLHTTP REQ ("+P+") [attempt "+$+"]: "+p+`
`+E+`
`+Y})}function BO(c,p,E,P,$,B,Y){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+$+"]: "+p+`
`+E+`
`+B+" "+Y})}function Ms(c,p,E,P){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+UO(c,E)+(P?" "+P:"")})}function jO(c,p){c.info(function(){return"TIMEOUT: "+p})}Al.prototype.info=function(){};function UO(c,p){if(!c.g)return p;if(!p)return null;try{var E=JSON.parse(p);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var P=E[c];if(!(2>P.length)){var $=P[1];if(Array.isArray($)&&!(1>$.length)){var B=$[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Y=1;Y<$.length;Y++)$[Y]=""}}}}return Tt(E)}catch{return p}}var hd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wg;function pd(){}g(pd,_g),pd.prototype.g=function(){return new XMLHttpRequest},pd.prototype.i=function(){return{}},wg=new pd;function Ai(c,p,E,P){this.j=c,this.i=p,this.l=E,this.R=P||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yE}function yE(){this.i=null,this.g="",this.h=!1}var vE={},Ig={};function Sg(c,p,E){c.L=1,c.v=vd(ni(p)),c.m=E,c.P=!0,_E(c,null)}function _E(c,p){c.F=Date.now(),md(c),c.A=ni(c.v);var E=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),NE(E.i,"t",P),c.C=0,E=c.j.J,c.h=new yE,c.g=XE(c.j,E?p:null,!c.m),0<c.O&&(c.M=new Ro(h(c.Y,c,c.g),c.O)),p=c.U,E=c.g,P=c.ca;var $="readystatechange";Array.isArray($)||($&&(ce[0]=$.toString()),$=ce);for(var B=0;B<$.length;B++){var Y=xr(E,$[B],P||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Rl(),FO(c.i,c.u,c.A,c.l,c.R,c.m)}Ai.prototype.ca=function(c){c=c.target;const p=this.M;p&&ri(c)==3?p.j():this.Y(c)},Ai.prototype.Y=function(c){try{if(c==this.g)e:{const rn=ri(this.g);var p=this.g.Ba();const Vs=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||rn!=4||p==7||(p==8||0>=Vs?Rl(3):Rl(2)),Tg(this);var E=this.g.Z();this.X=E;t:if(bE(this)){var P=BE(this.g);c="";var $=P.length,B=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),kl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(p=0;p<$;p++)this.h.h=!0,c+=this.h.i.decode(P[p],{stream:!(B&&p==$-1)});P.length=0,this.h.g+=c,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=E==200,BO(this.i,this.u,this.A,this.l,this.R,rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Gt=this.g;if((Je=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Je)){var Ne=Je;break t}}Ne=null}if(E=Ne)Ms(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,E);else{this.o=!1,this.s=3,hn(12),Ao(this),kl(this);break e}}if(this.P){E=!0;let Pr;for(;!this.J&&this.C<Y.length;)if(Pr=zO(this,Y),Pr==Ig){rn==4&&(this.s=4,hn(14),E=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==vE){this.s=4,hn(15),Ms(this.i,this.l,Y,"[Invalid Chunk]"),E=!1;break}else Ms(this.i,this.l,Pr,null),xg(this,Pr);if(bE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||Y.length!=0||this.h.h||(this.s=1,hn(16),E=!1),this.o=this.o&&E,!E)Ms(this.i,this.l,Y,"[Invalid Chunked Response]"),Ao(this),kl(this);else if(0<Y.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Dg(nn),nn.M=!0,hn(11))}}else Ms(this.i,this.l,Y,null),xg(this,Y);rn==4&&Ao(this),this.o&&!this.J&&(rn==4?HE(this.j,this):(this.o=!1,md(this)))}else sM(this.g),E==400&&0<Y.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),Ao(this),kl(this)}}}catch{}finally{}};function bE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zO(c,p){var E=c.C,P=p.indexOf(`
`,E);return P==-1?Ig:(E=Number(p.substring(E,P)),isNaN(E)?vE:(P+=1,P+E>p.length?Ig:(p=p.slice(P,P+E),c.C=P+E,p)))}Ai.prototype.cancel=function(){this.J=!0,Ao(this)};function md(c){c.S=Date.now()+c.I,EE(c,c.I)}function EE(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pl(h(c.ba,c),p)}function Tg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ai.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(jO(this.i,this.A),this.L!=2&&(Rl(),hn(17)),Ao(this),this.s=2,kl(this)):EE(this,this.S-c)};function kl(c){c.j.G==0||c.J||HE(c.j,c)}function Ao(c){Tg(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ke(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function xg(c,p){try{var E=c.j;if(E.G!=0&&(E.g==c||Cg(E.h,c))){if(!c.K&&Cg(E.h,c)&&E.G==3){try{var P=E.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var $=P;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Id(E),Ed(E);else break e;kg(E),hn(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Pl(h(E.Za,E),6e3));if(1>=SE(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Do(E,11)}else if((c.K||E.g==c)&&Id(E),!y(p))for($=E.Da.g.parse(p),p=0;p<$.length;p++){let Ne=$[p];if(E.T=Ne[0],Ne=Ne[1],E.G==2)if(Ne[0]=="c"){E.K=Ne[1],E.ia=Ne[2];const nn=Ne[3];nn!=null&&(E.la=nn,E.j.info("VER="+E.la));const rn=Ne[4];rn!=null&&(E.Aa=rn,E.j.info("SVER="+E.Aa));const Vs=Ne[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(P=1.5*Vs,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Pr=c.g;if(Pr){const Td=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Td){var B=P.h;B.g||Td.indexOf("spdy")==-1&&Td.indexOf("quic")==-1&&Td.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Rg(B,B.h),B.h=null))}if(P.D){const Ng=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ng&&(P.ya=Ng,ot(P.I,P.D,Ng))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var Y=c;if(P.qa=YE(P,P.J?P.ia:null,P.W),Y.K){TE(P.h,Y);var Je=Y,Gt=P.L;Gt&&(Je.I=Gt),Je.B&&(Tg(Je),md(Je)),P.g=Y}else GE(P);0<E.i.length&&wd(E)}else Ne[0]!="stop"&&Ne[0]!="close"||Do(E,7);else E.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Do(E,7):Ag(E):Ne[0]!="noop"&&E.l&&E.l.ta(Ne),E.v=0)}}Rl(4)}catch{}}var WO=class{constructor(c,p){this.g=c,this.map=p}};function wE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function IE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function SE(c){return c.h?1:c.g?c.g.size:0}function Cg(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Rg(c,p){c.g?c.g.add(p):c.h=p}function TE(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wE.prototype.cancel=function(){if(this.i=xE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.D);return p}return v(c.i)}function GO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],E=c.length,P=0;P<E;P++)p.push(c[P]);return p}p=[],E=0;for(P in c)p[E++]=c[P];return p}function qO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var E=0;E<c;E++)p.push(E);return p}p=[],E=0;for(const P in c)p[E++]=P;return p}}}function CE(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var E=qO(c),P=GO(c),$=P.length,B=0;B<$;B++)p.call(void 0,P[B],E&&E[B],c)}var RE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HO(c,p){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var P=c[E].indexOf("="),$=null;if(0<=P){var B=c[E].substring(0,P);$=c[E].substring(P+1)}else B=c[E];p(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ko(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ko){this.h=c.h,gd(this,c.j),this.o=c.o,this.g=c.g,yd(this,c.s),this.l=c.l;var p=c.i,E=new Ol;E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),PE(this,E),this.m=c.m}else c&&(p=String(c).match(RE))?(this.h=!1,gd(this,p[1]||"",!0),this.o=Dl(p[2]||""),this.g=Dl(p[3]||"",!0),yd(this,p[4]),this.l=Dl(p[5]||"",!0),PE(this,p[6]||"",!0),this.m=Dl(p[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}ko.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Nl(p,AE,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Nl(p,AE,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Nl(E,E.charAt(0)=="/"?YO:QO,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Nl(E,JO)),c.join("")};function ni(c){return new ko(c)}function gd(c,p,E){c.j=E?Dl(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function yd(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function PE(c,p,E){p instanceof Ol?(c.i=p,ZO(c.i,c.h)):(E||(p=Nl(p,XO)),c.i=new Ol(p,c.h))}function ot(c,p,E){c.i.set(p,E)}function vd(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dl(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nl(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,KO),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function KO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var AE=/[#\/\?@]/g,QO=/[#\?:]/g,YO=/[#\?]/g,XO=/[#\?@]/g,JO=/#/g;function Ol(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ki(c){c.g||(c.g=new Map,c.h=0,c.i&&HO(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}t=Ol.prototype,t.add=function(c,p){ki(this),this.i=null,c=Ls(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function kE(c,p){ki(c),p=Ls(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function DE(c,p){return ki(c),p=Ls(c,p),c.g.has(p)}t.forEach=function(c,p){ki(this),this.g.forEach(function(E,P){E.forEach(function($){c.call(p,$,P,this)},this)},this)},t.na=function(){ki(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),E=[];for(let P=0;P<p.length;P++){const $=c[P];for(let B=0;B<$.length;B++)E.push(p[P])}return E},t.V=function(c){ki(this);let p=[];if(typeof c=="string")DE(this,c)&&(p=p.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)p=p.concat(c[E])}return p},t.set=function(c,p){return ki(this),this.i=null,c=Ls(this,c),DE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function NE(c,p,E){kE(c,p),0<E.length&&(c.i=null,c.g.set(Ls(c,p),v(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var E=0;E<p.length;E++){var P=p[E];const B=encodeURIComponent(String(P)),Y=this.V(P);for(P=0;P<Y.length;P++){var $=B;Y[P]!==""&&($+="="+encodeURIComponent(String(Y[P]))),c.push($)}}return this.i=c.join("&")};function Ls(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ZO(c,p){p&&!c.j&&(ki(c),c.i=null,c.g.forEach(function(E,P){var $=P.toLowerCase();P!=$&&(kE(this,P),NE(this,$,E))},c)),c.j=p}function eM(c,p){const E=new Al;if(a.Image){const P=new Image;P.onload=m(Di,E,"TestLoadImage: loaded",!0,p,P),P.onerror=m(Di,E,"TestLoadImage: error",!1,p,P),P.onabort=m(Di,E,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(Di,E,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else p(!1)}function tM(c,p){const E=new Al,P=new AbortController,$=setTimeout(()=>{P.abort(),Di(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:P.signal}).then(B=>{clearTimeout($),B.ok?Di(E,"TestPingServer: ok",!0,p):Di(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout($),Di(E,"TestPingServer: error",!1,p)})}function Di(c,p,E,P,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),P(E)}catch{}}function nM(){this.g=new dd}function rM(c,p,E){const P=E||"";try{CE(c,function($,B){let Y=$;u($)&&(Y=Tt($)),p.push(P+B+"="+encodeURIComponent(Y))})}catch($){throw p.push(P+"type="+encodeURIComponent("_badmap")),$}}function Ml(c){this.l=c.Ub||null,this.j=c.eb||!1}g(Ml,_g),Ml.prototype.g=function(){return new _d(this.l,this.j)},Ml.prototype.i=function(c){return function(){return c}}({});function _d(c,p){rt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_d,rt),t=_d.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,$l(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function OE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ll(this):$l(this),this.readyState==3&&OE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ll(this))},t.Qa=function(c){this.g&&(this.response=c,Ll(this))},t.ga=function(){this.g&&Ll(this)};function Ll(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$l(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function $l(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ME(c){let p="";return O(c,function(E,P){p+=P,p+=":",p+=E,p+=`\r
`}),p}function Pg(c,p,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=ME(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):ot(c,p,E))}function vt(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vt,rt);var iM=/^https?$/i,oM=["POST","PUT"];t=vt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wg.g(),this.v=this.o?cE(this.o):cE(wg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){LE(this,B);return}if(c=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var $ in P)E.set($,P[$]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const B of P.keys())E.set(B,P.get(B));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),$=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oM,p,void 0))||P||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Y]of E)this.g.setRequestHeader(B,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FE(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){LE(this,B)}};function LE(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,$E(c),bd(c)}function $E(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),bd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bd(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VE(this):this.bb())},t.bb=function(){VE(this)};function VE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ri(c)!=4||c.Z()!=2)){if(c.u&&ri(c)==4)de(c.Ea,0,c);else if(it(c,"readystatechange"),ri(c)==4){c.h=!1;try{const Y=c.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var P;if(P=Y===0){var $=String(c.D).match(RE)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),P=!iM.test($?$.toLowerCase():"")}E=P}if(E)it(c,"complete"),it(c,"success");else{c.m=6;try{var B=2<ri(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",$E(c)}}finally{bd(c)}}}}function bd(c,p){if(c.g){FE(c);const E=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||it(c,"ready");try{E.onreadystatechange=P}catch{}}}function FE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Pi(p)}};function BE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sM(c){const p={};c=(c.g&&2<=ri(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(y(c[P]))continue;var E=D(c[P]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=p[$]||[];p[$]=B,B.push(E)}S(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function jE(c){this.Aa=0,this.i=[],this.j=new Al,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vl("baseRetryDelayMs",5e3,c),this.cb=Vl("retryDelaySeedMs",1e4,c),this.Wa=Vl("forwardChannelMaxRetries",2,c),this.wa=Vl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wE(c&&c.concurrentRequestLimit),this.Da=new nM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jE.prototype,t.la=8,t.G=1,t.connect=function(c,p,E,P){hn(0),this.W=c,this.H=p||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=YE(this,null,this.W),wd(this)};function Ag(c){if(UE(c),c.G==3){var p=c.U++,E=ni(c.I);if(ot(E,"SID",c.K),ot(E,"RID",p),ot(E,"TYPE","terminate"),Fl(c,E),p=new Ai(c,c.j,p),p.L=2,p.v=vd(ni(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=p.v,E=!0),E||(p.g=XE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),md(p)}QE(c)}function Ed(c){c.g&&(Dg(c),c.g.cancel(),c.g=null)}function UE(c){Ed(c),c.u&&(a.clearTimeout(c.u),c.u=null),Id(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function wd(c){if(!IE(c.h)&&!c.s){c.s=!0;var p=c.Ga;K||X(),F||(K(),F=!0),W.add(p,c),c.B=0}}function aM(c,p){return SE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pl(h(c.Ga,c,p),KE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Ai(this,this.j,c);let B=this.o;if(this.S&&(B?(B=w(B),R(B,this.S)):B=this.S),this.m!==null||this.O||($.H=B,B=null),this.P)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=WE(this,$,p),E=ni(this.I),ot(E,"RID",c),ot(E,"CVER",22),this.D&&ot(E,"X-HTTP-Session-Id",this.D),Fl(this,E),B&&(this.O?p="headers="+encodeURIComponent(String(ME(B)))+"&"+p:this.m&&Pg(E,this.m,B)),Rg(this.h,$),this.Ua&&ot(E,"TYPE","init"),this.P?(ot(E,"$req",p),ot(E,"SID","null"),$.T=!0,Sg($,E,null)):Sg($,E,p),this.G=2}}else this.G==3&&(c?zE(this,c):this.i.length==0||IE(this.h)||zE(this))};function zE(c,p){var E;p?E=p.l:E=c.U++;const P=ni(c.I);ot(P,"SID",c.K),ot(P,"RID",E),ot(P,"AID",c.T),Fl(c,P),c.m&&c.o&&Pg(P,c.m,c.o),E=new Ai(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),p&&(c.i=p.D.concat(c.i)),p=WE(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rg(c.h,E),Sg(E,P,p)}function Fl(c,p){c.H&&O(c.H,function(E,P){ot(p,P,E)}),c.l&&CE({},function(E,P){ot(p,P,E)})}function WE(c,p,E){E=Math.min(c.i.length,E);var P=c.l?h(c.l.Na,c.l,c):null;e:{var $=c.i;let B=-1;for(;;){const Y=["count="+E];B==-1?0<E?(B=$[0].g,Y.push("ofs="+B)):B=0:Y.push("ofs="+B);let Je=!0;for(let Gt=0;Gt<E;Gt++){let Ne=$[Gt].g;const nn=$[Gt].map;if(Ne-=B,0>Ne)B=Math.max(0,$[Gt].g-100),Je=!1;else try{rM(nn,Y,"req"+Ne+"_")}catch{P&&P(nn)}}if(Je){P=Y.join("&");break e}}}return c=c.i.splice(0,E),p.D=c,P}function GE(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;K||X(),F||(K(),F=!0),W.add(p,c),c.v=0}}function kg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pl(h(c.Fa,c),KE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,qE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Ed(this),qE(this))};function Dg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function qE(c){c.g=new Ai(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ni(c.qa);ot(p,"RID","rpc"),ot(p,"SID",c.K),ot(p,"AID",c.T),ot(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(p,"TO",c.ja),ot(p,"TYPE","xmlhttp"),Fl(c,p),c.m&&c.o&&Pg(p,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=vd(ni(p)),E.m=null,E.P=!0,_E(E,c)}t.Za=function(){this.C!=null&&(this.C=null,Ed(this),kg(this),hn(19))};function Id(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HE(c,p){var E=null;if(c.g==p){Id(c),Dg(c),c.g=null;var P=2}else if(Cg(c.h,p))E=p.D,TE(c.h,p),P=1;else return;if(c.G!=0){if(p.o)if(P==1){E=p.m?p.m.length:0,p=Date.now()-p.F;var $=c.B;P=fd(),it(P,new mE(P,E)),wd(c)}else GE(c);else if($=p.s,$==3||$==0&&0<p.X||!(P==1&&aM(c,p)||P==2&&kg(c)))switch(E&&0<E.length&&(p=c.h,p.i=p.i.concat(E)),$){case 1:Do(c,5);break;case 4:Do(c,10);break;case 3:Do(c,6);break;default:Do(c,2)}}}function KE(c,p){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*p}function Do(c,p){if(c.j.info("Error code "+p),p==2){var E=h(c.fb,c),P=c.Xa;const $=!P;P=new ko(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gd(P,"https"),vd(P),$?eM(P.toString(),E):tM(P.toString(),E)}else hn(2);c.G=0,c.l&&c.l.sa(p),QE(c),UE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function QE(c){if(c.G=0,c.ka=[],c.l){const p=xE(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function YE(c,p,E){var P=E instanceof ko?ni(E):new ko(E);if(P.g!="")p&&(P.g=p+"."+P.g),yd(P,P.s);else{var $=a.location;P=$.protocol,p=p?p+"."+$.hostname:$.hostname,$=+$.port;var B=new ko(null);P&&gd(B,P),p&&(B.g=p),$&&yd(B,$),E&&(B.l=E),P=B}return E=c.D,p=c.ya,E&&p&&ot(P,E,p),ot(P,"VER",c.la),Fl(c,P),P}function XE(c,p,E){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new vt(new Ml({eb:E})):new vt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JE(){}t=JE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sd(){}Sd.prototype.g=function(c,p){return new Un(c,p)};function Un(c,p){rt.call(this),this.g=new jE(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!y(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new $s(this)}g(Un,rt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Ag(this.g)},Un.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Tt(c),c=E);p.i.push(new WO(p.Ya++,c)),p.G==3&&wd(p)},Un.prototype.N=function(){this.g.l=null,delete this.j,Ag(this.g),delete this.g,Un.aa.N.call(this)};function ZE(c){bg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}g(ZE,bg);function ew(){Eg.call(this),this.status=1}g(ew,Eg);function $s(c){this.g=c}g($s,JE),$s.prototype.ua=function(){it(this.g,"a")},$s.prototype.ta=function(c){it(this.g,new ZE(c))},$s.prototype.sa=function(c){it(this.g,new ew)},$s.prototype.ra=function(){it(this.g,"b")},Sd.prototype.createWebChannel=Sd.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,cA=function(){return new Sd},uA=function(){return fd()},lA=Po,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,If=hd,gE.COMPLETE="complete",aA=gE,dE.EventType=Cl,Cl.OPEN="a",Cl.CLOSE="b",Cl.ERROR="c",Cl.MESSAGE="d",rt.prototype.listen=rt.prototype.K,yu=dE,sA=Ml,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,oA=vt}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});const kI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new j_("@firebase/firestore");function Xs(){return hs.logLevel}function G(t,...e){if(hs.logLevel<=xe.DEBUG){const n=e.map(W_);hs.debug(`Firestore (${sl}): ${t}`,...n)}}function vn(t,...e){if(hs.logLevel<=xe.ERROR){const n=e.map(W_);hs.error(`Firestore (${sl}): ${t}`,...n)}}function ps(t,...e){if(hs.logLevel<=xe.WARN){const n=e.map(W_);hs.warn(`Firestore (${sl}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw vn(e),new Error(e)}function ae(t,e){t||ie()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class v4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new g4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new gn(e)}}class _4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new E4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=I4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function fA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new gt(0,0))}static max(){return new ue(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends hc{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends hc{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ve.fromString(e))}static fromName(e){return new Z(Ve.fromString(e).popFirst(5))}static empty(){return new Z(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Kv(t){return t.fields.find(e=>e.kind===2)}function Fo(t){return t.fields.filter(e=>e.kind!==2)}bh.UNKNOWN_ID=-1;class Sf{constructor(e,n){this.fieldPath=e,this.kind=n}}class pc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new pc(0,tr.min())}}function T4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new tr(i,Z.empty(),e)}function hA(t){return new tr(t.readTime,t.key,-1)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(ue.min(),Z.empty(),-1)}static max(){return new tr(ue.max(),Z.empty(),-1)}}function G_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==pA)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Nu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=q_(r.target.error);this.V.reject(new Nu(e,i))}}static open(e,n,r,i){try{return new xp(n,e.transaction(i,r))}catch(o){throw new Nu(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new C4(n)}}class uo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,uo.S(Dt())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Wo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!JP())return!1;if(uo.C())return!0;const e=Dt(),n=uo.S(e),r=0<n&&n<10,i=gA(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new J(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new J(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Nu(e,s))},i.onupgradeneeded=o=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=xp.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function gA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class x4{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Wo(this.B.delete())}}class Nu extends J{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function So(t){return t.name==="IndexedDbTransactionError"}class C4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wo(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Wo(this.store.add(e))}get(e){return Wo(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Wo(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Wo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=q_(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new x4(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const d=u.catch(f=>(l.done(),V.reject(f)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wo(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=q_(r.target.error);n(i)}})}let DI=!1;function q_(t){const e=uo.S(Dt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DI||(DI=!0,setTimeout(()=>{throw r},0)),r}}return t}class R4{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{G("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){So(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Rs(n)}await this.X(6e4)})}}class P4{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return V.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return G("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=hA(o);G_(s,r)>0&&(r=s)}),new tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hr.oe=-1;function Cp(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function A4(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NI(e)),e=k4(t.get(n),e);return NI(e)}function k4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function NI(t){return t+""}function Hr(t){const e=t.length;if(ae(e>=2),e===2)return ae(t.charAt(0)===""&&t.charAt(1)===""),Ve.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&ie(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ie()}o=s+2}return new Ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t,e){return[t,En(e)]}function yA(t,e,n){return[t,En(e),n]}const D4={},N4=["prefixPath","collectionGroup","readTime","documentId"],O4=["prefixPath","collectionGroup","documentId"],M4=["collectionGroup","readTime","prefixPath","documentId"],L4=["canonicalId","targetId"],$4=["targetId","path"],V4=["path","targetId"],F4=["collectionId","parent"],B4=["indexId","uid"],j4=["uid","sequenceNumber"],U4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],z4=["indexId","uid","orderedDocumentKey"],W4=["userId","collectionPath","documentId"],G4=["userId","collectionPath","largestBatchId"],q4=["userId","collectionGroup","largestBatchId"],vA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],H4=[...vA,"documentOverlays"],_A=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bA=_A,EA=[...bA,"indexConfiguration","indexState","indexEntries"],K4=EA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends mA{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function zt(t,e){const n=be(t);return uo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LI(this.data.getIterator())}getIteratorFrom(e){return new LI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class LI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Qe(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IA("Invalid base64 string: "+o):o}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(ae(!!t),typeof t=="string"){let e=0;const n=Q4.exec(t);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function K_(t){const e=t.mapValue.fields.__previous_value__;return H_(e)?K_(e):e}function gc(t){const e=bi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ms&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xf={nullValue:"NULL_VALUE"};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H_(t)?4:SA(t)?9007199254740991:10:ie()}function ei(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=bi(i.timestampValue),a=bi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return go(i.bytesValue).isEqual(go(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(MI(s)!==MI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ei(s[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function yc(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function yo(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $I(t.timestampValue,e.timestampValue);case 4:return $I(gc(t),gc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){const a=go(o),l=go(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ee(a[u],l[u]);if(d!==0)return d}return Ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ee(wt(o.latitude),wt(s.latitude));return a!==0?a:Ee(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=yo(a[u],l[u]);if(d)return d}return Ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Yi.mapValue&&s===Yi.mapValue)return 0;if(o===Yi.mapValue)return 1;if(s===Yi.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ee(l[f],d[f]);if(h!==0)return h;const m=yo(a[l[f]],u[d[f]]);if(m!==0)return m}return Ee(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function $I(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=bi(t),r=bi(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Va(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Yv(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function vc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xv(t){return!!t&&"integerValue"in t}function _c(t){return!!t&&"arrayValue"in t}function VI(t){return!!t&&"nullValue"in t}function FI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cf(t){return!!t&&"mapValue"in t}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function X4(t){return"nullValue"in t?xf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?vc(ms.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ie()}function J4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?vc(ms.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yi:ie()}function BI(t,e){const n=yo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jI(t,e){const n=yo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ou(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(Ou(this.value))}}function TA(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new pt([n]);if(Cf(r)){const o=TA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new It(e,0,ue.min(),ue.min(),ue.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,ue.min(),ue.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ue.min(),ue.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function UI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class Ce extends xA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eB(e,n,r):n==="array-contains"?new rB(e,r):n==="in"?new DA(e,r):n==="not-in"?new iB(e,r):n==="array-contains-any"?new oB(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tB(e,r):new nB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends xA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Be(e,n)}matches(e){return Ba(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ba(t){return t.op==="and"}function Jv(t){return t.op==="or"}function Q_(t){return CA(t)&&Ba(t)}function CA(t){for(const e of t.filters)if(e instanceof Be)return!1;return!0}function Zv(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(Q_(t))return t.filters.map(e=>Zv(e)).join(",");{const e=t.filters.map(n=>Zv(n)).join(",");return`${t.op}(${e})`}}function RA(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(t,e):t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RA(s,i.filters[a]),!0):!1}(t,e):void ie()}function PA(t,e){const n=t.filters.concat(e);return Be.create(n,t.op)}function AA(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(t):t instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(AA).join(" ,")+"}"}(t):"Filter"}class eB extends Ce{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class tB extends Ce{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nB extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class rB extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _c(n)&&yc(n.arrayValue,this.value)}}class DA extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class iB extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class oB extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_c(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function e0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sB(t,e,n,r,i,o,s)}function ys(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e.ue=n}return e.ue}function Wc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zI(t.startAt,e.startAt)&&zI(t.endAt,e.endAt)}function wh(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ih(t,e){return t.filters.filter(n=>n instanceof Ce&&n.field.isEqual(e))}function WI(t,e,n){let r=xf,i=!0;for(const o of Ih(t,e)){let s=xf,a=!0;switch(o.op){case"<":case"<=":s=X4(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=xf}BI({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];BI({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function GI(t,e,n){let r=Yi,i=!0;for(const o of Ih(t,e)){let s=Yi,a=!0;switch(o.op){case">=":case">":s=J4(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Yi}jI({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];jI({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aB(t,e,n,r,i,o,s,a){return new Gc(t,e,n,r,i,o,s,a)}function Rp(t){return new Gc(t)}function qI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NA(t){return t.collectionGroup!==null}function Mu(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(pt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Eh(o,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new Eh(pt.keyField(),r))}return e.ce}function gr(t){const e=be(t);return e.le||(e.le=lB(e,Mu(t))),e.le}function lB(t,e){if(t.limitType==="F")return e0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Eh(i.field,o)});const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return e0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t0(t,e){const n=t.filters.concat([e]);return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function n0(t,e,n){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pp(t,e){return Wc(gr(t),gr(e))&&t.limitType===e.limitType}function OA(t){return`${ys(gr(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AA(i)).join(", ")}]`),Cp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Va(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function qc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=UI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Mu(r),i)||r.endAt&&!function(s,a,l){const u=UI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Mu(r),i))}(t,e)}function uB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MA(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const o=cB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cB(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?yo(l,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new dt(Z.comparator);function Hn(){return dB}const LA=new dt(Z.comparator);function vu(...t){let e=LA;for(const n of t)e=e.insert(n.key,n);return e}function $A(t){let e=LA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return Lu()}function VA(){return Lu()}function Lu(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const fB=new dt(Z.comparator),hB=new Qe(Z.comparator);function we(...t){let e=hB;for(const n of t)e=e.add(n);return e}const pB=new Qe(Ee);function mB(){return pB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function BA(t){return{integerValue:""+t}}function gB(t,e){return A4(e)?BA(e):FA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this._=void 0}}function yB(t,e,n){return t instanceof bc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&H_(o)&&(o=K_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ja?UA(t,e):t instanceof Ua?zA(t,e):function(i,o){const s=jA(i,o),a=HI(s)+HI(i.Pe);return Xv(s)&&Xv(i.Pe)?BA(a):FA(i.serializer,a)}(t,e)}function vB(t,e,n){return t instanceof ja?UA(t,e):t instanceof Ua?zA(t,e):n}function jA(t,e){return t instanceof Ec?function(r){return Xv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bc extends Ap{}class ja extends Ap{constructor(e){super(),this.elements=e}}function UA(t,e){const n=WA(e);for(const r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends Ap{constructor(e){super(),this.elements=e}}function zA(t,e){let n=WA(e);for(const r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class Ec extends Ap{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function HI(t){return wt(t.integerValue||t.doubleValue)}function WA(t){return _c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.field=e,this.transform=n}}function bB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ja&&i instanceof ja||r instanceof Ua&&i instanceof Ua?$a(r.elements,i.elements,ei):r instanceof Ec&&i instanceof Ec?ei(r.Pe,i.Pe):r instanceof bc&&i instanceof bc}(t.transform,e.transform)}class EB{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kp{}function GA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dp(t.key,_n.none()):new al(t.key,t.data,_n.none());{const n=t.data,r=cn.empty();let i=new Qe(pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ci(t.key,r,new On(i.toArray()),_n.none())}}function wB(t,e,n){t instanceof al?function(i,o,s){const a=i.value.clone(),l=QI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,o,s){if(!Rf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=QI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $u(t,e,n,r){return t instanceof al?function(o,s,a,l){if(!Rf(o.precondition,s))return a;const u=o.value.clone(),d=YI(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(o,s,a,l){if(!Rf(o.precondition,s))return a;const u=YI(o.fieldTransforms,l,s),d=s.data;return d.setAll(qA(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Rf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function IB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jA(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function KI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$a(r,i,(o,s)=>bB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends kp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QI(t,e,n){const r=new Map;ae(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vB(s,a,n[i]))}return r}function YI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,yB(o,s,e))}return r}class Dp extends kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HA extends kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=GA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>KI(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>KI(n,r))}}class X_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length);let i=function(){return fB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new X_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Pe;function TB(t){switch(t){default:return ie();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function KA(t){if(t===void 0)return vn("GRPC error has no .code"),j.UNKNOWN;switch(t){case Pt.OK:return j.OK;case Pt.CANCELLED:return j.CANCELLED;case Pt.UNKNOWN:return j.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return j.INTERNAL;case Pt.UNAVAILABLE:return j.UNAVAILABLE;case Pt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Pt.NOT_FOUND:return j.NOT_FOUND;case Pt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Pt.ABORTED:return j.ABORTED;case Pt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Pt.DATA_LOSS:return j.DATA_LOSS;default:return ie()}}(Pe=Pt||(Pt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new rs([4294967295,4294967295],0);function XI(t){const e=xB().encode(t),n=new iA;return n.update(e),new Uint8Array(n.digest())}function JI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rs([n,r],0),new rs([i,o],0)]}class Z_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rs.fromNumber(r)));return i.compare(CB)===1&&(i=new rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=XI(e),[r,i]=JI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Z_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=XI(e),[r,i]=JI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(ue.min(),i,new dt(Ee),Hn(),we())}}class Hc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class QA{constructor(e,n){this.targetId=e,this.me=n}}class YA{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZI{constructor(){this.fe=0,this.ge=tS(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Hc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=tS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=eS(),this.Qe=new dt(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(wh(o))if(r===0){const s=new Z(o.path);this.Ue(n,s,It.newNoDocument(s,ue.min()))}else ae(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=go(r).toUint8Array()}catch(l){if(l instanceof IA)return ps("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Z_(s,i,o)}catch(l){return ps(l instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&wh(a.target)){const l=new Z(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,It.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=we();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Np(e,n,this.Qe,this.ke,r);return this.ke=Hn(),this.qe=eS(),this.Qe=new dt(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ZI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qe(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ZI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function eS(){return new dt(Z.comparator)}function tS(){return new dt(Z.comparator)}const PB={asc:"ASCENDING",desc:"DESCENDING"},AB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kB={and:"AND",or:"OR"};class DB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r0(t,e){return t.useProto3Json||Cp(e)?e:{value:e}}function za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NB(t,e){return za(t,e.toTimestamp())}function wn(t){return ae(!!t),ue.fromTimestamp(function(n){const r=bi(n);return new gt(r.seconds,r.nanos)}(t))}function e1(t,e){return i0(t,e).canonicalString()}function i0(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JA(t){const e=Ve.fromString(t);return ae(ak(e)),e}function Sh(t,e){return e1(t.databaseId,e.path)}function is(t,e){const n=JA(e);if(n.get(1)!==t.databaseId.projectId)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(tk(n))}function ZA(t,e){return e1(t.databaseId,e)}function ek(t){const e=JA(t);return e.length===4?Ve.emptyPath():tk(e)}function o0(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tk(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nS(t,e,n){return{name:Sh(t,e),fields:n.value.mapValue.fields}}function OB(t,e,n){const r=is(t,e.name),i=wn(e.updateTime),o=e.createTime?wn(e.createTime):ue.min(),s=new cn({mapValue:{fields:e.fields}}),a=It.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function MB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ae(d===void 0||typeof d=="string"),Zt.fromBase64String(d||"")):(ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?j.UNKNOWN:KA(u.code);return new J(d,u.message||"")}(s);n=new YA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=is(t,r.document.name),o=wn(r.document.updateTime),s=r.document.createTime?wn(r.document.createTime):ue.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Pf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=is(t,r.document),o=r.readTime?wn(r.readTime):ue.min(),s=It.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Pf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=is(t,r.document),o=r.removedTargetIds||[];n=new Pf([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new SB(i,o),a=r.targetId;n=new QA(a,s)}}return n}function Th(t,e){let n;if(e instanceof al)n={update:nS(t,e.key,e.value)};else if(e instanceof Dp)n={delete:Sh(t,e.key)};else if(e instanceof Ci)n={update:nS(t,e.key,e.data),updateMask:jB(e.fieldMask)};else{if(!(e instanceof HA))return ie();n={verify:Sh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function s0(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?_n.updateTime(wn(o.updateTime)):o.exists!==void 0?_n.exists(o.exists):_n.none()}(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)ae(a.setToServerValue==="REQUEST_TIME"),l=new bc;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ja(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Ua(d)}else"increment"in a?l=new Ec(s,a.increment):ie();const u=pt.fromServerFormat(a.fieldPath);return new _B(u,l)}(t,i)):[];if(e.update){e.update.name;const i=is(t,e.update.name),o=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new On(u.map(d=>pt.fromServerFormat(d)))}(e.updateMask);return new Ci(i,o,s,n,r)}return new al(i,o,n,r)}if(e.delete){const i=is(t,e.delete);return new Dp(i,n)}if(e.verify){const i=is(t,e.verify);return new HA(i,n)}return ie()}function LB(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?wn(i.updateTime):wn(o);return s.isEqual(ue.min())&&(s=wn(o)),new EB(s,i.transformResults||[])}(n,e))):[]}function nk(t,e){return{documents:[ZA(t,e.path)]}}function rk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZA(t,i);const o=function(u){if(u.length!==0)return sk(Be.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Zs(h.field),direction:VB(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=r0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function ik(t){let e=ek(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=ok(f);return h instanceof Be&&Q_(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new Eh(ea(g.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Cp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Fa(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Fa(m,h)}(n.endAt)),aB(e,i,s,o,a,"F",l,u)}function $B(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ok(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ea(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ea(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ea(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ea(n.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Be.create(n.compositeFilter.filters.map(r=>ok(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function VB(t){return PB[t]}function FB(t){return AB[t]}function BB(t){return kB[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function ea(t){return pt.fromServerFormat(t.fieldPath)}function sk(t){return t instanceof Ce?function(n){if(n.op==="=="){if(FI(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(VI(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FI(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(VI(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:FB(n.op),value:n.value}}}(t):t instanceof Be?function(n){const r=n.getFilters().map(i=>sk(i));return r.length===1?r[0]:{compositeFilter:{op:BB(n.op),filters:r}}}(t):ie()}function jB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ak(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.ct=e}}function UB(t,e){let n;if(e.document)n=OB(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Z.fromSegments(e.noDocument.path),i=_s(e.noDocument.readTime);n=It.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{const r=Z.fromSegments(e.unknownDocument.path),i=_s(e.unknownDocument.version);n=It.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new gt(i[0],i[1]);return ue.fromTimestamp(o)}(e.readTime)),n}function rS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Sh(o,s.key),fields:s.data.value.mapValue.fields,updateTime:za(o,s.version.toTimestamp()),createTime:za(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vs(e.version)};else{if(!e.isUnknownDocument())return ie();r.unknownDocument={path:n.path.toArray(),version:vs(e.version)}}return r}function xh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _s(t){const e=new gt(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function Go(t,e){const n=(e.baseMutations||[]).map(o=>s0(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>s0(t.ct,o)),i=gt.fromMillis(e.localWriteTimeMs);return new Y_(e.batchId,i,n,r)}function bu(t){const e=_s(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_s(t.lastLimboFreeSnapshotVersion):ue.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ae(o.documents.length===1),gr(Rp(ek(o.documents[0])))}(t.query):function(o){return gr(ik(o))}(t.query),new ci(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function uk(t,e){const n=vs(e.snapshotVersion),r=vs(e.lastLimboFreeSnapshotVersion);let i;i=wh(e.target)?nk(t.ct,e.target):rk(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ys(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ck(t){const e=ik({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n0(e,e.limit,"L"):e}function hy(t,e){return new J_(e.largestBatchId,s0(t.ct,e.overlayMutation))}function iS(t,e){const n=e.path.lastSegment();return[t,En(e.path.popLast()),n]}function oS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:vs(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{getBundleMetadata(e,n){return sS(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:_s(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return sS(e).put(function(i){return{bundleId:i.id,createTime:vs(wn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return aS(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:ck(o.bundledQuery),readTime:_s(o.readTime)}}(r)})}saveNamedQuery(e,n){return aS(e).put(function(i){return{name:i.name,readTime:vs(wn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function sS(t){return zt(t,"bundles")}function aS(t){return zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Op(e,r)}getOverlay(e,n){return Kl(e).get(iS(this.userId,n)).next(r=>r?hy(this.serializer,r):null)}getOverlays(e,n){const r=Kr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new J_(n,s);i.push(this.ht(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(En(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Kl(e).j("collectionPathOverlayIndex",a))}),V.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Kr(),o=En(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Kl(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=hy(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Kr();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kl(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const f=hy(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return Kl(e).put(function(i,o,s){const[a,l,u]=iS(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Th(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Kl(t){return zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),mc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=bi(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(go(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?SA(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ie()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Z.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}qo.bt=new qo;function WB(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function lS(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=WB(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class GB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=lS(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=lS(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class qB{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class HB{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ql{constructor(){this.Gt=new GB,this.zt=new qB(this.Gt),this.jt=new HB(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ho(this.indexId,this.documentKey,this.arrayValue,r)}}function Oi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=uS(t.arrayValue,e.arrayValue),n!==0?n:(n=uS(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function uS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.Yt=new Qe((n,r)=>pt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ae(e.collectionGroup===this.collectionId),this.en)return!1;const n=Kv(e);if(n!==void 0&&!this.nn(n))return!1;const r=Fo(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new Qe(pt.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Sf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Sf(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Sf(r.field,r.dir==="asc"?0:1)));return new bh(bh.UNKNOWN_ID,this.collectionId,n,pc.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){var e,n;if(ae(t instanceof Ce||t instanceof Be),t instanceof Ce){if(t instanceof DA){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Ce.create(t.field,"==",o)))||[];return Be.create(i,"or")}return t}const r=t.filters.map(i=>dk(i));return Be.create(r,t.op)}function KB(t){if(t.getFilters().length===0)return[];const e=u0(dk(t));return ae(fk(e)),a0(e)||l0(e)?[e]:e.getFilters()}function a0(t){return t instanceof Ce}function l0(t){return t instanceof Be&&Q_(t)}function fk(t){return a0(t)||l0(t)||function(n){if(n instanceof Be&&Jv(n)){for(const r of n.getFilters())if(!a0(r)&&!l0(r))return!1;return!0}return!1}(t)}function u0(t){if(ae(t instanceof Ce||t instanceof Be),t instanceof Ce)return t;if(t.filters.length===1)return u0(t.filters[0]);const e=t.filters.map(r=>u0(r));let n=Be.create(e,t.op);return n=Ch(n),fk(n)?n:(ae(n instanceof Be),ae(Ba(n)),ae(n.filters.length>1),n.filters.reduce((r,i)=>t1(r,i)))}function t1(t,e){let n;return ae(t instanceof Ce||t instanceof Be),ae(e instanceof Ce||e instanceof Be),n=t instanceof Ce?e instanceof Ce?function(i,o){return Be.create([i,o],"and")}(t,e):dS(t,e):e instanceof Ce?dS(e,t):function(i,o){if(ae(i.filters.length>0&&o.filters.length>0),Ba(i)&&Ba(o))return PA(i,o.getFilters());const s=Jv(i)?i:o,a=Jv(i)?o:i,l=s.filters.map(u=>t1(u,a));return Be.create(l,"or")}(t,e),Ch(n)}function dS(t,e){if(Ba(e))return PA(e,t.getFilters());{const n=e.filters.map(r=>t1(t,r));return Be.create(n,"or")}}function Ch(t){if(ae(t instanceof Ce||t instanceof Be),t instanceof Ce)return t;const e=t.getFilters();if(e.length===1)return Ch(e[0]);if(CA(t))return t;const n=e.map(i=>Ch(i)),r=[];return n.forEach(i=>{i instanceof Ce?r.push(i):i instanceof Be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this._n=new n1}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(tr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class n1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Uint8Array(0);class YB{constructor(e,n){this.databaseId=n,this.an=new n1,this.un=new To(r=>ys(r),(r,i)=>Wc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:En(i)};return fS(e).put(o)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[fA(n),""],!1,!0);return fS(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Hr(s.parent))}return r})}addFieldIndex(e,n){const r=Yl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Us(e);return o.next(a=>{s.put(oS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Yl(e),i=Us(e),o=js(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Yl(e),r=js(e),i=Us(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return V.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new cS(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=js(e);let i=!0;const o=new Map;return V.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=we();const a=[];return V.forEach(o,(l,u)=>{G("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${ys(n)}`);const d=function(_,x){const k=Kv(x);if(k===void 0)return null;for(const O of Ih(_,k.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),f=function(_,x){const k=new Map;for(const O of Fo(x))for(const S of Ih(_,O.fieldPath))switch(S.op){case"==":case"in":k.set(O.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return k.set(O.fieldPath.canonicalString(),S.value),Array.from(k.values())}return null}(u,l),h=function(_,x){const k=[];let O=!0;for(const S of Fo(x)){const w=S.kind===0?WI(_,S.fieldPath,_.startAt):GI(_,S.fieldPath,_.startAt);k.push(w.value),O&&(O=w.inclusive)}return new Fa(k,O)}(u,l),m=function(_,x){const k=[];let O=!0;for(const S of Fo(x)){const w=S.kind===0?GI(_,S.fieldPath,_.endAt):WI(_,S.fieldPath,_.endAt);k.push(w.value),O&&(O=w.inclusive)}return new Fa(k,O)}(u,l),g=this.hn(l,u,h),v=this.hn(l,u,m),I=this.Pn(l,u,f),b=this.In(l.indexId,d,g,h.inclusive,v,m.inclusive,I);return V.forEach(b,y=>r.G(y,n.limit).next(_=>{_.forEach(x=>{const k=Z.fromSegments(x.documentKey);s.has(k)||(s=s.add(k),a.push(k))})}))}).next(()=>a)}return V.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=KB(Be.create(e.filters,"and")).map(r=>e0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const h=n?this.Tn(n[f/u]):Kd,m=this.En(e,h,r[f%u],i),g=this.dn(e,h,o[f%u],s),v=a.map(I=>this.En(e,h,I,!0));d.push(...this.createRange(m,g,v))}return d}En(e,n,r,i){const o=new Ho(e,Z.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Ho(e,Z.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new cS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return V.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new Qe(pt.comparator),d=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Ql;for(const i of Fo(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Ht(i.kind);qo.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new Ql;return qo.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Ql;return qo.bt.Pt(vc(this.databaseId,n),r.Ht(function(o){const s=Fo(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Ql);let o=0;for(const s of Fo(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&_c(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);qo.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new Ql;l.seed(a.Wt()),qo.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Yl(e),i=Us(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return V.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,f){const h=f?new pc(f.sequenceNumber,new tr(_s(f.readTime),new Z(Hr(f.documentKey)),f.largestBatchId)):pc.empty(),m=d.fields.map(([g,v])=>new Sf(pt.fromServerFormat(g),v));return new bh(d.indexId,d.collectionGroup,m,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Yl(e),o=Us(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>o.put(oS(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?V.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,l=>this.pn(e,i,l).next(u=>{const d=this.yn(o,l);return u.isEqual(d)?V.resolve():this.wn(e,o,l,u,d)}))))})}Sn(e,n,r,i){return js(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return js(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=js(e);let o=new Qe(Oi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Ho(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Qe(Oi);const i=this.An(n,e);if(i==null)return r;const o=Kv(n);if(o!=null){const s=e.data.field(o.fieldPath);if(_c(s))for(const a of s.arrayValue.values||[])r=r.add(new Ho(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ho(n.indexId,e.key,Kd,i));return r}wn(e,n,r,i,o){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,d,f,h){const m=l.getIterator(),g=u.getIterator();let v=Bs(m),I=Bs(g);for(;v||I;){let b=!1,y=!1;if(v&&I){const _=d(v,I);_<0?y=!0:_>0&&(b=!0)}else v!=null?y=!0:b=!0;b?(f(I),I=Bs(g)):y?(h(v),v=Bs(m)):(v=Bs(m),I=Bs(g))}}(i,o,Oi,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),V.waitFor(s)}gn(e){let n=1;return Us(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Oi(s,a)).filter((s,a,l)=>!a||Oi(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=Oi(s,e),l=Oi(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Kd,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Kd,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,n){return Oi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hS)}getMinOffset(e,n){return V.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ie())).next(hS)}}function fS(t){return zt(t,"collectionParents")}function js(t){return zt(t,"indexEntries")}function Yl(t){return zt(t,"indexConfiguration")}function Us(t){return zt(t,"indexState")}function hS(t){ae(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;G_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new tr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(d,f,h)=>(a++,h.delete()));o.push(l.next(()=>{ae(a===1)}));const u=[];for(const d of n.mutations){const f=yA(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return V.waitFor(o).next(()=>u)}function Rh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Mp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Mp(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=ta(e),s=Mi(e);return s.add({}).next(a=>{ae(typeof a=="number");const l=new Y_(a,n,r,i),u=function(m,g,v){const I=v.baseMutations.map(y=>Th(m.ct,y)),b=v.mutations.map(y=>Th(m.ct,y));return{userId:g,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:I,mutations:b}}(this.serializer,this.userId,l),d=[];let f=new Qe((h,m)=>Ee(h.canonicalString(),m.canonicalString()));for(const h of i){const m=yA(this.userId,h.key.path,a);f=f.add(h.key.path.popLast()),d.push(s.put(u)),d.push(o.put(m,D4))}return f.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Mi(e).get(n).next(r=>r?(ae(r.userId===this.userId),Go(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?V.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mi(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(ae(a.batchId>=r),o=Go(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Go(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Tf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ta(e).J({range:i},(s,a,l)=>{const[u,d,f]=s,h=Hr(d);if(u===this.userId&&n.path.isEqual(h))return Mi(e).get(f).next(m=>{if(!m)throw ie();ae(m.userId===this.userId),o.push(Go(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(Ee);const i=[];return n.forEach(o=>{const s=Tf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ta(e).J({range:a},(u,d,f)=>{const[h,m,g]=u,v=Hr(m);h===this.userId&&o.path.isEqual(v)?r=r.add(g):f.done()});i.push(l)}),V.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Tf(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Qe(Ee);return ta(e).J({range:s},(l,u,d)=>{const[f,h,m]=l,g=Hr(h);f===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(m)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Mi(e).get(o).next(s=>{if(s===null)throw ie();ae(s.userId===this.userId),r.push(Go(this.serializer,s))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return hk(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ta(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Hr(o[1]);i.push(l)}else a.done()}).next(()=>{ae(i.length===0)})})}containsKey(e,n){return pk(e,this.userId,n)}xn(e){return mk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pk(t,e,n){const r=Tf(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ta(t).J({range:o,H:!0},(a,l,u)=>{const[d,f,h]=a;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Mi(t){return zt(t,"mutations")}function ta(t){return zt(t,"documentMutations")}function mk(t){return zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new bs(0)}static Ln(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new bs(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ue.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>zs(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ae(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return zs(e).J((s,a)=>{const l=bu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(o)).next(()=>i)}forEachTarget(e,n){return zs(e).J((r,i)=>{const o=bu(i);n(o)})}Bn(e){return mS(e).get("targetGlobalKey").next(n=>(ae(n!==null),n))}kn(e,n){return mS(e).put("targetGlobalKey",n)}qn(e,n){return zs(e).put(uk(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ys(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return zs(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=bu(a);Wc(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ui(e);return n.forEach(s=>{const a=En(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ui(e);return V.forEach(n,o=>{const s=En(o.path);return V.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ui(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ui(e);let o=we();return i.J({range:r,H:!0},(s,a,l)=>{const u=Hr(s[1]),d=new Z(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=En(n.path),i=IDBKeyRange.bound([r],[fA(r)],!1,!0);let o=0;return Ui(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return zs(e).get(n).next(r=>r?bu(r):null)}}function zs(t){return zt(t,"targets")}function mS(t){return zt(t,"targetGlobal")}function Ui(t){return zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class JB{constructor(e){this.Kn=e,this.buffer=new Qe(gS),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Rs(n)}await this.zn(3e5)})}}class e5{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(hr.oe);const r=new JB(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(pS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pS):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Xs()<=xe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function t5(t,e){return new e5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.db=e,this.garbageCollector=t5(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Qd(e,r)}removeReference(e,n,r){return Qd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Qd(e,n)}er(e,n){return function(i,o){let s=!1;return mk(i).Y(a=>pk(i,a,o).next(l=>(l&&(s=!0),V.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ue.min()),Ui(e).delete(function(f){return[0,En(f.path)]}(s))))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Qd(e,n)}Xn(e,n){const r=Ui(e);let i,o=hr.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==hr.oe&&n(new Z(Hr(i)),o),o=u,i=l):o=hr.oe}).next(()=>{o!==hr.oe&&n(new Z(Hr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qd(t,e){return Ui(t).put(function(r,i){return{targetId:0,path:En(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return No(e).put(r)}removeEntry(e,n,r){return No(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xh(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=It.newInvalidDocument(n);return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xl(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xl(n))},(i,o)=>{r={document:this.nr(n,o),size:Rh(o)}}).next(()=>r)}getEntries(e,n){let r=Hn();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Hn(),i=new dt(Z.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,Rh(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return V.resolve();let i=new Qe(_S);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Xl(i.first()),Xl(i.last())),s=i.getIterator();let a=s.getNext();return No(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{const f=Z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&_S(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(Xl(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),xh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return No(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let d=Hn();for(const f of u){const h=this.nr(Z.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(qc(n,h)||i.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=Hn();const s=vS(n,r),a=vS(n,tr.max());return No(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{const f=this.nr(Z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new i5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return yS(e).get("remoteDocumentGlobalKey").next(n=>(ae(!!n),n))}tr(e,n){return yS(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=UB(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ue.min())))return r}return It.newInvalidDocument(e)}}function yk(t){return new r5(t)}class i5 extends gk{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new To(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Qe((o,s)=>Ee(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=rS(this.ar.serializer,s);i=i.add(o.path.popLast());const u=Rh(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=rS(this.ar.serializer,s.convertToNoDocument(ue.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function yS(t){return zt(t,"remoteDocumentGlobal")}function No(t){return zt(t,"remoteDocumentsV14")}function Xl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vS(t,e){const n=e.documentKey.path.toArray();return[t,xh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _S(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ee(n[o],r[o]),i)return i;return i=Ee(n.length,r.length),i||(i=Ee(n[n.length-2],r[r.length-2]),i||Ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$u(r.mutation,i,On.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=vu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hn();const s=Lu(),a=function(){return Lu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ci)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),$u(d.mutation,u,d.mutation.getFieldMask(),gt.now())):s.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new o5(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lu();let i=new dt((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||On.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=VA();d.forEach(h=>{if(!o.has(h)){const m=GA(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Kr());let a=-1,l=o;return s.next(u=>V.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:$A(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=vu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(f,h){return new Gc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,It.newInvalidDocument(d)))});let a=vu();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&$u(d.mutation,u,On.empty(),gt.now()),qc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ck(i.bundledQuery),readTime:wn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.overlays=new dt(Z.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Kr(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Kr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new J_(n,r));let o=this.hr.get(n);o===void 0&&(o=we(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Pr=new Qe($t.Ir),this.Tr=new Qe($t.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new $t(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Z(new Ve([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Z(new Ve([])),r=new $t(n,e),i=new $t(n,e+1);let o=we();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Z.comparator(e.key,n.key)||Ee(e.pr,n.pr)}static Er(e,n){return Ee(e.pr,n.pr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qe($t.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Y_(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(Ee);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Z.isDocumentKey(o)||(o=o.child(""));const s=new $t(new Z(o),0);let a=new Qe(Ee);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new $t(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.vr=e,this.docs=function(){return new dt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():It.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hn();const s=n.path,a=new Z(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||G_(hA(d),r)<=0||(i.has(d.key)||qc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new c5(this)}getSize(e){return V.resolve(this.size)}}class c5 extends gk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.persistence=e,this.Mr=new To(n=>ys(n),Wc),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new r1,this.targetCount=0,this.Lr=bs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.Br={},this.overlays={},this.kr=new hr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new d5(this),this.indexManager=new QB,this.remoteDocumentCache=function(i){return new u5(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new lk(n),this.$r=new s5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new l5(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new f5(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class f5 extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.zr=new r1,this.jr=null}static Hr(e){return new Lp(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=Z.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.serializer=e}O(e,n,r,i){const o=new xp("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OI,{unique:!0}),l.createObjectStore("documentMutations")}(e),bS(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=V.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),bS(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OI,{unique:!0});const f=u.store("mutations"),h=d.map(m=>f.put(m));return V.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:W4});u.createIndex("collectionPathOverlayIndex",G4,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",q4,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:N4});u.createIndex("documentKeyIndex",O4),u.createIndex("collectionGroupIndex",M4)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:B4}).createIndex("sequenceNumberIndex",j4,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:U4}).createIndex("documentKeyIndex",z4,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Rh(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>V.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>V.forEach(a,l=>{ae(l.userId===o.userId);const u=Go(this.serializer,l);return hk(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new Ve(s),u=function(f){return[0,En(f)]}(l);o.push(n.get(u).next(d=>d?V.resolve():(f=>n.put({targetId:0,path:En(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:F4});const r=n.store("collectionParents"),i=new n1,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:En(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new Ve(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],u)=>{const d=Hr(a);return o(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const o=bu(i),s=uk(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new Z(Ve.fromString(f.document.name).popFirst(5)):f.noDocument?Z.fromSegments(f.noDocument.path):f.unknownDocument?Z.fromSegments(f.unknownDocument.path):ie()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>V.waitFor(i))}si(e,n){const r=n.store("mutations"),i=yk(this.serializer),o=new _k(Lp.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:we();Go(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),V.forEach(a,(l,u)=>{const d=new gn(u),f=Op.lt(this.serializer,d),h=o.getIndexManager(d),m=Mp.lt(d,this.serializer,h,o.referenceDelegate);return new vk(i,m,f,h).recalculateAndSaveOverlaysForDocumentKeys(new Qv(n,hr.oe),l).next()})})}}function bS(t){t.createObjectStore("targetDocuments",{keyPath:$4}).createIndex("documentTargetsIndex",V4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L4,{unique:!0}),t.createObjectStore("targetGlobal")}const py="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class i1{constructor(e,n,r,i,o,s,a,l,u,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!i1.D())throw new J(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n5(this,i),this.Ti=n+"main",this.serializer=new lk(l),this.Ei=new uo(this.Ti,this.ui,new h5(this.serializer)),this.Qr=new XB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yk(this.serializer),this.$r=new zB,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(j.FAILED_PRECONDITION,py);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new hr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(So(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Jl(e).get("owner").next(n=>V.resolve(this.Si(n)))}bi(e){return Yd(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=zt(n,"clientMetadata");return r.U().next(i=>{const o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return V.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?V.resolve(!0):Jl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new J(j.FAILED_PRECONDITION,py);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yd(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Qv(e,hr.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Yd(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Mp.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YB(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Op.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){G("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===16?K4:l===15?EA:l===14?bA:l===13?_A:l===12?H4:l===11?vA:void ie()}(this.ui);let s;return this.Ei.runTransaction(e,i,o,a=>(s=new Qv(a,this.kr?this.kr.next():hr.oe),n==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(j.FAILED_PRECONDITION,pA);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Jl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(j.FAILED_PRECONDITION,py)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jl(e).put("owner",n)}static D(){return uo.D()}yi(e){const n=Jl(e);return n.get("owner").next(r=>this.Si(r)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):V.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(vn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;XP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return vn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jl(t){return zt(t,"owner")}function Yd(t){return zt(t,"clientMetadata")}function p5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new o1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return XP()?8:gA(Dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new m5;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Xs()<=xe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Xs()<=xe.DEBUG&&G("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Xs()<=xe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):V.resolve())}ji(e,n){if(qI(n))return V.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n0(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=we(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,n0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return qI(n)||i.isEqual(ue.min())?V.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?V.resolve(null):(Xs()<=xe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(n)),this.es(e,s,n,T4(i,-1)).next(a=>a))})}Zi(e,n){let r=new Qe(MA(e));return n.forEach((i,o)=>{qc(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Xs()<=xe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Js(n)),this.zi.getDocumentsMatchingQuery(e,n,tr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new dt(Ee),this.rs=new To(o=>ys(o),Wc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Ek(t,e,n,r){return new g5(t,e,n,r)}async function wk(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=we();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function y5(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=V.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(v=>{const I=u.docVersions.get(g);ae(I!==null),v.version.compareTo(I)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ik(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function v5(t,e){const n=be(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Zt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(v,I,b){return v.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&a.push(n.Qr.updateTargetData(o,m))});let l=Hn(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_5(o,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(ue.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function _5(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function b5(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E5(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ci(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function c0(t,e,n){const r=be(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!So(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function ES(t,e,n){const r=be(t);let i=ue.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=be(l),h=f.rs.get(d);return h!==void 0?V.resolve(f.ns.get(h)):f.Qr.getTargetData(u,d)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:we())).next(a=>(w5(r,uB(e),a),{documents:a,hs:o})))}function w5(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class wS{constructor(){this.activeTargetIds=mB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sk{constructor(){this.no=new wS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new wS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function my(){return Xd===null?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class x5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=my(),l=this.vo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(n,l,u,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ps("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=S5[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=my();return new Promise((s,a)=>{const l=new oA;l.setWithCredentials(!0),l.listenOnce(aA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case If.NO_ERROR:const d=l.getResponseJson();G(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case If.TIMEOUT:G(an,`RPC '${e}' ${o} timed out`),a(new J(j.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const f=l.getStatus();if(G(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(I){const b=I.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(b)>=0?b:j.UNKNOWN}(m.status);a(new J(g,m.message))}else a(new J(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(j.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(an,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);G(an,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=my(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cA(),a=uA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new sA({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");G(an,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let h=!1,m=!1;const g=new T5({lo:I=>{m?G(an,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(G(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),G(an,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},ho:()=>f.close()}),v=(I,b,y)=>{I.listen(b,_=>{try{y(_)}catch(x){setTimeout(()=>{throw x},0)}})};return v(f,yu.EventType.OPEN,()=>{m||(G(an,`RPC '${e}' stream ${i} transport opened.`),g.mo())}),v(f,yu.EventType.CLOSE,()=>{m||(m=!0,G(an,`RPC '${e}' stream ${i} transport closed`),g.po())}),v(f,yu.EventType.ERROR,I=>{m||(m=!0,ps(an,`RPC '${e}' stream ${i} transport errored:`,I),g.po(new J(j.UNAVAILABLE,"The operation could not be completed")))}),v(f,yu.EventType.MESSAGE,I=>{var b;if(!m){const y=I.data[0];ae(!!y);const _=y,x=_.error||((b=_[0])===null||b===void 0?void 0:b.error);if(x){G(an,`RPC '${e}' stream ${i} received error:`,x);const k=x.status;let O=function(C){const R=Pt[C];if(R!==void 0)return KA(R)}(k),S=x.message;O===void 0&&(O=j.INTERNAL,S="Unknown error status: "+k+" with message "+x.message),m=!0,g.po(new J(O,S)),f.close()}else G(an,`RPC '${e}' stream ${i} received:`,y),g.yo(y)}}),v(a,lA.STAT_EVENT,I=>{I.stat===Hv.PROXY?G(an,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Hv.NOPROXY&&G(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(){return typeof window<"u"?window:null}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){return new DB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Tk(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new J(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R5 extends xk{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=MB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?wn(s.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=o0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=wh(l)?{documents:nk(o,l)}:{query:rk(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XA(o,s.resumeToken);const u=r0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=za(o,s.snapshotVersion.toTimestamp());const u=r0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=$B(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=o0(this.serializer),n.removeTarget=e,this.i_(n)}}class P5 extends xk{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=LB(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.A_(r,n)}return ae(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=o0(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Th(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,i0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(j.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,i0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(j.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class k5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(vn(n),this.y_=!1):G("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{As(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.M_.add(4),await Kc(u),u.N_.set("Unknown"),u.M_.delete(4),await Vp(u)}(this))})}),this.N_=new k5(r,i)}}async function Vp(t){if(As(t))for(const e of t.x_)await e(!0)}async function Kc(t){for(const e of t.x_)await e(!1)}function Ck(t,e){const n=be(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),u1(n)?l1(n):ll(n).Xo()&&a1(n,e))}function s1(t,e){const n=be(t),r=ll(n);n.F_.delete(e),r.Xo()&&Rk(n,e),n.F_.size===0&&(r.Xo()?r.n_():As(n)&&n.N_.set("Unknown"))}function a1(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).P_(e)}function Rk(t,e){t.L_.xe(e),ll(t).I_(e)}function l1(t){t.L_=new RB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.N_.w_()}function u1(t){return As(t)&&!ll(t).Zo()&&t.F_.size>0}function As(t){return be(t).M_.size===0}function Pk(t){t.L_=void 0}async function N5(t){t.N_.set("Online")}async function O5(t){t.F_.forEach((e,n)=>{a1(t,e)})}async function M5(t,e){Pk(t),u1(t)?(t.N_.D_(e),l1(t)):t.N_.set("Unknown")}async function L5(t,e,n){if(t.N_.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof Pf?t.L_.Ke(e):e instanceof QA?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await Ik(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.F_.get(u);d&&o.F_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),Rk(o,l);const f=new ci(d.target,l,u,d.sequenceNumber);a1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!So(e))throw e;t.M_.add(1),await Kc(t),t.N_.set("Offline"),n||(n=()=>Ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Vp(t)})}function Ak(t,e){return e().catch(n=>Ph(t,n,e))}async function Qc(t){const e=be(t),n=vo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;$5(e);)try{const i=await b5(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,V5(e,i)}catch(i){await Ph(e,i)}kk(e)&&Dk(e)}function $5(t){return As(t)&&t.v_.length<10}function V5(t,e){t.v_.push(e);const n=vo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function kk(t){return As(t)&&!vo(t).Zo()&&t.v_.length>0}function Dk(t){vo(t).start()}async function F5(t){vo(t).V_()}async function B5(t){const e=vo(t);for(const n of t.v_)e.d_(n.mutations)}async function j5(t,e,n){const r=t.v_.shift(),i=X_.from(r,e,n);await Ak(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qc(t)}async function U5(t,e){e&&vo(t).E_&&await async function(r,i){if(function(s){return TB(s)&&s!==j.ABORTED}(i.code)){const o=r.v_.shift();vo(r).t_(),await Ak(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qc(r)}}(t,e),kk(t)&&Dk(t)}async function SS(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=As(n);n.M_.add(3),await Kc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Vp(n)}async function z5(t,e){const n=be(t);e?(n.M_.delete(2),await Vp(n)):e||(n.M_.add(2),await Kc(n),n.N_.set("Unknown"))}function ll(t){return t.B_||(t.B_=function(n,r,i){const o=be(n);return o.f_(),new R5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:N5.bind(null,t),To:O5.bind(null,t),Ao:M5.bind(null,t),h_:L5.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),u1(t)?l1(t):t.N_.set("Unknown")):(await t.B_.stop(),Pk(t))})),t.B_}function vo(t){return t.k_||(t.k_=function(n,r,i){const o=be(n);return o.f_(),new P5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:F5.bind(null,t),Ao:U5.bind(null,t),R_:B5.bind(null,t),A_:j5.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Qc(t)):(await t.k_.stop(),t.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new c1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d1(t,e){if(vn("AsyncQueue",`${e}: ${t}`),So(t))return new J(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.q_=new dt(Z.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wa(e,n,wa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class G5{constructor(){this.queries=new To(e=>OA(e),Pp),this.onlineState="Unknown",this.z_=new Set}}async function Nk(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new W5,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=d1(s,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&f1(n)}async function Ok(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q5(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&f1(n)}function H5(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function f1(t){t.z_.forEach(e=>{e.next()})}var d0,xS;(xS=d0||(d0={})).J_="default",xS.Cache="cache";class Mk{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.key=e}}class $k{constructor(e){this.key=e}}class K5{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=we(),this.mutatedKeys=we(),this.Ia=MA(e),this.Ta=new wa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new TS,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=qc(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;h&&m?h.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),I=!0):this.Ra(h,m)||(r.track({type:2,doc:m}),I=!0,(l&&this.Ia(m,l)>0||u&&this.Ia(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),I=!0):h&&!m&&(r.track({type:1,doc:h}),I=!0,(l||u)&&(a=!0)),I&&(m?(s=s.add(m),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,f)=>function(m,g){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return v(m)-v(g)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new Wa(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new TS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=we(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new $k(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Lk(r))}),n}pa(e){this.la=e.hs,this.Pa=we();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Wa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Q5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y5{constructor(e){this.key=e,this.wa=!1}}class X5{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new To(a=>OA(a),Pp),this.Da=new Map,this.Ca=new Set,this.va=new dt(Z.comparator),this.Fa=new Map,this.Ma=new r1,this.xa={},this.Oa=new Map,this.Na=bs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function J5(t,e,n=!0){const r=zk(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Vk(r,e,n,!0),i}async function Z5(t,e){const n=zk(t);await Vk(n,e,!0,!1)}async function Vk(t,e,n,r){const i=await E5(t.localStore,gr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await e3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ck(t.remoteStore,i),a}async function e3(t,e,n,r,i){t.Ba=(f,h,m)=>async function(v,I,b,y){let _=I.view.da(b);_.Xi&&(_=await ES(v.localStore,I.query,!1).then(({documents:S})=>I.view.da(S,_)));const x=y&&y.targetChanges.get(I.targetId),k=y&&y.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(_,v.isPrimaryClient,x,k);return RS(v,I.targetId,O.fa),O.snapshot}(t,f,h,m);const o=await ES(t.localStore,e,!0),s=new K5(e,o.hs),a=s.da(o.documents),l=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);RS(t,n,u.fa);const d=new Q5(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function t3(t,e,n){const r=be(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Pp(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await c0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&s1(r.remoteStore,i.targetId),f0(r,i.targetId)}).catch(Rs)):(f0(r,i.targetId),await c0(r.localStore,i.targetId,!0))}async function n3(t,e){const n=be(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),s1(n.remoteStore,r.targetId))}async function r3(t,e,n){const r=Wk(t);try{const i=await function(s,a){const l=be(s),u=gt.now(),d=a.reduce((m,g)=>m.add(g.key),we());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Hn(),v=we();return l.os.getEntries(m,d).next(I=>{g=I,g.forEach((b,y)=>{y.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(I=>{f=I;const b=[];for(const y of a){const _=IB(y,f.get(y.key).overlayedDocument);_!=null&&b.push(new Ci(y.key,_,TA(_.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,a)}).next(I=>{h=I;const b=I.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,I.batchId,b)})}).then(()=>({batchId:h.batchId,changes:$A(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new dt(Ee)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Yc(r,i.changes),await Qc(r.remoteStore)}catch(i){const o=d1(i,"Failed to persist write");n.reject(o)}}async function Fk(t,e){const n=be(t);try{const r=await v5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ae(s.wa):i.removedDocuments.size>0&&(ae(s.wa),s.wa=!1))}),await Yc(n,r,e)}catch(r){await Rs(r)}}function CS(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=be(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.U_)h.j_(a)&&(u=!0)}),u&&f1(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i3(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new dt(Z.comparator);s=s.insert(o,It.newNoDocument(o,ue.min()));const a=we().add(o),l=new Np(ue.min(),new Map,new dt(Ee),s,a);await Fk(r,l),r.va=r.va.remove(o),r.Fa.delete(e),h1(r)}else await c0(r.localStore,e,!1).then(()=>f0(r,e,n)).catch(Rs)}async function o3(t,e){const n=be(t),r=e.batch.batchId;try{const i=await y5(n.localStore,e);jk(n,r,null),Bk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yc(n,i)}catch(i){await Rs(i)}}async function s3(t,e,n){const r=be(t);try{const i=await function(s,a){const l=be(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ae(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);jk(r,e,n),Bk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yc(r,i)}catch(i){await Rs(i)}}function Bk(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function jk(t,e,n){const r=be(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Uk(t,r)})}function Uk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(s1(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),h1(t))}function RS(t,e,n){for(const r of n)r instanceof Lk?(t.Ma.addReference(r.key,e),a3(t,r)):r instanceof $k?(G("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Uk(t,r.key)):ie()}function a3(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Ca.add(r),h1(t))}function h1(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Z(Ve.fromString(e)),r=t.Na.next();t.Fa.set(r,new Y5(n)),t.va=t.va.insert(n,r),Ck(t.remoteStore,new ci(gr(Rp(n.path)),r,"TargetPurposeLimboResolution",hr.oe))}}async function Yc(t,e,n){const r=be(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=o1.Ki(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(l,u){const d=be(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,h=>V.forEach(h.qi,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>V.forEach(h.Qi,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!So(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.ns.get(h),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(h,v)}}}(r.localStore,o))}async function l3(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await wk(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new J(j.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yc(n,r.us)}}function u3(t,e){const n=be(t),r=n.Fa.get(e);if(r&&r.wa)return we().add(r.key);{let i=we();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function zk(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i3.bind(null,e),e.Sa.h_=q5.bind(null,e.eventManager),e.Sa.ka=H5.bind(null,e.eventManager),e}function Wk(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s3.bind(null,e),e}class h0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$p(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ek(this.persistence,new bk,e.initialUser,this.serializer)}createPersistence(e){return new _k(Lp.Hr,this.serializer)}createSharedClientState(e){return new Sk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class c3 extends h0{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Wk(this.Qa.syncEngine),await Qc(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Ek(this.persistence,new bk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new ZB(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new P4(n,this.persistence);return new R4(e.asyncQueue,r)}createPersistence(e){const n=p5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new i1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,C5(),Af(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Sk}}class Gk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l3.bind(null,this.syncEngine),await z5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G5}()}createDatastore(e){const n=$p(e.databaseInfo.databaseId),r=function(o){return new x5(o)}(e.databaseInfo);return function(o,s,a,l){return new A5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new D5(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>CS(this.syncEngine,n,0),function(){return IS.D()?new IS:new I5}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new X5(i,o,s,a,l,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=be(r);G("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Kc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=dA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kf(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function p0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f3(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SS(e.remoteStore,i)),t._onlineComponents=e}function Hk(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function f3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Hk(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await kf(t,new h0)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await kf(t,new h0);return t._offlineComponents}async function Kk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await p0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await p0(t,new Gk))),t._onlineComponents}function h3(t){return Kk(t).then(e=>e.syncEngine)}async function Qk(t){const e=await Kk(t),n=e.eventManager;return n.onListen=J5.bind(null,e.syncEngine),n.onUnlisten=t3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n3.bind(null,e.syncEngine),n}function p3(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new qk({next:h=>{s.enqueueAndForget(()=>Ok(o,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new J(j.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new J(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Mk(Rp(a.path),d,{includeMetadataChanges:!0,ra:!0});return Nk(o,f)}(await Qk(t),t.asyncQueue,e,n,r)),r.promise}function m3(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new qk({next:h=>{s.enqueueAndForget(()=>Ok(o,f)),h.fromCache&&l.source==="server"?u.reject(new J(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Mk(a,d,{includeMetadataChanges:!0,ra:!0});return Nk(o,f)}(await Qk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e,n){if(!n)throw new J(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g3(t,e,n,r){if(e===!0&&r===!0)throw new J(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!Z.isDocumentKey(t))throw new J(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kS(t){if(Z.isDocumentKey(t))throw new J(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fp(t);throw new J(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y4;switch(r.type){case"firstParty":return new b4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PS.get(n);r&&(G("ComponentProvider","Removing Datastore"),PS.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class co extends ul{constructor(e,n,r){super(e,n,Rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Z(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Jk(t,e,...n){if(t=jt(t),Xk("collection","path",e),t instanceof p1){const r=Ve.fromString(e,...n);return kS(r),new co(t,null,r)}{if(!(t instanceof Vn||t instanceof co))throw new J(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return kS(r),new co(t.firestore,null,r)}}function Bp(t,e,...n){if(t=jt(t),arguments.length===1&&(e=dA.newId()),Xk("doc","path",e),t instanceof p1){const r=Ve.fromString(e,...n);return AS(r),new Vn(t,null,new Z(r))}{if(!(t instanceof Vn||t instanceof co))throw new J(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return AS(r),new Vn(t.firestore,t instanceof co?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Tk(this,"async_queue_retry"),this.hu=()=>{const n=Af();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Af();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Vr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!So(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=c1.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=-1;class ks extends p1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new y3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zk(this),this._firestoreClient.terminate()}}function _3(t,e,n){n||(n="(default)");const r=z_(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(dc(o,e))return i;throw new J(j.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new J(j.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function jp(t){return t._firestoreClient||Zk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zk(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,d){return new Y4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Yk(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new d3(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function b3(t,e){w3(t=Ei(t,ks));const n=jp(t);if(n._uninitializedComponentsProvider)throw new J(j.FAILED_PRECONDITION,"SDK cache is already specified.");ps("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Gk;return E3(n,i,new c3(i,r.cacheSizeBytes,void 0))}function E3(t,e,n){const r=new Vr;return t.asyncQueue.enqueue(async()=>{try{await kf(t,n),await p0(t,e),r.resolve()}catch(i){const o=i;if(!Hk(o))throw o;ps("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function w3(t){if(t._initialized||t._terminated)throw new J(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Zt.fromBase64String(e))}catch(n){throw new J(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ga(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^__.*__$/;class S3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}class eD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class y1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new y1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ah(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(tD(this.fu)&&I3.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class T3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$p(e)}Fu(e,n,r,i=!1){return new y1({fu:e,methodName:n,vu:r,path:pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v1(t){const e=t._freezeSettings(),n=$p(t._databaseId);return new T3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x3(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);_1("Data must be an object, but it was:",s,r);const a=nD(r,s);let l,u;if(o.merge)l=new On(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=m0(e,f,n);if(!s.contains(h))throw new J(j.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);iD(d,h)||d.push(h)}l=new On(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new S3(new cn(a),l,u)}class zp extends m1{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function C3(t,e,n,r){const i=t.Fu(1,e,n);_1("Data must be an object, but it was:",i,r);const o=[],s=cn.empty();Ps(r,(l,u)=>{const d=b1(e,l,n);u=jt(u);const f=i.Su(d);if(u instanceof zp)o.push(d);else{const h=Xc(u,f);h!=null&&(o.push(d),s.set(d,h))}});const a=new On(o);return new eD(s,a,i.fieldTransforms)}function R3(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[m0(e,r,n)],l=[i];if(o.length%2!=0)throw new J(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(m0(e,o[h])),l.push(o[h+1]);const u=[],d=cn.empty();for(let h=a.length-1;h>=0;--h)if(!iD(u,a[h])){const m=a[h];let g=l[h];g=jt(g);const v=s.Su(m);if(g instanceof zp)u.push(m);else{const I=Xc(g,v);I!=null&&(u.push(m),d.set(m,I))}}const f=new On(u);return new eD(d,f,s.fieldTransforms)}function P3(t,e,n,r=!1){return Xc(n,t.Fu(r?4:3,e))}function Xc(t,e){if(rD(t=jt(t)))return _1("Unsupported field value:",e,t),nD(t,e);if(t instanceof m1)return function(r,i){if(!tD(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Xc(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=gt.fromDate(r);return{timestampValue:za(i.serializer,o)}}if(r instanceof gt){const o=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:za(i.serializer,o)}}if(r instanceof g1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ga)return{bytesValue:XA(i.serializer,r._byteString)};if(r instanceof Vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Fp(r)}`)}(t,e)}function nD(t,e){const n={};return wA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const o=Xc(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof g1||t instanceof Ga||t instanceof Vn||t instanceof m1)}function _1(t,e,n){if(!rD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fp(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function m0(t,e,n){if((e=jt(e))instanceof Up)return e._internalPath;if(typeof e=="string")return b1(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const A3=new RegExp("[~\\*/\\[\\]]");function b1(t,e,n){if(e.search(A3)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Up(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new J(j.INVALID_ARGUMENT,a+t+l)}function iD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k3 extends oD{data(){return super.data()}}function E1(t,e){return typeof e=="string"?b1(t,e):e instanceof Up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w1{}class N3 extends w1{}function O3(t,e,...n){let r=[];e instanceof w1&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof I1).length,a=o.filter(l=>l instanceof Wp).length;if(s>1||s>0&&a>0)throw new J(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wp extends N3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wp(e,n,r)}_apply(e){const n=this._parse(e);return sD(e._query,n),new ul(e.firestore,e.converter,t0(e._query,n))}_parse(e){const n=v1(e.firestore);return function(o,s,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){OS(f,d);const m=[];for(const g of f)m.push(NS(l,o,g));h={arrayValue:{values:m}}}else h=NS(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||OS(f,d),h=P3(a,s,f,d==="in"||d==="not-in");return Ce.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M3(t,e,n){const r=e,i=E1("where",t);return Wp._create(i,r,n)}class I1 extends w1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new I1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)sD(s,l),s=t0(s,l)}(e._query,n),new ul(e.firestore,e.converter,t0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NS(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new J(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NA(e)&&n.indexOf("/")!==-1)throw new J(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!Z.isDocumentKey(r))throw new J(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(t,new Z(r))}if(n instanceof Vn)return vc(t,n._key);throw new J(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fp(n)}.`)}function OS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sD(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L3{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new g1(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=K_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=bi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);ae(ak(r));const i=new ms(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aD extends oD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Df extends aD{data(e={}){return super.data(e)}}class V3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:F3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){t=Ei(t,Vn);const e=Ei(t.firestore,ks);return p3(jp(e),t._key).then(n=>W3(e,t,n))}class uD extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function B3(t){t=Ei(t,ul);const e=Ei(t.firestore,ks),n=jp(e),r=new uD(e);return D3(t._query),m3(n,t._query).then(i=>new V3(e,r,t,i))}function j3(t,e,n,...r){t=Ei(t,Vn);const i=Ei(t.firestore,ks),o=v1(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof Up?R3(o,"updateDoc",t._key,e,n,r):C3(o,"updateDoc",t._key,e),S1(i,[s.toMutation(t._key,_n.exists(!0))])}function U3(t){return S1(Ei(t.firestore,ks),[new Dp(t._key,_n.none())])}function z3(t,e){const n=Ei(t.firestore,ks),r=Bp(t),i=$3(t.converter,e);return S1(n,[x3(v1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function S1(t,e){return function(r,i){const o=new Vr;return r.asyncQueue.enqueueAndForget(async()=>r3(await h3(r),i,o)),o.promise}(jp(t),e)}function W3(t,e,n){const r=n.docs.get(e._key),i=new uD(t);return new aD(t,i,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sl=i})(ol),La(new ds("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ks(new v4(r.getProvider("auth-internal")),new w4(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ms(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lo(kI,"4.6.4",e),lo(kI,"4.6.4","esm2017")})();function T1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G3=cD,dD=new Uc("auth","Firebase",cD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new j_("@firebase/auth");function q3(t,...e){kh.logLevel<=xe.WARN&&kh.warn(`Auth (${ol}): ${t}`,...e)}function Nf(t,...e){kh.logLevel<=xe.ERROR&&kh.error(`Auth (${ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw x1(t,...e)}function Xr(t,...e){return x1(t,...e)}function fD(t,e,n){const r=Object.assign(Object.assign({},G3()),{[e]:n});return new Uc("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return fD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dD.create(t,...e)}function ge(t,e,...n){if(!t)throw x1(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nf(e),new Error(e)}function wi(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H3(){return MS()==="http:"||MS()==="https:"}function MS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H3()||YV()||"connection"in navigator)?navigator.onLine:!0}function Q3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=KV()||XV()}get(){return K3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Jc(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Co(t,e,n,r,i={}){return pD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=zc(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),hD.fetch()(mD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function pD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y3),e);try{const i=new Z3(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Jd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jd(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fD(t,d,u);Br(t,d)}}catch(i){if(i instanceof xi)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function Zc(t,e,n,r,i={}){const o=await Co(t,e,n,r,i);return"mfaPendingCredential"in o&&Br(t,"multi-factor-auth-required",{_serverResponse:o}),o}function mD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?C1(t.config,i):`${t.config.apiScheme}://${i}`}function J3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),X3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function LS(t){return t!==void 0&&t.enterprise!==void 0}class ej{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tj(t,e){return Co(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e){return Co(t,"POST","/v1/accounts:delete",e)}async function gD(t,e){return Co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rj(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=R1(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vu(gy(i.auth_time)),issuedAtTime:Vu(gy(i.iat)),expirationTime:Vu(gy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function gy(t){return Number(t)*1e3}function R1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const i=KP(n);return i?JSON.parse(i):(Nf("Failed to decode base64 JWT payload"),null)}catch(i){return Nf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $S(t){const e=R1(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wc(t,gD(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yD(o.providerUserInfo):[],a=aj(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new y0(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function sj(t){const e=jt(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yD(t){return t.map(e=>{var{providerId:n}=e,r=T1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){const n=await pD(t,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=mD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uj(t,e){return Co(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=$S(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await lj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ia;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=T1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new y0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rj(this,e)}reload(){return sj(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await wc(this,nj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:x,isAnonymous:k,providerData:O,stsTokenManager:S}=n;ge(_&&S,e,"internal-error");const w=Ia.fromJSON(this.name,S);ge(typeof _=="string",e,"internal-error"),Li(f,e.name),Li(h,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Li(m,e.name),Li(g,e.name),Li(v,e.name),Li(I,e.name),Li(b,e.name),Li(y,e.name);const C=new fi({uid:_,auth:e,email:h,emailVerified:x,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:w,createdAt:b,lastLoginAt:y});return O&&Array.isArray(O)&&(C.providerData=O.map(R=>Object.assign({},R))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ia;i.updateFromServerResponse(n);const o=new fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?yD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ia;a.updateFromIdToken(r);const l=new fi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new y0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;function hi(t){wi(t instanceof Function,"Expected a class definition");let e=VS.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vD.type="NONE";const FS=vD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Of(this.userKey,i.apiKey,o),this.fullPersistenceKey=Of("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(hi(FS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||hi(FS);const s=Of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=fi._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Sa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ED(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_D(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ID(e))return"Blackberry";if(SD(e))return"Webos";if(P1(e))return"Safari";if((e.includes("chrome/")||bD(e))&&!e.includes("edge/"))return"Chrome";if(wD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _D(t=Dt()){return/firefox\//i.test(t)}function P1(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bD(t=Dt()){return/crios\//i.test(t)}function ED(t=Dt()){return/iemobile/i.test(t)}function wD(t=Dt()){return/android/i.test(t)}function ID(t=Dt()){return/blackberry/i.test(t)}function SD(t=Dt()){return/webos/i.test(t)}function Gp(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cj(t=Dt()){var e;return Gp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dj(){return JV()&&document.documentMode===10}function TD(t=Dt()){return Gp(t)||wD(t)||SD(t)||ID(t)||/windows phone/i.test(t)||ED(t)}function fj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e=[]){let n;switch(t){case"Browser":n=BS(Dt());break;case"Worker":n=`${BS(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e={}){return Co(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=6;class gj{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:mj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jS(this),this.idTokenSubscription=new jS(this),this.beforeStateQueue=new hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gD(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(mi(this));const n=e?jt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pj(this),n=new gj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return jt(t)}class jS{constructor(e){this.auth=e,this.observer=null,this.addObserver=iF(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(t){qp=t}function CD(t){return qp.loadJS(t)}function _j(){return qp.recaptchaEnterpriseScript}function bj(){return qp.gapiScript}function Ej(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wj="recaptcha-enterprise",Ij="NO_RECAPTCHA";class Sj{constructor(e){this.type=wj,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{tj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ej(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;LS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(Ij)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&LS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_j();l.length!==0&&(l+=a),CD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function US(t,e,n,r=!1){const i=new Sj(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function v0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await US(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await US(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t,e){const n=z_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(dc(o,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function xj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cj(t,e,n){const r=Ds(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=RD(e),{host:s,port:a}=Rj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Pj()}function RD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Rj(t){const e=RD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:zS(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:zS(s)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function Aj(t,e){return Co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function Nj(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends A1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,n,"signInWithPassword",kj);case"emailLink":return Dj(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,r,"signUpPassword",Aj);case"emailLink":return Nj(e,{idToken:n,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="http://localhost";class Es extends A1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=T1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:Oj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lj(t){const e=mu(gu(t)).link,n=e?mu(gu(e)).deep_link_id:null,r=mu(gu(t)).deep_link_id;return(r?mu(gu(r)).link:null)||r||n||e||t}class k1{constructor(e){var n,r,i,o,s,a;const l=mu(gu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Mj((i=l.mode)!==null&&i!==void 0?i:null);ge(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Lj(e);try{return new k1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k1.parseLink(n);return ge(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends PD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ed{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends ed{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends ed{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){return Zc(t,"POST","/v1/accounts:signUp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await fi._fromIdTokenResponse(e,r,i),s=WS(r);return new ws({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WS(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends xi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nh(e,n,r,i)}}function AD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(t,o,e,r):o})}async function Vj(t,e,n=!1){const r=await wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const o=await wc(t,AD(r,i,e,t),n);ge(o.idToken,r,"internal-error");const s=R1(o.idToken);ge(s,r,"internal-error");const{sub:a}=s;return ge(t.uid===a,r,"user-mismatch"),ws._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n=!1){if(qr(t.app))return Promise.reject(mi(t));const r="signIn",i=await AD(t,r,e),o=await ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Bj(t,e){return kD(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jj(t,e,n){if(qr(t.app))return Promise.reject(mi(t));const r=Ds(t),s=await v0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$j).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DD(t),l}),a=await ws._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Uj(t,e,n){return qr(t.app)?Promise.reject(mi(t)):Bj(jt(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DD(t),r})}function zj(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function Wj(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function D1(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function Gj(t){return jt(t).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){const t=Dt();return P1(t)||Gp(t)}const Hj=1e3,Kj=10;class OD extends ND{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qj()&&fj(),this.fallbackToPolling=TD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);dj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OD.type="LOCAL";const Qj=OD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends ND{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MD.type="SESSION";const LD=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Yj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=N1("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function Jj(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function Zj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tU(){return $D()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebaseLocalStorageDb",nU=1,Mh="firebaseLocalStorage",FD="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function rU(){const t=indexedDB.deleteDatabase(VD);return new td(t).toPromise()}function _0(){const t=indexedDB.open(VD,nU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mh,{keyPath:FD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await rU(),e(await _0()))})})}async function GS(t,e,n){const r=Kp(t,!0).put({[FD]:e,value:n});return new td(r).toPromise()}async function iU(t,e){const n=Kp(t,!1).get(e),r=await new td(n).toPromise();return r===void 0?null:r.value}function qS(t,e){const n=Kp(t,!0).delete(e);return new td(n).toPromise()}const oU=800,sU=3;class BD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $D()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(tU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Zj(),!this.activeServiceWorker)return;this.sender=new Xj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _0();return await GS(e,Oh,"1"),await qS(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Kp(i,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BD.type="LOCAL";const aU=BD;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e){return e?hi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends A1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uU(t){return kD(t.auth,new O1(t),t.bypassAuthState)}function cU(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Fj(n,new O1(t),t.bypassAuthState)}async function dU(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Vj(n,new O1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uU;case"linkViaPopup":case"linkViaRedirect":return dU;case"reauthViaPopup":case"reauthViaRedirect":return cU;default:Br(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Jc(2e3,1e4);class ma extends jD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=N1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fU.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="pendingRedirect",Mf=new Map;class pU extends jD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const r=await mU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mU(t,e){const n=vU(e),r=yU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gU(t,e){Mf.set(t._key(),e)}function yU(t){return hi(t._redirectPersistence)}function vU(t){return Of(hU,t.config.apiKey,t.name)}async function _U(t,e,n=!1){if(qr(t.app))return Promise.reject(mi(t));const r=Ds(t),i=lU(r,e),s=await new pU(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=10*60*1e3;class EU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(HS(e))}saveEventToCache(e){this.cachedEventUids.add(HS(e)),this.lastProcessedEventTime=Date.now()}}function HS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e={}){return Co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TU=/^https?/;async function xU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IU(t);for(const n of e)try{if(CU(n))return}catch{}Br(t,"unauthorized-domain")}function CU(t){const e=g0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!TU.test(n))return!1;if(SU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new Jc(3e4,6e4);function KS(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PU(t){return new Promise((e,n)=>{var r,i,o;function s(){KS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KS(),n(Xr(t,"network-request-failed"))},timeout:RU.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)s();else{const a=Ej("iframefcb");return Jr()[a]=()=>{gapi.load?s():n(Xr(t,"network-request-failed"))},CD(`${bj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function AU(t){return Lf=Lf||PU(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new Jc(5e3,15e3),DU="__/auth/iframe",NU="emulator/auth/iframe",OU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LU(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C1(e,NU):`https://${t.config.authDomain}/${DU}`,r={apiKey:e.apiKey,appName:t.name,v:ol},i=MU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zc(r).slice(1)}`}async function $U(t){const e=await AU(t),n=Jr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:LU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Xr(t,"network-request-failed"),a=Jr().setTimeout(()=>{o(s)},kU.get());function l(){Jr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FU=500,BU=600,jU="_blank",UU="http://localhost";class QS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zU(t,e,n,r=FU,i=BU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VU),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Dt().toLowerCase();n&&(a=bD(u)?jU:n),_D(u)&&(e=e||UU,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(cj(u)&&a!=="_self")return WU(e||"",a),new QS(null);const f=window.open(e||"",a,d);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new QS(f)}function WU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="__/auth/handler",qU="emulator/auth/handler",HU=encodeURIComponent("fac");async function YS(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ol,eventId:i};if(e instanceof PD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rF(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof ed){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${HU}=${encodeURIComponent(l)}`:"";return`${KU(t)}?${zc(a).slice(1)}${u}`}function KU({config:t}){return t.emulator?C1(t,qU):`https://${t.authDomain}/${GU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class QU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LD,this._completeRedirectFn=_U,this._overrideRedirectResult=gU}async _openPopup(e,n,r,i){var o;wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await YS(e,n,r,g0(),i);return zU(e,s,N1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await YS(e,n,r,g0(),i);return Jj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $U(e),r=new EU(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yy,{type:yy},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[yy];s!==void 0&&n(!!s),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TD()||P1()||Gp()}}const YU=QU;var XS="@firebase/auth",JS="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZU(t){La(new ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xD(t)},u=new yj(r,i,o,l);return xj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),La(new ds("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new XU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lo(XS,JS,JU(t)),lo(XS,JS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=5*60,t9=YP("authIdTokenMaxAge")||e9;let ZS=null;const n9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t9)return;const i=n==null?void 0:n.token;ZS!==i&&(ZS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function r9(t=i4()){const e=z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Tj(t,{popupRedirectResolver:YU,persistence:[aU,Qj,LD]}),r=YP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=n9(o.toString());Wj(n,s,()=>s(n.currentUser)),zj(n,a=>s(a))}}const i=qV("auth");return i&&Cj(n,`http://${i}`),n}function i9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",i9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZU("Browser");var o9={VITE_FIREBASE_API_KEY:"AIzaSyASucm-e9qhEeoILvnWLXsdpdXlZe0J_7c",VITE_FIREBASE_AUTH_DOMAIN:"organica-74c63.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"organica-74c63",VITE_FIREBASE_STORAGE_BUCKET:"organica-74c63.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"619750725397",VITE_FIREBASE_ID:"1:619750725397:web:09f15e1a4017096f54fb1c",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const s9={apiKey:"AIzaSyASucm-e9qhEeoILvnWLXsdpdXlZe0J_7c",authDomain:"organica-74c63.firebaseapp.com",projectId:"organica-74c63",storageBucket:"organica-74c63.firebasestorage.app",messagingSenderId:"619750725397",appId:o9.VITE_FIREBASE_APP_ID},zD=tA(s9),dl=_3(zD,{cacheSizeBytes:v3});b3(dl).catch(t=>{t.code==="failed-precondition"?console.error("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.error("The current browser does not support all of the features required to enable persistence")});const fl=r9(zD);var M1={},WD={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(WD);var en=WD.exports,vy={};function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(null,arguments)}function ai(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function GD(t){if(!ai(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=GD(t[n])}),e}function Yn(t,e,n={clone:!0}){const r=n.clone?L({},t):t;return ai(t)&&ai(e)&&Object.keys(e).forEach(i=>{ai(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ai(t[i])?r[i]=Yn(t[i],e[i],n):n.clone?r[i]=ai(e[i])?GD(e[i]):e[i]:r[i]=e[i]}),r}const a9=Object.freeze(Object.defineProperty({__proto__:null,default:Yn,isPlainObject:ai},Symbol.toStringTag,{value:"Module"}));function Is(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const l9=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"}));var qD={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=Symbol.for("react.element"),$1=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),u9=Symbol.for("react.server_context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),c9=Symbol.for("react.offscreen"),HD;HD=Symbol.for("react.module.reference");function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case L1:switch(t=t.type,t){case Qp:case Xp:case Yp:case tm:case nm:return t;default:switch(t=t&&t.$$typeof,t){case u9:case Zp:case em:case im:case rm:case Jp:return t;default:return e}}case $1:return e}}}Ue.ContextConsumer=Zp;Ue.ContextProvider=Jp;Ue.Element=L1;Ue.ForwardRef=em;Ue.Fragment=Qp;Ue.Lazy=im;Ue.Memo=rm;Ue.Portal=$1;Ue.Profiler=Xp;Ue.StrictMode=Yp;Ue.Suspense=tm;Ue.SuspenseList=nm;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return wr(t)===Zp};Ue.isContextProvider=function(t){return wr(t)===Jp};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===L1};Ue.isForwardRef=function(t){return wr(t)===em};Ue.isFragment=function(t){return wr(t)===Qp};Ue.isLazy=function(t){return wr(t)===im};Ue.isMemo=function(t){return wr(t)===rm};Ue.isPortal=function(t){return wr(t)===$1};Ue.isProfiler=function(t){return wr(t)===Xp};Ue.isStrictMode=function(t){return wr(t)===Yp};Ue.isSuspense=function(t){return wr(t)===tm};Ue.isSuspenseList=function(t){return wr(t)===nm};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qp||t===Xp||t===Yp||t===tm||t===nm||t===c9||typeof t=="object"&&t!==null&&(t.$$typeof===im||t.$$typeof===rm||t.$$typeof===Jp||t.$$typeof===Zp||t.$$typeof===em||t.$$typeof===HD||t.getModuleId!==void 0)};Ue.typeOf=wr;qD.exports=Ue;var eT=qD.exports;const d9=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function KD(t){const e=`${t}`.match(d9);return e&&e[1]||""}function QD(t,e=""){return t.displayName||t.name||KD(t)||e}function tT(t,e,n){const r=QD(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function f9(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return QD(t,"Component");if(typeof t=="object")switch(t.$$typeof){case eT.ForwardRef:return tT(t,t.render,"ForwardRef");case eT.Memo:return tT(t,t.type,"memo");default:return}}}const h9=Object.freeze(Object.defineProperty({__proto__:null,default:f9,getFunctionName:KD},Symbol.toStringTag,{value:"Module"}));function _e(t){if(typeof t!="string")throw new Error(Is(7));return t.charAt(0).toUpperCase()+t.slice(1)}const p9=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));function b0(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function V1(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function m9(t,e){return()=>null}function $f(t,e){var n,r;return T.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Fn(t){return t&&t.ownerDocument||document}function _o(t){return Fn(t).defaultView||window}function g9(t,e){return()=>null}function Lh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Ii=typeof window<"u"?T.useLayoutEffect:T.useEffect;let nT=0;function y9(t){const[e,n]=T.useState(t),r=t||e;return T.useEffect(()=>{e==null&&(nT+=1,n(`mui-${nT}`))},[e]),r}const rT=qf.useId;function F1(t){if(rT!==void 0){const e=rT();return t??e}return y9(t)}function v9(t,e,n,r,i){return null}function $h({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=T.useRef(t!==void 0),[o,s]=T.useState(e),a=i?t:o,l=T.useCallback(u=>{i||s(u)},[]);return[a,l]}function Xo(t){const e=T.useRef(t);return Ii(()=>{e.current=t}),T.useRef((...n)=>(0,e.current)(...n)).current}function fn(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Lh(n,e)})},t)}const iT={};function _9(t,e){const n=T.useRef(iT);return n.current===iT&&(n.current=t(e)),n}const b9=[];function E9(t){T.useEffect(t,b9)}class om{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new om}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function YD(){const t=_9(om.create).current;return E9(t.disposeEffect),t}let sm=!0,E0=!1;const w9=new om,I9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function S9(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&I9[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function T9(t){t.metaKey||t.altKey||t.ctrlKey||(sm=!0)}function _y(){sm=!1}function x9(){this.visibilityState==="hidden"&&E0&&(sm=!0)}function C9(t){t.addEventListener("keydown",T9,!0),t.addEventListener("mousedown",_y,!0),t.addEventListener("pointerdown",_y,!0),t.addEventListener("touchstart",_y,!0),t.addEventListener("visibilitychange",x9,!0)}function R9(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return sm||S9(e)}function XD(){const t=T.useCallback(i=>{i!=null&&C9(i.ownerDocument)},[]),e=T.useRef(!1);function n(){return e.current?(E0=!0,w9.start(100,()=>{E0=!1}),e.current=!1,!0):!1}function r(i){return R9(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function JD(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function B1(t,e){const n=L({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=L({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=L({},o),Object.keys(i).forEach(s=>{n[r][s]=B1(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ze(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const oT=t=>t,P9=()=>{let t=oT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=oT}}},j1=P9(),A9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ye(t,e,n="Mui"){const r=A9[e];return r?`${n}-${r}`:`${j1.generate(t)}-${e}`}function $e(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ye(t,i,n)}),r}function k9(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const D9=Object.freeze(Object.defineProperty({__proto__:null,default:k9},Symbol.toStringTag,{value:"Module"}));function le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:B1(e.components[n].defaultProps,r)}const O9=["values","unit","step"],M9=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>L({},n,{[r.key]:r.val}),{})};function ZD(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=le(t,O9),o=M9(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,m){const g=s.indexOf(m);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:m)-r/100}${n})`}function d(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function f(h){const m=s.indexOf(h);return m===0?a(s[1]):m===s.length-1?l(s[m]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return L({keys:s,values:o,up:a,down:l,between:u,only:d,not:f,unit:n},i)}const L9={borderRadius:4};function Fu(t,e){return e?Yn(t,e,{clone:!1}):t}const U1={xs:0,sm:600,md:900,lg:1200,xl:1536},sT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${U1[t]}px)`};function br(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||sT;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||sT;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||U1).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function $9(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function V9(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function F9(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function am({values:t,breakpoints:e,base:n}){const r=n||F9(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function lm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Vh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=lm(t,n)||r,e&&(i=e(i,r,t)),i}function Ct(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=lm(l,r)||{};return br(s,a,f=>{let h=Vh(u,i,f);return f===h&&typeof f=="string"&&(h=Vh(u,i,`${e}${f==="default"?"":_e(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function B9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const j9={m:"margin",p:"padding"},U9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},z9=B9(t=>{if(t.length>2)if(aT[t])t=aT[t];else return[t];const[e,n]=t.split(""),r=j9[e],i=U9[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),z1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],W1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...z1,...W1];function nd(t,e,n,r){var i;const o=(i=lm(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function e2(t){return nd(t,"spacing",8)}function rd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function W9(t,e){return n=>t.reduce((r,i)=>(r[i]=rd(e,n),r),{})}function G9(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=z9(n),o=W9(i,r),s=t[n];return br(t,s,o)}function t2(t,e){const n=e2(t.theme);return Object.keys(t).map(r=>G9(t,e,r,n)).reduce(Fu,{})}function _t(t){return t2(t,z1)}_t.propTypes={};_t.filterProps=z1;function bt(t){return t2(t,W1)}bt.propTypes={};bt.filterProps=W1;function q9(t=8){if(t.mui)return t;const e=e2({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function um(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Fu(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function dr(t){return typeof t!="number"?t:`${t}px solid`}function Ir(t,e){return Ct({prop:t,themeKey:"borders",transform:e})}const H9=Ir("border",dr),K9=Ir("borderTop",dr),Q9=Ir("borderRight",dr),Y9=Ir("borderBottom",dr),X9=Ir("borderLeft",dr),J9=Ir("borderColor"),Z9=Ir("borderTopColor"),e6=Ir("borderRightColor"),t6=Ir("borderBottomColor"),n6=Ir("borderLeftColor"),r6=Ir("outline",dr),i6=Ir("outlineColor"),cm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=nd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:rd(e,r)});return br(t,t.borderRadius,n)}return null};cm.propTypes={};cm.filterProps=["borderRadius"];um(H9,K9,Q9,Y9,X9,J9,Z9,e6,t6,n6,cm,r6,i6);const dm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=nd(t.theme,"spacing",8),n=r=>({gap:rd(e,r)});return br(t,t.gap,n)}return null};dm.propTypes={};dm.filterProps=["gap"];const fm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=nd(t.theme,"spacing",8),n=r=>({columnGap:rd(e,r)});return br(t,t.columnGap,n)}return null};fm.propTypes={};fm.filterProps=["columnGap"];const hm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=nd(t.theme,"spacing",8),n=r=>({rowGap:rd(e,r)});return br(t,t.rowGap,n)}return null};hm.propTypes={};hm.filterProps=["rowGap"];const o6=Ct({prop:"gridColumn"}),s6=Ct({prop:"gridRow"}),a6=Ct({prop:"gridAutoFlow"}),l6=Ct({prop:"gridAutoColumns"}),u6=Ct({prop:"gridAutoRows"}),c6=Ct({prop:"gridTemplateColumns"}),d6=Ct({prop:"gridTemplateRows"}),f6=Ct({prop:"gridTemplateAreas"}),h6=Ct({prop:"gridArea"});um(dm,fm,hm,o6,s6,a6,l6,u6,c6,d6,f6,h6);function xa(t,e){return e==="grey"?e:t}const p6=Ct({prop:"color",themeKey:"palette",transform:xa}),m6=Ct({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xa}),g6=Ct({prop:"backgroundColor",themeKey:"palette",transform:xa});um(p6,m6,g6);function Wn(t){return t<=1&&t!==0?`${t*100}%`:t}const y6=Ct({prop:"width",transform:Wn}),G1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||U1[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Wn(n)}};return br(t,t.maxWidth,e)}return null};G1.filterProps=["maxWidth"];const v6=Ct({prop:"minWidth",transform:Wn}),_6=Ct({prop:"height",transform:Wn}),b6=Ct({prop:"maxHeight",transform:Wn}),E6=Ct({prop:"minHeight",transform:Wn});Ct({prop:"size",cssProperty:"width",transform:Wn});Ct({prop:"size",cssProperty:"height",transform:Wn});const w6=Ct({prop:"boxSizing"});um(y6,G1,v6,_6,b6,E6,w6);const id={border:{themeKey:"borders",transform:dr},borderTop:{themeKey:"borders",transform:dr},borderRight:{themeKey:"borders",transform:dr},borderBottom:{themeKey:"borders",transform:dr},borderLeft:{themeKey:"borders",transform:dr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:dr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cm},color:{themeKey:"palette",transform:xa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xa},backgroundColor:{themeKey:"palette",transform:xa},p:{style:bt},pt:{style:bt},pr:{style:bt},pb:{style:bt},pl:{style:bt},px:{style:bt},py:{style:bt},padding:{style:bt},paddingTop:{style:bt},paddingRight:{style:bt},paddingBottom:{style:bt},paddingLeft:{style:bt},paddingX:{style:bt},paddingY:{style:bt},paddingInline:{style:bt},paddingInlineStart:{style:bt},paddingInlineEnd:{style:bt},paddingBlock:{style:bt},paddingBlockStart:{style:bt},paddingBlockEnd:{style:bt},m:{style:_t},mt:{style:_t},mr:{style:_t},mb:{style:_t},ml:{style:_t},mx:{style:_t},my:{style:_t},margin:{style:_t},marginTop:{style:_t},marginRight:{style:_t},marginBottom:{style:_t},marginLeft:{style:_t},marginX:{style:_t},marginY:{style:_t},marginInline:{style:_t},marginInlineStart:{style:_t},marginInlineEnd:{style:_t},marginBlock:{style:_t},marginBlockStart:{style:_t},marginBlockEnd:{style:_t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dm},rowGap:{style:hm},columnGap:{style:fm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wn},maxWidth:{style:G1},minWidth:{transform:Wn},height:{transform:Wn},maxHeight:{transform:Wn},minHeight:{transform:Wn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function I6(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function S6(t,e){return typeof t=="function"?t(e):t}function n2(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=lm(i,u)||{};return f?f(s):br(s,r,g=>{let v=Vh(h,d,g);return g===v&&typeof g=="string"&&(v=Vh(h,d,`${n}${g==="default"?"":_e(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:id;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const d=$9(o.breakpoints),f=Object.keys(d);let h=d;return Object.keys(u).forEach(m=>{const g=S6(u[m],o);if(g!=null)if(typeof g=="object")if(s[m])h=Fu(h,t(m,g,o,s));else{const v=br({theme:o},g,I=>({[m]:I}));I6(v,g)?h[m]=e({sx:g,theme:o}):h=Fu(h,v)}else h=Fu(h,t(m,g,o,s))}),V9(f,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const hl=n2();hl.filterProps=["sx"];function r2(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const T6=["breakpoints","palette","spacing","shape"];function od(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=le(t,T6),a=ZD(n),l=q9(i);let u=Yn({breakpoints:a,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},L9,o)},s);return u.applyStyles=r2,u=e.reduce((d,f)=>Yn(d,f),u),u.unstable_sxConfig=L({},id,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return hl({sx:f,theme:this})},u}const x6=Object.freeze(Object.defineProperty({__proto__:null,default:od,private_createBreakpoints:ZD,unstable_applyStyles:r2},Symbol.toStringTag,{value:"Module"}));function i2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var C6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R6=i2(function(t){return C6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function P6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function A6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var k6=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(A6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=P6(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ln="-ms-",Fh="-moz-",Me="-webkit-",o2="comm",q1="rule",H1="decl",D6="@import",s2="@keyframes",N6="@layer",O6=Math.abs,pm=String.fromCharCode,M6=Object.assign;function L6(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function a2(t){return t.trim()}function $6(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function w0(t,e){return t.indexOf(e)}function Qt(t,e){return t.charCodeAt(e)|0}function Sc(t,e,n){return t.slice(e,n)}function zr(t){return t.length}function K1(t){return t.length}function Zd(t,e){return e.push(t),t}function V6(t,e){return t.map(e).join("")}var mm=1,qa=1,l2=0,Bn=0,At=0,pl="";function gm(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:mm,column:qa,length:s,return:""}}function Zl(t,e){return M6(gm("",null,null,"",null,null,0),t,{length:-t.length},e)}function F6(){return At}function B6(){return At=Bn>0?Qt(pl,--Bn):0,qa--,At===10&&(qa=1,mm--),At}function Xn(){return At=Bn<l2?Qt(pl,Bn++):0,qa++,At===10&&(qa=1,mm++),At}function Zr(){return Qt(pl,Bn)}function Vf(){return Bn}function sd(t,e){return Sc(pl,t,e)}function Tc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u2(t){return mm=qa=1,l2=zr(pl=t),Bn=0,[]}function c2(t){return pl="",t}function Ff(t){return a2(sd(Bn-1,I0(t===91?t+2:t===40?t+1:t)))}function j6(t){for(;(At=Zr())&&At<33;)Xn();return Tc(t)>2||Tc(At)>3?"":" "}function U6(t,e){for(;--e&&Xn()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return sd(t,Vf()+(e<6&&Zr()==32&&Xn()==32))}function I0(t){for(;Xn();)switch(At){case t:return Bn;case 34:case 39:t!==34&&t!==39&&I0(At);break;case 40:t===41&&I0(t);break;case 92:Xn();break}return Bn}function z6(t,e){for(;Xn()&&t+At!==57;)if(t+At===84&&Zr()===47)break;return"/*"+sd(e,Bn-1)+"*"+pm(t===47?t:Xn())}function W6(t){for(;!Tc(Zr());)Xn();return sd(t,Bn)}function G6(t){return c2(Bf("",null,null,null,[""],t=u2(t),0,[0],t))}function Bf(t,e,n,r,i,o,s,a,l){for(var u=0,d=0,f=s,h=0,m=0,g=0,v=1,I=1,b=1,y=0,_="",x=i,k=o,O=r,S=_;I;)switch(g=y,y=Xn()){case 40:if(g!=108&&Qt(S,f-1)==58){w0(S+=Le(Ff(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=Ff(y);break;case 9:case 10:case 13:case 32:S+=j6(g);break;case 92:S+=U6(Vf()-1,7);continue;case 47:switch(Zr()){case 42:case 47:Zd(q6(z6(Xn(),Vf()),e,n),l);break;default:S+="/"}break;case 123*v:a[u++]=zr(S)*b;case 125*v:case 59:case 0:switch(y){case 0:case 125:I=0;case 59+d:b==-1&&(S=Le(S,/\f/g,"")),m>0&&zr(S)-f&&Zd(m>32?uT(S+";",r,n,f-1):uT(Le(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(Zd(O=lT(S,e,n,u,d,i,a,_,x=[],k=[],f),o),y===123)if(d===0)Bf(S,e,O,O,x,o,f,a,k);else switch(h===99&&Qt(S,3)===110?100:h){case 100:case 108:case 109:case 115:Bf(t,O,O,r&&Zd(lT(t,O,O,0,0,i,a,_,i,x=[],f),k),i,k,f,a,r?x:k);break;default:Bf(S,O,O,O,[""],k,0,a,k)}}u=d=m=0,v=b=1,_=S="",f=s;break;case 58:f=1+zr(S),m=g;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&B6()==125)continue}switch(S+=pm(y),y*v){case 38:b=d>0?1:(S+="\f",-1);break;case 44:a[u++]=(zr(S)-1)*b,b=1;break;case 64:Zr()===45&&(S+=Ff(Xn())),h=Zr(),d=f=zr(_=S+=W6(Vf())),y++;break;case 45:g===45&&zr(S)==2&&(v=0)}}return o}function lT(t,e,n,r,i,o,s,a,l,u,d){for(var f=i-1,h=i===0?o:[""],m=K1(h),g=0,v=0,I=0;g<r;++g)for(var b=0,y=Sc(t,f+1,f=O6(v=s[g])),_=t;b<m;++b)(_=a2(v>0?h[b]+" "+y:Le(y,/&\f/g,h[b])))&&(l[I++]=_);return gm(t,e,n,i===0?q1:a,l,u,d)}function q6(t,e,n){return gm(t,e,n,o2,pm(F6()),Sc(t,2,-2),0)}function uT(t,e,n,r){return gm(t,e,n,H1,Sc(t,0,r),Sc(t,r+1,-1),r)}function Ca(t,e){for(var n="",r=K1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function H6(t,e,n,r){switch(t.type){case N6:if(t.children.length)break;case D6:case H1:return t.return=t.return||t.value;case o2:return"";case s2:return t.return=t.value+"{"+Ca(t.children,r)+"}";case q1:t.value=t.props.join(",")}return zr(n=Ca(t.children,r))?t.return=t.value+"{"+n+"}":""}function K6(t){var e=K1(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function Q6(t){return function(e){e.root||(e=e.return)&&t(e)}}var Y6=function(e,n,r){for(var i=0,o=0;i=o,o=Zr(),i===38&&o===12&&(n[r]=1),!Tc(o);)Xn();return sd(e,Bn)},X6=function(e,n){var r=-1,i=44;do switch(Tc(i)){case 0:i===38&&Zr()===12&&(n[r]=1),e[r]+=Y6(Bn-1,n,r);break;case 2:e[r]+=Ff(i);break;case 4:if(i===44){e[++r]=Zr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pm(i)}while(i=Xn());return e},J6=function(e,n){return c2(X6(u2(e),n))},cT=new WeakMap,Z6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!cT.get(r))&&!i){cT.set(e,!0);for(var o=[],s=J6(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},ez=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function d2(t,e){switch(L6(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+Fh+t+ln+t+t;case 6828:case 4268:return Me+t+ln+t+t;case 6165:return Me+t+ln+"flex-"+t+t;case 5187:return Me+t+Le(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+ln+"flex-$1$2")+t;case 5443:return Me+t+ln+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Me+t+ln+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Me+t+ln+Le(t,"shrink","negative")+t;case 5292:return Me+t+ln+Le(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+Le(t,"-grow","")+Me+t+ln+Le(t,"grow","positive")+t;case 4554:return Me+Le(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Fh+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~w0(t,"stretch")?d2(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qt(t,e+1)!==115)break;case 6444:switch(Qt(t,zr(t)-3-(~w0(t,"!important")&&10))){case 107:return Le(t,":",":"+Me)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(Qt(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+ln+"$2box$3")+t}break;case 5936:switch(Qt(t,e+11)){case 114:return Me+t+ln+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+ln+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+ln+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Me+t+ln+t+t}return t}var tz=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case H1:e.return=d2(e.value,e.length);break;case s2:return Ca([Zl(e,{value:Le(e.value,"@","@"+Me)})],i);case q1:if(e.length)return V6(e.props,function(o){switch($6(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ca([Zl(e,{props:[Le(o,/:(read-\w+)/,":"+Fh+"$1")]})],i);case"::placeholder":return Ca([Zl(e,{props:[Le(o,/:(plac\w+)/,":"+Me+"input-$1")]}),Zl(e,{props:[Le(o,/:(plac\w+)/,":"+Fh+"$1")]}),Zl(e,{props:[Le(o,/:(plac\w+)/,ln+"input-$1")]})],i)}return""})}},nz=[tz],f2=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var I=v.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||nz,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var I=v.getAttribute("data-emotion").split(" "),b=1;b<I.length;b++)o[I[b]]=!0;a.push(v)});var l,u=[Z6,ez];{var d,f=[H6,Q6(function(v){d.insert(v)})],h=K6(u.concat(i,f)),m=function(I){return Ca(G6(I),h)};l=function(I,b,y,_){d=y,m(I?I+"{"+b.styles+"}":b.styles),_&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new k6({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},h2={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,Q1=Wt?Symbol.for("react.element"):60103,Y1=Wt?Symbol.for("react.portal"):60106,ym=Wt?Symbol.for("react.fragment"):60107,vm=Wt?Symbol.for("react.strict_mode"):60108,_m=Wt?Symbol.for("react.profiler"):60114,bm=Wt?Symbol.for("react.provider"):60109,Em=Wt?Symbol.for("react.context"):60110,X1=Wt?Symbol.for("react.async_mode"):60111,wm=Wt?Symbol.for("react.concurrent_mode"):60111,Im=Wt?Symbol.for("react.forward_ref"):60112,Sm=Wt?Symbol.for("react.suspense"):60113,rz=Wt?Symbol.for("react.suspense_list"):60120,Tm=Wt?Symbol.for("react.memo"):60115,xm=Wt?Symbol.for("react.lazy"):60116,iz=Wt?Symbol.for("react.block"):60121,oz=Wt?Symbol.for("react.fundamental"):60117,sz=Wt?Symbol.for("react.responder"):60118,az=Wt?Symbol.for("react.scope"):60119;function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Q1:switch(t=t.type,t){case X1:case wm:case ym:case _m:case vm:case Sm:return t;default:switch(t=t&&t.$$typeof,t){case Em:case Im:case xm:case Tm:case bm:return t;default:return e}}case Y1:return e}}}function p2(t){return ir(t)===wm}ze.AsyncMode=X1;ze.ConcurrentMode=wm;ze.ContextConsumer=Em;ze.ContextProvider=bm;ze.Element=Q1;ze.ForwardRef=Im;ze.Fragment=ym;ze.Lazy=xm;ze.Memo=Tm;ze.Portal=Y1;ze.Profiler=_m;ze.StrictMode=vm;ze.Suspense=Sm;ze.isAsyncMode=function(t){return p2(t)||ir(t)===X1};ze.isConcurrentMode=p2;ze.isContextConsumer=function(t){return ir(t)===Em};ze.isContextProvider=function(t){return ir(t)===bm};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Q1};ze.isForwardRef=function(t){return ir(t)===Im};ze.isFragment=function(t){return ir(t)===ym};ze.isLazy=function(t){return ir(t)===xm};ze.isMemo=function(t){return ir(t)===Tm};ze.isPortal=function(t){return ir(t)===Y1};ze.isProfiler=function(t){return ir(t)===_m};ze.isStrictMode=function(t){return ir(t)===vm};ze.isSuspense=function(t){return ir(t)===Sm};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ym||t===wm||t===_m||t===vm||t===Sm||t===rz||typeof t=="object"&&t!==null&&(t.$$typeof===xm||t.$$typeof===Tm||t.$$typeof===bm||t.$$typeof===Em||t.$$typeof===Im||t.$$typeof===oz||t.$$typeof===sz||t.$$typeof===az||t.$$typeof===iz)};ze.typeOf=ir;h2.exports=ze;var lz=h2.exports,J1=lz,uz={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z1={};Z1[J1.ForwardRef]=dz;Z1[J1.Memo]=m2;function dT(t){return J1.isMemo(t)?m2:Z1[t.$$typeof]||uz}var fz=Object.defineProperty,hz=Object.getOwnPropertyNames,fT=Object.getOwnPropertySymbols,pz=Object.getOwnPropertyDescriptor,mz=Object.getPrototypeOf,hT=Object.prototype;function g2(t,e,n){if(typeof e!="string"){if(hT){var r=mz(e);r&&r!==hT&&g2(t,r,n)}var i=hz(e);fT&&(i=i.concat(fT(e)));for(var o=dT(t),s=dT(e),a=0;a<i.length;++a){var l=i[a];if(!cz[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=pz(e,l);try{fz(t,l,u)}catch{}}}}return t}var gz=g2;const pT=rp(gz);var yz=!0;function vz(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var y2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||yz===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},v2=function(e,n,r){y2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function _z(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ez=/[A-Z]|^ms/g,wz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_2=function(e){return e.charCodeAt(1)===45},mT=function(e){return e!=null&&typeof e!="boolean"},by=i2(function(t){return _2(t)?t:t.replace(Ez,"-$&").toLowerCase()}),gT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(wz,function(r,i,o){return Wr={name:i,styles:o,next:Wr},i})}return bz[e]!==1&&!_2(e)&&typeof n=="number"&&n!==0?n+"px":n};function xc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Wr={name:n.name,styles:n.styles,next:Wr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Wr={name:r.name,styles:r.styles,next:Wr},r=r.next;var i=n.styles+";";return i}return Iz(t,e,n)}case"function":{if(t!==void 0){var o=Wr,s=n(t);return Wr=o,xc(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Iz(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xc(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":mT(s)&&(r+=by(o)+":"+gT(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)mT(s[a])&&(r+=by(o)+":"+gT(o,s[a])+";");else{var l=xc(t,e,s);switch(o){case"animation":case"animationName":{r+=by(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var yT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wr,eb=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Wr=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=xc(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=xc(r,n,e[a]),i&&(o+=s[a]);yT.lastIndex=0;for(var l="",u;(u=yT.exec(o))!==null;)l+="-"+u[1];var d=_z(o)+l;return{name:d,styles:o,next:Wr}},Sz=function(e){return e()},b2=qf.useInsertionEffect?qf.useInsertionEffect:!1,Tz=b2||Sz,vT=b2||T.useLayoutEffect,E2=T.createContext(typeof HTMLElement<"u"?f2({key:"css"}):null),xz=E2.Provider,w2=function(e){return T.forwardRef(function(n,r){var i=T.useContext(E2);return e(n,i,r)})},Cm=T.createContext({}),Ey={exports:{}},_T;function I2(){return _T||(_T=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ey)),Ey.exports}I2();var Cz=w2(function(t,e){var n=t.styles,r=eb([n],void 0,T.useContext(Cm)),i=T.useRef();return vT(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),vT(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&v2(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function S2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return eb(e)}var Rm=function(){var e=S2.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Rz=R6,Pz=function(e){return e!=="theme"},bT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Rz:Pz},ET=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Az=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return y2(n,r,i),Tz(function(){return v2(n,r,i)}),null},kz=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=ET(e,n,r),l=a||bT(i),u=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var h=d.length,m=1;m<h;m++)f.push(d[m],d[0][m])}var g=w2(function(v,I,b){var y=u&&v.as||i,_="",x=[],k=v;if(v.theme==null){k={};for(var O in v)k[O]=v[O];k.theme=T.useContext(Cm)}typeof v.className=="string"?_=vz(I.registered,x,v.className):v.className!=null&&(_=v.className+" ");var S=eb(f.concat(x),I.registered,k);_+=I.key+"-"+S.name,s!==void 0&&(_+=" "+s);var w=u&&a===void 0?bT(y):l,C={};for(var R in v)u&&R==="as"||w(R)&&(C[R]=v[R]);return C.className=_,C.ref=b,T.createElement(T.Fragment,null,T.createElement(Az,{cache:I,serialized:S,isStringTag:typeof y=="string"}),T.createElement(y,C))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,I){return t(v,L({},n,I,{shouldForwardProp:ET(g,I,!0)})).apply(void 0,f)},g}},Dz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],S0=kz.bind();Dz.forEach(function(t){S0[t]=S0(t)});let T0;typeof document=="object"&&(T0=f2({key:"css",prepend:!0}));function Nz(t){const{injectFirst:e,children:n}=t;return e&&T0?N.jsx(xz,{value:T0,children:n}):n}function Oz(t){return t==null||Object.keys(t).length===0}function T2(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Oz(i)?n:i):e;return N.jsx(Cz,{styles:r})}function tb(t,e){return S0(t,e)}const x2=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Mz=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:T2,StyledEngineProvider:Nz,ThemeContext:Cm,css:S2,default:tb,internal_processStyles:x2,keyframes:Rm},Symbol.toStringTag,{value:"Module"}));function Lz(t){return Object.keys(t).length===0}function $z(t=null){const e=T.useContext(Cm);return!e||Lz(e)?t:e}const Vz=od();function Pm(t=Vz){return $z(t)}function C2({props:t,name:e,defaultTheme:n,themeId:r}){let i=Pm(n);return r&&(i=i[r]||i),N9({theme:i,name:e,props:t})}const Fz=["sx"],Bz=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:id;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Am(t){const{sx:e}=t,n=le(t,Fz),{systemProps:r,otherProps:i}=Bz(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ai(a)?L({},r,a):r}:o=L({},r,e),L({},i,{sx:o})}const jz=Object.freeze(Object.defineProperty({__proto__:null,default:hl,extendSxProp:Am,unstable_createStyleFunctionSx:n2,unstable_defaultSxConfig:id},Symbol.toStringTag,{value:"Module"}));function Uz(t,e){return L({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Rt={};const zz=Si(l9),Wz=Si(D9);var R2=en;Object.defineProperty(Rt,"__esModule",{value:!0});var Or=Rt.alpha=D2;Rt.blend=rW;Rt.colorChannel=void 0;var Gz=Rt.darken=rb;Rt.decomposeColor=Er;Rt.emphasize=N2;var qz=Rt.getContrastRatio=Jz;Rt.getLuminance=Bh;Rt.hexToRgb=P2;Rt.hslToRgb=k2;var Hz=Rt.lighten=ib;Rt.private_safeAlpha=Zz;Rt.private_safeColorChannel=void 0;Rt.private_safeDarken=eW;Rt.private_safeEmphasize=nW;Rt.private_safeLighten=tW;Rt.recomposeColor=ml;Rt.rgbToHex=Xz;var wT=R2(zz),Kz=R2(Wz);function nb(t,e=0,n=1){return(0,Kz.default)(t,e,n)}function P2(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Er(t){if(t.type)return t;if(t.charAt(0)==="#")return Er(P2(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,wT.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,wT.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const A2=t=>{const e=Er(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Rt.colorChannel=A2;const Yz=(t,e)=>{try{return A2(t)}catch{return t}};Rt.private_safeColorChannel=Yz;function ml(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Xz(t){if(t.indexOf("#")===0)return t;const{values:e}=Er(t);return`#${e.map((n,r)=>Qz(r===3?Math.round(255*n):n)).join("")}`}function k2(t){t=Er(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,d=(u+n/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),ml({type:a,values:l})}function Bh(t){t=Er(t);let e=t.type==="hsl"||t.type==="hsla"?Er(k2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Jz(t,e){const n=Bh(t),r=Bh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function D2(t,e){return t=Er(t),e=nb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ml(t)}function Zz(t,e,n){try{return D2(t,e)}catch{return t}}function rb(t,e){if(t=Er(t),e=nb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ml(t)}function eW(t,e,n){try{return rb(t,e)}catch{return t}}function ib(t,e){if(t=Er(t),e=nb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ml(t)}function tW(t,e,n){try{return ib(t,e)}catch{return t}}function N2(t,e=.15){return Bh(t)>.5?rb(t,e):ib(t,e)}function nW(t,e,n){try{return N2(t,e)}catch{return t}}function rW(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),o=Er(t),s=Er(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return ml({type:"rgb",values:a})}const Cc={black:"#000",white:"#fff"},iW={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ws={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},eu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ks={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oW=["mode","contrastThreshold","tonalOffset"],IT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cc.white,default:Cc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},wy={text:{primary:Cc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ST(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Hz(t.main,i):e==="dark"&&(t.dark=Gz(t.main,o)))}function sW(t="light"){return t==="dark"?{main:qs[200],light:qs[50],dark:qs[400]}:{main:qs[700],light:qs[400],dark:qs[800]}}function aW(t="light"){return t==="dark"?{main:Ws[200],light:Ws[50],dark:Ws[400]}:{main:Ws[500],light:Ws[300],dark:Ws[700]}}function lW(t="light"){return t==="dark"?{main:Gs[500],light:Gs[300],dark:Gs[700]}:{main:Gs[700],light:Gs[400],dark:Gs[800]}}function uW(t="light"){return t==="dark"?{main:Hs[400],light:Hs[300],dark:Hs[700]}:{main:Hs[700],light:Hs[500],dark:Hs[900]}}function cW(t="light"){return t==="dark"?{main:Ks[400],light:Ks[300],dark:Ks[700]}:{main:Ks[800],light:Ks[500],dark:Ks[900]}}function dW(t="light"){return t==="dark"?{main:eu[400],light:eu[300],dark:eu[700]}:{main:"#ed6c02",light:eu[500],dark:eu[900]}}function fW(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=le(t,oW),o=t.primary||sW(e),s=t.secondary||aW(e),a=t.error||lW(e),l=t.info||uW(e),u=t.success||cW(e),d=t.warning||dW(e);function f(v){return qz(v,wy.text.primary)>=n?wy.text.primary:IT.text.primary}const h=({color:v,name:I,mainShade:b=500,lightShade:y=300,darkShade:_=700})=>{if(v=L({},v),!v.main&&v[b]&&(v.main=v[b]),!v.hasOwnProperty("main"))throw new Error(Is(11,I?` (${I})`:"",b));if(typeof v.main!="string")throw new Error(Is(12,I?` (${I})`:"",JSON.stringify(v.main)));return ST(v,"light",y,r),ST(v,"dark",_,r),v.contrastText||(v.contrastText=f(v.main)),v},m={dark:wy,light:IT};return Yn(L({common:L({},Cc),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:d,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:iW,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r},m[e]),i)}const hW=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function pW(t){return Math.round(t*1e5)/1e5}const TT={textTransform:"uppercase"},xT='"Roboto", "Helvetica", "Arial", sans-serif';function mW(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=xT,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:f}=n,h=le(n,hW),m=i/14,g=f||(b=>`${b/u*m}rem`),v=(b,y,_,x,k)=>L({fontFamily:r,fontWeight:b,fontSize:g(y),lineHeight:_},r===xT?{letterSpacing:`${pW(x/y)}em`}:{},k,d),I={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,TT),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,TT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Yn(L({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},I),h,{clone:!1})}const gW=.2,yW=.14,vW=.12;function ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${gW})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${yW})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vW})`].join(",")}const _W=["none",ut(0,2,1,-1,0,1,1,0,0,1,3,0),ut(0,3,1,-2,0,2,2,0,0,1,5,0),ut(0,3,3,-2,0,3,4,0,0,1,8,0),ut(0,2,4,-1,0,4,5,0,0,1,10,0),ut(0,3,5,-1,0,5,8,0,0,1,14,0),ut(0,3,5,-1,0,6,10,0,0,1,18,0),ut(0,4,5,-2,0,7,10,1,0,2,16,1),ut(0,5,5,-3,0,8,10,1,0,3,14,2),ut(0,5,6,-3,0,9,12,1,0,3,16,2),ut(0,6,6,-3,0,10,14,1,0,4,18,3),ut(0,6,7,-4,0,11,15,1,0,4,20,3),ut(0,7,8,-4,0,12,17,2,0,5,22,4),ut(0,7,8,-4,0,13,19,2,0,5,24,4),ut(0,7,9,-4,0,14,21,2,0,5,26,4),ut(0,8,9,-5,0,15,22,2,0,6,28,5),ut(0,8,10,-5,0,16,24,2,0,6,30,5),ut(0,8,11,-5,0,17,26,2,0,6,32,5),ut(0,9,11,-5,0,18,28,2,0,7,34,6),ut(0,9,12,-6,0,19,29,2,0,7,36,6),ut(0,10,13,-6,0,20,31,3,0,8,38,7),ut(0,10,13,-6,0,21,33,3,0,8,40,7),ut(0,10,14,-6,0,22,35,3,0,8,42,7),ut(0,11,14,-7,0,23,36,3,0,9,44,8),ut(0,11,15,-7,0,24,38,3,0,9,46,8)],bW=["duration","easing","delay"],EW={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CT(t){return`${Math.round(t)}ms`}function IW(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function SW(t){const e=L({},EW,t.easing),n=L({},wW,t.duration);return L({getAutoHeightDuration:IW,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return le(o,bW),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:CT(s)} ${a} ${typeof l=="string"?l:CT(l)}`).join(",")}},t,{easing:e,duration:n})}const TW={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xW=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function O2(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=le(t,xW);if(t.vars)throw new Error(Is(18));const a=fW(r),l=od(t);let u=Yn(l,{mixins:Uz(l.breakpoints,n),palette:a,shadows:_W.slice(),typography:mW(a,o),transitions:SW(i),zIndex:L({},TW)});return u=Yn(u,s),u=e.reduce((d,f)=>Yn(d,f),u),u.unstable_sxConfig=L({},id,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return hl({sx:f,theme:this})},u}const km=O2(),ad="$$material";function nt({props:t,name:e}){return C2({props:t,name:e,defaultTheme:km,themeId:ad})}var ld={},Iy={exports:{}},RT;function CW(){return RT||(RT=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)>=0)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Iy)),Iy.exports}const RW=Si(Mz),PW=Si(a9),AW=Si(p9),kW=Si(h9),DW=Si(x6),NW=Si(jz);var gl=en;Object.defineProperty(ld,"__esModule",{value:!0});var OW=ld.default=HW;ld.shouldForwardProp=jf;ld.systemDefaultTheme=void 0;var ar=gl(I2()),x0=gl(CW()),PT=jW(RW),MW=PW;gl(AW);gl(kW);var LW=gl(DW),$W=gl(NW);const VW=["ownerState"],FW=["variants"],BW=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function M2(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(M2=function(r){return r?n:e})(t)}function jW(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=M2(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function UW(t){return Object.keys(t).length===0}function zW(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const WW=ld.systemDefaultTheme=(0,LW.default)(),GW=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ef({defaultTheme:t,theme:e,themeId:n}){return UW(e)?t:e[n]||e}function qW(t){return t?(e,n)=>n[t]:null}function Uf(t,e){let{ownerState:n}=e,r=(0,x0.default)(e,VW);const i=typeof t=="function"?t((0,ar.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>Uf(o,(0,ar.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,x0.default)(i,FW);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,ar.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ar.default)({ownerState:n},r,n)):l.style))}),a}return i}function HW(t={}){const{themeId:e,defaultTheme:n=WW,rootShouldForwardProp:r=jf,slotShouldForwardProp:i=jf}=t,o=s=>(0,$W.default)((0,ar.default)({},s,{theme:ef((0,ar.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,PT.internal_processStyles)(s,k=>k.filter(O=>!(O!=null&&O.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:f,overridesResolver:h=qW(GW(u))}=a,m=(0,x0.default)(a,BW),g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,v=f||!1;let I,b=jf;u==="Root"||u==="root"?b=r:u?b=i:zW(s)&&(b=void 0);const y=(0,PT.default)(s,(0,ar.default)({shouldForwardProp:b,label:I},m)),_=k=>typeof k=="function"&&k.__emotion_real!==k||(0,MW.isPlainObject)(k)?O=>Uf(k,(0,ar.default)({},O,{theme:ef({theme:O.theme,defaultTheme:n,themeId:e})})):k,x=(k,...O)=>{let S=_(k);const w=O?O.map(_):[];l&&h&&w.push(D=>{const M=ef((0,ar.default)({},D,{defaultTheme:n,themeId:e}));if(!M.components||!M.components[l]||!M.components[l].styleOverrides)return null;const A=M.components[l].styleOverrides,z={};return Object.entries(A).forEach(([U,Q])=>{z[U]=Uf(Q,(0,ar.default)({},D,{theme:M}))}),h(D,z)}),l&&!g&&w.push(D=>{var M;const A=ef((0,ar.default)({},D,{defaultTheme:n,themeId:e})),z=A==null||(M=A.components)==null||(M=M[l])==null?void 0:M.variants;return Uf({variants:z},(0,ar.default)({},D,{theme:A}))}),v||w.push(o);const C=w.length-O.length;if(Array.isArray(k)&&C>0){const D=new Array(C).fill("");S=[...k,...D],S.raw=[...k.raw,...D]}const R=y(S,...w);return s.muiName&&(R.muiName=s.muiName),R};return y.withConfig&&(x.withConfig=y.withConfig),x}}function L2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Tn=t=>L2(t)&&t!=="classes",pe=OW({themeId:ad,defaultTheme:km,rootShouldForwardProp:Tn});function KW(t){return Ye("MuiSvgIcon",t)}$e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const QW=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],YW=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${_e(e)}`,`fontSize${_e(n)}`]};return Ze(i,KW,r)},XW=pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${_e(n.color)}`],e[`fontSize${_e(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,u,d,f,h,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?f:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),C0=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:h="0 0 24 24"}=r,m=le(r,QW),g=T.isValidElement(i)&&i.type==="svg",v=L({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:g}),I={};d||(I.viewBox=h);const b=YW(v);return N.jsxs(XW,L({as:a,className:fe(b.root,o),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},I,m,g&&i.props,{ownerState:v,children:[g?i.props.children:i,f?N.jsx("title",{children:f}):null]}))});C0.muiName="SvgIcon";function Ns(t,e){function n(r,i){return N.jsx(C0,L({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=C0.muiName,T.memo(T.forwardRef(n))}const JW={configure:t=>{j1.configure(t)}},ZW=Object.freeze(Object.defineProperty({__proto__:null,capitalize:_e,createChainedFunction:b0,createSvgIcon:Ns,debounce:V1,deprecatedPropType:m9,isMuiElement:$f,ownerDocument:Fn,ownerWindow:_o,requirePropFactory:g9,setRef:Lh,unstable_ClassNameGenerator:JW,unstable_useEnhancedEffect:Ii,unstable_useId:F1,unsupportedProp:v9,useControlled:$h,useEventCallback:Xo,useForkRef:fn,useIsFocusVisible:XD},Symbol.toStringTag,{value:"Module"})),eG=Si(ZW);var AT;function xn(){return AT||(AT=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=eG}(vy)),vy}var tG=en;Object.defineProperty(M1,"__esModule",{value:!0});var Dm=M1.default=void 0,nG=tG(xn()),rG=N;Dm=M1.default=(0,nG.default)((0,rG.jsx)("path",{d:"m6 14 3 3v5h6v-5l3-3V9H6zm5-12h2v3h-2zM3.5 5.88l1.41-1.41 2.12 2.12L5.62 8zm13.46.71 2.12-2.12 1.41 1.41L18.38 8z"}),"Highlight");var ob={},iG=en;Object.defineProperty(ob,"__esModule",{value:!0});var $2=ob.default=void 0,oG=iG(xn()),sG=N;$2=ob.default=(0,oG.default)((0,sG.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode");var sb={},aG=en;Object.defineProperty(sb,"__esModule",{value:!0});var V2=sb.default=void 0,lG=aG(xn()),uG=N;V2=sb.default=(0,lG.default)((0,uG.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode");const cG=Ns(N.jsx("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote"),dG=Ns(N.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),fG=async(t,e)=>{try{return(await jj(fl,t,e)).user}catch(n){throw n}},hG=async(t,e)=>{try{return(await Uj(fl,t,e)).user}catch(n){throw n}},pG=async()=>{try{await Gj(fl)}catch(t){throw t}},mG=()=>new Promise(t=>{D1(fl,e=>{t(!!e)})}),gG=async()=>{try{await pG()}catch(t){console.error("Error logging out:",t)}};var ab={},yG=en;Object.defineProperty(ab,"__esModule",{value:!0});var F2=ab.default=void 0,vG=yG(xn()),_G=N;F2=ab.default=(0,vG.default)((0,_G.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");var lb={},bG=en;Object.defineProperty(lb,"__esModule",{value:!0});var B2=lb.default=void 0,EG=bG(xn()),wG=N;B2=lb.default=(0,EG.default)((0,wG.jsx)("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff");function IG({toggleTheme:t,theme:e}){const[n,r]=T.useState(navigator.onLine);T.useEffect(()=>{const o=()=>{r(navigator.onLine)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]);const i=async()=>{try{const o=collection(db,"notes"),s=query(o,where("userId","==",user.uid)),l=(await getDocs(s)).docs.map(f=>({id:f.id,...f.data()})),u=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),d=document.createElement("a");d.href=URL.createObjectURL(u),d.download="notes_backup.json",d.click(),URL.revokeObjectURL(d.href),console.log("Notes exported successfully!")}catch(o){console.error("Error exporting notes:",o)}};return N.jsxs("header",{children:[N.jsxs("h1",{children:[N.jsx(Dm,{}),"Organica"]}),!n&&N.jsx(B2,{style:{color:"red",float:"right",margin:"10px"}}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:i,children:N.jsx(F2,{})}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:t,children:e==="light"?N.jsx($2,{}):N.jsx(V2,{})}),N.jsx("button",{className:"dark-mode-button",onClick:()=>{gG(),window.location.href="/login"},children:N.jsx(dG,{})})]})}var ub={},SG=en;Object.defineProperty(ub,"__esModule",{value:!0});var cb=ub.default=void 0,TG=SG(xn()),xG=N;cb=ub.default=(0,TG.default)((0,xG.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function CG(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RG(t){var e=CG(t,"string");return Rc(e)=="symbol"?e:e+""}function PG(t,e,n){return(e=RG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function An(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var NT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sy=function(){return Math.random().toString(36).substring(7).split("").join(".")},OT={INIT:"@@redux/INIT"+Sy(),REPLACE:"@@redux/REPLACE"+Sy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Sy()}};function AG(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function j2(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(An(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(An(1));return n(j2)(t,e)}if(typeof t!="function")throw new Error(An(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(An(3));return o}function f(v){if(typeof v!="function")throw new Error(An(4));if(l)throw new Error(An(5));var I=!0;return u(),a.push(v),function(){if(I){if(l)throw new Error(An(6));I=!1,u();var y=a.indexOf(v);a.splice(y,1),s=null}}}function h(v){if(!AG(v))throw new Error(An(7));if(typeof v.type>"u")throw new Error(An(8));if(l)throw new Error(An(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var I=s=a,b=0;b<I.length;b++){var y=I[b];y()}return v}function m(v){if(typeof v!="function")throw new Error(An(10));i=v,h({type:OT.REPLACE})}function g(){var v,I=f;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(An(11));function _(){y.next&&y.next(d())}_();var x=I(_);return{unsubscribe:x}}},v[NT]=function(){return this},v}return h({type:OT.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:m},r[NT]=g,r}function MT(t,e){return function(){return e(t.apply(this,arguments))}}function LT(t,e){if(typeof t=="function")return MT(t,e);if(typeof t!="object"||t===null)throw new Error(An(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=MT(i,e))}return n}function U2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function kG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(An(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=U2.apply(void 0,a)(i.dispatch),DT(DT({},i),{},{dispatch:o})}}}var z2={exports:{}},W2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=T;function DG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NG=typeof Object.is=="function"?Object.is:DG,OG=Ha.useState,MG=Ha.useEffect,LG=Ha.useLayoutEffect,$G=Ha.useDebugValue;function VG(t,e){var n=e(),r=OG({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return LG(function(){i.value=n,i.getSnapshot=e,Ty(i)&&o({inst:i})},[t,n,e]),MG(function(){return Ty(i)&&o({inst:i}),t(function(){Ty(i)&&o({inst:i})})},[t]),$G(n),n}function Ty(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NG(t,n)}catch{return!0}}function FG(t,e){return e()}var BG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FG:VG;W2.useSyncExternalStore=Ha.useSyncExternalStore!==void 0?Ha.useSyncExternalStore:BG;z2.exports=W2;var G2=z2.exports,jG={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=T,UG=G2;function zG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WG=typeof Object.is=="function"?Object.is:zG,GG=UG.useSyncExternalStore,qG=Nm.useRef,HG=Nm.useEffect,KG=Nm.useMemo,QG=Nm.useDebugValue;jG.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=qG(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=KG(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,WG(d,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=GG(t,o[0],o[1]);return HG(function(){s.hasValue=!0,s.value=a},[a]),QG(a),a};function YG(t){t()}let q2=YG;const XG=t=>q2=t,JG=()=>q2,$T=Symbol.for("react-redux-context"),VT=typeof globalThis<"u"?globalThis:{};function ZG(){var t;if(!T.createContext)return{};const e=(t=VT[$T])!=null?t:VT[$T]=new Map;let n=e.get(T.createContext);return n||(n=T.createContext(null),e.set(T.createContext,n)),n}const H2=ZG(),e8=()=>{throw new Error("uSES not initialized!")};var K2={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=Symbol.for("react.element"),hb=Symbol.for("react.portal"),Om=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),t8=Symbol.for("react.server_context"),Fm=Symbol.for("react.forward_ref"),Bm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),zm=Symbol.for("react.lazy"),n8=Symbol.for("react.offscreen"),Q2;Q2=Symbol.for("react.module.reference");function Sr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fb:switch(t=t.type,t){case Om:case Lm:case Mm:case Bm:case jm:return t;default:switch(t=t&&t.$$typeof,t){case t8:case Vm:case Fm:case zm:case Um:case $m:return t;default:return e}}case hb:return e}}}We.ContextConsumer=Vm;We.ContextProvider=$m;We.Element=fb;We.ForwardRef=Fm;We.Fragment=Om;We.Lazy=zm;We.Memo=Um;We.Portal=hb;We.Profiler=Lm;We.StrictMode=Mm;We.Suspense=Bm;We.SuspenseList=jm;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return Sr(t)===Vm};We.isContextProvider=function(t){return Sr(t)===$m};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fb};We.isForwardRef=function(t){return Sr(t)===Fm};We.isFragment=function(t){return Sr(t)===Om};We.isLazy=function(t){return Sr(t)===zm};We.isMemo=function(t){return Sr(t)===Um};We.isPortal=function(t){return Sr(t)===hb};We.isProfiler=function(t){return Sr(t)===Lm};We.isStrictMode=function(t){return Sr(t)===Mm};We.isSuspense=function(t){return Sr(t)===Bm};We.isSuspenseList=function(t){return Sr(t)===jm};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Om||t===Lm||t===Mm||t===Bm||t===jm||t===n8||typeof t=="object"&&t!==null&&(t.$$typeof===zm||t.$$typeof===Um||t.$$typeof===$m||t.$$typeof===Vm||t.$$typeof===Fm||t.$$typeof===Q2||t.getModuleId!==void 0)};We.typeOf=Sr;K2.exports=We;var r8=K2.exports;const i8=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function o8(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,u,d,f,h;function m(y,_){return l=y,u=_,d=t(l,u),f=e(r,u),h=n(d,f,u),a=!0,h}function g(){return d=t(l,u),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function v(){return t.dependsOnOwnProps&&(d=t(l,u)),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function I(){const y=t(l,u),_=!s(y,d);return d=y,_&&(h=n(d,f,u)),h}function b(y,_){const x=!o(_,u),k=!i(y,l,_,u);return l=y,u=_,x&&k?g():x?v():k?I():h}return function(_,x){return a?b(_,x):m(_,x)}}function s8(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=le(e,i8);const s=n(t,o),a=r(t,o),l=i(t,o);return o8(s,a,l,t,o)}function a8(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function R0(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function FT(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Y2(t,e){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=FT(t);let u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=FT(u),u=o(a,l)),u},o}}function pb(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function l8(t){return t&&typeof t=="object"?R0(e=>a8(t,e)):t?typeof t=="function"?Y2(t):pb(t,"mapDispatchToProps"):R0(e=>({dispatch:e}))}function u8(t){return t?typeof t=="function"?Y2(t):pb(t,"mapStateToProps"):R0(()=>({}))}function c8(t,e,n){return L({},n,t,e)}function d8(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,u,d){const f=t(l,u,d);return o?i(f,s)||(s=f):(o=!0,s=f),s}}}function f8(t){return t?typeof t=="function"?d8(t):pb(t,"mergeProps"):()=>c8}function h8(){const t=JG();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const BT={notify(){},get:()=>[]};function X2(t,e){let n,r=BT,i=0,o=!1;function s(v){d();const I=r.subscribe(v);let b=!1;return()=>{b||(b=!0,I(),f())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=h8())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BT)}function h(){o||(o=!0,d())}function m(){o&&(o=!1,f())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}const p8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jh=p8?T.useLayoutEffect:T.useEffect;function jT(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function xy(t,e){if(jT(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!jT(t[n[i]],e[n[i]]))return!1;return!0}const m8=["reactReduxForwardedRef"];let J2=e8;const g8=t=>{J2=t},y8=[null,null];function v8(t,e,n){jh(()=>t(...e),n)}function _8(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function b8(t,e,n,r,i,o,s,a,l,u,d){if(!t)return()=>{};let f=!1,h=null;const m=()=>{if(f||!a.current)return;const v=e.getState();let I,b;try{I=r(v,i.current)}catch(y){b=y,h=y}b||(h=null),I===o.current?s.current||u():(o.current=I,l.current=I,s.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function E8(t,e){return t===e}function Z2(t,e,n,{pure:r,areStatesEqual:i=E8,areOwnPropsEqual:o=xy,areStatePropsEqual:s=xy,areMergedPropsEqual:a=xy,forwardRef:l=!1,context:u=H2}={}){const d=u,f=u8(t),h=l8(e),m=f8(n),g=!!t;return I=>{const b=I.displayName||I.name||"Component",y=`Connect(${b})`,_={shouldHandleStateChanges:g,displayName:y,wrappedComponentName:b,WrappedComponent:I,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function x(S){const[w,C,R]=T.useMemo(()=>{const{reactReduxForwardedRef:Ie}=S,ve=le(S,m8);return[S.context,Ie,ve]},[S]),D=T.useMemo(()=>w&&w.Consumer&&r8.isContextConsumer(T.createElement(w.Consumer,null))?w:d,[w,d]),M=T.useContext(D),A=!!S.store&&!!S.store.getState&&!!S.store.dispatch,z=!!M&&!!M.store,U=A?S.store:M.store,Q=z?M.getServerState:U.getState,K=T.useMemo(()=>s8(U.dispatch,_),[U]),[F,W]=T.useMemo(()=>{if(!g)return y8;const Ie=X2(U,A?void 0:M.subscription),ve=Ie.notifyNestedSubs.bind(Ie);return[Ie,ve]},[U,A,M]),X=T.useMemo(()=>A?M:L({},M,{subscription:F}),[A,M,F]),he=T.useRef(),ne=T.useRef(R),re=T.useRef(),oe=T.useRef(!1);T.useRef(!1);const me=T.useRef(!1),ye=T.useRef();jh(()=>(me.current=!0,()=>{me.current=!1}),[]);const Ae=T.useMemo(()=>()=>re.current&&R===ne.current?re.current:K(U.getState(),R),[U,R]),St=T.useMemo(()=>ve=>F?b8(g,U,F,K,ne,he,oe,me,re,W,ve):()=>{},[F]);v8(_8,[ne,he,oe,R,re,W]);let Ge;try{Ge=J2(St,Ae,Q?()=>K(Q(),R):Ae)}catch(Ie){throw ye.current&&(Ie.message+=`
The error may be correlated with this previous error:
${ye.current.stack}

`),Ie}jh(()=>{ye.current=void 0,re.current=void 0,he.current=Ge});const ft=T.useMemo(()=>T.createElement(I,L({},Ge,{ref:C})),[C,I,Ge]);return T.useMemo(()=>g?T.createElement(D.Provider,{value:X},ft):ft,[D,ft,X])}const O=T.memo(x);if(O.WrappedComponent=I,O.displayName=x.displayName=y,l){const w=T.forwardRef(function(R,D){return T.createElement(O,L({},R,{reactReduxForwardedRef:D}))});return w.displayName=y,w.WrappedComponent=I,pT(w,I)}return pT(O,I)}}function w8({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=T.useMemo(()=>{const u=X2(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),a=T.useMemo(()=>t.getState(),[t]);jh(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=e||H2;return T.createElement(l.Provider,{value:s},n)}g8(G2.useSyncExternalStore);XG(nl.unstable_batchedUpdates);function I8(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function eN(t,e){var n=T.useState(function(){return{inputs:e,result:t()}})[0],r=T.useRef(!0),i=T.useRef(n),o=r.current||!!(e&&i.current.inputs&&I8(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return T.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function S8(t,e){return eN(function(){return t},e)}var Re=eN,se=S8,T8="Invariant failed";function x8(t,e){throw new Error(T8)}var Mr=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},mb=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},UT=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},C8=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Cy={top:0,right:0,bottom:0,left:0},gb=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Cy:r,o=e.border,s=o===void 0?Cy:o,a=e.padding,l=a===void 0?Cy:a,u=Mr(mb(n,i)),d=Mr(UT(n,s)),f=Mr(UT(d,l));return{marginBox:u,borderBox:Mr(n),paddingBox:d,contentBox:f,margin:i,border:s,padding:l}},sr=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&x8(),i},R8=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Uh=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=C8(r,n);return gb({borderBox:a,border:i,margin:o,padding:s})},zh=function(e,n){return n===void 0&&(n=R8()),Uh(e,n)},tN=function(e,n){var r={top:sr(n.marginTop),right:sr(n.marginRight),bottom:sr(n.marginBottom),left:sr(n.marginLeft)},i={top:sr(n.paddingTop),right:sr(n.paddingRight),bottom:sr(n.paddingBottom),left:sr(n.paddingLeft)},o={top:sr(n.borderTopWidth),right:sr(n.borderRightWidth),bottom:sr(n.borderBottomWidth),left:sr(n.borderLeftWidth)};return gb({borderBox:e,margin:r,padding:i,border:o})},nN=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return tN(n,r)},zT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function P8(t,e){return!!(t===e||zT(t)&&zT(e))}function A8(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!P8(t[n],e[n]))return!1;return!0}function Bt(t,e){e===void 0&&(e=A8);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var Pc=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function rN(t,e){}rN.bind(null,"warn");rN.bind(null,"error");function fo(){}function k8(t,e){return{...t,...e}}function pr(t,e,n){const r=e.map(i=>{const o=k8(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const D8="Invariant failed";class Wh extends Error{}Wh.prototype.toString=function(){return this.message};function H(t,e){throw new Wh(D8)}class N8 extends ee.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=fo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Wh&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=pr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Wh){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const O8=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Gh=t=>t+1,M8=t=>`
  You have lifted an item in position ${Gh(t.source.index)}
`,iN=(t,e)=>{const n=t.droppableId===e.droppableId,r=Gh(t.index),i=Gh(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},oN=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,L8=t=>{const e=t.destination;if(e)return iN(t.source,e);const n=t.combine;return n?oN(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},WT=t=>`
  The item has returned to its starting position
  of ${Gh(t.index)}
`,$8=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${WT(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${iN(t.source,e)}
    `:n?`
      You have dropped the item.
      ${oN(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${WT(t.source)}
  `},V8={dragHandleUsageInstructions:O8,onDragStart:M8,onDragUpdate:L8,onDragEnd:$8};var zf=V8;const Ut={x:0,y:0},Yt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Kn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ho=(t,e)=>t.x===e.x&&t.y===e.y,yl=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ss=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Ac=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),GT=(t,e)=>Math.min(...e.map(n=>Ac(t,n))),sN=t=>e=>({x:t(e.x),y:t(e.y)});var F8=(t,e)=>{const n=Mr({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const ud=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),qT=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],B8={top:0,right:0,bottom:0,left:0},j8=(t,e)=>e?ud(t,e.scroll.diff.displacement):t,U8=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,z8=(t,e)=>e&&e.shouldClipSubject?F8(e.pageMarginBox,t):Mr(t);var Ka=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=j8(t.marginBox,r),o=U8(i,n,e),s=z8(o,r);return{page:t,withPlaceholder:e,active:s}},yb=(t,e)=>{t.frame||H();const n=t.frame,r=Kn(e,n.scroll.initial),i=yl(r),o={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},s=Ka({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:s}};const aN=Bt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),lN=Bt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Wm=Bt(t=>Object.values(t)),W8=Bt(t=>Object.values(t));var vl=Bt((t,e)=>W8(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function vb(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Gm(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var qm=Bt((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),G8=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!vb(i))return null;function s(m){const g={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:g}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;const u=qm(e,r);if(!l){if(!u.length)return null;const m=u[u.length-1];return s(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===l);d===-1&&H();const f=d-1;if(f<0)return null;const h=u[f];return s(h.descriptor.id)},_l=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const uN={point:Ut,value:0},kc={invisible:{},visible:{},all:[]},q8={displaced:kc,displacedBy:uN,at:null};var H8=q8,yr=(t,e)=>n=>t<=n&&n<=e,cN=t=>{const e=yr(t.top,t.bottom),n=yr(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return l&&u?!0:l&&s||u&&o}},K8=t=>{const e=yr(t.top,t.bottom),n=yr(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const _b={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},dN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Q8=t=>e=>{const n=yr(e.top,e.bottom),r=yr(e.left,e.right);return i=>t===_b?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Y8=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Ut;return ud(t,n)},X8=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,J8=(t,e,n)=>n(e)(t),bb=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?Y8(t,e):t;return X8(o,e,i)&&J8(o,n,i)},Z8=t=>bb({...t,isVisibleThroughFrameFn:cN}),fN=t=>bb({...t,isVisibleThroughFrameFn:K8}),e7=t=>bb({...t,isVisibleThroughFrameFn:Q8(t.destination.axis)}),t7=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function n7(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Mr(mb(n,r))}function Dc({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return t.reduce(function(a,l){const u=n7(l,n),d=l.descriptor.id;if(a.all.push(d),!Z8({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const h=t7(d,o,i),m={draggableId:d,shouldAnimate:h};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function r7(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function HT({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=r7(t,{inHomeList:e});return{displaced:kc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function qh({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=_l(t,n);if(s==null)return HT({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=e.find(g=>g.descriptor.index===s);if(!u)return HT({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const d=qm(t,e),f=e.indexOf(u),h=d.slice(f);return{displaced:Dc({afterDragging:h,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function bo(t,e){return!!e.effected[t]}var i7=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return bo(o,i)?t?a:a-1:t?a+1:a},o7=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=t?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return o<s||o>l?null:o},s7=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const u=s.at;if(u||H(),u.type==="REORDER"){const f=o7({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:o});return f==null?null:qh({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:f})}const d=i7({isMovingForward:t,destination:i,displaced:s.displaced,draggables:r,combine:u.combine,afterCritical:l});return d==null?null:qh({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})},a7=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return bo(n,e)?i?Ut:yl(r.point):i?r.point:Ut},l7=({afterCritical:t,impact:e,draggables:n})=>{const r=Gm(e);r||H();const i=r.draggableId,o=n[i].page.borderBox.center,s=a7({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Yt(o,s)};const hN=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,u7=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Eb=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,KT=({axis:t,moveRelativeTo:e,isMoving:n})=>Ss(t.line,e.marginBox[t.end]+hN(t,n),Eb(t,e.marginBox,n)),QT=({axis:t,moveRelativeTo:e,isMoving:n})=>Ss(t.line,e.marginBox[t.start]-u7(t,n),Eb(t,e.marginBox,n)),c7=({axis:t,moveInto:e,isMoving:n})=>Ss(t.line,e.contentBox[t.start]+hN(t,n),Eb(t,e.contentBox,n));var d7=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const o=vl(r.descriptor.id,n),s=e.page,a=r.axis;if(!o.length)return c7({axis:a,moveInto:r.page,isMoving:s});const{displaced:l,displacedBy:u}=t,d=l.all[0];if(d){const h=n[d];if(bo(d,i))return QT({axis:a,moveRelativeTo:h.page,isMoving:s});const m=Uh(h.page,u.point);return QT({axis:a,moveRelativeTo:m,isMoving:s})}const f=o[o.length-1];if(f.descriptor.id===e.descriptor.id)return s.borderBox.center;if(bo(f.descriptor.id,i)){const h=Uh(f.page,yl(i.displacedBy.point));return KT({axis:a,moveRelativeTo:h,isMoving:s})}return KT({axis:a,moveRelativeTo:f.page,isMoving:s})},P0=(t,e)=>{const n=t.frame;return n?Yt(e,n.scroll.diff.displacement):e};const f7=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const o=e.page.borderBox.center,s=t.at;return!n||!s?o:s.type==="REORDER"?d7({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):l7({impact:t,draggables:r,afterCritical:i})};var Hm=t=>{const e=f7(t),n=t.droppable;return n?P0(n,e):e},pN=(t,e)=>{const n=Kn(e,t.scroll.initial),r=yl(n);return{frame:Mr({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function YT(t,e){return t.map(n=>e[n])}function h7(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var p7=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const o=pN(e,Yt(e.scroll.current,i)),s=n.frame?yb(n,Yt(n.frame.scroll.current,i)):n,a=t.displaced,l=Dc({afterDragging:YT(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=Dc({afterDragging:YT(a.all,r),destination:s,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},f={},h=[a,l,u];return a.all.forEach(g=>{const v=h7(g,h);if(v){f[g]=v;return}d[g]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:f}}},m7=(t,e)=>Yt(t.scroll.diff.displacement,e),wb=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=m7(n,t),i=Kn(r,e.page.borderBox.center);return Yt(e.client.borderBox.center,i)},mN=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Kn(n,t.page.borderBox.center),l={target:ud(t.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:r};return o?e7(l):fN(l)},g7=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=vl(n.descriptor.id,r),d=_l(e,n),f=G8({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:i})||s7({isMovingForward:t,isInHomeList:d,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:l});if(!f)return null;const h=Hm({impact:f,draggable:e,droppable:n,draggables:r,afterCritical:l});if(mN({draggable:e,destination:n,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wb({pageBorderBoxCenter:h,draggable:e,viewport:o}),impact:f,scrollJumpRequest:null};const g=Kn(h,s),v=p7({impact:f,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:v,scrollJumpRequest:g}};const pn=t=>{const e=t.subject.active;return e||H(),e};var y7=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=yr(o[s.start],o[s.end]),l=Wm(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>cN(i.frame)(pn(d))).filter(d=>{const f=pn(d);return t?o[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<o[s.crossAxisStart]}).filter(d=>{const f=pn(d),h=yr(f[s.start],f[s.end]);return a(f[s.start])||a(f[s.end])||h(o[s.start])||h(o[s.end])}).sort((d,f)=>{const h=pn(d)[s.crossAxisStart],m=pn(f)[s.crossAxisStart];return t?h-m:m-h}).filter((d,f,h)=>pn(d)[s.crossAxisStart]===pn(h[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(d=>yr(pn(d)[s.start],pn(d)[s.end])(e[s.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>pn(d)[s.start]-pn(f)[s.start])[0]:l.sort((d,f)=>{const h=GT(e,qT(pn(d))),m=GT(e,qT(pn(f)));return h!==m?h-m:pn(d)[s.start]-pn(f)[s.start]})[0]};const XT=(t,e)=>{const n=t.page.borderBox.center;return bo(t.descriptor.id,e)?Kn(n,e.displacedBy.point):n},v7=(t,e)=>{const n=t.page.borderBox;return bo(t.descriptor.id,e)?ud(n,yl(e.displacedBy.point)):n};var _7=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>fN({target:v7(s,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=Ac(t,P0(n,XT(s,i))),u=Ac(t,P0(n,XT(a,i)));return l<u?-1:u<l?1:s.descriptor.index-a.descriptor.index})[0]||null,cd=Bt(function(e,n){const r=n[e.line];return{value:r,point:Ss(e.line,r)}});const b7=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Ss(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=vl(t.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Ss(r.line,l)},gN=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),yN=(t,e,n)=>{const r=t.frame;_l(e,t)&&H(),t.subject.withPlaceholder&&H();const i=cd(t.axis,e.displaceBy).point,o=b7(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=Ka({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=o?Yt(r.scroll.max,o):r.scroll.max,l=gN(r,a),u=Ka({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:l});return{...t,subject:u,frame:l}},E7=t=>{const e=t.subject.withPlaceholder;e||H();const n=t.frame;if(!n){const s=Ka({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:s}}const r=e.oldFrameMaxScroll;r||H();const i=gN(n,r),o=Ka({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var w7=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!e){if(n.length)return null;const f={displaced:kc,displacedBy:uN,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=Hm({impact:f,draggable:r,droppable:o,draggables:i,afterCritical:a}),m=_l(r,o)?o:yN(o,r,i);return mN({draggable:r,destination:m,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const l=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],u=(()=>{const f=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?f:f+1})(),d=cd(o.axis,r.displaceBy);return qh({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:d,last:kc,index:u})},I7=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=y7({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:o,viewport:s});if(!l)return null;const u=vl(l.descriptor.id,i),d=_7({pageBorderBoxCenter:e,viewport:s,destination:l,insideDestination:u,afterCritical:a}),f=w7({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:a});if(!f)return null;const h=Hm({impact:f,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:wb({pageBorderBoxCenter:h,draggable:n,viewport:s}),impact:f,scrollJumpRequest:null}},Jn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const S7=(t,e)=>{const n=Jn(t);return n?e[n]:null};var T7=({state:t,type:e})=>{const n=S7(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:f,droppables:h}=t.dimensions;return a?g7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):I7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Bo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function vN(t){const e=yr(t.top,t.bottom),n=yr(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function x7(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function C7({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=Ss(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Ac(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function R7({pageBorderBox:t,draggable:e,droppables:n}){const r=Wm(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!x7(t,o))return!1;if(vN(o)(t.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=t[s.crossAxisStart],u=t[s.crossAxisEnd],d=yr(o[s.crossAxisStart],o[s.crossAxisEnd]),f=d(l),h=d(u);return!f&&!h?!0:f?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:C7({pageBorderBox:t,draggable:e,candidates:r}):null}const _N=(t,e)=>Mr(ud(t,e));var P7=(t,e)=>{const n=t.frame;return n?_N(e,n.scroll.diff.value):e};function bN({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function A7({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var k7=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,l=cd(n.axis,e.displaceBy),u=l.value,d=t[a.start],f=t[a.end],m=qm(e,r).find(v=>{const I=v.descriptor.id,b=v.page.borderBox.center[a.line],y=bo(I,s),_=bN({displaced:i,id:I});return y?_?f<=b:d<b-u:_?f<=b+u:d<b})||null,g=A7({draggable:e,closest:m,inHomeList:_l(e,n)});return qh({draggable:e,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:l,index:g})};const D7=4;var N7=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=cd(r.axis,t.displaceBy),l=a.value,u=e[s.start],d=e[s.end],h=qm(t,i).find(g=>{const v=g.descriptor.id,I=g.page.borderBox,y=I[s.size]/D7,_=bo(v,o),x=bN({displaced:n.displaced,id:v});return _?x?d>I[s.start]+y&&d<I[s.end]-y:u>I[s.start]-l+y&&u<I[s.end]-l-y:x?d>I[s.start]+l+y&&d<I[s.end]+l-y:u>I[s.start]+y&&u<I[s.end]-y});return h?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}}:null},EN=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=_N(e.page.borderBox,t),l=R7({pageBorderBox:a,draggable:e,droppables:r});if(!l)return H8;const u=r[l],d=vl(u.descriptor.id,n),f=P7(u,a);return N7({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||k7({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:u,insideDestination:d,last:i.displaced,viewport:o,afterCritical:s})},Ib=(t,e)=>({...t,[e.descriptor.id]:e});const O7=({previousImpact:t,impact:e,droppables:n})=>{const r=Jn(t),i=Jn(e);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=E7(o);return Ib(n,s)};var M7=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const o=O7({previousImpact:r,impact:i,droppables:n}),s=Jn(i);if(!s)return o;const a=n[s];if(_l(t,a)||a.subject.withPlaceholder)return o;const l=yN(a,t,e);return Ib(o,l)},Bu=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,u=Kn(l,t.initial.client.selection),d={offset:u,selection:l,borderBoxCenter:Yt(t.initial.client.borderBoxCenter,u)},f={selection:Yt(d.selection,s.scroll.current),borderBoxCenter:Yt(d.borderBoxCenter,s.scroll.current),offset:Yt(d.offset,s.scroll.diff.value)},h={client:d,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:s,current:h};const m=a.draggables[t.critical.draggable.id],g=i||EN({pageOffset:f.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=M7({draggable:m,impact:g,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:h,dimensions:{draggables:a.draggables,droppables:v},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function L7(t,e){return t.map(n=>e[n])}var wN=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=t.displaced,s=L7(o.all,n),a=Dc({afterDragging:s,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:a}},IN=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=Hm({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:o});return wb({pageBorderBoxCenter:s,draggable:e,viewport:i})},SN=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&H();const r=t.impact,i=n||t.viewport,o=e||t.dimensions,{draggables:s,droppables:a}=o,l=s[t.critical.draggable.id],u=Jn(r);u||H();const d=a[u],f=wN({impact:r,viewport:i,destination:d,draggables:s}),h=IN({impact:f,draggable:l,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Bu({impact:f,clientSelection:h,state:t,dimensions:o,viewport:i})},$7=t=>({index:t.index,droppableId:t.droppableId}),TN=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=cd(e.axis,t.displaceBy),o=vl(e.descriptor.id,n),s=o.indexOf(t);s===-1&&H();const a=o.slice(s+1),l=a.reduce((h,m)=>(h[m.descriptor.id]=!0,h),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Dc({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:$7(t.descriptor)}},afterCritical:u}},V7=(t,e)=>({draggables:t.draggables,droppables:Ib(t.droppables,e)}),F7=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Uh(t.client,e),i=zh(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},B7=t=>{const e=t.frame;return e||H(),e},j7=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,s=e[o],l=B7(s).scroll.diff.value,u=Yt(r,l);return F7({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},U7=({state:t,published:e})=>{const n=e.modified.map(b=>{const y=t.dimensions.droppables[b.droppableId];return yb(y,b.scroll)}),r={...t.dimensions.droppables,...aN(n)},i=lN(j7({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(b=>{delete o[b]});const s={droppables:r,draggables:o},a=Jn(t.impact),l=a?s.droppables[a]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:f,afterCritical:h}=TN({draggable:u,home:d,draggables:o,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:f,g=EN({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),v={...t,phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?v:{...v,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const A0=t=>t.movementMode==="SNAP",Ry=(t,e,n)=>{const r=V7(t.dimensions,e);return!A0(t)||n?Bu({state:t,dimensions:r}):SN({state:t,dimensions:r})};function Py(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const JT={phase:"IDLE",completed:null,shouldFlush:!1};var z7=(t=JT,e)=>{if(e.type==="FLUSH")return{...JT,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&H();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=e.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Ut},d={client:u,page:{selection:Yt(u.selection,i.scroll.initial),borderBoxCenter:Yt(u.selection,i.scroll.initial),offset:Yt(u.selection,i.scroll.diff.value)}},f=Wm(o.droppables).every(v=>!v.isFixedOnPage),{impact:h,afterCritical:m}=TN({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:m,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&H(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||H(),U7({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Bo(t)||H();const{client:n}=e.payload;return ho(n,t.current.client.selection)?t:Bu({state:t,clientSelection:n,impact:A0(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Py(t);Bo(t)||H();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const o=yb(i,r);return Ry(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||H();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||H(),i.isEnabled===r&&H();const o={...i,isEnabled:r};return Ry(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||H();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||H(),i.isCombineEnabled===r&&H();const o={...i,isCombineEnabled:r};return Ry(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Bo(t)||H(),t.isWindowScrollAllowed||H();const n=e.payload.newScroll;if(ho(t.viewport.scroll.current,n))return Py(t);const r=pN(t.viewport,n);return A0(t)?SN({state:t,viewport:r}):Bu({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bo(t))return t;const n=e.payload.maxScroll;if(ho(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&H();const n=T7({state:t,type:e.type});return n?Bu({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&H(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||H(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};const W7=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),G7=t=>({type:"LIFT",payload:t}),q7=t=>({type:"INITIAL_PUBLISH",payload:t}),H7=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),K7=()=>({type:"COLLECTION_STARTING",payload:null}),Q7=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Y7=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),X7=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),xN=t=>({type:"MOVE",payload:t}),J7=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Z7=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),eq=()=>({type:"MOVE_UP",payload:null}),tq=()=>({type:"MOVE_DOWN",payload:null}),nq=()=>({type:"MOVE_RIGHT",payload:null}),rq=()=>({type:"MOVE_LEFT",payload:null}),Sb=()=>({type:"FLUSH",payload:null}),iq=t=>({type:"DROP_ANIMATE",payload:t}),Tb=t=>({type:"DROP_COMPLETE",payload:t}),CN=t=>({type:"DROP",payload:t}),oq=t=>({type:"DROP_PENDING",payload:t}),RN=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var sq=t=>({getState:e,dispatch:n})=>r=>i=>{if(i.type!=="LIFT"){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(Tb({completed:l.completed})),e().phase!=="IDLE"&&H(),n(Sb()),n(W7({draggableId:o,movementMode:a}));const d={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:h,viewport:m}=t.startPublishing(d);n(q7({critical:f,dimensions:h,clientSelection:s,movementMode:a,viewport:m}))},aq=t=>()=>e=>n=>{n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)};const xb={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Nc={opacity:{drop:0,combining:.7},scale:{drop:.75}},PN={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Oo=`${PN.outOfTheWay}s ${xb.outOfTheWay}`,ju={fluid:`opacity ${Oo}`,snap:`transform ${Oo}, opacity ${Oo}`,drop:t=>{const e=`${t}s ${xb.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Oo}`,placeholder:`height ${Oo}, width ${Oo}, margin ${Oo}`},ZT=t=>ho(t,Ut)?void 0:`translate(${t.x}px, ${t.y}px)`,k0={moveTo:ZT,drop:(t,e)=>{const n=ZT(t);if(n)return e?`${n} scale(${Nc.scale.drop})`:n}},{minDropTime:D0,maxDropTime:AN}=PN,lq=AN-D0,ex=1500,uq=.6;var cq=({current:t,destination:e,reason:n})=>{const r=Ac(t,e);if(r<=0)return D0;if(r>=ex)return AN;const i=r/ex,o=D0+lq*i,s=n==="CANCEL"?o*uq:o;return Number(s.toFixed(2))},dq=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=Jn(t),l=a?s[a]:null,u=s[e.descriptor.droppableId],d=IN({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:l||u,viewport:r});return Kn(d,e.client.borderBox.center)},fq=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||e!=="DROP"?{impact:wN({draggables:t,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:kc},didDropInsideDroppable:!0};const hq=({getState:t,dispatch:e})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const i=t(),o=r.payload.reason;if(i.phase==="COLLECTING"){e(oq({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&H(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||H();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=fq({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f?vb(d):null,m=f?Gm(d):null,g={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:h,combine:m},I=dq({impact:d,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:d};if(!(!ho(i.current.client.offset,I)||!!v.combine)){e(Tb({completed:b}));return}const _=cq({current:i.current.client.offset,destination:I,reason:o});e(iq({newHomeClientOffset:I,dropDuration:_,completed:b}))};var pq=hq,kN=()=>({x:window.pageXOffset,y:window.pageYOffset});function mq(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function gq({onWindowScroll:t}){function e(){t(kN())}const n=Pc(e),r=mq(n);let i=fo;function o(){return i!==fo}function s(){o()&&H(),i=pr(window,[r])}function a(){o()||H(),n.cancel(),i(),i=fo}return{start:s,stop:a,isActive:o}}const yq=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH",vq=t=>{const e=gq({onWindowScroll:n=>{t.dispatch(J7({newScroll:n}))}});return n=>r=>{!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&yq(r)&&e.stop(),n(r)}};var _q=vq,bq=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=()=>e,i},Eq=()=>{const t=[],e=i=>{const o=t.findIndex(a=>a.timerId===i);o===-1&&H();const[s]=t.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),s={timerId:o,callback:i};t.push(s)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const wq=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Iq=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Sq=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},tu=(t,e)=>{e()},tf=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Ay(t,e,n,r){if(!t){n(r(e));return}const i=bq(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var Tq=(t,e)=>{const n=Eq();let r=null;const i=(f,h)=>{r&&H(),tu("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:f,mode:h})})},o=(f,h)=>{r&&H(),tu("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(tf(f,h))})},s=(f,h)=>{r&&H();const m=tf(f,h);r={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{tu("onDragStart",()=>Ay(t().onDragStart,m,e,zf.onDragStart))})},a=(f,h)=>{const m=vb(h),g=Gm(h);r||H();const v=!Sq(f,r.lastCritical);v&&(r.lastCritical=f);const I=!wq(r.lastLocation,m);I&&(r.lastLocation=m);const b=!Iq(r.lastCombine,g);if(b&&(r.lastCombine=g),!v&&!I&&!b)return;const y={...tf(f,r.mode),combine:g,destination:m};n.add(()=>{tu("onDragUpdate",()=>Ay(t().onDragUpdate,y,e,zf.onDragUpdate))})},l=()=>{r||H(),n.flush()},u=f=>{r||H(),r=null,tu("onDragEnd",()=>Ay(t().onDragEnd,f,e,zf.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const f={...tf(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},xq=(t,e)=>{const n=Tq(t,e);return r=>i=>o=>{if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const Cq=t=>e=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&H(),t.dispatch(Tb({completed:r.completed}))};var Rq=Cq;const Pq=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>o=>{if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type!=="DROP_ANIMATE")return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(RN())}};n=requestAnimationFrame(()=>{n=null,e=pr(window,[s])})}};var Aq=Pq,kq=t=>()=>e=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)},Dq=t=>{let e=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Nq=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH";var Oq=t=>e=>n=>r=>{if(Nq(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const i=e.getState();i.phase!=="DRAGGING"&&H(),t.start(i);return}n(r),t.scroll(e.getState())};const Mq=t=>e=>n=>{if(e(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(CN({reason:r.reason})))};var Lq=Mq;const $q=U2;var Vq=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>j2(z7,$q(kG(aq(n),kq(t),sq(t),pq,Rq,Aq,Lq,Oq(o),_q,Dq(e),xq(r,i))));const ky=()=>({additions:{},removals:{},modified:{}});function Fq({registry:t,callbacks:e}){let n=ky(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:d}=n,f=Object.keys(l).map(g=>t.draggable.getById(g).getDimension(Ut)).sort((g,v)=>g.descriptor.index-v.descriptor.index),h=Object.keys(d).map(g=>{const I=t.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:I}}),m={additions:f,removals:Object.keys(u),modified:h};n=ky(),e.publish(m)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=ky())}}}var DN=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Kn({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},NN=()=>{const t=document.documentElement;return t||H(),t},ON=()=>{const t=NN();return DN({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Bq=()=>{const t=kN(),e=ON(),n=t.y,r=t.x,i=NN(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:Mr({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:Ut,displacement:Ut}}}},jq=({critical:t,scrollOptions:e,registry:n})=>{const r=Bq(),i=r.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:lN(a),droppables:aN(s)},critical:t,viewport:r}};function tx(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Uq=(t,e)=>{let n=null;const r=Fq({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(h,m)=>{t.droppable.exists(h)||H(),n&&e.updateDroppableIsEnabled({id:h,isEnabled:m})},o=(h,m)=>{n&&(t.droppable.exists(h)||H(),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},s=(h,m)=>{n&&(t.droppable.exists(h)||H(),e.updateDroppableScroll({id:h,newScroll:m}))},a=(h,m)=>{n&&t.droppable.getById(h).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=h=>{n||H();const m=n.critical.draggable;h.type==="ADDITION"&&tx(t,m,h.value)&&r.add(h.value),h.type==="REMOVAL"&&tx(t,m,h.value)&&r.remove(h.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:h=>{n&&H();const m=t.draggable.getById(h.draggableId),g=t.droppable.getById(m.descriptor.droppableId),v={draggable:m.descriptor,droppable:g.descriptor},I=t.subscribe(u);return n={critical:v,unsubscribe:I},jq({critical:v,registry:t,scrollOptions:h.scrollOptions})},stopPublishing:l}},MN=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",zq=t=>{window.scrollBy(t.x,t.y)};const Wq=Bt(t=>Wm(t).filter(e=>!(!e.isEnabled||!e.frame))),Gq=(t,e)=>Wq(e).find(r=>(r.frame||H(),vN(r.frame.pageMarginBox)(t)))||null;var qq=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return Gq(t,n)};const Oc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Hq=(t,e,n=()=>Oc)=>{const r=n(),i=t[e.size]*r.startFromPercentage,o=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},LN=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},Cb=1,Kq=(t,e,n=()=>Oc)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return Cb;const o=1-LN({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},Qq=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=e,a=o,u=Date.now()-s;if(u>=o)return t;if(u<i)return Cb;const d=LN({startOfRange:i,endOfRange:a,current:u}),f=t*r.ease(d);return Math.ceil(f)},nx=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=Kq(t,e,i);return o===0?0:r?Math.max(Qq(o,n,i),Cb):o},rx=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Hq(t,r,o);return e[r.end]<e[r.start]?nx({distanceToEdge:e[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*nx({distanceToEdge:e[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},Yq=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Xq=sN(t=>t===0?0:t);var $N=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=rx({container:e,distanceToEdges:s,dragStartTime:t,axis:_b,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=rx({container:e,distanceToEdges:s,dragStartTime:t,axis:dN,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=Xq({x:l,y:a});if(ho(u,Ut))return null;const d=Yq({container:e,subject:n,proposedScroll:u});return d?ho(d,Ut)?null:d:null};const Jq=sN(t=>t===0?0:t>0?1:-1),Rb=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Yt(e,r),o={x:t(i.x,n.x),y:t(i.y,n.y)};return ho(o,Ut)?null:o}})(),VN=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Jq(n),o=Rb({max:r,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},Pb=(t,e)=>VN({current:t.scroll.current,max:t.scroll.max,change:e}),Zq=(t,e)=>{if(!Pb(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return Rb({current:r,max:n,change:e})},Ab=(t,e)=>{const n=t.frame;return n?VN({current:n.scroll.current,max:n.scroll.max,change:e}):!1},eH=(t,e)=>{const n=t.frame;return!n||!Ab(t,e)?null:Rb({current:n.scroll.current,max:n.scroll.max,change:e})};var tH=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=$N({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&Pb(t,s)?s:null},nH=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=t.frame;if(!s)return null;const a=$N({dragStartTime:r,container:s.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&Ab(t,a)?a:null},ix=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,h=tH({dragStartTime:e,viewport:f,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(h){r(h);return}}const u=qq({center:s,destination:Jn(t.impact),droppables:t.dimensions.droppables});if(!u)return;const d=nH({dragStartTime:e,droppable:u,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&i(u.descriptor.id,d)},rH=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Oc})=>{const r=Pc(t),i=Pc(e);let o=null;const s=u=>{o||H();const{shouldUseTimeDampening:d,dragStartTime:f}=o;ix({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{o&&H();const d=Date.now();let f=!1;const h=()=>{f=!0};ix({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:n}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&s(u)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},iH=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const u=Yt(a.current.client.selection,l);t({client:u})},i=(a,l)=>{if(!Ab(a,l))return l;const u=eH(a,l);if(!u)return e(a.descriptor.id,l),null;const d=Kn(l,u);return e(a.descriptor.id,d),Kn(l,d)},o=(a,l,u)=>{if(!a||!Pb(l,u))return u;const d=Zq(l,u);if(!d)return n(u),null;const f=Kn(u,d);return n(f),Kn(u,f)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=Jn(a.impact);u||H();const d=i(a.dimensions.droppables[u],l);if(!d)return;const f=a.viewport,h=o(a.isWindowScrollAllowed,f,d);h&&r(a,h)}},oH=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=rH({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),o=iH({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const Qa="data-rfd",Ya=(()=>{const t=`${Qa}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),N0=(()=>{const t=`${Qa}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),sH=(()=>{const t=`${Qa}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),ox={contextId:`${Qa}-scroll-container-context-id`},aH=t=>e=>`[${e}="${t}"]`,nu=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),lH="pointer-events: none;";var uH=t=>{const e=aH(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Ya.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:lH,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ju.outOfTheWay};
    `;return{selector:e(N0.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(sH.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:nu(s,"always"),resting:nu(s,"resting"),dragging:nu(s,"dragging"),dropAnimating:nu(s,"dropAnimating"),userCancel:nu(s,"userCancel")}};const cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;var Zn=cH;const Dy=()=>{const t=document.querySelector("head");return t||H(),t},sx=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function dH(t,e){const n=Re(()=>uH(t),[t]),r=T.useRef(null),i=T.useRef(null),o=se(Bt(f=>{const h=i.current;h||H(),h.textContent=f}),[]),s=se(f=>{const h=r.current;h||H(),h.textContent=f},[]);Zn(()=>{!r.current&&!i.current||H();const f=sx(e),h=sx(e);return r.current=f,i.current=h,f.setAttribute(`${Qa}-always`,t),h.setAttribute(`${Qa}-dynamic`,t),Dy().appendChild(f),Dy().appendChild(h),s(n.always),o(n.resting),()=>{const m=g=>{const v=g.current;v||H(),Dy().removeChild(v),g.current=null};m(r),m(i)}},[e,s,o,n.always,n.resting,t]);const a=se(()=>o(n.dragging),[o,n.dragging]),l=se(f=>{if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=se(()=>{i.current&&o(n.resting)},[o,n.resting]);return Re(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function FN(t,e){return Array.from(t.querySelectorAll(e))}var BN=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Km(t){return t instanceof BN(t).HTMLElement}function fH(t,e){const n=`[${Ya.contextId}="${t}"]`,r=FN(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Ya.draggableId)===e);return!i||!Km(i)?null:i}function hH(t){const e=T.useRef({}),n=T.useRef(null),r=T.useRef(null),i=T.useRef(!1),o=se(function(h,m){const g={id:h,focus:m};return e.current[h]=g,function(){const I=e.current;I[h]!==g&&delete I[h]}},[]),s=se(function(h){const m=fH(t,h);m&&m!==document.activeElement&&m.focus()},[t]),a=se(function(h,m){n.current===h&&(n.current=m)},[]),l=se(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const h=n.current;h&&s(h)}))},[s]),u=se(function(h){n.current=null;const m=document.activeElement;m&&m.getAttribute(Ya.draggableId)===h&&(n.current=h)},[]);return Zn(()=>(i.current=!0,function(){i.current=!1;const h=r.current;h&&cancelAnimationFrame(h)}),[]),Re(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,u,l,a])}function pH(){const t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){const m=e.indexOf(f);m!==-1&&e.splice(m,1)}}function r(f){e.length&&e.forEach(h=>h(f))}function i(f){return t.draggables[f]||null}function o(f){const h=i(f);return h||H(),h}const s={register:f=>{t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,h)=>{const m=t.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,m=i(h);m&&f.uniqueId===m.uniqueId&&(delete t.draggables[h],t.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(t.draggables).filter(h=>h.descriptor.type===f)};function a(f){return t.droppables[f]||null}function l(f){const h=a(f);return h||H(),h}const u={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(t.droppables).filter(h=>h.descriptor.type===f)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:d}}function mH(){const t=Re(pH,[]);return T.useEffect(()=>function(){ee.version.startsWith("16")||ee.version.startsWith("17")?requestAnimationFrame(t.clean):t.clean()},[t]),t}var kb=ee.createContext(null),Hh=()=>{const t=document.body;return t||H(),t};const gH={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var yH=gH;const vH=t=>`rfd-announcement-${t}`;function _H(t){const e=Re(()=>vH(t),[t]),n=T.useRef(null);return T.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),L(o.style,yH),Hh().appendChild(o),function(){setTimeout(function(){const l=Hh();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]),se(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}let bH=0;const jN={separator:"::"};function EH(t,e=jN){return Re(()=>`${t}${e.separator}${bH++}`,[e.separator,t])}function wH(t,e=jN){const n=ee.useId();return Re(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}var Db="useId"in ee?wH:EH;function IH({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function SH({contextId:t,text:e}){const n=Db("hidden-text",{separator:"-"}),r=Re(()=>IH({contextId:t,uniqueId:n}),[n,t]);return T.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=e,o.style.display="none",Hh().appendChild(o),function(){const a=Hh();a.contains(o)&&a.removeChild(o)}},[r,e]),r}var Qm=ee.createContext(null);function UN(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),e}function TH(){let t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&H();const a={abandon:s};return t=a,a}function i(){t||H(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}function Mc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const xH=9,CH=13,Nb=27,zN=32,RH=33,PH=34,AH=35,kH=36,DH=37,NH=38,OH=39,MH=40,LH={[CH]:!0,[xH]:!0};var WN=t=>{LH[t.keyCode]&&t.preventDefault()};const $H=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})();var Ym=$H;const GN=0,ax=5;function VH(t,e){return Math.abs(e.x-t.x)>=ax||Math.abs(e.y-t.y)>=ax}const lx={type:"IDLE"};function FH({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==GN)return;const l={x:s,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&H();const d=u.point;if(!VH(d,l))return;i.preventDefault();const f=u.actions.fluidLift(l);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===Nb){i.preventDefault(),t();return}WN(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&H(),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Ym,fn:t}]}function BH(t){const e=T.useRef(lx),n=T.useRef(fo),r=Re(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==GN||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=t.findClosestDraggableId(f);if(!h)return;const m=t.tryGetLock(h,s,{sourceEvent:f});if(!m)return;f.preventDefault();const g={x:f.clientX,y:f.clientY};n.current(),u(m,g)}}),[t]),i=Re(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=t.findClosestDraggableId(d);if(!f)return;const h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}),[t]),o=se(function(){const f={passive:!1,capture:!0};n.current=pr(window,[i,r],f)},[i,r]),s=se(()=>{e.current.type!=="IDLE"&&(e.current=lx,n.current(),o())},[o]),a=se(()=>{const d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=se(function(){const f={capture:!0,passive:!1},h=FH({cancel:a,completed:s,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=pr(window,h,f)},[a,s]),u=se(function(f,h){e.current.type!=="IDLE"&&H(),e.current={type:"PENDING",point:h,actions:f},l()},[l]);Zn(function(){return o(),function(){n.current()}},[o])}function jH(){}const UH={[PH]:!0,[RH]:!0,[kH]:!0,[AH]:!0};function zH(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Nb){i.preventDefault(),n();return}if(i.keyCode===zN){i.preventDefault(),r();return}if(i.keyCode===MH){i.preventDefault(),t.moveDown();return}if(i.keyCode===NH){i.preventDefault(),t.moveUp();return}if(i.keyCode===OH){i.preventDefault(),t.moveRight();return}if(i.keyCode===DH){i.preventDefault(),t.moveLeft();return}if(UH[i.keyCode]){i.preventDefault();return}WN(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ym,fn:n}]}function WH(t){const e=T.useRef(jH),n=Re(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==zN)return;const s=t.findClosestDraggableId(o);if(!s)return;const a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const u=a.snapLift();e.current();function d(){l||H(),l=!1,e.current(),r()}e.current=pr(window,zH(u,d),{capture:!0,passive:!1})}}),[t]),r=se(function(){const o={passive:!1,capture:!0};e.current=pr(window,[n],o)},[n]);Zn(function(){return r(),function(){e.current()}},[r])}const Ny={type:"IDLE"},GH=120,qH=.15;function HH({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===Nb&&n.preventDefault(),t()}},{eventName:Ym,fn:t}]}function KH({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&H();const o=r.touches[0];if(!o||!(o.force>=qH))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:Ym,fn:t}]}function QH(t){const e=T.useRef(Ny),n=T.useRef(fo),r=se(function(){return e.current},[]),i=se(function(m){e.current=m},[]),o=Re(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const g=t.findClosestDraggableId(m);if(!g)return;const v=t.tryGetLock(g,a,{sourceEvent:m});if(!v)return;const I=m.touches[0],{clientX:b,clientY:y}=I,_={x:b,y};n.current(),f(v,_)}}),[t]),s=se(function(){const m={capture:!0,passive:!1};n.current=pr(window,[o],m)},[o]),a=se(()=>{const h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(Ny),n.current(),s())},[s,i]),l=se(()=>{const h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),u=se(function(){const m={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},v=pr(window,KH(g),m),I=pr(window,HH(g),m);n.current=function(){v(),I()}},[l,r,a]),d=se(function(){const m=r();m.type!=="PENDING"&&H();const g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),f=se(function(m,g){r().type!=="IDLE"&&H();const v=setTimeout(d,GH);i({type:"PENDING",point:g,actions:m,longPressTimerId:v}),u()},[u,r,i,d]);Zn(function(){return s(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(Ny))}},[r,s,i]),Zn(function(){return pr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const YH=["input","button","textarea","select","option","optgroup","video","audio"];function qN(t,e){if(e==null)return!1;if(YH.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:qN(t,e.parentElement)}function XH(t,e){const n=e.target;return Km(n)?qN(t,n):!1}var JH=t=>Mr(t.getBoundingClientRect()).center;function ZH(t){return t instanceof BN(t).Element}const eK=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function HN(t,e){return t==null?null:t[eK](e)?t:HN(t.parentElement,e)}function tK(t,e){return t.closest?t.closest(e):HN(t,e)}function nK(t){return`[${Ya.contextId}="${t}"]`}function rK(t,e){const n=e.target;if(!ZH(n))return null;const r=nK(t),i=tK(n,r);return!i||!Km(i)?null:i}function iK(t,e){const n=rK(t,e);return n?n.getAttribute(Ya.draggableId):null}function oK(t,e){const n=`[${N0.contextId}="${t}"]`,i=FN(document,n).find(o=>o.getAttribute(N0.id)===e);return!i||!Km(i)?null:i}function sK(t){t.preventDefault()}function nf({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function KN({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!MN(e.getState(),r))}function aK({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!KN({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=oK(e,l.descriptor.id);if(!u||s&&!l.options.canDragInteractiveElements&&XH(u,s))return null;const d=t.claim(o||fo);let f="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}function g(k,O){nf({expected:k,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(O())}const v=g.bind(null,"DRAGGING");function I(k){function O(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(O(),H()),n.dispatch(G7(k.liftActionArgs)),f="DRAGGING";function S(w,C={shouldBlockNextClick:!1}){if(k.cleanup(),C.shouldBlockNextClick){const R=pr(window,[{eventName:"click",fn:sK,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(R)}O(),n.dispatch(CN({reason:w}))}return{isActive:()=>nf({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:w=>S("DROP",w),cancel:w=>S("CANCEL",w),...k.actions}}function b(k){const O=Pc(w=>{v(()=>xN({client:w}))});return{...I({liftActionArgs:{id:i,clientSelection:k,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function y(){const k={moveUp:()=>v(eq),moveRight:()=>v(nq),moveDown:()=>v(tq),moveLeft:()=>v(rq)};return I({liftActionArgs:{id:i,clientSelection:JH(u),movementMode:"SNAP"},cleanup:fo,actions:k})}function _(){nf({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>nf({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:b,snapLift:y,abort:_}}const lK=[BH,WH,QH];function uK({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?lK:[],...r||[]],s=T.useState(()=>TH())[0],a=se(function(I,b){Mc(I)&&!Mc(b)&&s.tryAbandon()},[s]);Zn(function(){let I=e.getState();return e.subscribe(()=>{const y=e.getState();a(I,y),I=y})},[s,e,a]),Zn(()=>s.tryAbandon,[s.tryAbandon]);const l=se(v=>KN({lockAPI:s,registry:n,store:e,draggableId:v}),[s,n,e]),u=se((v,I,b)=>aK({lockAPI:s,registry:n,contextId:t,store:e,draggableId:v,forceSensorStop:I||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[t,s,n,e]),d=se(v=>iK(t,v),[t]),f=se(v=>{const I=n.draggable.findById(v);return I?I.options:null},[n.draggable]),h=se(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Sb()))},[s,e]),m=se(()=>s.isClaimed(),[s]),g=Re(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}),[l,u,d,f,h,m]);for(let v=0;v<o.length;v++)o[v](g)}const cK=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};ee.version.startsWith("16")||ee.version.startsWith("17")?n():nl.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),dK=t=>({...Oc,...t.autoScrollerOptions,durationDampening:{...Oc.durationDampening,...t.autoScrollerOptions}});function ru(t){return t.current||H(),t.current}function fK(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=t,s=T.useRef(null),a=UN(t),l=se(()=>cK(a.current),[a]),u=se(()=>dK(a.current),[a]),d=_H(e),f=SH({contextId:e,text:o}),h=dH(e,i),m=se(R=>{ru(s).dispatch(R)},[]),g=Re(()=>LT({publishWhileDragging:H7,updateDroppableScroll:Q7,updateDroppableIsEnabled:Y7,updateDroppableIsCombineEnabled:X7,collectionStarting:K7},m),[m]),v=mH(),I=Re(()=>Uq(v,g),[v,g]),b=Re(()=>oH({scrollWindow:zq,scrollDroppable:I.scrollDroppable,getAutoScrollerOptions:u,...LT({move:xN},m)}),[I.scrollDroppable,m,u]),y=hH(e),_=Re(()=>Vq({announce:d,autoScroller:b,dimensionMarshal:I,focusMarshal:y,getResponders:l,styleMarshal:h}),[d,b,I,y,l,h]);s.current=_;const x=se(()=>{const R=ru(s);R.getState().phase!=="IDLE"&&R.dispatch(Sb())},[]),k=se(()=>{const R=ru(s).getState();return R.phase==="DROP_ANIMATING"?!0:R.phase==="IDLE"?!1:R.isDragging},[]),O=Re(()=>({isDragging:k,tryAbort:x}),[k,x]);n(O);const S=se(R=>MN(ru(s).getState(),R),[]),w=se(()=>Bo(ru(s).getState()),[]),C=Re(()=>({marshal:I,focus:y,contextId:e,canLift:S,isMovementAllowed:w,dragHandleUsageInstructionsId:f,registry:v}),[e,I,f,y,S,w,v]);return uK({contextId:e,store:_,registry:v,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),T.useEffect(()=>x,[x]),ee.createElement(Qm.Provider,{value:C},ee.createElement(w8,{context:kb,store:_},t.children))}let hK=0;function pK(){return Re(()=>`${hK++}`,[])}function mK(){return ee.useId()}var gK="useId"in ee?mK:pK;function yK(t){const e=gK(),n=t.dragHandleUsageInstructions||zf.dragHandleUsageInstructions;return ee.createElement(N8,null,r=>ee.createElement(fK,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const ux={dragging:5e3,dropAnimating:4500},vK=(t,e)=>e?ju.drop(e.duration):t?ju.snap:ju.fluid,_K=(t,e)=>{if(t)return e?Nc.opacity.drop:Nc.opacity.combining},bK=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function EK(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:o}=t,s=!!i,a=bK(t),l=!!o,u=l?k0.drop(r,s):k0.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:vK(a,o),transform:u,opacity:_K(s,l),zIndex:l?ux.dropAnimating:ux.dragging,pointerEvents:"none"}}function wK(t){return{transform:k0.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function IK(t){return t.type==="DRAGGING"?EK(t):wK(t)}function SK(t,e,n=Ut){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=tN(i,r),s=zh(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:o,page:s}}function TK(t){const e=Db("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=t,l=Re(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),u=se(m=>{const g=i();return g||H(),SK(n,g,m)},[n,i]),d=Re(()=>({uniqueId:e,descriptor:n,options:l,getDimension:u}),[n,u,l,e]),f=T.useRef(d),h=T.useRef(!0);Zn(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Zn(()=>{if(h.current){h.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var Ob=ee.createContext(null);function Kh(t){const e=T.useContext(t);return e||H(),e}function xK(t){t.preventDefault()}const CK=t=>{const e=T.useRef(null),n=se((O=null)=>{e.current=O},[]),r=se(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Kh(Qm),{type:a,droppableId:l}=Kh(Ob),u=Re(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:d,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:v,mapped:I,dropAnimationFinished:b}=t;if(!v){const O=Re(()=>({descriptor:u,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h}),[u,s,r,g,m,h]);TK(O)}const y=Re(()=>h?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:xK}:null,[i,o,f,h]),_=se(O=>{I.type==="DRAGGING"&&I.dropping&&O.propertyName==="transform"&&(ee.version.startsWith("16")||ee.version.startsWith("17")?b():nl.flushSync(b))},[b,I]),x=Re(()=>{const O=IK(I),S=I.type==="DRAGGING"&&I.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:O,onTransitionEnd:S},dragHandleProps:y}},[i,y,f,I,_,n]),k=Re(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return ee.createElement(ee.Fragment,null,d(x,I.snapshot,k))};var RK=CK,QN=(t,e)=>t===e,YN=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const PK=t=>t.combine?t.combine.draggableId:null,AK=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function kK(){const t=Bt((i,o)=>({x:i,y:o})),e=Bt((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=Bt((i,o,s,a,l=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,l,u,null)}}));return(i,o)=>{if(Mc(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=Jn(i.impact),u=AK(i.impact),d=i.forceShouldAnimate;return n(t(s.x,s.y),i.movementMode,a,o.isClone,l,u,d)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],u=s.result,d=u.mode,f=YN(u),h=PK(u),g={duration:i.dropDuration,curve:xb.drop,moveTo:i.newHomeClientOffset,opacity:h?Nc.opacity.drop:null,scale:h?Nc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:g,draggingOver:f,combineWith:h,mode:d,forceShouldAnimate:null,snapshot:e(d,a,f,h,g)}}}return null}}function XN(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const DK={mapped:{type:"SECONDARY",offset:Ut,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:XN(null)}};function NK(){const t=Bt((s,a)=>({x:s,y:a})),e=Bt(XN),n=Bt((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=s=>s?n(Ut,s,!0):null,i=(s,a,l,u)=>{const d=l.displaced.visible[s],f=!!(u.inVirtualList&&u.effected[s]),h=Gm(l),m=h&&h.draggableId===s?a:null;if(!d){if(!f)return r(m);if(l.displaced.invisible[s])return null;const I=yl(u.displacedBy.point),b=t(I.x,I.y);return n(b,m,!0)}if(f)return r(m);const g=l.displacedBy.point,v=t(g.x,g.y);return n(v,m,d.shouldAnimate)};return(s,a)=>{if(Mc(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const OK=()=>{const t=kK(),e=NK();return(r,i)=>t(r,i)||e(r,i)||DK},MK={dropAnimationFinished:RN},LK=Z2(OK,MK,null,{context:kb,areStatePropsEqual:QN})(RK);var $K=LK;function JN(t){return Kh(Ob).isUsingCloneFor===t.draggableId&&!t.isClone?null:ee.createElement($K,t)}function VK(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return ee.createElement(JN,L({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ZN=t=>e=>t===e,FK=ZN("scroll"),BK=ZN("auto"),cx=(t,e)=>e(t.overflowX)||e(t.overflowY),jK=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return cx(n,FK)||cx(n,BK)},UK=()=>!1,eO=t=>t==null?null:t===document.body?UK()?t:null:t===document.documentElement?null:jK(t)?t:eO(t.parentElement);var O0=t=>({x:t.scrollLeft,y:t.scrollTop});const tO=t=>t?window.getComputedStyle(t).position==="fixed"?!0:tO(t.parentElement):!1;var zK=t=>{const e=eO(t),n=tO(t);return{closestScrollable:e,isFixedOnPage:n}},WK=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:h,client:m}=a,g=DN({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:Ut,displacement:Ut}}}})(),u=i==="vertical"?_b:dN,d=Ka({page:s,withPlaceholder:null,axis:u,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:o,page:s,frame:l,subject:d}};const GK=(t,e)=>{const n=nN(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,s=i+e.scrollWidth,l=mb({top:r,right:s,bottom:o,left:i},n.border);return gb({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var qK=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=n.closestScrollable,u=GK(t,l),d=zh(u,r),f=(()=>{if(!l)return null;const m=nN(l),g={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:zh(m,r),scroll:O0(l),scrollSize:g,shouldClipSubject:a}})();return WK({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:f})};const HK={passive:!1},KK={passive:!0};var dx=t=>t.shouldPublishImmediately?HK:KK;const rf=t=>t&&t.env.closestScrollable||null;function QK(t){const e=T.useRef(null),n=Kh(Qm),r=Db("droppable"),{registry:i,marshal:o}=n,s=UN(t),a=Re(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=T.useRef(a),u=Re(()=>Bt((x,k)=>{e.current||H();const O={x,y:k};o.updateDroppableScroll(a.id,O)}),[a.id,o]),d=se(()=>{const x=e.current;return!x||!x.env.closestScrollable?Ut:O0(x.env.closestScrollable)},[]),f=se(()=>{const x=d();u(x.x,x.y)},[d,u]),h=Re(()=>Pc(f),[f]),m=se(()=>{const x=e.current,k=rf(x);if(x&&k||H(),x.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),g=se((x,k)=>{e.current&&H();const O=s.current,S=O.getDroppableRef();S||H();const w=zK(S),C={ref:S,descriptor:a,env:w,scrollOptions:k};e.current=C;const R=qK({ref:S,descriptor:a,env:w,windowScroll:x,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),D=w.closestScrollable;return D&&(D.setAttribute(ox.contextId,n.contextId),D.addEventListener("scroll",m,dx(C.scrollOptions))),R},[n.contextId,a,m,s]),v=se(()=>{const x=e.current,k=rf(x);return x&&k||H(),O0(k)},[]),I=se(()=>{const x=e.current;x||H();const k=rf(x);e.current=null,k&&(h.cancel(),k.removeAttribute(ox.contextId),k.removeEventListener("scroll",m,dx(x.scrollOptions)))},[m,h]),b=se(x=>{const k=e.current;k||H();const O=rf(k);O||H(),O.scrollTop+=x.y,O.scrollLeft+=x.x},[]),y=Re(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:I,scroll:b}),[I,g,v,b]),_=Re(()=>({uniqueId:r,descriptor:a,callbacks:y}),[y,a,r]);Zn(()=>(l.current=_.descriptor,i.droppable.register(_),()=>{e.current&&I(),i.droppable.unregister(_)}),[y,a,I,_,o,i.droppable]),Zn(()=>{e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Zn(()=>{e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function Oy(){}const fx={width:0,height:0,margin:B8},YK=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?fx:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},XK=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=YK({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ju.placeholder:null}},JK=t=>{const e=T.useRef(null),n=se(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=t,[a,l]=T.useState(t.animate==="open");T.useEffect(()=>a?r!=="open"?(n(),l(!1),Oy):e.current?Oy:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):Oy,[r,a,n]);const u=se(f=>{f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=XK({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return ee.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:t.innerRef})};var ZK=ee.memo(JK);class eQ extends ee.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const tQ=t=>{const e=T.useContext(Qm);e||H();const{contextId:n,isMovementAllowed:r}=e,i=T.useRef(null),o=T.useRef(null),{children:s,droppableId:a,type:l,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:g,useClone:v,updateViewportMaxScroll:I,getContainerForClone:b}=t,y=se(()=>i.current,[]),_=se((D=null)=>{i.current=D},[]);se(()=>o.current,[]);const x=se((D=null)=>{o.current=D},[]),k=se(()=>{r()&&I({maxScroll:ON()})},[r,I]);QK({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:y});const O=Re(()=>ee.createElement(eQ,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:D,data:M,animate:A})=>ee.createElement(ZK,{placeholder:M,onClose:D,innerRef:x,animate:A,contextId:n,onTransitionEnd:k})),[n,k,t.placeholder,t.shouldAnimatePlaceholder,x]),S=Re(()=>({innerRef:_,placeholder:O,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,O,_]),w=v?v.dragging.draggableId:null,C=Re(()=>({droppableId:a,type:l,isUsingCloneFor:w}),[a,w,l]);function R(){if(!v)return null;const{dragging:D,render:M}=v,A=ee.createElement(JN,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(z,U)=>M(z,U,D));return pu.createPortal(A,b())}return ee.createElement(Ob.Provider,{value:C},s(S,g),R())};var nQ=tQ;function rQ(){return document.body||H(),document.body}const hx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:rQ},nO=t=>{let e={...t},n;for(n in hx)t[n]===void 0&&(e={...e,[n]:hx[n]});return e},My=(t,e)=>t===e.droppable.type,px=(t,e)=>e.draggables[t.draggable.id],iQ=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Bt(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=Bt((o,s,a,l,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===o){const g=d?{render:d,dragging:n(u.descriptor)}:null,v={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:g}}if(!s)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,s)=>{const a=nO(s),l=a.droppableId,u=a.type,d=!a.isDropDisabled,f=a.renderClone;if(Mc(o)){const h=o.critical;if(!My(u,h))return e;const m=px(h,o.dimensions),g=Jn(o.impact)===l;return r(l,d,g,g,m,f)}if(o.phase==="DROP_ANIMATING"){const h=o.completed;if(!My(u,h.critical))return e;const m=px(h.critical,o.dimensions);return r(l,d,YN(h.result)===l,Jn(h.impact)===l,m,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const h=o.completed;if(!My(u,h.critical))return e;const m=Jn(h.impact)===l,g=!!(h.impact.at&&h.impact.at.type==="COMBINE"),v=h.critical.droppable.id===l;return m?g?t:e:v?t:e}return e}},oQ={updateViewportMaxScroll:Z7},sQ=Z2(iQ,oQ,(t,e,n)=>({...nO(n),...t,...e}),{context:kb,areStatePropsEqual:QN})(nQ);var aQ=sQ,Mb={},lQ=en;Object.defineProperty(Mb,"__esModule",{value:!0});var rO=Mb.default=void 0,uQ=lQ(xn()),cQ=N;rO=Mb.default=(0,uQ.default)((0,cQ.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");function dQ({styles:t,themeId:e,defaultTheme:n={}}){const r=Pm(n),i=typeof t=="function"?t(e&&r[e]||r):t;return N.jsx(T2,{styles:i})}const fQ=["className","component"];function hQ(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=tb("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(hl);return T.forwardRef(function(l,u){const d=Pm(n),f=Am(l),{className:h,component:m="div"}=f,g=le(f,fQ);return N.jsx(o,L({as:m,ref:u,className:fe(h,i?i(r):r),theme:e&&d[e]||d},g))})}const pQ=["ownerState"],mQ=["variants"],gQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function yQ(t){return Object.keys(t).length===0}function vQ(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ly(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const _Q=od(),bQ=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function of({defaultTheme:t,theme:e,themeId:n}){return yQ(e)?t:e[n]||e}function EQ(t){return t?(e,n)=>n[t]:null}function Wf(t,e){let{ownerState:n}=e,r=le(e,pQ);const i=typeof t=="function"?t(L({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>Wf(o,L({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=le(i,mQ);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(L({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(L({ownerState:n},r,n)):l.style))}),a}return i}function wQ(t={}){const{themeId:e,defaultTheme:n=_Q,rootShouldForwardProp:r=Ly,slotShouldForwardProp:i=Ly}=t,o=s=>hl(L({},s,{theme:of(L({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{x2(s,k=>k.filter(O=>!(O!=null&&O.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:f,overridesResolver:h=EQ(bQ(u))}=a,m=le(a,gQ),g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,v=f||!1;let I,b=Ly;u==="Root"||u==="root"?b=r:u?b=i:vQ(s)&&(b=void 0);const y=tb(s,L({shouldForwardProp:b,label:I},m)),_=k=>typeof k=="function"&&k.__emotion_real!==k||ai(k)?O=>Wf(k,L({},O,{theme:of({theme:O.theme,defaultTheme:n,themeId:e})})):k,x=(k,...O)=>{let S=_(k);const w=O?O.map(_):[];l&&h&&w.push(D=>{const M=of(L({},D,{defaultTheme:n,themeId:e}));if(!M.components||!M.components[l]||!M.components[l].styleOverrides)return null;const A=M.components[l].styleOverrides,z={};return Object.entries(A).forEach(([U,Q])=>{z[U]=Wf(Q,L({},D,{theme:M}))}),h(D,z)}),l&&!g&&w.push(D=>{var M;const A=of(L({},D,{defaultTheme:n,themeId:e})),z=A==null||(M=A.components)==null||(M=M[l])==null?void 0:M.variants;return Wf({variants:z},L({},D,{theme:A}))}),v||w.push(o);const C=w.length-O.length;if(Array.isArray(k)&&C>0){const D=new Array(C).fill("");S=[...k,...D],S.raw=[...k.raw,...D]}const R=y(S,...w);return s.muiName&&(R.muiName=s.muiName),R};return y.withConfig&&(x.withConfig=y.withConfig),x}}const IQ=wQ(),SQ=T.createContext(),TQ=()=>{const t=T.useContext(SQ);return t??!1},xQ=["className","component","disableGutters","fixed","maxWidth","classes"],CQ=od(),RQ=IQ("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${_e(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),PQ=t=>C2({props:t,name:"MuiContainer",defaultTheme:CQ}),AQ=(t,e)=>{const n=l=>Ye(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${_e(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Ze(a,n,r)};function kQ(t={}){const{createStyledComponent:e=RQ,useThemeProps:n=PQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>L({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,u)=>{const d=u,f=s.breakpoints.values[d];return f!==0&&(l[s.breakpoints.up(d)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>L({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return T.forwardRef(function(a,l){const u=n(a),{className:d,component:f="div",disableGutters:h=!1,fixed:m=!1,maxWidth:g="lg"}=u,v=le(u,xQ),I=L({},u,{component:f,disableGutters:h,fixed:m,maxWidth:g}),b=AQ(I,r);return N.jsx(i,L({as:f,ownerState:I,className:fe(b.root,d),ref:l},v))})}function Lb(){const t=Pm(km);return t[ad]||t}const mx=T.createContext();function DQ(t){return Ye("MuiGrid",t)}const NQ=[0,1,2,3,4,5,6,7,8,9,10],OQ=["column-reverse","column","row-reverse","row"],MQ=["nowrap","wrap-reverse","wrap"],iu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Lc=$e("MuiGrid",["root","container","item","zeroMinWidth",...NQ.map(t=>`spacing-xs-${t}`),...OQ.map(t=>`direction-xs-${t}`),...MQ.map(t=>`wrap-xs-${t}`),...iu.map(t=>`grid-xs-${t}`),...iu.map(t=>`grid-sm-${t}`),...iu.map(t=>`grid-md-${t}`),...iu.map(t=>`grid-lg-${t}`),...iu.map(t=>`grid-xl-${t}`)]),LQ=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ra(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function $Q({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=am({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const f=`calc(${l} + ${Ra(d)})`;u={flexBasis:f,maxWidth:f}}}o=L({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function VQ({theme:t,ownerState:e}){const n=am({values:e.direction,breakpoints:t.breakpoints.values});return br({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Lc.item}`]={maxWidth:"none"}),i})}function iO({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function FQ({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=am({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=iO({breakpoints:t.breakpoints.values,values:o})),i=br({theme:t},o,(a,l)=>{var u;const d=t.spacing(a);return d!=="0px"?{marginTop:`-${Ra(d)}`,[`& > .${Lc.item}`]:{paddingTop:Ra(d)}}:(u=s)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Lc.item}`]:{paddingTop:0}}})}return i}function BQ({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=am({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=iO({breakpoints:t.breakpoints.values,values:o})),i=br({theme:t},o,(a,l)=>{var u;const d=t.spacing(a);return d!=="0px"?{width:`calc(100% + ${Ra(d)})`,marginLeft:`-${Ra(d)}`,[`& > .${Lc.item}`]:{paddingLeft:Ra(d)}}:(u=s)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Lc.item}`]:{paddingLeft:0}}})}return i}function jQ(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const UQ=pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let d=[];r&&(d=jQ(s,u,e));const f=[];return u.forEach(h=>{const m=n[h];m&&f.push(e[`grid-${h}-${String(m)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...d,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...f]}})(({ownerState:t})=>L({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),VQ,FQ,BQ,$Q);function zQ(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const WQ=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=zQ(o,l));const d=[];l.forEach(h=>{const m=t[h];m&&d.push(`grid-${h}-${String(m)}`)});const f={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...d]};return Ze(f,DQ,e)},ii=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiGrid"}),{breakpoints:i}=Lb(),o=Am(r),{className:s,columns:a,columnSpacing:l,component:u="div",container:d=!1,direction:f="row",item:h=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:I=!1}=o,b=le(o,LQ),y=m||g,_=l||g,x=T.useContext(mx),k=d?a||12:x,O={},S=L({},b);i.keys.forEach(R=>{b[R]!=null&&(O[R]=b[R],delete S[R])});const w=L({},o,{columns:k,container:d,direction:f,item:h,rowSpacing:y,columnSpacing:_,wrap:v,zeroMinWidth:I,spacing:g},O,{breakpoints:i.keys}),C=WQ(w);return N.jsx(mx.Provider,{value:k,children:N.jsx(UQ,L({ownerState:w,className:fe(C.root,s),as:u,ref:n},S))})});var qt=[];for(var $y=0;$y<256;++$y)qt.push(($y+256).toString(16).slice(1));function GQ(t,e=0){return(qt[t[e+0]]+qt[t[e+1]]+qt[t[e+2]]+qt[t[e+3]]+"-"+qt[t[e+4]]+qt[t[e+5]]+"-"+qt[t[e+6]]+qt[t[e+7]]+"-"+qt[t[e+8]]+qt[t[e+9]]+"-"+qt[t[e+10]]+qt[t[e+11]]+qt[t[e+12]]+qt[t[e+13]]+qt[t[e+14]]+qt[t[e+15]]).toLowerCase()}var sf,qQ=new Uint8Array(16);function HQ(){if(!sf&&(sf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sf(qQ)}var KQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const gx={randomUUID:KQ};function M0(t,e,n){if(gx.randomUUID&&!e&&!t)return gx.randomUUID();t=t||{};var r=t.random||(t.rng||HQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,GQ(r)}var $b={},QQ=en;Object.defineProperty($b,"__esModule",{value:!0});var oO=$b.default=void 0,YQ=QQ(xn()),XQ=N;oO=$b.default=(0,YQ.default)((0,XQ.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var Vb={},JQ=en;Object.defineProperty(Vb,"__esModule",{value:!0});var sO=Vb.default=void 0,ZQ=JQ(xn()),eY=N;sO=Vb.default=(0,ZQ.default)((0,eY.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const Fb=T.createContext(void 0);function Os(){return T.useContext(Fb)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},L0(t,e)}function aO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L0(t,e)}const yx={disabled:!1},Qh=ee.createContext(null);var tY=function(e){return e.scrollTop},wu="unmounted",jo="exited",Uo="entering",na="entered",$0="exiting",ti=function(t){aO(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=jo,o.appearStatus=Uo):l=na:r.unmountOnExit||r.mountOnEnter?l=wu:l=jo,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===wu?{status:jo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Uo&&s!==na&&(o=Uo):(s===Uo||s===na)&&(o=$0)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:pu.findDOMNode(this);s&&tY(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jo&&this.setState({status:wu})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[pu.findDOMNode(this),a],u=l[0],d=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||yx.disabled){this.safeSetState({status:na},function(){o.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Uo},function(){o.props.onEntering(u,d),o.onTransitionEnd(h,function(){o.safeSetState({status:na},function(){o.props.onEntered(u,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:pu.findDOMNode(this);if(!o||yx.disabled){this.safeSetState({status:jo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:$0},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:jo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:pu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===wu)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=le(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ee.createElement(Qh.Provider,{value:null},typeof s=="function"?s(i,a):ee.cloneElement(ee.Children.only(s),a))},e}(ee.Component);ti.contextType=Qh;ti.propTypes={};function Qs(){}ti.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qs,onEntering:Qs,onEntered:Qs,onExit:Qs,onExiting:Qs,onExited:Qs};ti.UNMOUNTED=wu;ti.EXITED=jo;ti.ENTERING=Uo;ti.ENTERED=na;ti.EXITING=$0;function nY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bb(t,e){var n=function(o){return e&&T.isValidElement(o)?e(o):o},r=Object.create(null);return t&&T.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function rY(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Jo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function iY(t,e){return Bb(t.children,function(n){return T.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Jo(n,"appear",t),enter:Jo(n,"enter",t),exit:Jo(n,"exit",t)})})}function oY(t,e,n){var r=Bb(t.children),i=rY(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(T.isValidElement(s)){var a=o in e,l=o in r,u=e[o],d=T.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[o]=T.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Jo(s,"exit",t),enter:Jo(s,"enter",t)}):!l&&a&&!d?i[o]=T.cloneElement(s,{in:!1}):l&&a&&T.isValidElement(u)&&(i[o]=T.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Jo(s,"exit",t),enter:Jo(s,"enter",t)}))}}),i}var sY=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},aY={component:"div",childFactory:function(e){return e}},jb=function(t){aO(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(nY(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?iY(i,a):oY(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Bb(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=L({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=le(i,["component","childFactory"]),l=this.state.contextValue,u=sY(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ee.createElement(Qh.Provider,{value:l},u):ee.createElement(Qh.Provider,{value:l},ee.createElement(o,a,u))},e}(ee.Component);jb.propTypes={};jb.defaultProps=aY;function lY(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[d,f]=T.useState(!1),h=fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=fe(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&f(!0),T.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),N.jsx("span",{className:h,style:m,children:N.jsx("span",{className:g})})}const lr=$e("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),uY=["center","classes","className"];let Xm=t=>t,vx,_x,bx,Ex;const V0=550,cY=80,dY=Rm(vx||(vx=Xm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),fY=Rm(_x||(_x=Xm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),hY=Rm(bx||(bx=Xm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),pY=pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mY=pe(lY,{name:"MuiTouchRipple",slot:"Ripple"})(Ex||(Ex=Xm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),lr.rippleVisible,dY,V0,({theme:t})=>t.transitions.easing.easeInOut,lr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,lr.child,lr.childLeaving,fY,V0,({theme:t})=>t.transitions.easing.easeInOut,lr.childPulsate,hY,({theme:t})=>t.transitions.easing.easeInOut),gY=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=le(r,uY),[l,u]=T.useState([]),d=T.useRef(0),f=T.useRef(null);T.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=T.useRef(!1),m=YD(),g=T.useRef(null),v=T.useRef(null),I=T.useCallback(x=>{const{pulsate:k,rippleX:O,rippleY:S,rippleSize:w,cb:C}=x;u(R=>[...R,N.jsx(mY,{classes:{ripple:fe(o.ripple,lr.ripple),rippleVisible:fe(o.rippleVisible,lr.rippleVisible),ripplePulsate:fe(o.ripplePulsate,lr.ripplePulsate),child:fe(o.child,lr.child),childLeaving:fe(o.childLeaving,lr.childLeaving),childPulsate:fe(o.childPulsate,lr.childPulsate)},timeout:V0,pulsate:k,rippleX:O,rippleY:S,rippleSize:w},d.current)]),d.current+=1,f.current=C},[o]),b=T.useCallback((x={},k={},O=()=>{})=>{const{pulsate:S=!1,center:w=i||k.pulsate,fakeElement:C=!1}=k;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const R=C?null:v.current,D=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,A,z;if(w||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)M=Math.round(D.width/2),A=Math.round(D.height/2);else{const{clientX:U,clientY:Q}=x.touches&&x.touches.length>0?x.touches[0]:x;M=Math.round(U-D.left),A=Math.round(Q-D.top)}if(w)z=Math.sqrt((2*D.width**2+D.height**2)/3),z%2===0&&(z+=1);else{const U=Math.max(Math.abs((R?R.clientWidth:0)-M),M)*2+2,Q=Math.max(Math.abs((R?R.clientHeight:0)-A),A)*2+2;z=Math.sqrt(U**2+Q**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{I({pulsate:S,rippleX:M,rippleY:A,rippleSize:z,cb:O})},m.start(cY,()=>{g.current&&(g.current(),g.current=null)})):I({pulsate:S,rippleX:M,rippleY:A,rippleSize:z,cb:O})},[i,I,m]),y=T.useCallback(()=>{b({},{pulsate:!0})},[b]),_=T.useCallback((x,k)=>{if(m.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,m.start(0,()=>{_(x,k)});return}g.current=null,u(O=>O.length>0?O.slice(1):O),f.current=k},[m]);return T.useImperativeHandle(n,()=>({pulsate:y,start:b,stop:_}),[y,b,_]),N.jsx(pY,L({className:fe(lr.root,o.root,s),ref:v},a,{children:N.jsx(jb,{component:null,exit:!0,children:l})}))});function yY(t){return Ye("MuiButtonBase",t)}const vY=$e("MuiButtonBase",["root","disabled","focusVisible"]),_Y=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],bY=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},yY,i);return n&&r&&(s.root+=` ${r}`),s},EY=pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vY.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Jm=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:h=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:I,onDragLeave:b,onFocus:y,onFocusVisible:_,onKeyDown:x,onKeyUp:k,onMouseDown:O,onMouseLeave:S,onMouseUp:w,onTouchEnd:C,onTouchMove:R,onTouchStart:D,tabIndex:M=0,TouchRippleProps:A,touchRippleRef:z,type:U}=r,Q=le(r,_Y),K=T.useRef(null),F=T.useRef(null),W=fn(F,z),{isFocusVisibleRef:X,onFocus:he,onBlur:ne,ref:re}=XD(),[oe,me]=T.useState(!1);u&&oe&&me(!1),T.useImperativeHandle(i,()=>({focusVisible:()=>{me(!0),K.current.focus()}}),[]);const[ye,Ae]=T.useState(!1);T.useEffect(()=>{Ae(!0)},[]);const St=ye&&!d&&!u;T.useEffect(()=>{oe&&h&&!d&&ye&&F.current.pulsate()},[d,h,oe,ye]);function Ge(de,or,Ro=f){return Xo(Rr=>(or&&or(Rr),!Ro&&F.current&&F.current[de](Rr),!0))}const ft=Ge("start",O),Te=Ge("stop",I),Ie=Ge("stop",b),ve=Ge("stop",w),De=Ge("stop",de=>{oe&&de.preventDefault(),S&&S(de)}),qe=Ge("start",D),xr=Ge("stop",C),Cn=Ge("stop",R),Rn=Ge("stop",de=>{ne(de),X.current===!1&&me(!1),g&&g(de)},!1),Pn=Xo(de=>{K.current||(K.current=de.currentTarget),he(de),X.current===!0&&(me(!0),_&&_(de)),y&&y(de)}),tn=()=>{const de=K.current;return l&&l!=="button"&&!(de.tagName==="A"&&de.href)},et=T.useRef(!1),Cr=Xo(de=>{h&&!et.current&&oe&&F.current&&de.key===" "&&(et.current=!0,F.current.stop(de,()=>{F.current.start(de)})),de.target===de.currentTarget&&tn()&&de.key===" "&&de.preventDefault(),x&&x(de),de.target===de.currentTarget&&tn()&&de.key==="Enter"&&!u&&(de.preventDefault(),v&&v(de))}),Lt=Xo(de=>{h&&de.key===" "&&F.current&&oe&&!de.defaultPrevented&&(et.current=!1,F.current.stop(de,()=>{F.current.pulsate(de)})),k&&k(de),v&&de.target===de.currentTarget&&tn()&&de.key===" "&&!de.defaultPrevented&&v(de)});let He=l;He==="button"&&(Q.href||Q.to)&&(He=m);const jn={};He==="button"?(jn.type=U===void 0?"button":U,jn.disabled=u):(!Q.href&&!Q.to&&(jn.role="button"),u&&(jn["aria-disabled"]=u));const rt=fn(n,re,K),it=L({},r,{centerRipple:o,component:l,disabled:u,disableRipple:d,disableTouchRipple:f,focusRipple:h,tabIndex:M,focusVisible:oe}),Oe=bY(it);return N.jsxs(EY,L({as:He,className:fe(Oe.root,a),ownerState:it,onBlur:Rn,onClick:v,onContextMenu:Te,onFocus:Pn,onKeyDown:Cr,onKeyUp:Lt,onMouseDown:ft,onMouseLeave:De,onMouseUp:ve,onDragLeave:Ie,onTouchEnd:xr,onTouchMove:Cn,onTouchStart:qe,ref:rt,tabIndex:u?-1:M,type:U},jn,Q,{children:[s,St?N.jsx(gY,L({ref:W,center:o},A)):null]}))});function wY(t){return Ye("PrivateSwitchBase",t)}$e("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const IY=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],SY=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${_e(i)}`],input:["input"]};return Ze(o,wY,e)},TY=pe(Jm)(({ownerState:t})=>L({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),xY=pe("input",{shouldForwardProp:Tn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),CY=T.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:f,id:h,inputProps:m,inputRef:g,name:v,onBlur:I,onChange:b,onFocus:y,readOnly:_,required:x=!1,tabIndex:k,type:O,value:S}=e,w=le(e,IY),[C,R]=$h({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),D=Os(),M=W=>{y&&y(W),D&&D.onFocus&&D.onFocus(W)},A=W=>{I&&I(W),D&&D.onBlur&&D.onBlur(W)},z=W=>{if(W.nativeEvent.defaultPrevented)return;const X=W.target.checked;R(X),b&&b(W,X)};let U=l;D&&typeof U>"u"&&(U=D.disabled);const Q=O==="checkbox"||O==="radio",K=L({},e,{checked:C,disabled:U,disableFocusRipple:u,edge:d}),F=SY(K);return N.jsxs(TY,L({component:"span",className:fe(F.root,s),centerRipple:!0,focusRipple:!u,disabled:U,tabIndex:null,role:void 0,onFocus:M,onBlur:A,ownerState:K,ref:n},w,{children:[N.jsx(xY,L({autoFocus:r,checked:i,defaultChecked:a,className:F.input,disabled:U,id:Q?h:void 0,name:v,onChange:z,readOnly:_,ref:g,required:x,ownerState:K,tabIndex:k,type:O},O==="checkbox"&&S===void 0?{}:{value:S},m)),C?o:f]}))}),RY=Ns(N.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),PY=Ns(N.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),AY=Ns(N.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function kY(t){return Ye("MuiCheckbox",t)}const Vy=$e("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),DY=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],NY=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${_e(r)}`,`size${_e(i)}`]},s=Ze(o,kY,e);return L({},e,s)},OY=pe(CY,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${_e(n.size)}`],n.color!=="default"&&e[`color${_e(n.color)}`]]}})(({theme:t,ownerState:e})=>L({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Or(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${Vy.checked}, &.${Vy.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Vy.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),MY=N.jsx(PY,{}),LY=N.jsx(RY,{}),$Y=N.jsx(AY,{}),wx=T.forwardRef(function(e,n){var r,i;const o=nt({props:e,name:"MuiCheckbox"}),{checkedIcon:s=MY,color:a="primary",icon:l=LY,indeterminate:u=!1,indeterminateIcon:d=$Y,inputProps:f,size:h="medium",className:m}=o,g=le(o,DY),v=u?d:l,I=u?d:s,b=L({},o,{color:a,indeterminate:u,size:h}),y=NY(b);return N.jsx(OY,L({type:"checkbox",inputProps:L({"data-indeterminate":u},f),icon:T.cloneElement(v,{fontSize:(r=v.props.fontSize)!=null?r:h}),checkedIcon:T.cloneElement(I,{fontSize:(i=I.props.fontSize)!=null?i:h}),ownerState:b,ref:n,className:fe(y.root,m)},g,{classes:y}))}),Ub=({itemsArray:t,updateItemsArray:e,editable:n=!1})=>{const[r,i]=T.useState([]),[o,s]=T.useState(null),[a,l]=T.useState(0);T.useEffect(()=>{l(r.length),i(t)},[t]);const u=y=>{if(!y.destination)return;const _=Array.from(r),[x]=_.splice(y.source.index,1);_.splice(y.destination.index,0,x),i(_),e(_)},d=y=>{const _=r.map(x=>x.id===y?{...x,checked:!x.checked}:x);i(_),e(_)},f=y=>{const _=r.filter(x=>x.id!=y);e(_)},h=(y,_)=>{const x=r.map(k=>k.id===y?{...k,text:_}:k);i(x),e(x)},m=(y,_)=>{if(console.log("addNewItem()"),_==="")return;const x={id:M0(),text:_,checked:!1};console.log(x);const k=[...r,x];e(k),y.target.value=""},g=()=>{console.log("addBlankItem()");const y={id:M0(),text:"",checked:!1};console.log(y);const _=[...r,y];e(_)},v=(y,_)=>({userSelect:"none",padding:2,background:y?"rgba(0,0,0,0.5)":"rgba(0,0,0,0)",display:"flex",justifyContent:"space-between",alignItems:"center",..._}),I=y=>({}),b=T.useRef();return T.useEffect(()=>{a<r.length&&b.current&&b.current.focus()},[r.length]),N.jsxs(N.Fragment,{children:[N.jsx(yK,{onDragEnd:u,children:N.jsx(aQ,{droppableId:"checkboxList",children:(y,_)=>N.jsxs("div",{...y.droppableProps,ref:y.innerRef,style:I(_.isDraggingOver),children:[r.map((x,k)=>N.jsx(VK,{draggableId:x.id,index:k,children:(O,S)=>N.jsx("div",{className:"checkbox-list-item",ref:O.innerRef,...O.draggableProps,style:v(S.isDragging,O.draggableProps.style),children:N.jsxs(ii,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[N.jsx(ii,{item:!0,xs:1,children:N.jsx("div",{...O.dragHandleProps,className:"hover-icons",style:{cursor:"grab",flexGrow:0,opacity:(S.isDragging||o===x.id)&&1},children:N.jsx(rO,{sx:{color:"var(--light-gray)"}})})}),N.jsx(ii,{item:!0,xs:2,style:{flexGrow:0},children:N.jsx(wx,{checked:x.checked,onChange:()=>d(x.id),className:"check-style",sx:{color:"var(--light-gray)","&.Mui-checked":{color:"var(--primary-color)"}}})}),N.jsx(ii,{item:!0,xs:8,children:N.jsx("p",{className:"note-content",ref:x.id===r[r.length-1].id?b:null,contentEditable:n,style:{outline:"none",marginBottom:"0",textDecoration:x.checked&&"line-through",minHeight:"20px"},onBlur:w=>{h(x.id,w.target.textContent),s(null)},onFocus:()=>{s(x.id)},autoFocus:r[r.length-1].id===x.id,children:x.text})}),n&&N.jsx(ii,{item:!0,xs:1,children:N.jsx("div",{className:"hover-icons",style:{cursor:"cursor",flexGrow:0,opacity:(S.isDragging||o===x.id)&&1},onClick:()=>{f(x.id)},children:N.jsx(sO,{sx:{color:"var(--light-gray)"}})})})]})})},x.id)),y.placeholder]})})}),n&&N.jsxs(ii,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",style:{color:"var(--primary-muted-color)",paddingLeft:"2px"},children:[N.jsx(ii,{item:!0,xs:1}),N.jsx(ii,{item:!0,xs:2,children:N.jsx(wx,{className:"check-style",sx:{color:"var(--light-gray)","&[aria-disabled='true']":{color:"var(--light-gray)"}},disabled:!0})}),N.jsx(ii,{item:!0,xs:9,children:N.jsx("input",{style:{flexGrow:2,fontSize:"1.1em",background:"none",color:"var(--text-color)",border:"none"},type:"text",placeholder:"add new item",onBlur:y=>m(y,y.target.value),onFocus:g})})]})]})},Ix=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Yh(t){return typeof t=="string"}function VY(t,e,n){return t===void 0||Yh(t)?e:L({},e,{ownerState:L({},e.ownerState,n)})}function lO(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function FY(t,e,n){return typeof t=="function"?t(e,n):t}function Sx(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function BY(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const m=fe(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=L({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=L({},n,i,r);return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=lO(L({},i,r)),a=Sx(r),l=Sx(i),u=e(s),d=fe(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=L({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=L({},u,n,l,a);return d.length>0&&(h.className=d),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}const jY=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xa(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=le(t,jY),a=o?{}:FY(r,i),{props:l,internalRef:u}=BY(L({},s,{externalSlotProps:a})),d=fn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return VY(n,L({},l,{ref:d}),i)}function UY(){this.__data__=[],this.size=0}var zY=UY;function WY(t,e){return t===e||t!==t&&e!==e}var uO=WY,GY=uO;function qY(t,e){for(var n=t.length;n--;)if(GY(t[n][0],e))return n;return-1}var Zm=qY,HY=Zm,KY=Array.prototype,QY=KY.splice;function YY(t){var e=this.__data__,n=HY(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():QY.call(e,n,1),--this.size,!0}var XY=YY,JY=Zm;function ZY(t){var e=this.__data__,n=JY(e,t);return n<0?void 0:e[n][1]}var eX=ZY,tX=Zm;function nX(t){return tX(this.__data__,t)>-1}var rX=nX,iX=Zm;function oX(t,e){var n=this.__data__,r=iX(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sX=oX,aX=zY,lX=XY,uX=eX,cX=rX,dX=sX;function bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bl.prototype.clear=aX;bl.prototype.delete=lX;bl.prototype.get=uX;bl.prototype.has=cX;bl.prototype.set=dX;var eg=bl,fX=eg;function hX(){this.__data__=new fX,this.size=0}var pX=hX;function mX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gX=mX;function yX(t){return this.__data__.get(t)}var vX=yX;function _X(t){return this.__data__.has(t)}var bX=_X,EX=typeof xd=="object"&&xd&&xd.Object===Object&&xd,cO=EX,wX=cO,IX=typeof self=="object"&&self&&self.Object===Object&&self,SX=wX||IX||Function("return this")(),Ri=SX,TX=Ri,xX=TX.Symbol,zb=xX,Tx=zb,dO=Object.prototype,CX=dO.hasOwnProperty,RX=dO.toString,ou=Tx?Tx.toStringTag:void 0;function PX(t){var e=CX.call(t,ou),n=t[ou];try{t[ou]=void 0;var r=!0}catch{}var i=RX.call(t);return r&&(e?t[ou]=n:delete t[ou]),i}var AX=PX,kX=Object.prototype,DX=kX.toString;function NX(t){return DX.call(t)}var OX=NX,xx=zb,MX=AX,LX=OX,$X="[object Null]",VX="[object Undefined]",Cx=xx?xx.toStringTag:void 0;function FX(t){return t==null?t===void 0?VX:$X:Cx&&Cx in Object(t)?MX(t):LX(t)}var tg=FX;function BX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fO=BX,jX=tg,UX=fO,zX="[object AsyncFunction]",WX="[object Function]",GX="[object GeneratorFunction]",qX="[object Proxy]";function HX(t){if(!UX(t))return!1;var e=jX(t);return e==WX||e==GX||e==zX||e==qX}var hO=HX,KX=Ri,QX=KX["__core-js_shared__"],YX=QX,Fy=YX,Rx=function(){var t=/[^.]+$/.exec(Fy&&Fy.keys&&Fy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function XX(t){return!!Rx&&Rx in t}var JX=XX,ZX=Function.prototype,eJ=ZX.toString;function tJ(t){if(t!=null){try{return eJ.call(t)}catch{}try{return t+""}catch{}}return""}var pO=tJ,nJ=hO,rJ=JX,iJ=fO,oJ=pO,sJ=/[\\^$.*+?()[\]{}|]/g,aJ=/^\[object .+?Constructor\]$/,lJ=Function.prototype,uJ=Object.prototype,cJ=lJ.toString,dJ=uJ.hasOwnProperty,fJ=RegExp("^"+cJ.call(dJ).replace(sJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hJ(t){if(!iJ(t)||rJ(t))return!1;var e=nJ(t)?fJ:aJ;return e.test(oJ(t))}var pJ=hJ;function mJ(t,e){return t==null?void 0:t[e]}var gJ=mJ,yJ=pJ,vJ=gJ;function _J(t,e){var n=vJ(t,e);return yJ(n)?n:void 0}var El=_J,bJ=El,EJ=Ri,wJ=bJ(EJ,"Map"),Wb=wJ,IJ=El,SJ=IJ(Object,"create"),ng=SJ,Px=ng;function TJ(){this.__data__=Px?Px(null):{},this.size=0}var xJ=TJ;function CJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RJ=CJ,PJ=ng,AJ="__lodash_hash_undefined__",kJ=Object.prototype,DJ=kJ.hasOwnProperty;function NJ(t){var e=this.__data__;if(PJ){var n=e[t];return n===AJ?void 0:n}return DJ.call(e,t)?e[t]:void 0}var OJ=NJ,MJ=ng,LJ=Object.prototype,$J=LJ.hasOwnProperty;function VJ(t){var e=this.__data__;return MJ?e[t]!==void 0:$J.call(e,t)}var FJ=VJ,BJ=ng,jJ="__lodash_hash_undefined__";function UJ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=BJ&&e===void 0?jJ:e,this}var zJ=UJ,WJ=xJ,GJ=RJ,qJ=OJ,HJ=FJ,KJ=zJ;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=WJ;wl.prototype.delete=GJ;wl.prototype.get=qJ;wl.prototype.has=HJ;wl.prototype.set=KJ;var QJ=wl,Ax=QJ,YJ=eg,XJ=Wb;function JJ(){this.size=0,this.__data__={hash:new Ax,map:new(XJ||YJ),string:new Ax}}var ZJ=JJ;function eZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var tZ=eZ,nZ=tZ;function rZ(t,e){var n=t.__data__;return nZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rg=rZ,iZ=rg;function oZ(t){var e=iZ(this,t).delete(t);return this.size-=e?1:0,e}var sZ=oZ,aZ=rg;function lZ(t){return aZ(this,t).get(t)}var uZ=lZ,cZ=rg;function dZ(t){return cZ(this,t).has(t)}var fZ=dZ,hZ=rg;function pZ(t,e){var n=hZ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var mZ=pZ,gZ=ZJ,yZ=sZ,vZ=uZ,_Z=fZ,bZ=mZ;function Il(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Il.prototype.clear=gZ;Il.prototype.delete=yZ;Il.prototype.get=vZ;Il.prototype.has=_Z;Il.prototype.set=bZ;var mO=Il,EZ=eg,wZ=Wb,IZ=mO,SZ=200;function TZ(t,e){var n=this.__data__;if(n instanceof EZ){var r=n.__data__;if(!wZ||r.length<SZ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new IZ(r)}return n.set(t,e),this.size=n.size,this}var xZ=TZ,CZ=eg,RZ=pX,PZ=gX,AZ=vX,kZ=bX,DZ=xZ;function Sl(t){var e=this.__data__=new CZ(t);this.size=e.size}Sl.prototype.clear=RZ;Sl.prototype.delete=PZ;Sl.prototype.get=AZ;Sl.prototype.has=kZ;Sl.prototype.set=DZ;var NZ=Sl,OZ="__lodash_hash_undefined__";function MZ(t){return this.__data__.set(t,OZ),this}var LZ=MZ;function $Z(t){return this.__data__.has(t)}var VZ=$Z,FZ=mO,BZ=LZ,jZ=VZ;function Xh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new FZ;++e<n;)this.add(t[e])}Xh.prototype.add=Xh.prototype.push=BZ;Xh.prototype.has=jZ;var UZ=Xh;function zZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var WZ=zZ;function GZ(t,e){return t.has(e)}var qZ=GZ,HZ=UZ,KZ=WZ,QZ=qZ,YZ=1,XZ=2;function JZ(t,e,n,r,i,o){var s=n&YZ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&XZ?new HZ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],v=e[f];if(r)var I=s?r(v,g,f,e,t,o):r(g,v,f,t,e,o);if(I!==void 0){if(I)continue;h=!1;break}if(m){if(!KZ(e,function(b,y){if(!QZ(m,y)&&(g===b||i(g,b,n,r,o)))return m.push(y)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var gO=JZ,ZZ=Ri,eee=ZZ.Uint8Array,tee=eee;function nee(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ree=nee;function iee(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var oee=iee,kx=zb,Dx=tee,see=uO,aee=gO,lee=ree,uee=oee,cee=1,dee=2,fee="[object Boolean]",hee="[object Date]",pee="[object Error]",mee="[object Map]",gee="[object Number]",yee="[object RegExp]",vee="[object Set]",_ee="[object String]",bee="[object Symbol]",Eee="[object ArrayBuffer]",wee="[object DataView]",Nx=kx?kx.prototype:void 0,By=Nx?Nx.valueOf:void 0;function Iee(t,e,n,r,i,o,s){switch(n){case wee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Eee:return!(t.byteLength!=e.byteLength||!o(new Dx(t),new Dx(e)));case fee:case hee:case gee:return see(+t,+e);case pee:return t.name==e.name&&t.message==e.message;case yee:case _ee:return t==e+"";case mee:var a=lee;case vee:var l=r&cee;if(a||(a=uee),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=dee,s.set(t,e);var d=aee(a(t),a(e),r,i,o,s);return s.delete(t),d;case bee:if(By)return By.call(t)==By.call(e)}return!1}var See=Iee;function Tee(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var xee=Tee,Cee=Array.isArray,Gb=Cee,Ree=xee,Pee=Gb;function Aee(t,e,n){var r=e(t);return Pee(t)?r:Ree(r,n(t))}var kee=Aee;function Dee(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Nee=Dee;function Oee(){return[]}var Mee=Oee,Lee=Nee,$ee=Mee,Vee=Object.prototype,Fee=Vee.propertyIsEnumerable,Ox=Object.getOwnPropertySymbols,Bee=Ox?function(t){return t==null?[]:(t=Object(t),Lee(Ox(t),function(e){return Fee.call(t,e)}))}:$ee,jee=Bee;function Uee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zee=Uee;function Wee(t){return t!=null&&typeof t=="object"}var ig=Wee,Gee=tg,qee=ig,Hee="[object Arguments]";function Kee(t){return qee(t)&&Gee(t)==Hee}var Qee=Kee,Mx=Qee,Yee=ig,yO=Object.prototype,Xee=yO.hasOwnProperty,Jee=yO.propertyIsEnumerable,Zee=Mx(function(){return arguments}())?Mx:function(t){return Yee(t)&&Xee.call(t,"callee")&&!Jee.call(t,"callee")},ete=Zee,Jh={exports:{}};function tte(){return!1}var nte=tte;Jh.exports;(function(t,e){var n=Ri,r=nte,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Jh,Jh.exports);var vO=Jh.exports,rte=9007199254740991,ite=/^(?:0|[1-9]\d*)$/;function ote(t,e){var n=typeof t;return e=e??rte,!!e&&(n=="number"||n!="symbol"&&ite.test(t))&&t>-1&&t%1==0&&t<e}var ste=ote,ate=9007199254740991;function lte(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ate}var _O=lte,ute=tg,cte=_O,dte=ig,fte="[object Arguments]",hte="[object Array]",pte="[object Boolean]",mte="[object Date]",gte="[object Error]",yte="[object Function]",vte="[object Map]",_te="[object Number]",bte="[object Object]",Ete="[object RegExp]",wte="[object Set]",Ite="[object String]",Ste="[object WeakMap]",Tte="[object ArrayBuffer]",xte="[object DataView]",Cte="[object Float32Array]",Rte="[object Float64Array]",Pte="[object Int8Array]",Ate="[object Int16Array]",kte="[object Int32Array]",Dte="[object Uint8Array]",Nte="[object Uint8ClampedArray]",Ote="[object Uint16Array]",Mte="[object Uint32Array]",at={};at[Cte]=at[Rte]=at[Pte]=at[Ate]=at[kte]=at[Dte]=at[Nte]=at[Ote]=at[Mte]=!0;at[fte]=at[hte]=at[Tte]=at[pte]=at[xte]=at[mte]=at[gte]=at[yte]=at[vte]=at[_te]=at[bte]=at[Ete]=at[wte]=at[Ite]=at[Ste]=!1;function Lte(t){return dte(t)&&cte(t.length)&&!!at[ute(t)]}var $te=Lte;function Vte(t){return function(e){return t(e)}}var Fte=Vte,Zh={exports:{}};Zh.exports;(function(t,e){var n=cO,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Zh,Zh.exports);var Bte=Zh.exports,jte=$te,Ute=Fte,Lx=Bte,$x=Lx&&Lx.isTypedArray,zte=$x?Ute($x):jte,bO=zte,Wte=zee,Gte=ete,qte=Gb,Hte=vO,Kte=ste,Qte=bO,Yte=Object.prototype,Xte=Yte.hasOwnProperty;function Jte(t,e){var n=qte(t),r=!n&&Gte(t),i=!n&&!r&&Hte(t),o=!n&&!r&&!i&&Qte(t),s=n||r||i||o,a=s?Wte(t.length,String):[],l=a.length;for(var u in t)(e||Xte.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kte(u,l)))&&a.push(u);return a}var Zte=Jte,ene=Object.prototype;function tne(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ene;return t===n}var nne=tne;function rne(t,e){return function(n){return t(e(n))}}var ine=rne,one=ine,sne=one(Object.keys,Object),ane=sne,lne=nne,une=ane,cne=Object.prototype,dne=cne.hasOwnProperty;function fne(t){if(!lne(t))return une(t);var e=[];for(var n in Object(t))dne.call(t,n)&&n!="constructor"&&e.push(n);return e}var hne=fne,pne=hO,mne=_O;function gne(t){return t!=null&&mne(t.length)&&!pne(t)}var yne=gne,vne=Zte,_ne=hne,bne=yne;function Ene(t){return bne(t)?vne(t):_ne(t)}var wne=Ene,Ine=kee,Sne=jee,Tne=wne;function xne(t){return Ine(t,Tne,Sne)}var Cne=xne,Vx=Cne,Rne=1,Pne=Object.prototype,Ane=Pne.hasOwnProperty;function kne(t,e,n,r,i,o){var s=n&Rne,a=Vx(t),l=a.length,u=Vx(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Ane.call(e,h)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var I=s;++f<l;){h=a[f];var b=t[h],y=e[h];if(r)var _=s?r(y,b,h,e,t,o):r(b,y,h,t,e,o);if(!(_===void 0?b===y||i(b,y,n,r,o):_)){v=!1;break}I||(I=h=="constructor")}if(v&&!I){var x=t.constructor,k=e.constructor;x!=k&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof k=="function"&&k instanceof k)&&(v=!1)}return o.delete(t),o.delete(e),v}var Dne=kne,Nne=El,One=Ri,Mne=Nne(One,"DataView"),Lne=Mne,$ne=El,Vne=Ri,Fne=$ne(Vne,"Promise"),Bne=Fne,jne=El,Une=Ri,zne=jne(Une,"Set"),Wne=zne,Gne=El,qne=Ri,Hne=Gne(qne,"WeakMap"),Kne=Hne,F0=Lne,B0=Wb,j0=Bne,U0=Wne,z0=Kne,EO=tg,Tl=pO,Fx="[object Map]",Qne="[object Object]",Bx="[object Promise]",jx="[object Set]",Ux="[object WeakMap]",zx="[object DataView]",Yne=Tl(F0),Xne=Tl(B0),Jne=Tl(j0),Zne=Tl(U0),ere=Tl(z0),zo=EO;(F0&&zo(new F0(new ArrayBuffer(1)))!=zx||B0&&zo(new B0)!=Fx||j0&&zo(j0.resolve())!=Bx||U0&&zo(new U0)!=jx||z0&&zo(new z0)!=Ux)&&(zo=function(t){var e=EO(t),n=e==Qne?t.constructor:void 0,r=n?Tl(n):"";if(r)switch(r){case Yne:return zx;case Xne:return Fx;case Jne:return Bx;case Zne:return jx;case ere:return Ux}return e});var tre=zo,jy=NZ,nre=gO,rre=See,ire=Dne,Wx=tre,Gx=Gb,qx=vO,ore=bO,sre=1,Hx="[object Arguments]",Kx="[object Array]",af="[object Object]",are=Object.prototype,Qx=are.hasOwnProperty;function lre(t,e,n,r,i,o){var s=Gx(t),a=Gx(e),l=s?Kx:Wx(t),u=a?Kx:Wx(e);l=l==Hx?af:l,u=u==Hx?af:u;var d=l==af,f=u==af,h=l==u;if(h&&qx(t)){if(!qx(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new jy),s||ore(t)?nre(t,e,n,r,i,o):rre(t,e,l,n,r,i,o);if(!(n&sre)){var m=d&&Qx.call(t,"__wrapped__"),g=f&&Qx.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,I=g?e.value():e;return o||(o=new jy),i(v,I,n,r,o)}}return h?(o||(o=new jy),ire(t,e,n,r,i,o)):!1}var ure=lre,cre=ure,Yx=ig;function wO(t,e,n,r,i){return t===e?!0:t==null||e==null||!Yx(t)&&!Yx(e)?t!==t&&e!==e:cre(t,e,n,r,wO,i)}var dre=wO,fre=dre;function hre(t,e){return fre(t,e)}var pre=hre;const mre=rp(pre),gre=async(t,e,n,r=!1,i)=>{if(!t){console.error("User is not authenticated");return}const o=new Date,s={key:M0(),title:e,content:n,isList:r,userId:t.uid,timestamp:o};try{const a=await z3(Jk(dl,"notes"),s);console.log("Added note:",{...s,id:a.id})}catch(a){console.error("Error adding note:",a)}},Gf=async(t,e,n,r)=>{try{const i=Bp(dl,"notes",t),o=await lD(i);if(!o.exists()){console.error("Note does not exist");return}const s=o.data();if(s.title===e&&mre(s.content,n)){console.log("No changes detected, skipping update");return}await j3(i,{title:e,content:n}),r(a=>a.map(l=>l.id===t?{...l,title:e,content:n}:l)),console.log("Updated note with id:",t)}catch(i){console.error("Error updating note:",i)}},IO=async(t,e)=>{try{const n=Bp(dl,"notes",t);await U3(n),e(r=>r.filter(i=>i.id!==t)),console.log("Removed note with id:",t)}catch(n){console.error("Error removing note:",n)}},yre=async t=>{try{const e=Bp(dl,"notes",t),n=await lD(e);return n.exists()?{id:n.id,...n.data()}:(console.error("Note not found"),null)}catch(e){throw console.error("Error fetching note:",e),e}};var qb={},vre=en;Object.defineProperty(qb,"__esModule",{value:!0});var SO=qb.default=void 0,_re=vre(xn()),bre=N;SO=qb.default=(0,_re.default)((0,bre.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");var Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=Symbol.for("react.element"),Kb=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),Ere=Symbol.for("react.server_context"),cg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),wre=Symbol.for("react.offscreen"),TO;TO=Symbol.for("react.module.reference");function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hb:switch(t=t.type,t){case og:case ag:case sg:case dg:case fg:return t;default:switch(t=t&&t.$$typeof,t){case Ere:case ug:case cg:case pg:case hg:case lg:return t;default:return e}}case Kb:return e}}}Xe.ContextConsumer=ug;Xe.ContextProvider=lg;Xe.Element=Hb;Xe.ForwardRef=cg;Xe.Fragment=og;Xe.Lazy=pg;Xe.Memo=hg;Xe.Portal=Kb;Xe.Profiler=ag;Xe.StrictMode=sg;Xe.Suspense=dg;Xe.SuspenseList=fg;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return Tr(t)===ug};Xe.isContextProvider=function(t){return Tr(t)===lg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hb};Xe.isForwardRef=function(t){return Tr(t)===cg};Xe.isFragment=function(t){return Tr(t)===og};Xe.isLazy=function(t){return Tr(t)===pg};Xe.isMemo=function(t){return Tr(t)===hg};Xe.isPortal=function(t){return Tr(t)===Kb};Xe.isProfiler=function(t){return Tr(t)===ag};Xe.isStrictMode=function(t){return Tr(t)===sg};Xe.isSuspense=function(t){return Tr(t)===dg};Xe.isSuspenseList=function(t){return Tr(t)===fg};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===og||t===ag||t===sg||t===dg||t===fg||t===wre||typeof t=="object"&&t!==null&&(t.$$typeof===pg||t.$$typeof===hg||t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===cg||t.$$typeof===TO||t.getModuleId!==void 0)};Xe.typeOf=Tr;const xO=t=>t.scrollTop;function ep(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function Ire(t){return Ye("MuiPaper",t)}$e("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Sre=["className","component","elevation","square","variant"],Tre=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(o,Ire,i)},xre=pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return L({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&L({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Or("#fff",Ix(e.elevation))}, ${Or("#fff",Ix(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Cre=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,u=le(r,Sre),d=L({},r,{component:o,elevation:s,square:a,variant:l}),f=Tre(d);return N.jsx(xre,L({as:o,ownerState:d,className:fe(f.root,i),ref:n},u))});function Rre(t){return Ye("MuiTypography",t)}$e("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Pre=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Are=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${_e(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ze(a,Rre,s)},kre=pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${_e(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>L({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Xx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Dre={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Nre=t=>Dre[t]||t,CO=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiTypography"}),i=Nre(r.color),o=Am(L({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:d=!1,paragraph:f=!1,variant:h="body1",variantMapping:m=Xx}=o,g=le(o,Pre),v=L({},o,{align:s,color:i,className:a,component:l,gutterBottom:u,noWrap:d,paragraph:f,variant:h,variantMapping:m}),I=l||(f?"p":m[h]||Xx[h])||"span",b=Are(v);return N.jsx(kre,L({as:I,ref:n,ownerState:v,className:fe(b.root,a)},g))}),Ore=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Mre(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Lre(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function $re(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Lre(t))}function Vre(t){const e=[],n=[];return Array.from(t.querySelectorAll(Ore)).forEach((r,i)=>{const o=Mre(r);o===-1||!$re(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Fre(){return!0}function Bre(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Vre,isEnabled:s=Fre,open:a}=t,l=T.useRef(!1),u=T.useRef(null),d=T.useRef(null),f=T.useRef(null),h=T.useRef(null),m=T.useRef(!1),g=T.useRef(null),v=fn(e.ref,g),I=T.useRef(null);T.useEffect(()=>{!a||!g.current||(m.current=!n)},[n,a]),T.useEffect(()=>{if(!a||!g.current)return;const _=Fn(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),T.useEffect(()=>{if(!a||!g.current)return;const _=Fn(g.current),x=S=>{I.current=S,!(r||!s()||S.key!=="Tab")&&_.activeElement===g.current&&S.shiftKey&&(l.current=!0,d.current&&d.current.focus())},k=()=>{const S=g.current;if(S===null)return;if(!_.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==d.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!m.current)return;let w=[];if((_.activeElement===u.current||_.activeElement===d.current)&&(w=o(g.current)),w.length>0){var C,R;const D=!!((C=I.current)!=null&&C.shiftKey&&((R=I.current)==null?void 0:R.key)==="Tab"),M=w[0],A=w[w.length-1];typeof M!="string"&&typeof A!="string"&&(D?A.focus():M.focus())}else S.focus()};_.addEventListener("focusin",k),_.addEventListener("keydown",x,!0);const O=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(O),_.removeEventListener("focusin",k),_.removeEventListener("keydown",x,!0)}},[n,r,i,s,a,o]);const b=_=>{f.current===null&&(f.current=_.relatedTarget),m.current=!0,h.current=_.target;const x=e.props.onFocus;x&&x(_)},y=_=>{f.current===null&&(f.current=_.relatedTarget),m.current=!0};return N.jsxs(T.Fragment,{children:[N.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),T.cloneElement(e,{ref:v,onFocus:b}),N.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}function jre(t){return typeof t=="function"?t():t}const Ure=T.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=T.useState(null),l=fn(T.isValidElement(r)?r.ref:null,n);if(Ii(()=>{o||a(jre(i)||document.body)},[i,o]),Ii(()=>{if(s&&!o)return Lh(n,s),()=>{Lh(n,null)}},[n,s,o]),o){if(T.isValidElement(r)){const u={ref:l};return T.cloneElement(r,u)}return N.jsx(T.Fragment,{children:r})}return N.jsx(T.Fragment,{children:s&&nl.createPortal(r,s)})});function zre(t){const e=Fn(t);return e.body===t?_o(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Uu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Jx(t){return parseInt(_o(t).getComputedStyle(t).paddingRight,10)||0}function Wre(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Zx(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!Wre(s);a&&l&&Uu(s,i)})}function Uy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Gre(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(zre(r)){const s=JD(Fn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Jx(r)+s}px`;const a=Fn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Jx(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Fn(r).body;else{const s=r.parentElement,a=_o(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function qre(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Hre{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Uu(e.modalRef,!1);const i=qre(n);Zx(n,e.mount,e.modalRef,i,!0);const o=Uy(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Uy(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Gre(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Uy(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Uu(e.modalRef,n),Zx(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Uu(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Kre(t){return typeof t=="function"?t():t}function Qre(t){return t?t.props.hasOwnProperty("in"):!1}const Yre=new Hre;function Xre(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Yre,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:f}=t,h=T.useRef({}),m=T.useRef(null),g=T.useRef(null),v=fn(g,f),[I,b]=T.useState(!d),y=Qre(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const x=()=>Fn(m.current),k=()=>(h.current.modalRef=g.current,h.current.mount=m.current,h.current),O=()=>{i.mount(k(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},S=Xo(()=>{const Q=Kre(e)||x().body;i.add(k(),Q),g.current&&O()}),w=T.useCallback(()=>i.isTopModal(k()),[i]),C=Xo(Q=>{m.current=Q,Q&&(d&&w()?O():g.current&&Uu(g.current,_))}),R=T.useCallback(()=>{i.remove(k(),_)},[_,i]);T.useEffect(()=>()=>{R()},[R]),T.useEffect(()=>{d?S():(!y||!o)&&R()},[d,R,y,o,S]);const D=Q=>K=>{var F;(F=Q.onKeyDown)==null||F.call(Q,K),!(K.key!=="Escape"||K.which===229||!w())&&(n||(K.stopPropagation(),u&&u(K,"escapeKeyDown")))},M=Q=>K=>{var F;(F=Q.onClick)==null||F.call(Q,K),K.target===K.currentTarget&&u&&u(K,"backdropClick")};return{getRootProps:(Q={})=>{const K=lO(t);delete K.onTransitionEnter,delete K.onTransitionExited;const F=L({},K,Q);return L({role:"presentation"},F,{onKeyDown:D(F),ref:v})},getBackdropProps:(Q={})=>{const K=Q;return L({"aria-hidden":!0},K,{onClick:M(K),open:d})},getTransitionProps:()=>{const Q=()=>{b(!1),s&&s()},K=()=>{b(!0),a&&a(),o&&R()};return{onEnter:b0(Q,l==null?void 0:l.props.onEnter),onExited:b0(K,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:C,isTopModal:w,exited:I,hasTransition:y}}const Jre=["onChange","maxRows","minRows","style","value"];function lf(t){return parseInt(t,10)||0}const Zre={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function eie(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const tie=T.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=le(e,Jre),{current:u}=T.useRef(a!=null),d=T.useRef(null),f=fn(n,d),h=T.useRef(null),m=T.useCallback(()=>{const I=d.current,y=_o(I).getComputedStyle(I);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const _=h.current;_.style.width=y.width,_.value=I.value||e.placeholder||"x",_.value.slice(-1)===`
`&&(_.value+=" ");const x=y.boxSizing,k=lf(y.paddingBottom)+lf(y.paddingTop),O=lf(y.borderBottomWidth)+lf(y.borderTopWidth),S=_.scrollHeight;_.value="x";const w=_.scrollHeight;let C=S;o&&(C=Math.max(Number(o)*w,C)),i&&(C=Math.min(Number(i)*w,C)),C=Math.max(C,w);const R=C+(x==="border-box"?k+O:0),D=Math.abs(C-S)<=1;return{outerHeightStyle:R,overflowing:D}},[i,o,e.placeholder]),g=T.useCallback(()=>{const I=m();if(eie(I))return;const b=d.current;b.style.height=`${I.outerHeightStyle}px`,b.style.overflow=I.overflowing?"hidden":""},[m]);Ii(()=>{const I=()=>{g()};let b;const y=V1(I),_=d.current,x=_o(_);x.addEventListener("resize",y);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(I),k.observe(_)),()=>{y.clear(),cancelAnimationFrame(b),x.removeEventListener("resize",y),k&&k.disconnect()}},[m,g]),Ii(()=>{g()});const v=I=>{u||g(),r&&r(I)};return N.jsxs(T.Fragment,{children:[N.jsx("textarea",L({value:a,onChange:v,ref:f,rows:o,style:s},l)),N.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:L({},Zre.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function xl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}function nie(t){return N.jsx(dQ,L({},t,{defaultTheme:km,themeId:ad}))}function eC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function tp(t,e=!1){return t&&(eC(t.value)&&t.value!==""||e&&eC(t.defaultValue)&&t.defaultValue!=="")}function rie(t){return t.startAdornment}function iie(t){return Ye("MuiInputBase",t)}const Ja=$e("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),oie=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],mg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${_e(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},gg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},sie=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:f,size:h,startAdornment:m,type:g}=t,v={root:["root",`color${_e(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${_e(h)}`,d&&"multiline",m&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return Ze(v,iie,e)},yg=pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mg})(({theme:t,ownerState:e})=>L({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ja.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&L({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),vg=pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=L({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return L({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ja.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ja.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),aie=N.jsx(nie,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lie=T.forwardRef(function(e,n){var r;const i=nt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:u={},componentsProps:d={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:m,endAdornment:g,fullWidth:v=!1,id:I,inputComponent:b="input",inputProps:y={},inputRef:_,maxRows:x,minRows:k,multiline:O=!1,name:S,onBlur:w,onChange:C,onClick:R,onFocus:D,onKeyDown:M,onKeyUp:A,placeholder:z,readOnly:U,renderSuffix:Q,rows:K,slotProps:F={},slots:W={},startAdornment:X,type:he="text",value:ne}=i,re=le(i,oie),oe=y.value!=null?y.value:ne,{current:me}=T.useRef(oe!=null),ye=T.useRef(),Ae=T.useCallback(Oe=>{},[]),St=fn(ye,_,y.ref,Ae),[Ge,ft]=T.useState(!1),Te=Os(),Ie=xl({props:i,muiFormControl:Te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ie.focused=Te?Te.focused:Ge,T.useEffect(()=>{!Te&&h&&Ge&&(ft(!1),w&&w())},[Te,h,Ge,w]);const ve=Te&&Te.onFilled,De=Te&&Te.onEmpty,qe=T.useCallback(Oe=>{tp(Oe)?ve&&ve():De&&De()},[ve,De]);Ii(()=>{me&&qe({value:oe})},[oe,qe,me]);const xr=Oe=>{if(Ie.disabled){Oe.stopPropagation();return}D&&D(Oe),y.onFocus&&y.onFocus(Oe),Te&&Te.onFocus?Te.onFocus(Oe):ft(!0)},Cn=Oe=>{w&&w(Oe),y.onBlur&&y.onBlur(Oe),Te&&Te.onBlur?Te.onBlur(Oe):ft(!1)},Rn=(Oe,...de)=>{if(!me){const or=Oe.target||ye.current;if(or==null)throw new Error(Is(1));qe({value:or.value})}y.onChange&&y.onChange(Oe,...de),C&&C(Oe,...de)};T.useEffect(()=>{qe(ye.current)},[]);const Pn=Oe=>{ye.current&&Oe.currentTarget===Oe.target&&ye.current.focus(),R&&R(Oe)};let tn=b,et=y;O&&tn==="input"&&(K?et=L({type:void 0,minRows:K,maxRows:K},et):et=L({type:void 0,maxRows:x,minRows:k},et),tn=tie);const Cr=Oe=>{qe(Oe.animationName==="mui-auto-fill-cancel"?ye.current:{value:"x"})};T.useEffect(()=>{Te&&Te.setAdornedStart(!!X)},[Te,X]);const Lt=L({},i,{color:Ie.color||"primary",disabled:Ie.disabled,endAdornment:g,error:Ie.error,focused:Ie.focused,formControl:Te,fullWidth:v,hiddenLabel:Ie.hiddenLabel,multiline:O,size:Ie.size,startAdornment:X,type:he}),He=sie(Lt),jn=W.root||u.Root||yg,rt=F.root||d.root||{},it=W.input||u.Input||vg;return et=L({},et,(r=F.input)!=null?r:d.input),N.jsxs(T.Fragment,{children:[!m&&aie,N.jsxs(jn,L({},rt,!Yh(jn)&&{ownerState:L({},Lt,rt.ownerState)},{ref:n,onClick:Pn},re,{className:fe(He.root,rt.className,l,U&&"MuiInputBase-readOnly"),children:[X,N.jsx(Fb.Provider,{value:null,children:N.jsx(it,L({ownerState:Lt,"aria-invalid":Ie.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:f,disabled:Ie.disabled,id:I,onAnimationStart:Cr,name:S,placeholder:z,readOnly:U,required:Ie.required,rows:K,value:oe,onKeyDown:M,onKeyUp:A,type:he},et,!Yh(it)&&{as:tn,ownerState:L({},Lt,et.ownerState)},{ref:St,className:fe(He.input,et.className,U&&"MuiInputBase-readOnly"),onBlur:Cn,onChange:Rn,onFocus:xr}))}),g,Q?Q(L({},Ie,{startAdornment:X})):null]}))]})}),Qb=lie;function uie(t){return Ye("MuiInput",t)}const su=L({},Ja,$e("MuiInput",["root","underline","input"]));function cie(t){return Ye("MuiOutlinedInput",t)}const $i=L({},Ja,$e("MuiOutlinedInput",["root","notchedOutline","input"]));function die(t){return Ye("MuiFilledInput",t)}const Mo=L({},Ja,$e("MuiFilledInput",["root","underline","input"])),fie=Ns(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),hie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],pie={entering:{opacity:1},entered:{opacity:1}},mie=T.forwardRef(function(e,n){const r=Lb(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:d,onEntered:f,onEntering:h,onExit:m,onExited:g,onExiting:v,style:I,timeout:b=i,TransitionComponent:y=ti}=e,_=le(e,hie),x=T.useRef(null),k=fn(x,a.ref,n),O=z=>U=>{if(z){const Q=x.current;U===void 0?z(Q):z(Q,U)}},S=O(h),w=O((z,U)=>{xO(z);const Q=ep({style:I,timeout:b,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",Q),z.style.transition=r.transitions.create("opacity",Q),d&&d(z,U)}),C=O(f),R=O(v),D=O(z=>{const U=ep({style:I,timeout:b,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",U),z.style.transition=r.transitions.create("opacity",U),m&&m(z)}),M=O(g),A=z=>{o&&o(x.current,z)};return N.jsx(y,L({appear:s,in:u,nodeRef:x,onEnter:w,onEntered:C,onEntering:S,onExit:D,onExited:M,onExiting:R,addEndListener:A,timeout:b},_,{children:(z,U)=>T.cloneElement(a,L({style:L({opacity:0,visibility:z==="exited"&&!u?"hidden":void 0},pie[z],I,a.props.style),ref:k},U))}))});function gie(t){return Ye("MuiBackdrop",t)}$e("MuiBackdrop",["root","invisible"]);const yie=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],vie=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},gie,e)},_ie=pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),bie=T.forwardRef(function(e,n){var r,i,o;const s=nt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:d={},componentsProps:f={},invisible:h=!1,open:m,slotProps:g={},slots:v={},TransitionComponent:I=mie,transitionDuration:b}=s,y=le(s,yie),_=L({},s,{component:u,invisible:h}),x=vie(_),k=(r=g.root)!=null?r:f.root;return N.jsx(I,L({in:m,timeout:b},y,{children:N.jsx(_ie,L({"aria-hidden":!0},k,{as:(i=(o=v.root)!=null?o:d.Root)!=null?i:u,className:fe(x.root,l,k==null?void 0:k.className),ownerState:L({},_,k==null?void 0:k.ownerState),classes:x,ref:n,children:a}))}))}),Eie=$e("MuiBox",["root"]),wie=O2(),Xi=hQ({themeId:ad,defaultTheme:wie,defaultClassName:Eie.root,generateClassName:j1.generate});function Iie(t){return Ye("MuiButton",t)}const uf=$e("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Sie=T.createContext({}),Tie=T.createContext(void 0),xie=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Cie=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${_e(e)}`,`size${_e(i)}`,`${o}Size${_e(i)}`,`color${_e(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${_e(i)}`],endIcon:["icon","endIcon",`iconSize${_e(i)}`]},l=Ze(a,Iie,s);return L({},s,l)},RO=t=>L({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Rie=pe(Jm,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${_e(n.color)}`],e[`size${_e(n.size)}`],e[`${n.variant}Size${_e(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return L({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Or(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Or(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Or(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${uf.focusVisible}`]:L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${uf.disabled}`]:L({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Or(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${uf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${uf.disabled}`]:{boxShadow:"none"}}),Pie=pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${_e(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},RO(t))),Aie=pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${_e(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},RO(t))),os=T.forwardRef(function(e,n){const r=T.useContext(Sie),i=T.useContext(Tie),o=B1(r,e),s=nt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:d,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:v,fullWidth:I=!1,size:b="medium",startIcon:y,type:_,variant:x="text"}=s,k=le(s,xie),O=L({},s,{color:l,component:u,disabled:f,disableElevation:h,disableFocusRipple:m,fullWidth:I,size:b,type:_,variant:x}),S=Cie(O),w=y&&N.jsx(Pie,{className:S.startIcon,ownerState:O,children:y}),C=g&&N.jsx(Aie,{className:S.endIcon,ownerState:O,children:g}),R=i||"";return N.jsxs(Rie,L({ownerState:O,className:fe(r.className,S.root,d,R),component:u,disabled:f,focusRipple:!m,focusVisibleClassName:fe(S.focusVisible,v),ref:n,type:_},k,{classes:S,children:[w,a,C]}))}),PO=kQ({createStyledComponent:pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${_e(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>nt({props:t,name:"MuiContainer"})});function kie(t){return Ye("MuiModal",t)}$e("MuiModal",["root","hidden","backdrop"]);const Die=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Nie=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},kie,r)},Oie=pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>L({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Mie=pe(bie,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Lie=T.forwardRef(function(e,n){var r,i,o,s,a,l;const u=nt({name:"MuiModal",props:e}),{BackdropComponent:d=Mie,BackdropProps:f,className:h,closeAfterTransition:m=!1,children:g,container:v,component:I,components:b={},componentsProps:y={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:k=!1,disablePortal:O=!1,disableRestoreFocus:S=!1,disableScrollLock:w=!1,hideBackdrop:C=!1,keepMounted:R=!1,onBackdropClick:D,open:M,slotProps:A,slots:z}=u,U=le(u,Die),Q=L({},u,{closeAfterTransition:m,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:k,disablePortal:O,disableRestoreFocus:S,disableScrollLock:w,hideBackdrop:C,keepMounted:R}),{getRootProps:K,getBackdropProps:F,getTransitionProps:W,portalRef:X,isTopModal:he,exited:ne,hasTransition:re}=Xre(L({},Q,{rootRef:n})),oe=L({},Q,{exited:ne}),me=Nie(oe),ye={};if(g.props.tabIndex===void 0&&(ye.tabIndex="-1"),re){const{onEnter:ve,onExited:De}=W();ye.onEnter=ve,ye.onExited=De}const Ae=(r=(i=z==null?void 0:z.root)!=null?i:b.Root)!=null?r:Oie,St=(o=(s=z==null?void 0:z.backdrop)!=null?s:b.Backdrop)!=null?o:d,Ge=(a=A==null?void 0:A.root)!=null?a:y.root,ft=(l=A==null?void 0:A.backdrop)!=null?l:y.backdrop,Te=Xa({elementType:Ae,externalSlotProps:Ge,externalForwardedProps:U,getSlotProps:K,additionalProps:{ref:n,as:I},ownerState:oe,className:fe(h,Ge==null?void 0:Ge.className,me==null?void 0:me.root,!oe.open&&oe.exited&&(me==null?void 0:me.hidden))}),Ie=Xa({elementType:St,externalSlotProps:ft,additionalProps:f,getSlotProps:ve=>F(L({},ve,{onClick:De=>{D&&D(De),ve!=null&&ve.onClick&&ve.onClick(De)}})),className:fe(ft==null?void 0:ft.className,f==null?void 0:f.className,me==null?void 0:me.backdrop),ownerState:oe});return!R&&!M&&(!re||ne)?null:N.jsx(Ure,{ref:X,container:v,disablePortal:O,children:N.jsxs(Ae,L({},Te,{children:[!C&&d?N.jsx(St,L({},Ie)):null,N.jsx(Bre,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:S,isEnabled:he,open:M,children:T.cloneElement(g,ye)})]}))})}),tC=$e("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function $ie(t){return Ye("MuiFab",t)}const nC=$e("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Vie=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Fie=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${_e(i)}`,e==="inherit"?"colorInherit":e]},s=Ze(o,$ie,r);return L({},r,s)},Bie=pe(Jm,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Tn(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${_e(n.size)}`],n.color==="inherit"&&e.colorInherit,e[_e(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return L({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${nC.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>L({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${nC.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),jie=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:d,size:f="large",variant:h="circular"}=r,m=le(r,Vie),g=L({},r,{color:s,component:a,disabled:l,disableFocusRipple:u,size:f,variant:h}),v=Fie(g);return N.jsx(Bie,L({className:fe(v.root,o),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:fe(v.focusVisible,d),ownerState:g,ref:n},m,{classes:v,children:i}))}),Uie=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],zie=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},die,e);return L({},e,i)},Wie=pe(yg,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return L({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Mo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Mo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mo.disabled}, .${Mo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Mo.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&L({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Gie=pe(vg,{name:"MuiFilledInput",slot:"Input",overridesResolver:gg})(({theme:t,ownerState:e})=>L({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Yb=T.forwardRef(function(e,n){var r,i,o,s;const a=nt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:h=!1,slotProps:m,slots:g={},type:v="text"}=a,I=le(a,Uie),b=L({},a,{fullWidth:d,inputComponent:f,multiline:h,type:v}),y=zie(a),_={root:{ownerState:b},input:{ownerState:b}},x=m??u?Yn(_,m??u):_,k=(r=(i=g.root)!=null?i:l.Root)!=null?r:Wie,O=(o=(s=g.input)!=null?s:l.Input)!=null?o:Gie;return N.jsx(Qb,L({slots:{root:k,input:O},componentsProps:x,fullWidth:d,inputComponent:f,multiline:h,ref:n,type:v},I,{classes:y}))});Yb.muiName="Input";function qie(t){return Ye("MuiFormControl",t)}$e("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hie=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Kie=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${_e(n)}`,r&&"fullWidth"]};return Ze(i,qie,e)},Qie=pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>L({},e.root,e[`margin${_e(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>L({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Yie=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:f=!1,hiddenLabel:h=!1,margin:m="none",required:g=!1,size:v="medium",variant:I="outlined"}=r,b=le(r,Hie),y=L({},r,{color:s,component:a,disabled:l,error:u,fullWidth:f,hiddenLabel:h,margin:m,required:g,size:v,variant:I}),_=Kie(y),[x,k]=T.useState(()=>{let A=!1;return i&&T.Children.forEach(i,z=>{if(!$f(z,["Input","Select"]))return;const U=$f(z,["Select"])?z.props.input:z;U&&rie(U.props)&&(A=!0)}),A}),[O,S]=T.useState(()=>{let A=!1;return i&&T.Children.forEach(i,z=>{$f(z,["Input","Select"])&&(tp(z.props,!0)||tp(z.props.inputProps,!0))&&(A=!0)}),A}),[w,C]=T.useState(!1);l&&w&&C(!1);const R=d!==void 0&&!l?d:w;let D;const M=T.useMemo(()=>({adornedStart:x,setAdornedStart:k,color:s,disabled:l,error:u,filled:O,focused:R,fullWidth:f,hiddenLabel:h,size:v,onBlur:()=>{C(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{C(!0)},registerEffect:D,required:g,variant:I}),[x,s,l,u,O,R,f,h,D,g,v,I]);return N.jsx(Fb.Provider,{value:M,children:N.jsx(Qie,L({as:a,ownerState:y,className:fe(_.root,o),ref:n},b,{children:i}))})});function Xie(t){return Ye("MuiFormHelperText",t)}const rC=$e("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iC;const Jie=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Zie=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${_e(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Ze(u,Xie,e)},eoe=pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${_e(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>L({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),toe=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=le(r,Jie),l=Os(),u=xl({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=L({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=Zie(d);return N.jsx(eoe,L({as:s,ownerState:d,className:fe(f.root,o),ref:n},a,{children:i===" "?iC||(iC=N.jsx("span",{className:"notranslate",children:""})):i}))});function noe(t){return Ye("MuiFormLabel",t)}const zu=$e("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),roe=["children","className","color","component","disabled","error","filled","focused","required"],ioe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${_e(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Ze(l,noe,e)},ooe=pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>L({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>L({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${zu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${zu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zu.error}`]:{color:(t.vars||t).palette.error.main}})),soe=pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${zu.error}`]:{color:(t.vars||t).palette.error.main}})),aoe=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=le(r,roe),l=Os(),u=xl({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=L({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=ioe(d);return N.jsxs(ooe,L({as:s,ownerState:d,className:fe(f.root,o),ref:n},a,{children:[i,u.required&&N.jsxs(soe,{ownerState:d,"aria-hidden":!0,className:f.asterisk,children:["","*"]})]}))}),loe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function W0(t){return`scale(${t}, ${t**2})`}const uoe={entering:{opacity:1,transform:W0(1)},entered:{opacity:1,transform:"none"}},zy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),AO=T.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:d,onExit:f,onExited:h,onExiting:m,style:g,timeout:v="auto",TransitionComponent:I=ti}=e,b=le(e,loe),y=YD(),_=T.useRef(),x=Lb(),k=T.useRef(null),O=fn(k,o.ref,n),S=U=>Q=>{if(U){const K=k.current;Q===void 0?U(K):U(K,Q)}},w=S(d),C=S((U,Q)=>{xO(U);const{duration:K,delay:F,easing:W}=ep({style:g,timeout:v,easing:s},{mode:"enter"});let X;v==="auto"?(X=x.transitions.getAutoHeightDuration(U.clientHeight),_.current=X):X=K,U.style.transition=[x.transitions.create("opacity",{duration:X,delay:F}),x.transitions.create("transform",{duration:zy?X:X*.666,delay:F,easing:W})].join(","),l&&l(U,Q)}),R=S(u),D=S(m),M=S(U=>{const{duration:Q,delay:K,easing:F}=ep({style:g,timeout:v,easing:s},{mode:"exit"});let W;v==="auto"?(W=x.transitions.getAutoHeightDuration(U.clientHeight),_.current=W):W=Q,U.style.transition=[x.transitions.create("opacity",{duration:W,delay:K}),x.transitions.create("transform",{duration:zy?W:W*.666,delay:zy?K:K||W*.333,easing:F})].join(","),U.style.opacity=0,U.style.transform=W0(.75),f&&f(U)}),A=S(h),z=U=>{v==="auto"&&y.start(_.current||0,U),r&&r(k.current,U)};return N.jsx(I,L({appear:i,in:a,nodeRef:k,onEnter:C,onEntered:R,onEntering:w,onExit:M,onExited:A,onExiting:D,addEndListener:z,timeout:v==="auto"?null:v},b,{children:(U,Q)=>T.cloneElement(o,L({style:L({opacity:0,transform:W0(.75),visibility:U==="exited"&&!a?"hidden":void 0},uoe[U],g,o.props.style),ref:O},Q))}))});AO.muiSupportAuto=!0;const coe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],doe=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},uie,e);return L({},e,i)},foe=pe(yg,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),L({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${su.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${su.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${su.disabled}, .${su.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${su.disabled}:before`]:{borderBottomStyle:"dotted"}})}),hoe=pe(vg,{name:"MuiInput",slot:"Input",overridesResolver:gg})({}),Xb=T.forwardRef(function(e,n){var r,i,o,s;const a=nt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:d,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:g,slots:v={},type:I="text"}=a,b=le(a,coe),y=doe(a),x={root:{ownerState:{disableUnderline:l}}},k=g??d?Yn(g??d,x):x,O=(r=(i=v.root)!=null?i:u.Root)!=null?r:foe,S=(o=(s=v.input)!=null?s:u.Input)!=null?o:hoe;return N.jsx(Qb,L({slots:{root:O,input:S},slotProps:k,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:I},b,{classes:y}))});Xb.muiName="Input";function poe(t){return Ye("MuiInputLabel",t)}$e("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const moe=["disableAnimation","margin","shrink","variant","className"],goe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${_e(r)}`,s],asterisk:[a&&"asterisk"]},u=Ze(l,poe,e);return L({},e,u)},yoe=pe(aoe,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${zu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>L({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&L({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&L({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&L({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),voe=T.forwardRef(function(e,n){const r=nt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=le(r,moe),l=Os();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const d=xl({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),f=L({},r,{disableAnimation:i,formControl:l,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),h=goe(f);return N.jsx(yoe,L({"data-shrink":u,ownerState:f,ref:n,className:fe(h.root,s)},a,{classes:h}))}),G0=T.createContext({});function _oe(t){return Ye("MuiList",t)}$e("MuiList",["root","padding","dense","subheader"]);const boe=["children","className","component","dense","disablePadding","subheader"],Eoe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ze({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},_oe,e)},woe=pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>L({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Ioe=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,d=le(r,boe),f=T.useMemo(()=>({dense:a}),[a]),h=L({},r,{component:s,dense:a,disablePadding:l}),m=Eoe(h);return N.jsx(G0.Provider,{value:f,children:N.jsxs(woe,L({as:s,className:fe(m.root,o),ref:n,ownerState:h},d,{children:[u,i]}))})}),oC=$e("MuiListItemIcon",["root","alignItemsFlexStart"]),sC=$e("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Soe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Wy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function aC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function kO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function au(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!kO(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Toe=T.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:f="selectedMenu"}=e,h=le(e,Soe),m=T.useRef(null),g=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ii(()=>{i&&m.current.focus()},[i]),T.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:x})=>{const k=!m.current.style.width;if(_.clientHeight<m.current.clientHeight&&k){const O=`${JD(Fn(_))}px`;m.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=O,m.current.style.width=`calc(100% + ${O})`}return m.current}}),[]);const v=_=>{const x=m.current,k=_.key,O=Fn(x).activeElement;if(k==="ArrowDown")_.preventDefault(),au(x,O,u,l,Wy);else if(k==="ArrowUp")_.preventDefault(),au(x,O,u,l,aC);else if(k==="Home")_.preventDefault(),au(x,null,u,l,Wy);else if(k==="End")_.preventDefault(),au(x,null,u,l,aC);else if(k.length===1){const S=g.current,w=k.toLowerCase(),C=performance.now();S.keys.length>0&&(C-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&w!==S.keys[0]&&(S.repeating=!1)),S.lastTime=C,S.keys.push(w);const R=O&&!S.repeating&&kO(O,S);S.previousKeyMatched&&(R||au(x,O,!1,l,Wy,S))?_.preventDefault():S.previousKeyMatched=!1}d&&d(_)},I=fn(m,n);let b=-1;T.Children.forEach(s,(_,x)=>{if(!T.isValidElement(_)){b===x&&(b+=1,b>=s.length&&(b=-1));return}_.props.disabled||(f==="selectedMenu"&&_.props.selected||b===-1)&&(b=x),b===x&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const y=T.Children.map(s,(_,x)=>{if(x===b){const k={};return o&&(k.autoFocus=!0),_.props.tabIndex===void 0&&f==="selectedMenu"&&(k.tabIndex=0),T.cloneElement(_,k)}return _});return N.jsx(Ioe,L({role:"menu",ref:I,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:y}))});function xoe(t){return Ye("MuiPopover",t)}$e("MuiPopover",["root","paper"]);const Coe=["onEntering"],Roe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Poe=["slotProps"];function lC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function uC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function cC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Gy(t){return typeof t=="function"?t():t}const Aoe=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},xoe,e)},koe=pe(Lie,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DO=pe(Cre,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Doe=T.forwardRef(function(e,n){var r,i,o;const s=nt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:f="anchorEl",children:h,className:m,container:g,elevation:v=8,marginThreshold:I=16,open:b,PaperProps:y={},slots:_,slotProps:x,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:O=AO,transitionDuration:S="auto",TransitionProps:{onEntering:w}={},disableScrollLock:C=!1}=s,R=le(s.TransitionProps,Coe),D=le(s,Roe),M=(r=x==null?void 0:x.paper)!=null?r:y,A=T.useRef(),z=fn(A,M.ref),U=L({},s,{anchorOrigin:u,anchorReference:f,elevation:v,marginThreshold:I,externalPaperSlotProps:M,transformOrigin:k,TransitionComponent:O,transitionDuration:S,TransitionProps:R}),Q=Aoe(U),K=T.useCallback(()=>{if(f==="anchorPosition")return d;const ve=Gy(l),qe=(ve&&ve.nodeType===1?ve:Fn(A.current).body).getBoundingClientRect();return{top:qe.top+lC(qe,u.vertical),left:qe.left+uC(qe,u.horizontal)}},[l,u.horizontal,u.vertical,d,f]),F=T.useCallback(ve=>({vertical:lC(ve,k.vertical),horizontal:uC(ve,k.horizontal)}),[k.horizontal,k.vertical]),W=T.useCallback(ve=>{const De={width:ve.offsetWidth,height:ve.offsetHeight},qe=F(De);if(f==="none")return{top:null,left:null,transformOrigin:cC(qe)};const xr=K();let Cn=xr.top-qe.vertical,Rn=xr.left-qe.horizontal;const Pn=Cn+De.height,tn=Rn+De.width,et=_o(Gy(l)),Cr=et.innerHeight-I,Lt=et.innerWidth-I;if(I!==null&&Cn<I){const He=Cn-I;Cn-=He,qe.vertical+=He}else if(I!==null&&Pn>Cr){const He=Pn-Cr;Cn-=He,qe.vertical+=He}if(I!==null&&Rn<I){const He=Rn-I;Rn-=He,qe.horizontal+=He}else if(tn>Lt){const He=tn-Lt;Rn-=He,qe.horizontal+=He}return{top:`${Math.round(Cn)}px`,left:`${Math.round(Rn)}px`,transformOrigin:cC(qe)}},[l,f,K,F,I]),[X,he]=T.useState(b),ne=T.useCallback(()=>{const ve=A.current;if(!ve)return;const De=W(ve);De.top!==null&&(ve.style.top=De.top),De.left!==null&&(ve.style.left=De.left),ve.style.transformOrigin=De.transformOrigin,he(!0)},[W]);T.useEffect(()=>(C&&window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)),[l,C,ne]);const re=(ve,De)=>{w&&w(ve,De),ne()},oe=()=>{he(!1)};T.useEffect(()=>{b&&ne()}),T.useImperativeHandle(a,()=>b?{updatePosition:()=>{ne()}}:null,[b,ne]),T.useEffect(()=>{if(!b)return;const ve=V1(()=>{ne()}),De=_o(l);return De.addEventListener("resize",ve),()=>{ve.clear(),De.removeEventListener("resize",ve)}},[l,b,ne]);let me=S;S==="auto"&&!O.muiSupportAuto&&(me=void 0);const ye=g||(l?Fn(Gy(l)).body:void 0),Ae=(i=_==null?void 0:_.root)!=null?i:koe,St=(o=_==null?void 0:_.paper)!=null?o:DO,Ge=Xa({elementType:St,externalSlotProps:L({},M,{style:X?M.style:L({},M.style,{opacity:0})}),additionalProps:{elevation:v,ref:z},ownerState:U,className:fe(Q.paper,M==null?void 0:M.className)}),ft=Xa({elementType:Ae,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ye,open:b},ownerState:U,className:fe(Q.root,m)}),{slotProps:Te}=ft,Ie=le(ft,Poe);return N.jsx(Ae,L({},Ie,!Yh(Ae)&&{slotProps:Te,disableScrollLock:C},{children:N.jsx(O,L({appear:!0,in:b,onEntering:re,onExited:oe,timeout:me},R,{children:N.jsx(St,L({},Ge,{children:h}))}))}))});function Noe(t){return Ye("MuiMenu",t)}$e("MuiMenu",["root","paper","list"]);const Ooe=["onEntering"],Moe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Loe={vertical:"top",horizontal:"right"},$oe={vertical:"top",horizontal:"left"},Voe=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},Noe,e)},Foe=pe(Doe,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Boe=pe(DO,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),joe=pe(Toe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),NO=T.forwardRef(function(e,n){var r,i;const o=nt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:d={},onClose:f,open:h,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:I}={},variant:b="selectedMenu",slots:y={},slotProps:_={}}=o,x=le(o.TransitionProps,Ooe),k=le(o,Moe),O=TQ(),S=L({},o,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:d,onEntering:I,PaperProps:m,transitionDuration:v,TransitionProps:x,variant:b}),w=Voe(S),C=s&&!u&&h,R=T.useRef(null),D=(F,W)=>{R.current&&R.current.adjustStyleForScrollbar(F,{direction:O?"rtl":"ltr"}),I&&I(F,W)},M=F=>{F.key==="Tab"&&(F.preventDefault(),f&&f(F,"tabKeyDown"))};let A=-1;T.Children.map(a,(F,W)=>{T.isValidElement(F)&&(F.props.disabled||(b==="selectedMenu"&&F.props.selected||A===-1)&&(A=W))});const z=(r=y.paper)!=null?r:Boe,U=(i=_.paper)!=null?i:m,Q=Xa({elementType:y.root,externalSlotProps:_.root,ownerState:S,className:[w.root,l]}),K=Xa({elementType:z,externalSlotProps:U,ownerState:S,className:w.paper});return N.jsx(Foe,L({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:O?"right":"left"},transformOrigin:O?Loe:$oe,slots:{paper:z,root:y.root},slotProps:{root:Q,paper:K},open:h,ref:n,transitionDuration:v,TransitionProps:L({onEntering:D},x),ownerState:S},k,{classes:g,children:N.jsx(joe,L({onKeyDown:M,actions:R,autoFocus:s&&(A===-1||u),autoFocusItem:C,variant:b},d,{className:fe(w.list,d.className),children:a}))}))});function Uoe(t){return Ye("MuiMenuItem",t)}const lu=$e("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zoe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Woe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Goe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Ze({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Uoe,s);return L({},s,l)},qoe=pe(Jm,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Woe})(({theme:t,ownerState:e})=>L({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${lu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Or(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${lu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Or(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${lu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Or(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Or(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${lu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${lu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${tC.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${tC.inset}`]:{marginLeft:52},[`& .${sC.root}`]:{marginTop:0,marginBottom:0},[`& .${sC.inset}`]:{paddingLeft:36},[`& .${oC.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&L({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${oC.root} svg`]:{fontSize:"1.25rem"}}))),dC=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:f,className:h}=r,m=le(r,zoe),g=T.useContext(G0),v=T.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),I=T.useRef(null);Ii(()=>{i&&I.current&&I.current.focus()},[i]);const b=L({},r,{dense:v.dense,divider:a,disableGutters:l}),y=Goe(r),_=fn(I,n);let x;return r.disabled||(x=f!==void 0?f:-1),N.jsx(G0.Provider,{value:v,children:N.jsx(qoe,L({ref:_,role:d,tabIndex:x,component:o,focusVisibleClassName:fe(y.focusVisible,u),className:fe(y.root,h)},m,{ownerState:b,classes:y}))})});function Hoe(t){return Ye("MuiNativeSelect",t)}const Jb=$e("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Koe=["className","disabled","error","IconComponent","inputRef","variant"],Qoe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${_e(n)}`,o&&"iconOpen",r&&"disabled"]};return Ze(a,Hoe,e)},OO=({ownerState:t,theme:e})=>L({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":L({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Jb.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Yoe=pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Tn,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Jb.multiple}`]:e.multiple}]}})(OO),MO=({ownerState:t,theme:e})=>L({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Jb.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Xoe=pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${_e(n.variant)}`],n.open&&e.iconOpen]}})(MO),Joe=T.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,u=le(e,Koe),d=L({},e,{disabled:i,variant:l,error:o}),f=Qoe(d);return N.jsxs(T.Fragment,{children:[N.jsx(Yoe,L({ownerState:d,className:fe(f.select,r),disabled:i,ref:a||n},u)),e.multiple?null:N.jsx(Xoe,{as:s,ownerState:d,className:f.icon})]})});var fC;const Zoe=["children","classes","className","label","notched"],ese=pe("fieldset",{shouldForwardProp:Tn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),tse=pe("legend",{shouldForwardProp:Tn})(({ownerState:t,theme:e})=>L({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&L({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function nse(t){const{className:e,label:n,notched:r}=t,i=le(t,Zoe),o=n!=null&&n!=="",s=L({},t,{notched:r,withLabel:o});return N.jsx(ese,L({"aria-hidden":!0,className:e,ownerState:s},i,{children:N.jsx(tse,{ownerState:s,children:o?N.jsx("span",{children:n}):fC||(fC=N.jsx("span",{className:"notranslate",children:""}))})}))}const rse=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ise=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},cie,e);return L({},e,r)},ose=pe(yg,{shouldForwardProp:t=>Tn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:mg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return L({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${$i.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${$i.focused} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${$i.error} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${$i.disabled} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&L({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),sse=pe(nse,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),ase=pe(vg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gg})(({theme:t,ownerState:e})=>L({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Zb=T.forwardRef(function(e,n){var r,i,o,s,a;const l=nt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:d=!1,inputComponent:f="input",label:h,multiline:m=!1,notched:g,slots:v={},type:I="text"}=l,b=le(l,rse),y=ise(l),_=Os(),x=xl({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=L({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:d,hiddenLabel:x.hiddenLabel,multiline:m,size:x.size,type:I}),O=(r=(i=v.root)!=null?i:u.Root)!=null?r:ose,S=(o=(s=v.input)!=null?s:u.Input)!=null?o:ase;return N.jsx(Qb,L({slots:{root:O,input:S},renderSuffix:w=>N.jsx(sse,{ownerState:k,className:y.notchedOutline,label:h!=null&&h!==""&&x.required?a||(a=N.jsxs(T.Fragment,{children:[h,"","*"]})):h,notched:typeof g<"u"?g:!!(w.startAdornment||w.filled||w.focused)}),fullWidth:d,inputComponent:f,multiline:m,ref:n,type:I},b,{classes:L({},y,{notchedOutline:null})}))});Zb.muiName="Input";function lse(t){return Ye("MuiSelect",t)}const uu=$e("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var hC;const use=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],cse=pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${uu.select}`]:e.select},{[`&.${uu.select}`]:e[n.variant]},{[`&.${uu.error}`]:e.error},{[`&.${uu.multiple}`]:e.multiple}]}})(OO,{[`&.${uu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),dse=pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${_e(n.variant)}`],n.open&&e.iconOpen]}})(MO),fse=pe("input",{shouldForwardProp:t=>L2(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function pC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function hse(t){return t==null||typeof t=="string"&&!t.trim()}const pse=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${_e(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,lse,e)},mse=T.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:d,defaultValue:f,disabled:h,displayEmpty:m,error:g=!1,IconComponent:v,inputRef:I,labelId:b,MenuProps:y={},multiple:_,name:x,onBlur:k,onChange:O,onClose:S,onFocus:w,onOpen:C,open:R,readOnly:D,renderValue:M,SelectDisplayProps:A={},tabIndex:z,value:U,variant:Q="standard"}=e,K=le(e,use),[F,W]=$h({controlled:U,default:f,name:"Select"}),[X,he]=$h({controlled:R,default:d,name:"Select"}),ne=T.useRef(null),re=T.useRef(null),[oe,me]=T.useState(null),{current:ye}=T.useRef(R!=null),[Ae,St]=T.useState(),Ge=fn(n,I),ft=T.useCallback(ce=>{re.current=ce,ce&&me(ce)},[]),Te=oe==null?void 0:oe.parentNode;T.useImperativeHandle(Ge,()=>({focus:()=>{re.current.focus()},node:ne.current,value:F}),[F]),T.useEffect(()=>{d&&X&&oe&&!ye&&(St(a?null:Te.clientWidth),re.current.focus())},[oe,a]),T.useEffect(()=>{s&&re.current.focus()},[s]),T.useEffect(()=>{if(!b)return;const ce=Fn(re.current).getElementById(b);if(ce){const Ke=()=>{getSelection().isCollapsed&&re.current.focus()};return ce.addEventListener("click",Ke),()=>{ce.removeEventListener("click",Ke)}}},[b]);const Ie=(ce,Ke)=>{ce?C&&C(Ke):S&&S(Ke),ye||(St(a?null:Te.clientWidth),he(ce))},ve=ce=>{ce.button===0&&(ce.preventDefault(),re.current.focus(),Ie(!0,ce))},De=ce=>{Ie(!1,ce)},qe=T.Children.toArray(l),xr=ce=>{const Ke=qe.find(Tt=>Tt.props.value===ce.target.value);Ke!==void 0&&(W(Ke.props.value),O&&O(ce,Ke))},Cn=ce=>Ke=>{let Tt;if(Ke.currentTarget.hasAttribute("tabindex")){if(_){Tt=Array.isArray(F)?F.slice():[];const Pi=F.indexOf(ce.props.value);Pi===-1?Tt.push(ce.props.value):Tt.splice(Pi,1)}else Tt=ce.props.value;if(ce.props.onClick&&ce.props.onClick(Ke),F!==Tt&&(W(Tt),O)){const Pi=Ke.nativeEvent||Ke,dd=new Pi.constructor(Pi.type,Pi);Object.defineProperty(dd,"target",{writable:!0,value:{value:Tt,name:x}}),O(dd,ce)}_||Ie(!1,Ke)}},Rn=ce=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ce.key)!==-1&&(ce.preventDefault(),Ie(!0,ce))},Pn=oe!==null&&X,tn=ce=>{!Pn&&k&&(Object.defineProperty(ce,"target",{writable:!0,value:{value:F,name:x}}),k(ce))};delete K["aria-invalid"];let et,Cr;const Lt=[];let He=!1;(tp({value:F})||m)&&(M?et=M(F):He=!0);const jn=qe.map(ce=>{if(!T.isValidElement(ce))return null;let Ke;if(_){if(!Array.isArray(F))throw new Error(Is(2));Ke=F.some(Tt=>pC(Tt,ce.props.value)),Ke&&He&&Lt.push(ce.props.children)}else Ke=pC(F,ce.props.value),Ke&&He&&(Cr=ce.props.children);return T.cloneElement(ce,{"aria-selected":Ke?"true":"false",onClick:Cn(ce),onKeyUp:Tt=>{Tt.key===" "&&Tt.preventDefault(),ce.props.onKeyUp&&ce.props.onKeyUp(Tt)},role:"option",selected:Ke,value:void 0,"data-value":ce.props.value})});He&&(_?Lt.length===0?et=null:et=Lt.reduce((ce,Ke,Tt)=>(ce.push(Ke),Tt<Lt.length-1&&ce.push(", "),ce),[]):et=Cr);let rt=Ae;!a&&ye&&oe&&(rt=Te.clientWidth);let it;typeof z<"u"?it=z:it=h?null:0;const Oe=A.id||(x?`mui-component-select-${x}`:void 0),de=L({},e,{variant:Q,value:F,open:Pn,error:g}),or=pse(de),Ro=L({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Rr=F1();return N.jsxs(T.Fragment,{children:[N.jsx(cse,L({ref:ft,tabIndex:it,role:"combobox","aria-controls":Rr,"aria-disabled":h?"true":void 0,"aria-expanded":Pn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[b,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Rn,onMouseDown:h||D?null:ve,onBlur:tn,onFocus:w},A,{ownerState:de,className:fe(A.className,or.select,u),id:Oe,children:hse(et)?hC||(hC=N.jsx("span",{className:"notranslate",children:""})):et})),N.jsx(fse,L({"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:x,ref:ne,"aria-hidden":!0,onChange:xr,tabIndex:-1,disabled:h,className:or.nativeInput,autoFocus:s,ownerState:de},K)),N.jsx(dse,{as:v,className:or.icon,ownerState:de}),N.jsx(NO,L({id:`menu-${x||""}`,anchorEl:Te,open:Pn,onClose:De,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:L({"aria-labelledby":b,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Rr},y.MenuListProps),slotProps:L({},y.slotProps,{paper:L({},Ro,{style:L({minWidth:rt},Ro!=null?Ro.style:null)})}),children:jn}))]})}),gse=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],yse=["root"],vse=t=>{const{classes:e}=t;return e},eE={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Tn(t)&&t!=="variant",slot:"Root"},_se=pe(Xb,eE)(""),bse=pe(Zb,eE)(""),Ese=pe(Yb,eE)(""),LO=T.forwardRef(function(e,n){const r=nt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=fie,id:f,input:h,inputProps:m,label:g,labelId:v,MenuProps:I,multiple:b=!1,native:y=!1,onClose:_,onOpen:x,open:k,renderValue:O,SelectDisplayProps:S,variant:w="outlined"}=r,C=le(r,gse),R=y?Joe:mse,D=Os(),M=xl({props:r,muiFormControl:D,states:["variant","error"]}),A=M.variant||w,z=L({},r,{variant:A,classes:s}),U=vse(z),Q=le(U,yse),K=h||{standard:N.jsx(_se,{ownerState:z}),outlined:N.jsx(bse,{label:g,ownerState:z}),filled:N.jsx(Ese,{ownerState:z})}[A],F=fn(n,K.ref);return N.jsx(T.Fragment,{children:T.cloneElement(K,L({inputComponent:R,inputProps:L({children:o,error:M.error,IconComponent:d,variant:A,type:void 0,multiple:b},y?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:I,onClose:_,onOpen:x,open:k,renderValue:O,SelectDisplayProps:L({id:f},S)},m,{classes:m?Yn(Q,m.classes):Q},h?h.props.inputProps:{})},(b&&y||u)&&A==="outlined"?{notched:!0}:{},{ref:F,className:fe(K.props.className,a,U.root)},!h&&{variant:A},C))})});LO.muiName="Select";function wse(t){return Ye("MuiTextField",t)}$e("MuiTextField",["root"]);const Ise=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Sse={standard:Xb,filled:Yb,outlined:Zb},Tse=t=>{const{classes:e}=t;return Ze({root:["root"]},wse,e)},xse=pe(Yie,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),np=T.forwardRef(function(e,n){const r=nt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:d=!1,error:f=!1,FormHelperTextProps:h,fullWidth:m=!1,helperText:g,id:v,InputLabelProps:I,inputProps:b,InputProps:y,inputRef:_,label:x,maxRows:k,minRows:O,multiline:S=!1,name:w,onBlur:C,onChange:R,onFocus:D,placeholder:M,required:A=!1,rows:z,select:U=!1,SelectProps:Q,type:K,value:F,variant:W="outlined"}=r,X=le(r,Ise),he=L({},r,{autoFocus:o,color:l,disabled:d,error:f,fullWidth:m,multiline:S,required:A,select:U,variant:W}),ne=Tse(he),re={};W==="outlined"&&(I&&typeof I.shrink<"u"&&(re.notched=I.shrink),re.label=x),U&&((!Q||!Q.native)&&(re.id=void 0),re["aria-describedby"]=void 0);const oe=F1(v),me=g&&oe?`${oe}-helper-text`:void 0,ye=x&&oe?`${oe}-label`:void 0,Ae=Sse[W],St=N.jsx(Ae,L({"aria-describedby":me,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:m,multiline:S,name:w,rows:z,maxRows:k,minRows:O,type:K,value:F,id:oe,inputRef:_,onBlur:C,onChange:R,onFocus:D,placeholder:M,inputProps:b},re,y));return N.jsxs(xse,L({className:fe(ne.root,a),disabled:d,error:f,fullWidth:m,ref:n,required:A,color:l,variant:W,ownerState:he},X,{children:[x!=null&&x!==""&&N.jsx(voe,L({htmlFor:oe,id:ye},I,{children:x})),U?N.jsx(LO,L({"aria-describedby":me,id:oe,labelId:ye,value:F,input:St},Q,{children:s})):St,g&&N.jsx(toe,L({id:me},h,{children:g}))]}))});function Cse(t){const[e,n]=T.useState(null),r=il();let[i,o]=T.useState(t.content);const s=u=>{o(u),Gf(t.id,editedTitle,u)};T.useEffect(()=>{o(t.content)},[t.content]);const a=u=>n(u.currentTarget),l=()=>n(null);return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"note",onDoubleClick:()=>r(`/note/${t.id}`),children:[N.jsxs("div",{className:"note-header",children:[N.jsxs("div",{className:"note-header-left",children:[N.jsx("h1",{className:"note-title",children:t.title}),N.jsx("div",{className:"note-badge-div",children:t.isList&&N.jsx("p",{className:"note-badge",children:Array.from(i).reduce((u,d)=>(d.checked||(u+=1),u),0)})})]}),N.jsxs("div",{id:"menuIcon",children:[N.jsx(SO,{onClick:a}),N.jsxs(NO,{anchorEl:e,open:!!e,onClose:l,children:[N.jsxs(dC,{onClick:()=>r(`/note/${t.id}`),children:[N.jsx(cG,{style:{marginRight:"10px"}}),"Edit Note"]}),N.jsxs(dC,{onClick:()=>IO(t.id,t.setNotes),children:[N.jsx(cb,{style:{marginRight:"10px"}}),"Delete note"]})]})]})]}),t.isList?N.jsx(Ub,{itemsArray:i,updateItemsArray:s}):N.jsx(N.Fragment,{children:N.jsx("p",{className:"note-content",children:t.content})}),N.jsx("div",{className:"note-date",children:N.jsx("p",{className:"date-time-text",children:t.date})})]})})}function Rse(){const t=il();return N.jsx("div",{children:N.jsx(jie,{color:"primary","aria-label":"add",onClick:()=>t("/note/"),id:"create-note-fab",children:N.jsx(oO,{})})})}const Pse=async t=>{if(t)try{const e=Jk(dl,"notes"),n=O3(e,M3("userId","==",t.uid));return(await B3(n)).docs.map(o=>({...o.data(),id:o.id}))}catch(e){return console.error("Error fetching notes:",e),[]}else return[]};function Ase(t){const e=new Date(t),n={weekday:"short",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",n).format(e)}var tE={},kse=en;Object.defineProperty(tE,"__esModule",{value:!0});var $O=tE.default=void 0,Dse=kse(xn()),Nse=N;$O=tE.default=(0,Dse.default)((0,Nse.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"}),"UnfoldMore");function Ose({sortingOptions:t,currentSorting:e,onSortingChange:n,toggleSortDirection:r}){return N.jsxs("div",{className:"sorter",children:[N.jsx("select",{id:"sorter-select",value:e,onChange:i=>n(i.target.value),children:t.map(i=>N.jsx("option",{value:i.value,children:i.label},i.value))}),N.jsx($O,{onClick:r})]})}function Mse({theme:t,toggleTheme:e}){const[n,r]=T.useState([]),[i,o]=T.useState(null),s=il(),[a,l]=T.useState("date");T.useEffect(()=>{const v=D1(fl,I=>{I?o(I):s("/login")});return()=>v()},[s]),T.useEffect(()=>{(async()=>{if(i){const I=await Pse(i);r(I||[])}})()},[i]);const u=v=>{l(v),h(g)},[d,f]=T.useState(!0),h=v=>{if(!Array.isArray(n))return[];const I=[...n];switch(v){case"date":I.sort((b,y)=>new Date(b.timestamp)-new Date(y.timestamp));case"title":I.sort((b,y)=>b.title.localeCompare(y.title))}return d?I:I.reverse()},m=()=>{f(v=>!v)},g=h(a);return N.jsxs(N.Fragment,{children:[N.jsx(Rse,{user:i}),N.jsx(IG,{toggleTheme:e,theme:t}),N.jsxs("div",{className:"sectioned-div",children:[N.jsxs("div",{className:"section-title",children:[N.jsx("h2",{children:"All Notes"}),N.jsx("p",{className:"section-badge",children:g.length})]}),N.jsx(Ose,{sortingOptions:[{value:"date",label:"Date"},{value:"title",label:"Title"}],currentSorting:a,onSortingChange:u,toggleSortDirection:m})]}),N.jsx("div",{id:"notes-grid",children:g.map(v=>N.jsx(Cse,{id:v.id,title:v.title,date:Ase(v.timestamp.seconds),content:v.content,isList:v.isList,setNotes:r},v.id))})]})}var nE={},Lse=en;Object.defineProperty(nE,"__esModule",{value:!0});var rE=nE.default=void 0,$se=Lse(xn()),Vse=N;rE=nE.default=(0,$se.default)((0,Vse.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var iE={},Fse=en;Object.defineProperty(iE,"__esModule",{value:!0});var oE=iE.default=void 0,Bse=Fse(xn()),jse=N;oE=iE.default=(0,Bse.default)((0,jse.jsx)("path",{d:"M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6"}),"Brightness5");const Use=({toggleTheme:t,theme:e})=>{const[n,r]=T.useState(""),[i,o]=T.useState(""),s=il(),a=async l=>{l.preventDefault();try{await hG(n,i),Fe.success("Login Successful!",{position:"top-center"}),window.location.href="/main"}catch(u){Fe.error(u.message,{position:"bottom-center"})}};return T.useEffect(()=>{(async()=>{await mG()&&s("/main")})()},[s]),N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:t,children:[e==="light"?N.jsx(rE,{}):N.jsx(oE,{})," "]})}),N.jsx(PO,{children:N.jsx(Xi,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:a,className:"register-form ",children:[N.jsx(Xi,{mb:2,children:N.jsxs(CO,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(Dm,{}),"Organica"]})}),N.jsx(Xi,{mb:2,children:N.jsx(np,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:n,onChange:l=>r(l.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Xi,{mb:2,children:N.jsx(np,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:l=>o(l.target.value),className:"custom-textfield",required:!0})}),N.jsx(os,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Login"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/register",children:"Register"})]})," ",N.jsxs("p",{className:"custom-hyperlink",children:["Try app with"," ",N.jsx("a",{href:"",onClick:l=>{l.preventDefault(),r("test@gmail.com"),o("testpassword")},children:"Test Account"})]})]})})})]})},zse=({theme:t,toggleTheme:e})=>{const[n,r]=T.useState(""),[i,o]=T.useState(""),s=async a=>{a.preventDefault();try{await fG(n,i),Fe.success("User Registered Successfully!",{position:"top-center"}),window.location.href="/login"}catch(l){Fe.error(l.message,{position:"bottom-center"})}};return N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:e,children:[t==="light"?N.jsx(rE,{}):N.jsx(oE,{})," "]})}),N.jsx(PO,{maxWidth:"sm",children:N.jsx(Xi,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:s,className:"register-form",children:[N.jsx(Xi,{mb:2,children:N.jsxs(CO,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(Dm,{}),"Organica"]})}),N.jsx(Xi,{mb:2,children:N.jsx(np,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:n,onChange:a=>r(a.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Xi,{mb:2,children:N.jsx(np,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:a=>o(a.target.value),className:"custom-textfield",required:!0})}),N.jsx(os,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Register"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/login",children:"Login"})]})]})})})]})};var sE={},Wse=en;Object.defineProperty(sE,"__esModule",{value:!0});var aE=sE.default=void 0,Gse=Wse(xn()),qse=N;aE=sE.default=(0,Gse.default)((0,qse.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var lE={},Hse=en;Object.defineProperty(lE,"__esModule",{value:!0});var uE=lE.default=void 0,Kse=Hse(xn()),Qse=N;uE=lE.default=(0,Kse.default)((0,Qse.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");function Yse({theme:t,toggleTheme:e}){const{id:n}=uV(),r=il(),[i,o]=T.useState(null),[s,a]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(!1),[h,m]=T.useState([]);T.useEffect(()=>{(async()=>{const _=await yre(n);o(_),a(_.title),u(_.content),f(_.isList),m(_.content||[])})()},[n]);const g=y=>{m(y),Gf(n,s,y)},v=()=>{d?Gf(n,s,h):Gf(n,s,l),r("/main")},I=()=>{r("/main")},b=()=>{IO(n,o),r("/main")};return i?N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:s,onChange:y=>a(y.target.value),placeholder:"Add a title..."}),d?N.jsx(Ub,{itemsArray:h,updateItemsArray:g}):N.jsx("textarea",{className:"contentInput",value:l,onChange:y=>u(y.target.value),placeholder:"Take a note..."}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(os,{onClick:I,color:"primary",children:[N.jsx(uE,{})," Cancel"]}),N.jsxs(os,{onClick:v,color:"primary",variant:"contained",children:[N.jsx(aE,{})," Save"]}),N.jsxs(os,{onClick:b,color:"secondary",children:[N.jsx(cb,{})," Delete"]})]})]}):N.jsx("p",{children:"Loading..."})}function Xse(){const t=il(),[e,n]=T.useState(""),[r,i]=T.useState(""),[o,s]=T.useState(!1),[a,l]=T.useState([]),[u,d]=T.useState(null);T.useEffect(()=>{const g=D1(fl,v=>{v?d(v):t("/login")});return()=>g()},[t]);const f=g=>{l(g)},h=()=>{gre(u,e,r,o).then(()=>{t("/main")})},m=()=>{t("/main")};return N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:e,onChange:g=>n(g.target.value),placeholder:"Add a title..."}),o?N.jsx(Ub,{itemsArray:a,updateItemsArray:f}):N.jsx("textarea",{className:"contentInput",value:r,onChange:g=>i(g.target.value),placeholder:"Take a note..."}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(os,{onClick:m,color:"primary",children:[N.jsx(uE,{})," Cancel"]}),N.jsxs(os,{onClick:h,color:"primary",variant:"contained",children:[N.jsx(aE,{})," Save"]})]})]})}let Jse=()=>{const[t,e]=T.useState(()=>localStorage.getItem("theme")||"light");T.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)},[t]);const n=()=>{e(t==="light"?"dark":"light")};return N.jsxs(xV,{children:[N.jsx("div",{children:N.jsxs(IV,{children:["// redirect to login page",N.jsx(Ys,{path:"/*",element:N.jsx(Use,{theme:t,toggleTheme:n})}),N.jsx(Ys,{path:"/register",element:N.jsx(zse,{theme:t,toggleTheme:n})}),N.jsx(Ys,{path:"/main",element:N.jsx(Mse,{theme:t,toggleTheme:n})}),N.jsx(Ys,{path:"/note/:id",element:N.jsx(Yse,{theme:t,toggleTheme:n})}),N.jsx(Ys,{path:"/note/",element:N.jsx(Xse,{theme:t,toggleTheme:n})})]})}),N.jsx(VV,{})]})};var mC={};const Zse=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function eae(t){if("serviceWorker"in navigator){if(new URL(mC.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${mC.PUBLIC_URL}/service-worker.js`;Zse?(tae(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):VO(n)})}}function VO(t,e){navigator.serviceWorker.register(t).then(n=>{n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function tae(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):VO(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const nae=document.getElementById("root"),rae=RP(nae);rae.render(N.jsx(ee.StrictMode,{children:N.jsx(Jse,{})}));eae();
