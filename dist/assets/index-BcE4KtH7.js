var M3=Object.defineProperty;var O3=(n,e,t)=>e in n?M3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>O3(n,typeof e!="symbol"?e+"":e,t);function N3(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ps(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var GM={exports:{}},Rv={},YM={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=Symbol.for("react.element"),L3=Symbol.for("react.portal"),F3=Symbol.for("react.fragment"),V3=Symbol.for("react.strict_mode"),$3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),z3=Symbol.for("react.context"),j3=Symbol.for("react.forward_ref"),U3=Symbol.for("react.suspense"),H3=Symbol.for("react.memo"),W3=Symbol.for("react.lazy"),ak=Symbol.iterator;function q3(n){return n===null||typeof n!="object"?null:(n=ak&&n[ak]||n["@@iterator"],typeof n=="function"?n:null)}var QM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JM=Object.assign,XM={};function nd(n,e,t){this.props=n,this.context=e,this.refs=XM,this.updater=t||QM}nd.prototype.isReactComponent={};nd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};nd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ZM(){}ZM.prototype=nd.prototype;function nS(n,e,t){this.props=n,this.context=e,this.refs=XM,this.updater=t||QM}var rS=nS.prototype=new ZM;rS.constructor=nS;JM(rS,nd.prototype);rS.isPureReactComponent=!0;var lk=Array.isArray,eO=Object.prototype.hasOwnProperty,iS={current:null},tO={key:!0,ref:!0,__self:!0,__source:!0};function nO(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)eO.call(e,r)&&!tO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tp,type:n,key:o,ref:s,props:i,_owner:iS.current}}function K3(n,e){return{$$typeof:tp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function oS(n){return typeof n=="object"&&n!==null&&n.$$typeof===tp}function G3(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ck=/\/+/g;function Q_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?G3(""+n.key):e.toString(36)}function Wm(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case tp:case L3:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+Q_(s,0):r,lk(i)?(t="",n!=null&&(t=n.replace(ck,"$&/")+"/"),Wm(i,e,t,"",function(c){return c})):i!=null&&(oS(i)&&(i=K3(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ck,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",lk(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+Q_(o,a);s+=Wm(o,e,t,l,i)}else if(l=q3(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+Q_(o,a++),s+=Wm(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Jp(n,e,t){if(n==null)return n;var r=[],i=0;return Wm(n,r,"","",function(o){return e.call(t,o,i++)}),r}function Y3(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ir={current:null},qm={transition:null},Q3={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:qm,ReactCurrentOwner:iS};function rO(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Jp,forEach:function(n,e,t){Jp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jp(n,function(){e++}),e},toArray:function(n){return Jp(n,function(e){return e})||[]},only:function(n){if(!oS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Be.Component=nd;Be.Fragment=F3;Be.Profiler=$3;Be.PureComponent=nS;Be.StrictMode=V3;Be.Suspense=U3;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3;Be.act=rO;Be.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=JM({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=iS.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)eO.call(e,l)&&!tO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tp,type:n.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(n){return n={$$typeof:z3,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:B3,_context:n},n.Consumer=n};Be.createElement=nO;Be.createFactory=function(n){var e=nO.bind(null,n);return e.type=n,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(n){return{$$typeof:j3,render:n}};Be.isValidElement=oS;Be.lazy=function(n){return{$$typeof:W3,_payload:{_status:-1,_result:n},_init:Y3}};Be.memo=function(n,e){return{$$typeof:H3,type:n,compare:e===void 0?null:e}};Be.startTransition=function(n){var e=qm.transition;qm.transition={};try{n()}finally{qm.transition=e}};Be.unstable_act=rO;Be.useCallback=function(n,e){return Ir.current.useCallback(n,e)};Be.useContext=function(n){return Ir.current.useContext(n)};Be.useDebugValue=function(){};Be.useDeferredValue=function(n){return Ir.current.useDeferredValue(n)};Be.useEffect=function(n,e){return Ir.current.useEffect(n,e)};Be.useId=function(){return Ir.current.useId()};Be.useImperativeHandle=function(n,e,t){return Ir.current.useImperativeHandle(n,e,t)};Be.useInsertionEffect=function(n,e){return Ir.current.useInsertionEffect(n,e)};Be.useLayoutEffect=function(n,e){return Ir.current.useLayoutEffect(n,e)};Be.useMemo=function(n,e){return Ir.current.useMemo(n,e)};Be.useReducer=function(n,e,t){return Ir.current.useReducer(n,e,t)};Be.useRef=function(n){return Ir.current.useRef(n)};Be.useState=function(n){return Ir.current.useState(n)};Be.useSyncExternalStore=function(n,e,t){return Ir.current.useSyncExternalStore(n,e,t)};Be.useTransition=function(){return Ir.current.useTransition()};Be.version="18.3.1";YM.exports=Be;var x=YM.exports;const $=Xt(x),oh=N3({__proto__:null,default:$},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3=x,X3=Symbol.for("react.element"),Z3=Symbol.for("react.fragment"),ez=Object.prototype.hasOwnProperty,tz=J3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nz={key:!0,ref:!0,__self:!0,__source:!0};function iO(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ez.call(e,r)&&!nz.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X3,type:n,key:o,ref:s,props:i,_owner:tz.current}}Rv.Fragment=Z3;Rv.jsx=iO;Rv.jsxs=iO;GM.exports=Rv;var N=GM.exports,oO={exports:{}},ii={},sO={exports:{}},aO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,G){var Z=V.length;V.push(G);e:for(;0<Z;){var ne=Z-1>>>1,fe=V[ne];if(0<i(fe,G))V[ne]=G,V[Z]=fe,Z=ne;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],Z=V.pop();if(Z!==G){V[0]=Z;e:for(var ne=0,fe=V.length,re=fe>>>1;ne<re;){var ge=2*(ne+1)-1,ce=V[ge],Te=ge+1,Ue=V[Te];if(0>i(ce,Z))Te<fe&&0>i(Ue,ce)?(V[ne]=Ue,V[Te]=Z,ne=Te):(V[ne]=ce,V[ge]=Z,ne=ge);else if(Te<fe&&0>i(Ue,Z))V[ne]=Ue,V[Te]=Z,ne=Te;else break e}}return G}function i(V,G){var Z=V.sortIndex-G.sortIndex;return Z!==0?Z:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=V)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function k(V){if(g=!1,b(V),!m)if(t(l)!==null)m=!0,H(P);else{var G=t(c);G!==null&&q(k,G.startTime-V)}}function P(V,G){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var Z=h;try{for(b(G),d=t(l);d!==null&&(!(d.expirationTime>G)||V&&!A());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var fe=ne(d.expirationTime<=G);G=n.unstable_now(),typeof fe=="function"?d.callback=fe:d===t(l)&&r(l),b(G)}else r(l);d=t(l)}if(d!==null)var re=!0;else{var ge=t(c);ge!==null&&q(k,ge.startTime-G),re=!1}return re}finally{d=null,h=Z,p=!1}}var M=!1,S=null,E=-1,I=5,C=-1;function A(){return!(n.unstable_now()-C<I)}function O(){if(S!==null){var V=n.unstable_now();C=V;var G=!0;try{G=S(!0,V)}finally{G?R():(M=!1,S=null)}}else M=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=O,R=function(){K.postMessage(null)}}else R=function(){_(O,0)};function H(V){S=V,M||(M=!0,R())}function q(V,G){E=_(function(){V(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,H(P))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var Z=h;h=G;try{return V()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return G()}finally{h=Z}},n.unstable_scheduleCallback=function(V,G,Z){var ne=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,V){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Z+fe,V={id:u++,callback:G,priorityLevel:V,startTime:Z,expirationTime:fe,sortIndex:-1},Z>ne?(V.sortIndex=Z,e(c,V),t(l)===null&&V===t(c)&&(g?(v(E),E=-1):g=!0,q(k,Z-ne))):(V.sortIndex=fe,e(l,V),m||p||(m=!0,H(P))),V},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(V){var G=h;return function(){var Z=h;h=G;try{return V.apply(this,arguments)}finally{h=Z}}}})(aO);sO.exports=aO;var rz=sO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iz=x,ti=rz;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lO=new Set,sh={};function ec(n,e){Eu(n,e),Eu(n+"Capture",e)}function Eu(n,e){for(sh[n]=e,n=0;n<e.length;n++)lO.add(e[n])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R1=Object.prototype.hasOwnProperty,oz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uk={},dk={};function sz(n){return R1.call(dk,n)?!0:R1.call(uk,n)?!1:oz.test(n)?dk[n]=!0:(uk[n]=!0,!1)}function az(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function lz(n,e,t,r){if(e===null||typeof e>"u"||az(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Hn[n]=new kr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Hn[e]=new kr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Hn[n]=new kr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Hn[n]=new kr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Hn[n]=new kr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Hn[n]=new kr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Hn[n]=new kr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Hn[n]=new kr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Hn[n]=new kr(n,5,!1,n.toLowerCase(),null,!1,!1)});var sS=/[\-:]([a-z])/g;function aS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(sS,aS);Hn[e]=new kr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(sS,aS);Hn[e]=new kr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(sS,aS);Hn[e]=new kr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Hn[n]=new kr(n,1,!1,n.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Hn[n]=new kr(n,1,!1,n.toLowerCase(),null,!0,!0)});function lS(n,e,t,r){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lz(e,t,i,r)&&(t=null),r||i===null?sz(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ms=iz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),jc=Symbol.for("react.portal"),Uc=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),cO=Symbol.for("react.provider"),uO=Symbol.for("react.context"),uS=Symbol.for("react.forward_ref"),A1=Symbol.for("react.suspense"),M1=Symbol.for("react.suspense_list"),dS=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),dO=Symbol.for("react.offscreen"),fk=Symbol.iterator;function zd(n){return n===null||typeof n!="object"?null:(n=fk&&n[fk]||n["@@iterator"],typeof n=="function"?n:null)}var $t=Object.assign,J_;function vf(n){if(J_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);J_=e&&e[1]||""}return`
`+J_+n}var X_=!1;function Z_(n,e){if(!n||X_)return"";X_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{X_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vf(n):""}function cz(n){switch(n.tag){case 5:return vf(n.type);case 16:return vf("Lazy");case 13:return vf("Suspense");case 19:return vf("SuspenseList");case 0:case 2:case 15:return n=Z_(n.type,!1),n;case 11:return n=Z_(n.type.render,!1),n;case 1:return n=Z_(n.type,!0),n;default:return""}}function O1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Uc:return"Fragment";case jc:return"Portal";case D1:return"Profiler";case cS:return"StrictMode";case A1:return"Suspense";case M1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case uO:return(n.displayName||"Context")+".Consumer";case cO:return(n._context.displayName||"Context")+".Provider";case uS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dS:return e=n.displayName||null,e!==null?e:O1(n.type)||"Memo";case Ds:e=n._payload,n=n._init;try{return O1(n(e))}catch{}}return null}function uz(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O1(e);case 8:return e===cS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ya(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dz(n){var e=fO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Zp(n){n._valueTracker||(n._valueTracker=dz(n))}function hO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=fO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Lg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function N1(n,e){var t=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function hk(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ya(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pO(n,e){e=e.checked,e!=null&&lS(n,"checked",e,!1)}function L1(n,e){pO(n,e);var t=ya(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?F1(n,e.type,t):e.hasOwnProperty("defaultValue")&&F1(n,e.type,ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function pk(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function F1(n,e,t){(e!=="number"||Lg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var _f=Array.isArray;function iu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ya(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function V1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mk(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(_f(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ya(t)}}function mO(n,e){var t=ya(e.value),r=ya(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function gk(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function gO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?gO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var em,yO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=em.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ah(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fz=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(n){fz.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Nf[e]=Nf[n]})});function vO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Nf.hasOwnProperty(n)&&Nf[n]?(""+e).trim():e+"px"}function _O(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=vO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var hz=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function B1(n,e){if(e){if(hz[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function z1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j1=null;function fS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var U1=null,ou=null,su=null;function yk(n){if(n=ip(n)){if(typeof U1!="function")throw Error(J(280));var e=n.stateNode;e&&(e=Nv(e),U1(n.stateNode,n.type,e))}}function wO(n){ou?su?su.push(n):su=[n]:ou=n}function bO(){if(ou){var n=ou,e=su;if(su=ou=null,yk(n),e)for(n=0;n<e.length;n++)yk(e[n])}}function EO(n,e){return n(e)}function SO(){}var ew=!1;function TO(n,e,t){if(ew)return n(e,t);ew=!0;try{return EO(n,e,t)}finally{ew=!1,(ou!==null||su!==null)&&(SO(),bO())}}function lh(n,e){var t=n.stateNode;if(t===null)return null;var r=Nv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var H1=!1;if(ts)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){H1=!0}}),window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{H1=!1}function pz(n,e,t,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Lf=!1,Fg=null,Vg=!1,W1=null,mz={onError:function(n){Lf=!0,Fg=n}};function gz(n,e,t,r,i,o,s,a,l){Lf=!1,Fg=null,pz.apply(mz,arguments)}function yz(n,e,t,r,i,o,s,a,l){if(gz.apply(this,arguments),Lf){if(Lf){var c=Fg;Lf=!1,Fg=null}else throw Error(J(198));Vg||(Vg=!0,W1=c)}}function tc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function xO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function vk(n){if(tc(n)!==n)throw Error(J(188))}function vz(n){var e=n.alternate;if(!e){if(e=tc(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return vk(i),n;if(o===r)return vk(i),e;o=o.sibling}throw Error(J(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(t.alternate!==r)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function IO(n){return n=vz(n),n!==null?kO(n):null}function kO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kO(n);if(e!==null)return e;n=n.sibling}return null}var CO=ti.unstable_scheduleCallback,_k=ti.unstable_cancelCallback,_z=ti.unstable_shouldYield,wz=ti.unstable_requestPaint,tn=ti.unstable_now,bz=ti.unstable_getCurrentPriorityLevel,hS=ti.unstable_ImmediatePriority,PO=ti.unstable_UserBlockingPriority,$g=ti.unstable_NormalPriority,Ez=ti.unstable_LowPriority,RO=ti.unstable_IdlePriority,Dv=null,go=null;function Sz(n){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(Dv,n,void 0,(n.current.flags&128)===128)}catch{}}var Hi=Math.clz32?Math.clz32:Iz,Tz=Math.log,xz=Math.LN2;function Iz(n){return n>>>=0,n===0?32:31-(Tz(n)/xz|0)|0}var tm=64,nm=4194304;function wf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=wf(a):(o&=s,o!==0&&(r=wf(o)))}else s=t&~i,s!==0?r=wf(s):o!==0&&(r=wf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Hi(e),i=1<<t,r|=n[t],e&=~i;return r}function kz(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cz(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Hi(o),a=1<<s,l=i[s];l===-1?(!(a&t)||a&r)&&(i[s]=kz(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function q1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function DO(){var n=tm;return tm<<=1,!(tm&4194240)&&(tm=64),n}function tw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function np(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hi(e),n[e]=t}function Pz(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Hi(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function pS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Hi(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ut=0;function AO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var MO,mS,OO,NO,LO,K1=!1,rm=[],Xs=null,Zs=null,ea=null,ch=new Map,uh=new Map,Ns=[],Rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wk(n,e){switch(n){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function Ud(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ip(e),e!==null&&mS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Dz(n,e,t,r,i){switch(e){case"focusin":return Xs=Ud(Xs,n,e,t,r,i),!0;case"dragenter":return Zs=Ud(Zs,n,e,t,r,i),!0;case"mouseover":return ea=Ud(ea,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return ch.set(o,Ud(ch.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uh.set(o,Ud(uh.get(o)||null,n,e,t,r,i)),!0}return!1}function FO(n){var e=sl(n.target);if(e!==null){var t=tc(e);if(t!==null){if(e=t.tag,e===13){if(e=xO(t),e!==null){n.blockedOn=e,LO(n.priority,function(){OO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Km(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=G1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);j1=r,t.target.dispatchEvent(r),j1=null}else return e=ip(t),e!==null&&mS(e),n.blockedOn=t,!1;e.shift()}return!0}function bk(n,e,t){Km(n)&&t.delete(e)}function Az(){K1=!1,Xs!==null&&Km(Xs)&&(Xs=null),Zs!==null&&Km(Zs)&&(Zs=null),ea!==null&&Km(ea)&&(ea=null),ch.forEach(bk),uh.forEach(bk)}function Hd(n,e){n.blockedOn===e&&(n.blockedOn=null,K1||(K1=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,Az)))}function dh(n){function e(i){return Hd(i,n)}if(0<rm.length){Hd(rm[0],n);for(var t=1;t<rm.length;t++){var r=rm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Xs!==null&&Hd(Xs,n),Zs!==null&&Hd(Zs,n),ea!==null&&Hd(ea,n),ch.forEach(e),uh.forEach(e),t=0;t<Ns.length;t++)r=Ns[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ns.length&&(t=Ns[0],t.blockedOn===null);)FO(t),t.blockedOn===null&&Ns.shift()}var au=ms.ReactCurrentBatchConfig,zg=!0;function Mz(n,e,t,r){var i=ut,o=au.transition;au.transition=null;try{ut=1,gS(n,e,t,r)}finally{ut=i,au.transition=o}}function Oz(n,e,t,r){var i=ut,o=au.transition;au.transition=null;try{ut=4,gS(n,e,t,r)}finally{ut=i,au.transition=o}}function gS(n,e,t,r){if(zg){var i=G1(n,e,t,r);if(i===null)dw(n,e,r,jg,t),wk(n,r);else if(Dz(i,n,e,t,r))r.stopPropagation();else if(wk(n,r),e&4&&-1<Rz.indexOf(n)){for(;i!==null;){var o=ip(i);if(o!==null&&MO(o),o=G1(n,e,t,r),o===null&&dw(n,e,r,jg,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else dw(n,e,r,null,t)}}var jg=null;function G1(n,e,t,r){if(jg=null,n=fS(r),n=sl(n),n!==null)if(e=tc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=xO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jg=n,null}function VO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bz()){case hS:return 1;case PO:return 4;case $g:case Ez:return 16;case RO:return 536870912;default:return 16}default:return 16}}var Us=null,yS=null,Gm=null;function $O(){if(Gm)return Gm;var n,e=yS,t=e.length,r,i="value"in Us?Us.value:Us.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return Gm=i.slice(n,1<r?1-r:void 0)}function Ym(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function im(){return!0}function Ek(){return!1}function oi(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?im:Ek,this.isPropagationStopped=Ek,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=im)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=im)},persist:function(){},isPersistent:im}),e}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vS=oi(rd),rp=$t({},rd,{view:0,detail:0}),Nz=oi(rp),nw,rw,Wd,Av=$t({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_S,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wd&&(Wd&&n.type==="mousemove"?(nw=n.screenX-Wd.screenX,rw=n.screenY-Wd.screenY):rw=nw=0,Wd=n),nw)},movementY:function(n){return"movementY"in n?n.movementY:rw}}),Sk=oi(Av),Lz=$t({},Av,{dataTransfer:0}),Fz=oi(Lz),Vz=$t({},rp,{relatedTarget:0}),iw=oi(Vz),$z=$t({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),Bz=oi($z),zz=$t({},rd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jz=oi(zz),Uz=$t({},rd,{data:0}),Tk=oi(Uz),Hz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kz(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=qz[n])?!!e[n]:!1}function _S(){return Kz}var Gz=$t({},rp,{key:function(n){if(n.key){var e=Hz[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ym(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_S,charCode:function(n){return n.type==="keypress"?Ym(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ym(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Yz=oi(Gz),Qz=$t({},Av,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xk=oi(Qz),Jz=$t({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_S}),Xz=oi(Jz),Zz=$t({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),e5=oi(Zz),t5=$t({},Av,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),n5=oi(t5),r5=[9,13,27,32],wS=ts&&"CompositionEvent"in window,Ff=null;ts&&"documentMode"in document&&(Ff=document.documentMode);var i5=ts&&"TextEvent"in window&&!Ff,BO=ts&&(!wS||Ff&&8<Ff&&11>=Ff),Ik=" ",kk=!1;function zO(n,e){switch(n){case"keyup":return r5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hc=!1;function o5(n,e){switch(n){case"compositionend":return jO(e);case"keypress":return e.which!==32?null:(kk=!0,Ik);case"textInput":return n=e.data,n===Ik&&kk?null:n;default:return null}}function s5(n,e){if(Hc)return n==="compositionend"||!wS&&zO(n,e)?(n=$O(),Gm=yS=Us=null,Hc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BO&&e.locale!=="ko"?null:e.data;default:return null}}var a5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ck(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!a5[n.type]:e==="textarea"}function UO(n,e,t,r){wO(r),e=Ug(e,"onChange"),0<e.length&&(t=new vS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Vf=null,fh=null;function l5(n){eN(n,0)}function Mv(n){var e=Kc(n);if(hO(e))return n}function c5(n,e){if(n==="change")return e}var HO=!1;if(ts){var ow;if(ts){var sw="oninput"in document;if(!sw){var Pk=document.createElement("div");Pk.setAttribute("oninput","return;"),sw=typeof Pk.oninput=="function"}ow=sw}else ow=!1;HO=ow&&(!document.documentMode||9<document.documentMode)}function Rk(){Vf&&(Vf.detachEvent("onpropertychange",WO),fh=Vf=null)}function WO(n){if(n.propertyName==="value"&&Mv(fh)){var e=[];UO(e,fh,n,fS(n)),TO(l5,e)}}function u5(n,e,t){n==="focusin"?(Rk(),Vf=e,fh=t,Vf.attachEvent("onpropertychange",WO)):n==="focusout"&&Rk()}function d5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mv(fh)}function f5(n,e){if(n==="click")return Mv(e)}function h5(n,e){if(n==="input"||n==="change")return Mv(e)}function p5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gi=typeof Object.is=="function"?Object.is:p5;function hh(n,e){if(Gi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!R1.call(e,i)||!Gi(n[i],e[i]))return!1}return!0}function Dk(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ak(n,e){var t=Dk(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Dk(t)}}function qO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function KO(){for(var n=window,e=Lg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Lg(n.document)}return e}function bS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function m5(n){var e=KO(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&qO(t.ownerDocument.documentElement,t)){if(r!==null&&bS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Ak(t,o);var s=Ak(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var g5=ts&&"documentMode"in document&&11>=document.documentMode,Wc=null,Y1=null,$f=null,Q1=!1;function Mk(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Q1||Wc==null||Wc!==Lg(r)||(r=Wc,"selectionStart"in r&&bS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$f&&hh($f,r)||($f=r,r=Ug(Y1,"onSelect"),0<r.length&&(e=new vS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wc)))}function om(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var qc={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},aw={},GO={};ts&&(GO=document.createElement("div").style,"AnimationEvent"in window||(delete qc.animationend.animation,delete qc.animationiteration.animation,delete qc.animationstart.animation),"TransitionEvent"in window||delete qc.transitionend.transition);function Ov(n){if(aw[n])return aw[n];if(!qc[n])return n;var e=qc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in GO)return aw[n]=e[t];return n}var YO=Ov("animationend"),QO=Ov("animationiteration"),JO=Ov("animationstart"),XO=Ov("transitionend"),ZO=new Map,Ok="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(n,e){ZO.set(n,e),ec(e,[n])}for(var lw=0;lw<Ok.length;lw++){var cw=Ok[lw],y5=cw.toLowerCase(),v5=cw[0].toUpperCase()+cw.slice(1);ka(y5,"on"+v5)}ka(YO,"onAnimationEnd");ka(QO,"onAnimationIteration");ka(JO,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(XO,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_5=new Set("cancel close invalid load scroll toggle".split(" ").concat(bf));function Nk(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,yz(r,e,void 0,n),n.currentTarget=null}function eN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nk(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nk(i,a,c),o=l}}}if(Vg)throw n=W1,Vg=!1,W1=null,n}function Tt(n,e){var t=e[tb];t===void 0&&(t=e[tb]=new Set);var r=n+"__bubble";t.has(r)||(tN(e,n,2,!1),t.add(r))}function uw(n,e,t){var r=0;e&&(r|=4),tN(t,n,r,e)}var sm="_reactListening"+Math.random().toString(36).slice(2);function ph(n){if(!n[sm]){n[sm]=!0,lO.forEach(function(t){t!=="selectionchange"&&(_5.has(t)||uw(t,!1,n),uw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sm]||(e[sm]=!0,uw("selectionchange",!1,e))}}function tN(n,e,t,r){switch(VO(e)){case 1:var i=Mz;break;case 4:i=Oz;break;default:i=gS}t=i.bind(null,e,t,n),i=void 0,!H1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function dw(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=sl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}TO(function(){var c=o,u=fS(t),d=[];e:{var h=ZO.get(n);if(h!==void 0){var p=vS,m=n;switch(n){case"keypress":if(Ym(t)===0)break e;case"keydown":case"keyup":p=Yz;break;case"focusin":m="focus",p=iw;break;case"focusout":m="blur",p=iw;break;case"beforeblur":case"afterblur":p=iw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xz;break;case YO:case QO:case JO:p=Bz;break;case XO:p=e5;break;case"scroll":p=Nz;break;case"wheel":p=n5;break;case"copy":case"cut":case"paste":p=jz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xk}var g=(e&4)!==0,_=!g&&n==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,v!==null&&(k=lh(w,v),k!=null&&g.push(mh(w,k,b)))),_)break;w=w.return}0<g.length&&(h=new p(h,m,null,t,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==j1&&(m=t.relatedTarget||t.fromElement)&&(sl(m)||m[ns]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?sl(m):null,m!==null&&(_=tc(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Sk,k="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=xk,k="onPointerLeave",v="onPointerEnter",w="pointer"),_=p==null?h:Kc(p),b=m==null?h:Kc(m),h=new g(k,w+"leave",p,t,u),h.target=_,h.relatedTarget=b,k=null,sl(u)===c&&(g=new g(v,w+"enter",m,t,u),g.target=b,g.relatedTarget=_,k=g),_=k,p&&m)t:{for(g=p,v=m,w=0,b=g;b;b=yc(b))w++;for(b=0,k=v;k;k=yc(k))b++;for(;0<w-b;)g=yc(g),w--;for(;0<b-w;)v=yc(v),b--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=yc(g),v=yc(v)}g=null}else g=null;p!==null&&Lk(d,h,p,g,!1),m!==null&&_!==null&&Lk(d,_,m,g,!0)}}e:{if(h=c?Kc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=c5;else if(Ck(h))if(HO)P=h5;else{P=d5;var M=u5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=f5);if(P&&(P=P(n,c))){UO(d,P,t,u);break e}M&&M(n,h,c),n==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&F1(h,"number",h.value)}switch(M=c?Kc(c):window,n){case"focusin":(Ck(M)||M.contentEditable==="true")&&(Wc=M,Y1=c,$f=null);break;case"focusout":$f=Y1=Wc=null;break;case"mousedown":Q1=!0;break;case"contextmenu":case"mouseup":case"dragend":Q1=!1,Mk(d,t,u);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":Mk(d,t,u)}var S;if(wS)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hc?zO(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(BO&&t.locale!=="ko"&&(Hc||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hc&&(S=$O()):(Us=u,yS="value"in Us?Us.value:Us.textContent,Hc=!0)),M=Ug(c,E),0<M.length&&(E=new Tk(E,n,null,t,u),d.push({event:E,listeners:M}),S?E.data=S:(S=jO(t),S!==null&&(E.data=S)))),(S=i5?o5(n,t):s5(n,t))&&(c=Ug(c,"onBeforeInput"),0<c.length&&(u=new Tk("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=S))}eN(d,e)})}function mh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ug(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lh(n,t),o!=null&&r.unshift(mh(n,o,i)),o=lh(n,e),o!=null&&r.push(mh(n,o,i))),n=n.return}return r}function yc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Lk(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=lh(t,o),l!=null&&s.unshift(mh(t,l,a))):i||(l=lh(t,o),l!=null&&s.push(mh(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var w5=/\r\n?/g,b5=/\u0000|\uFFFD/g;function Fk(n){return(typeof n=="string"?n:""+n).replace(w5,`
`).replace(b5,"")}function am(n,e,t){if(e=Fk(e),Fk(n)!==e&&t)throw Error(J(425))}function Hg(){}var J1=null,X1=null;function Z1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eb=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,Vk=typeof Promise=="function"?Promise:void 0,S5=typeof queueMicrotask=="function"?queueMicrotask:typeof Vk<"u"?function(n){return Vk.resolve(null).then(n).catch(T5)}:eb;function T5(n){setTimeout(function(){throw n})}function fw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),dh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);dh(e)}function ta(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function $k(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var id=Math.random().toString(36).slice(2),so="__reactFiber$"+id,gh="__reactProps$"+id,ns="__reactContainer$"+id,tb="__reactEvents$"+id,x5="__reactListeners$"+id,I5="__reactHandles$"+id;function sl(n){var e=n[so];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ns]||t[so]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=$k(n);n!==null;){if(t=n[so])return t;n=$k(n)}return e}n=t,t=n.parentNode}return null}function ip(n){return n=n[so]||n[ns],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Kc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function Nv(n){return n[gh]||null}var nb=[],Gc=-1;function Ca(n){return{current:n}}function xt(n){0>Gc||(n.current=nb[Gc],nb[Gc]=null,Gc--)}function Et(n,e){Gc++,nb[Gc]=n.current,n.current=e}var va={},or=Ca(va),Or=Ca(!1),Rl=va;function Su(n,e){var t=n.type.contextTypes;if(!t)return va;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(n){return n=n.childContextTypes,n!=null}function Wg(){xt(Or),xt(or)}function Bk(n,e,t){if(or.current!==va)throw Error(J(168));Et(or,e),Et(Or,t)}function nN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,uz(n)||"Unknown",i));return $t({},t,r)}function qg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||va,Rl=or.current,Et(or,n),Et(Or,Or.current),!0}function zk(n,e,t){var r=n.stateNode;if(!r)throw Error(J(169));t?(n=nN(n,e,Rl),r.__reactInternalMemoizedMergedChildContext=n,xt(Or),xt(or),Et(or,n)):xt(Or),Et(Or,t)}var Vo=null,Lv=!1,hw=!1;function rN(n){Vo===null?Vo=[n]:Vo.push(n)}function k5(n){Lv=!0,rN(n)}function Pa(){if(!hw&&Vo!==null){hw=!0;var n=0,e=ut;try{var t=Vo;for(ut=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Vo=null,Lv=!1}catch(i){throw Vo!==null&&(Vo=Vo.slice(n+1)),CO(hS,Pa),i}finally{ut=e,hw=!1}}return null}var Yc=[],Qc=0,Kg=null,Gg=0,pi=[],mi=0,Dl=null,zo=1,jo="";function qa(n,e){Yc[Qc++]=Gg,Yc[Qc++]=Kg,Kg=n,Gg=e}function iN(n,e,t){pi[mi++]=zo,pi[mi++]=jo,pi[mi++]=Dl,Dl=n;var r=zo;n=jo;var i=32-Hi(r)-1;r&=~(1<<i),t+=1;var o=32-Hi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zo=1<<32-Hi(e)+i|t<<i|r,jo=o+n}else zo=1<<o|t<<i|r,jo=n}function ES(n){n.return!==null&&(qa(n,1),iN(n,1,0))}function SS(n){for(;n===Kg;)Kg=Yc[--Qc],Yc[Qc]=null,Gg=Yc[--Qc],Yc[Qc]=null;for(;n===Dl;)Dl=pi[--mi],pi[mi]=null,jo=pi[--mi],pi[mi]=null,zo=pi[--mi],pi[mi]=null}var Jr=null,Gr=null,Pt=!1,ji=null;function oN(n,e){var t=_i(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function jk(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Jr=n,Gr=ta(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Jr=n,Gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Dl!==null?{id:zo,overflow:jo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=_i(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Jr=n,Gr=null,!0):!1;default:return!1}}function rb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ib(n){if(Pt){var e=Gr;if(e){var t=e;if(!jk(n,e)){if(rb(n))throw Error(J(418));e=ta(t.nextSibling);var r=Jr;e&&jk(n,e)?oN(r,t):(n.flags=n.flags&-4097|2,Pt=!1,Jr=n)}}else{if(rb(n))throw Error(J(418));n.flags=n.flags&-4097|2,Pt=!1,Jr=n}}}function Uk(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Jr=n}function lm(n){if(n!==Jr)return!1;if(!Pt)return Uk(n),Pt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Z1(n.type,n.memoizedProps)),e&&(e=Gr)){if(rb(n))throw sN(),Error(J(418));for(;e;)oN(n,e),e=ta(e.nextSibling)}if(Uk(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Gr=ta(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Gr=null}}else Gr=Jr?ta(n.stateNode.nextSibling):null;return!0}function sN(){for(var n=Gr;n;)n=ta(n.nextSibling)}function Tu(){Gr=Jr=null,Pt=!1}function TS(n){ji===null?ji=[n]:ji.push(n)}var C5=ms.ReactCurrentBatchConfig;function qd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var r=t.stateNode}if(!r)throw Error(J(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function cm(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Hk(n){var e=n._init;return e(n._payload)}function aN(n){function e(v,w){if(n){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=oa(v,w),v.index=0,v.sibling=null,v}function o(v,w,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,b,k){return w===null||w.tag!==6?(w=ww(b,v.mode,k),w.return=v,w):(w=i(w,b),w.return=v,w)}function l(v,w,b,k){var P=b.type;return P===Uc?u(v,w,b.props.children,k,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ds&&Hk(P)===w.type)?(k=i(w,b.props),k.ref=qd(v,w,b),k.return=v,k):(k=ng(b.type,b.key,b.props,null,v.mode,k),k.ref=qd(v,w,b),k.return=v,k)}function c(v,w,b,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=bw(b,v.mode,k),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function u(v,w,b,k,P){return w===null||w.tag!==7?(w=gl(b,v.mode,k,P),w.return=v,w):(w=i(w,b),w.return=v,w)}function d(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ww(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:return b=ng(w.type,w.key,w.props,null,v.mode,b),b.ref=qd(v,null,w),b.return=v,b;case jc:return w=bw(w,v.mode,b),w.return=v,w;case Ds:var k=w._init;return d(v,k(w._payload),b)}if(_f(w)||zd(w))return w=gl(w,v.mode,b,null),w.return=v,w;cm(v,w)}return null}function h(v,w,b,k){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(v,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xp:return b.key===P?l(v,w,b,k):null;case jc:return b.key===P?c(v,w,b,k):null;case Ds:return P=b._init,h(v,w,P(b._payload),k)}if(_f(b)||zd(b))return P!==null?null:u(v,w,b,k,null);cm(v,b)}return null}function p(v,w,b,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(b)||null,a(w,v,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xp:return v=v.get(k.key===null?b:k.key)||null,l(w,v,k,P);case jc:return v=v.get(k.key===null?b:k.key)||null,c(w,v,k,P);case Ds:var M=k._init;return p(v,w,b,M(k._payload),P)}if(_f(k)||zd(k))return v=v.get(b)||null,u(w,v,k,P,null);cm(w,k)}return null}function m(v,w,b,k){for(var P=null,M=null,S=w,E=w=0,I=null;S!==null&&E<b.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var C=h(v,S,b[E],k);if(C===null){S===null&&(S=I);break}n&&S&&C.alternate===null&&e(v,S),w=o(C,w,E),M===null?P=C:M.sibling=C,M=C,S=I}if(E===b.length)return t(v,S),Pt&&qa(v,E),P;if(S===null){for(;E<b.length;E++)S=d(v,b[E],k),S!==null&&(w=o(S,w,E),M===null?P=S:M.sibling=S,M=S);return Pt&&qa(v,E),P}for(S=r(v,S);E<b.length;E++)I=p(S,v,E,b[E],k),I!==null&&(n&&I.alternate!==null&&S.delete(I.key===null?E:I.key),w=o(I,w,E),M===null?P=I:M.sibling=I,M=I);return n&&S.forEach(function(A){return e(v,A)}),Pt&&qa(v,E),P}function g(v,w,b,k){var P=zd(b);if(typeof P!="function")throw Error(J(150));if(b=P.call(b),b==null)throw Error(J(151));for(var M=P=null,S=w,E=w=0,I=null,C=b.next();S!==null&&!C.done;E++,C=b.next()){S.index>E?(I=S,S=null):I=S.sibling;var A=h(v,S,C.value,k);if(A===null){S===null&&(S=I);break}n&&S&&A.alternate===null&&e(v,S),w=o(A,w,E),M===null?P=A:M.sibling=A,M=A,S=I}if(C.done)return t(v,S),Pt&&qa(v,E),P;if(S===null){for(;!C.done;E++,C=b.next())C=d(v,C.value,k),C!==null&&(w=o(C,w,E),M===null?P=C:M.sibling=C,M=C);return Pt&&qa(v,E),P}for(S=r(v,S);!C.done;E++,C=b.next())C=p(S,v,E,C.value,k),C!==null&&(n&&C.alternate!==null&&S.delete(C.key===null?E:C.key),w=o(C,w,E),M===null?P=C:M.sibling=C,M=C);return n&&S.forEach(function(O){return e(v,O)}),Pt&&qa(v,E),P}function _(v,w,b,k){if(typeof b=="object"&&b!==null&&b.type===Uc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xp:e:{for(var P=b.key,M=w;M!==null;){if(M.key===P){if(P=b.type,P===Uc){if(M.tag===7){t(v,M.sibling),w=i(M,b.props.children),w.return=v,v=w;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ds&&Hk(P)===M.type){t(v,M.sibling),w=i(M,b.props),w.ref=qd(v,M,b),w.return=v,v=w;break e}t(v,M);break}else e(v,M);M=M.sibling}b.type===Uc?(w=gl(b.props.children,v.mode,k,b.key),w.return=v,v=w):(k=ng(b.type,b.key,b.props,null,v.mode,k),k.ref=qd(v,w,b),k.return=v,v=k)}return s(v);case jc:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=bw(b,v.mode,k),w.return=v,v=w}return s(v);case Ds:return M=b._init,_(v,w,M(b._payload),k)}if(_f(b))return m(v,w,b,k);if(zd(b))return g(v,w,b,k);cm(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(v,w.sibling),w=i(w,b),w.return=v,v=w):(t(v,w),w=ww(b,v.mode,k),w.return=v,v=w),s(v)):t(v,w)}return _}var xu=aN(!0),lN=aN(!1),Yg=Ca(null),Qg=null,Jc=null,xS=null;function IS(){xS=Jc=Qg=null}function kS(n){var e=Yg.current;xt(Yg),n._currentValue=e}function ob(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function lu(n,e){Qg=n,xS=Jc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ar=!0),n.firstContext=null)}function xi(n){var e=n._currentValue;if(xS!==n)if(n={context:n,memoizedValue:e,next:null},Jc===null){if(Qg===null)throw Error(J(308));Jc=n,Qg.dependencies={lanes:0,firstContext:n}}else Jc=Jc.next=n;return e}var al=null;function CS(n){al===null?al=[n]:al.push(n)}function cN(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,CS(e)):(t.next=i.next,i.next=t),e.interleaved=t,rs(n,r)}function rs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var As=!1;function PS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Go(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function na(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rs(n,t)}return i=r.interleaved,i===null?(e.next=e,CS(r)):(e.next=i.next,i.next=e),r.interleaved=e,rs(n,t)}function Qm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pS(n,t)}}function Wk(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Jg(n,e,t,r){var i=n.updateQueue;As=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(h=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=$t({},d,h);break e;case 2:As=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ml|=s,n.lanes=s,n.memoizedState=d}}function qk(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var op={},yo=Ca(op),yh=Ca(op),vh=Ca(op);function ll(n){if(n===op)throw Error(J(174));return n}function RS(n,e){switch(Et(vh,e),Et(yh,n),Et(yo,op),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$1(e,n)}xt(yo),Et(yo,e)}function Iu(){xt(yo),xt(yh),xt(vh)}function dN(n){ll(vh.current);var e=ll(yo.current),t=$1(e,n.type);e!==t&&(Et(yh,n),Et(yo,t))}function DS(n){yh.current===n&&(xt(yo),xt(yh))}var Ot=Ca(0);function Xg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pw=[];function AS(){for(var n=0;n<pw.length;n++)pw[n]._workInProgressVersionPrimary=null;pw.length=0}var Jm=ms.ReactCurrentDispatcher,mw=ms.ReactCurrentBatchConfig,Al=0,Ft=null,gn=null,Sn=null,Zg=!1,Bf=!1,_h=0,P5=0;function Jn(){throw Error(J(321))}function MS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Gi(n[t],e[t]))return!1;return!0}function OS(n,e,t,r,i,o){if(Al=o,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jm.current=n===null||n.memoizedState===null?M5:O5,n=t(r,i),Bf){o=0;do{if(Bf=!1,_h=0,25<=o)throw Error(J(301));o+=1,Sn=gn=null,e.updateQueue=null,Jm.current=N5,n=t(r,i)}while(Bf)}if(Jm.current=ey,e=gn!==null&&gn.next!==null,Al=0,Sn=gn=Ft=null,Zg=!1,e)throw Error(J(300));return n}function NS(){var n=_h!==0;return _h=0,n}function eo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ft.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function Ii(){if(gn===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=gn.next;var e=Sn===null?Ft.memoizedState:Sn.next;if(e!==null)Sn=e,gn=n;else{if(n===null)throw Error(J(310));gn=n,n={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sn===null?Ft.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function wh(n,e){return typeof e=="function"?e(n):e}function gw(n){var e=Ii(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=gn,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Al&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ft.lanes|=u,Ml|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Gi(r,e.memoizedState)||(Ar=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Ft.lanes|=o,Ml|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yw(n){var e=Ii(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Gi(o,e.memoizedState)||(Ar=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function fN(){}function hN(n,e){var t=Ft,r=Ii(),i=e(),o=!Gi(r.memoizedState,i);if(o&&(r.memoizedState=i,Ar=!0),r=r.queue,LS(gN.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Sn!==null&&Sn.memoizedState.tag&1){if(t.flags|=2048,bh(9,mN.bind(null,t,r,i,e),void 0,null),xn===null)throw Error(J(349));Al&30||pN(t,e,i)}return i}function pN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function mN(n,e,t,r){e.value=t,e.getSnapshot=r,yN(e)&&vN(n)}function gN(n,e,t){return t(function(){yN(e)&&vN(n)})}function yN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Gi(n,t)}catch{return!0}}function vN(n){var e=rs(n,1);e!==null&&Wi(e,n,1,-1)}function Kk(n){var e=eo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:n},e.queue=n,n=n.dispatch=A5.bind(null,Ft,n),[e.memoizedState,n]}function bh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function _N(){return Ii().memoizedState}function Xm(n,e,t,r){var i=eo();Ft.flags|=n,i.memoizedState=bh(1|e,t,void 0,r===void 0?null:r)}function Fv(n,e,t,r){var i=Ii();r=r===void 0?null:r;var o=void 0;if(gn!==null){var s=gn.memoizedState;if(o=s.destroy,r!==null&&MS(r,s.deps)){i.memoizedState=bh(e,t,o,r);return}}Ft.flags|=n,i.memoizedState=bh(1|e,t,o,r)}function Gk(n,e){return Xm(8390656,8,n,e)}function LS(n,e){return Fv(2048,8,n,e)}function wN(n,e){return Fv(4,2,n,e)}function bN(n,e){return Fv(4,4,n,e)}function EN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function SN(n,e,t){return t=t!=null?t.concat([n]):null,Fv(4,4,EN.bind(null,e,n),t)}function FS(){}function TN(n,e){var t=Ii();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MS(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function xN(n,e){var t=Ii();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MS(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function IN(n,e,t){return Al&21?(Gi(t,e)||(t=DO(),Ft.lanes|=t,Ml|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ar=!0),n.memoizedState=t)}function R5(n,e){var t=ut;ut=t!==0&&4>t?t:4,n(!0);var r=mw.transition;mw.transition={};try{n(!1),e()}finally{ut=t,mw.transition=r}}function kN(){return Ii().memoizedState}function D5(n,e,t){var r=ia(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},CN(n))PN(e,t);else if(t=cN(n,e,t,r),t!==null){var i=vr();Wi(t,n,r,i),RN(t,e,r)}}function A5(n,e,t){var r=ia(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(CN(n))PN(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,Gi(a,s)){var l=e.interleaved;l===null?(i.next=i,CS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=cN(n,e,i,r),t!==null&&(i=vr(),Wi(t,n,r,i),RN(t,e,r))}}function CN(n){var e=n.alternate;return n===Ft||e!==null&&e===Ft}function PN(n,e){Bf=Zg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function RN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pS(n,t)}}var ey={readContext:xi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},M5={readContext:xi,useCallback:function(n,e){return eo().memoizedState=[n,e===void 0?null:e],n},useContext:xi,useEffect:Gk,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Xm(4194308,4,EN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Xm(4194308,4,n,e)},useInsertionEffect:function(n,e){return Xm(4,2,n,e)},useMemo:function(n,e){var t=eo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=eo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=D5.bind(null,Ft,n),[r.memoizedState,n]},useRef:function(n){var e=eo();return n={current:n},e.memoizedState=n},useState:Kk,useDebugValue:FS,useDeferredValue:function(n){return eo().memoizedState=n},useTransition:function(){var n=Kk(!1),e=n[0];return n=R5.bind(null,n[1]),eo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ft,i=eo();if(Pt){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),xn===null)throw Error(J(349));Al&30||pN(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,Gk(gN.bind(null,r,o,n),[n]),r.flags|=2048,bh(9,mN.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=eo(),e=xn.identifierPrefix;if(Pt){var t=jo,r=zo;t=(r&~(1<<32-Hi(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=_h++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=P5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},O5={readContext:xi,useCallback:TN,useContext:xi,useEffect:LS,useImperativeHandle:SN,useInsertionEffect:wN,useLayoutEffect:bN,useMemo:xN,useReducer:gw,useRef:_N,useState:function(){return gw(wh)},useDebugValue:FS,useDeferredValue:function(n){var e=Ii();return IN(e,gn.memoizedState,n)},useTransition:function(){var n=gw(wh)[0],e=Ii().memoizedState;return[n,e]},useMutableSource:fN,useSyncExternalStore:hN,useId:kN,unstable_isNewReconciler:!1},N5={readContext:xi,useCallback:TN,useContext:xi,useEffect:LS,useImperativeHandle:SN,useInsertionEffect:wN,useLayoutEffect:bN,useMemo:xN,useReducer:yw,useRef:_N,useState:function(){return yw(wh)},useDebugValue:FS,useDeferredValue:function(n){var e=Ii();return gn===null?e.memoizedState=n:IN(e,gn.memoizedState,n)},useTransition:function(){var n=yw(wh)[0],e=Ii().memoizedState;return[n,e]},useMutableSource:fN,useSyncExternalStore:hN,useId:kN,unstable_isNewReconciler:!1};function Bi(n,e){if(n&&n.defaultProps){e=$t({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function sb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:$t({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Vv={isMounted:function(n){return(n=n._reactInternals)?tc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=vr(),i=ia(n),o=Go(r,i);o.payload=e,t!=null&&(o.callback=t),e=na(n,o,i),e!==null&&(Wi(e,n,i,r),Qm(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=vr(),i=ia(n),o=Go(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=na(n,o,i),e!==null&&(Wi(e,n,i,r),Qm(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vr(),r=ia(n),i=Go(t,r);i.tag=2,e!=null&&(i.callback=e),e=na(n,i,r),e!==null&&(Wi(e,n,r,t),Qm(e,n,r))}};function Yk(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!hh(t,r)||!hh(i,o):!0}function DN(n,e,t){var r=!1,i=va,o=e.contextType;return typeof o=="object"&&o!==null?o=xi(o):(i=Nr(e)?Rl:or.current,r=e.contextTypes,o=(r=r!=null)?Su(n,i):va),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function Qk(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Vv.enqueueReplaceState(e,e.state,null)}function ab(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},PS(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xi(o):(o=Nr(e)?Rl:or.current,i.context=Su(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(sb(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vv.enqueueReplaceState(i,i.state,null),Jg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function ku(n,e){try{var t="",r=e;do t+=cz(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function vw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function lb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var L5=typeof WeakMap=="function"?WeakMap:Map;function AN(n,e,t){t=Go(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ny||(ny=!0,_b=r),lb(n,e)},t}function MN(n,e,t){t=Go(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){lb(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){lb(n,e),typeof r!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function Jk(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new L5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Q5.bind(null,n,e,t),e.then(n,n))}function Xk(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Zk(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Go(-1,1),e.tag=2,na(t,e,1))),t.lanes|=1),n)}var F5=ms.ReactCurrentOwner,Ar=!1;function ur(n,e,t,r){e.child=n===null?lN(e,null,t,r):xu(e,n.child,t,r)}function eC(n,e,t,r,i){t=t.render;var o=e.ref;return lu(e,i),r=OS(n,e,t,r,o,i),t=NS(),n!==null&&!Ar?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,is(n,e,i)):(Pt&&t&&ES(e),e.flags|=1,ur(n,e,r,i),e.child)}function tC(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!WS(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,ON(n,e,o,r,i)):(n=ng(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:hh,t(s,r)&&n.ref===e.ref)return is(n,e,i)}return e.flags|=1,n=oa(o,r),n.ref=e.ref,n.return=e,e.child=n}function ON(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(hh(o,r)&&n.ref===e.ref)if(Ar=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Ar=!0);else return e.lanes=n.lanes,is(n,e,i)}return cb(n,e,t,r,i)}function NN(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Zc,Hr),Hr|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Et(Zc,Hr),Hr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Et(Zc,Hr),Hr|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Et(Zc,Hr),Hr|=r;return ur(n,e,i,t),e.child}function LN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function cb(n,e,t,r,i){var o=Nr(t)?Rl:or.current;return o=Su(e,o),lu(e,i),t=OS(n,e,t,r,o,i),r=NS(),n!==null&&!Ar?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,is(n,e,i)):(Pt&&r&&ES(e),e.flags|=1,ur(n,e,t,i),e.child)}function nC(n,e,t,r,i){if(Nr(t)){var o=!0;qg(e)}else o=!1;if(lu(e,i),e.stateNode===null)Zm(n,e),DN(e,t,r),ab(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=Nr(t)?Rl:or.current,c=Su(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Qk(e,s,r,c),As=!1;var h=e.memoizedState;s.state=h,Jg(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Or.current||As?(typeof u=="function"&&(sb(e,t,u,r),l=e.memoizedState),(a=As||Yk(e,t,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,uN(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=Nr(t)?Rl:or.current,l=Su(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Qk(e,s,r,l),As=!1,h=e.memoizedState,s.state=h,Jg(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||Or.current||As?(typeof p=="function"&&(sb(e,t,p,r),m=e.memoizedState),(c=As||Yk(e,t,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return ub(n,e,t,r,o,i)}function ub(n,e,t,r,i,o){LN(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&zk(e,t,!1),is(n,e,o);r=e.stateNode,F5.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=xu(e,n.child,null,o),e.child=xu(e,null,a,o)):ur(n,e,a,o),e.memoizedState=r.state,i&&zk(e,t,!0),e.child}function FN(n){var e=n.stateNode;e.pendingContext?Bk(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Bk(n,e.context,!1),RS(n,e.containerInfo)}function rC(n,e,t,r,i){return Tu(),TS(i),e.flags|=256,ur(n,e,t,r),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function hb(n){return{baseLanes:n,cachePool:null,transitions:null}}function VN(n,e,t){var r=e.pendingProps,i=Ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Et(Ot,i&1),n===null)return ib(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zv(s,r,0,null),n=gl(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=hb(t),e.memoizedState=fb,n):VS(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return V5(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=oa(a,o):(o=gl(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?hb(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=fb,r}return o=n.child,n=o.sibling,r=oa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function VS(n,e){return e=zv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function um(n,e,t,r){return r!==null&&TS(r),xu(e,n.child,null,t),n=VS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function V5(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=vw(Error(J(422))),um(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zv({mode:"visible",children:r.children},i,0,null),o=gl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xu(e,n.child,null,s),e.child.memoizedState=hb(s),e.memoizedState=fb,o);if(!(e.mode&1))return um(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=vw(o,r,void 0),um(n,e,s,r)}if(a=(s&n.childLanes)!==0,Ar||a){if(r=xn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rs(n,i),Wi(r,n,i,-1))}return HS(),r=vw(Error(J(421))),um(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=J5.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,Gr=ta(i.nextSibling),Jr=e,Pt=!0,ji=null,n!==null&&(pi[mi++]=zo,pi[mi++]=jo,pi[mi++]=Dl,zo=n.id,jo=n.overflow,Dl=e),e=VS(e,r.children),e.flags|=4096,e)}function iC(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),ob(n.return,e,t)}function _w(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function $N(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ur(n,e,r.children,t),r=Ot.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iC(n,t,e);else if(n.tag===19)iC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Et(Ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Xg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),_w(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Xg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}_w(e,!0,t,null,o);break;case"together":_w(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function is(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ml|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=oa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=oa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $5(n,e,t){switch(e.tag){case 3:FN(e),Tu();break;case 5:dN(e);break;case 1:Nr(e.type)&&qg(e);break;case 4:RS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Et(Yg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Ot,Ot.current&1),e.flags|=128,null):t&e.child.childLanes?VN(n,e,t):(Et(Ot,Ot.current&1),n=is(n,e,t),n!==null?n.sibling:null);Et(Ot,Ot.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return $N(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(Ot,Ot.current),r)break;return null;case 22:case 23:return e.lanes=0,NN(n,e,t)}return is(n,e,t)}var BN,pb,zN,jN;BN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pb=function(){};zN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ll(yo.current);var o=null;switch(t){case"input":i=N1(n,i),r=N1(n,r),o=[];break;case"select":i=$t({},i,{value:void 0}),r=$t({},r,{value:void 0}),o=[];break;case"textarea":i=V1(n,i),r=V1(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hg)}B1(t,r);var s;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tt("scroll",n),o||a===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};jN=function(n,e,t,r){t!==r&&(e.flags|=4)};function Kd(n,e){if(!Pt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function B5(n,e,t){var r=e.pendingProps;switch(SS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Nr(e.type)&&Wg(),Xn(e),null;case 3:return r=e.stateNode,Iu(),xt(Or),xt(or),AS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(lm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(Eb(ji),ji=null))),pb(n,e),Xn(e),null;case 5:DS(e);var i=ll(vh.current);if(t=e.type,n!==null&&e.stateNode!=null)zN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Xn(e),null}if(n=ll(yo.current),lm(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[so]=e,r[gh]=o,n=(e.mode&1)!==0,t){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<bf.length;i++)Tt(bf[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":hk(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":mk(r,o),Tt("invalid",r)}B1(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&am(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&am(r.textContent,a,n),i=["children",""+a]):sh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tt("scroll",r)}switch(t){case"input":Zp(r),pk(r,o,!0);break;case"textarea":Zp(r),gk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=gO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[so]=e,n[gh]=r,BN(n,e,!1,!1),e.stateNode=n;e:{switch(s=z1(t,r),t){case"dialog":Tt("cancel",n),Tt("close",n),i=r;break;case"iframe":case"object":case"embed":Tt("load",n),i=r;break;case"video":case"audio":for(i=0;i<bf.length;i++)Tt(bf[i],n);i=r;break;case"source":Tt("error",n),i=r;break;case"img":case"image":case"link":Tt("error",n),Tt("load",n),i=r;break;case"details":Tt("toggle",n),i=r;break;case"input":hk(n,r),i=N1(n,r),Tt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=$t({},r,{value:void 0}),Tt("invalid",n);break;case"textarea":mk(n,r),i=V1(n,r),Tt("invalid",n);break;default:i=r}B1(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_O(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yO(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ah(n,l):typeof l=="number"&&ah(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Tt("scroll",n):l!=null&&lS(n,o,l,s))}switch(t){case"input":Zp(n),pk(n,r,!1);break;case"textarea":Zp(n),gk(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ya(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?iu(n,!!r.multiple,o,!1):r.defaultValue!=null&&iu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Hg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(n&&e.stateNode!=null)jN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=ll(vh.current),ll(yo.current),lm(e)){if(r=e.stateNode,t=e.memoizedProps,r[so]=e,(o=r.nodeValue!==t)&&(n=Jr,n!==null))switch(n.tag){case 3:am(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&am(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[so]=e,e.stateNode=r}return Xn(e),null;case 13:if(xt(Ot),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pt&&Gr!==null&&e.mode&1&&!(e.flags&128))sN(),Tu(),e.flags|=98560,o=!1;else if(o=lm(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[so]=e}else Tu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),o=!1}else ji!==null&&(Eb(ji),ji=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ot.current&1?vn===0&&(vn=3):HS())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Iu(),pb(n,e),n===null&&ph(e.stateNode.containerInfo),Xn(e),null;case 10:return kS(e.type._context),Xn(e),null;case 17:return Nr(e.type)&&Wg(),Xn(e),null;case 19:if(xt(Ot),o=e.memoizedState,o===null)return Xn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Kd(o,!1);else{if(vn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=Xg(n),s!==null){for(e.flags|=128,Kd(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Et(Ot,Ot.current&1|2),e.child}n=n.sibling}o.tail!==null&&tn()>Cu&&(e.flags|=128,r=!0,Kd(o,!1),e.lanes=4194304)}else{if(!r)if(n=Xg(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Kd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Pt)return Xn(e),null}else 2*tn()-o.renderingStartTime>Cu&&t!==1073741824&&(e.flags|=128,r=!0,Kd(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,t=Ot.current,Et(Ot,r?t&1|2:t&1),e):(Xn(e),null);case 22:case 23:return US(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hr&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function z5(n,e){switch(SS(e),e.tag){case 1:return Nr(e.type)&&Wg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Iu(),xt(Or),xt(or),AS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return DS(e),null;case 13:if(xt(Ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Tu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return xt(Ot),null;case 4:return Iu(),null;case 10:return kS(e.type._context),null;case 22:case 23:return US(),null;case 24:return null;default:return null}}var dm=!1,nr=!1,j5=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Xc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Kt(n,e,r)}else t.current=null}function mb(n,e,t){try{t()}catch(r){Kt(n,e,r)}}var oC=!1;function U5(n,e){if(J1=zg,n=KO(),bS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(X1={focusedElem:n,selectionRange:t},zg=!1,ue=e;ue!==null;)if(e=ue,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ue=n;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bi(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){Kt(e,e.return,k)}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}return m=oC,oC=!1,m}function zf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&mb(e,t,o)}i=i.next}while(i!==r)}}function $v(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function gb(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function UN(n){var e=n.alternate;e!==null&&(n.alternate=null,UN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[so],delete e[gh],delete e[tb],delete e[x5],delete e[I5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function HN(n){return n.tag===5||n.tag===3||n.tag===4}function sC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||HN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Hg));else if(r!==4&&(n=n.child,n!==null))for(yb(n,e,t),n=n.sibling;n!==null;)yb(n,e,t),n=n.sibling}function vb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(vb(n,e,t),n=n.sibling;n!==null;)vb(n,e,t),n=n.sibling}var Fn=null,zi=!1;function Ts(n,e,t){for(t=t.child;t!==null;)WN(n,e,t),t=t.sibling}function WN(n,e,t){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(Dv,t)}catch{}switch(t.tag){case 5:nr||Xc(t,e);case 6:var r=Fn,i=zi;Fn=null,Ts(n,e,t),Fn=r,zi=i,Fn!==null&&(zi?(n=Fn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Fn.removeChild(t.stateNode));break;case 18:Fn!==null&&(zi?(n=Fn,t=t.stateNode,n.nodeType===8?fw(n.parentNode,t):n.nodeType===1&&fw(n,t),dh(n)):fw(Fn,t.stateNode));break;case 4:r=Fn,i=zi,Fn=t.stateNode.containerInfo,zi=!0,Ts(n,e,t),Fn=r,zi=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mb(t,e,s),i=i.next}while(i!==r)}Ts(n,e,t);break;case 1:if(!nr&&(Xc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Kt(t,e,a)}Ts(n,e,t);break;case 21:Ts(n,e,t);break;case 22:t.mode&1?(nr=(r=nr)||t.memoizedState!==null,Ts(n,e,t),nr=r):Ts(n,e,t);break;default:Ts(n,e,t)}}function aC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new j5),e.forEach(function(r){var i=X5.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Vi(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,zi=!1;break e;case 3:Fn=a.stateNode.containerInfo,zi=!0;break e;case 4:Fn=a.stateNode.containerInfo,zi=!0;break e}a=a.return}if(Fn===null)throw Error(J(160));WN(o,s,i),Fn=null,zi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qN(e,n),e=e.sibling}function qN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vi(e,n),Zi(n),r&4){try{zf(3,n,n.return),$v(3,n)}catch(g){Kt(n,n.return,g)}try{zf(5,n,n.return)}catch(g){Kt(n,n.return,g)}}break;case 1:Vi(e,n),Zi(n),r&512&&t!==null&&Xc(t,t.return);break;case 5:if(Vi(e,n),Zi(n),r&512&&t!==null&&Xc(t,t.return),n.flags&32){var i=n.stateNode;try{ah(i,"")}catch(g){Kt(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&pO(i,o),z1(a,s);var c=z1(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?_O(i,d):u==="dangerouslySetInnerHTML"?yO(i,d):u==="children"?ah(i,d):lS(i,u,d,c)}switch(a){case"input":L1(i,o);break;case"textarea":mO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?iu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?iu(i,!!o.multiple,o.defaultValue,!0):iu(i,!!o.multiple,o.multiple?[]:"",!1))}i[gh]=o}catch(g){Kt(n,n.return,g)}}break;case 6:if(Vi(e,n),Zi(n),r&4){if(n.stateNode===null)throw Error(J(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(g){Kt(n,n.return,g)}}break;case 3:if(Vi(e,n),Zi(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(g){Kt(n,n.return,g)}break;case 4:Vi(e,n),Zi(n);break;case 13:Vi(e,n),Zi(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zS=tn())),r&4&&aC(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(nr=(c=nr)||u,Vi(e,n),nr=c):Vi(e,n),Zi(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ue=n,u=n.child;u!==null;){for(d=ue=u;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:zf(4,h,h.return);break;case 1:Xc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Kt(r,t,g)}}break;case 5:Xc(h,h.return);break;case 22:if(h.memoizedState!==null){cC(d);continue}}p!==null?(p.return=h,ue=p):cC(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vO("display",s))}catch(g){Kt(n,n.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Kt(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vi(e,n),Zi(n),r&4&&aC(n);break;case 21:break;default:Vi(e,n),Zi(n)}}function Zi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(HN(t)){var r=t;break e}t=t.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ah(i,""),r.flags&=-33);var o=sC(n);vb(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sC(n);yb(n,a,s);break;default:throw Error(J(161))}}catch(l){Kt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function H5(n,e,t){ue=n,KN(n)}function KN(n,e,t){for(var r=(n.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nr;a=dm;var c=nr;if(dm=s,(nr=l)&&!c)for(ue=i;ue!==null;)s=ue,l=s.child,s.tag===22&&s.memoizedState!==null?uC(i):l!==null?(l.return=s,ue=l):uC(i);for(;o!==null;)ue=o,KN(o),o=o.sibling;ue=i,dm=a,nr=c}lC(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):lC(n)}}function lC(n){for(;ue!==null;){var e=ue;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||$v(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Bi(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qk(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qk(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}nr||e.flags&512&&gb(e)}catch(h){Kt(e,e.return,h)}}if(e===n){ue=null;break}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}}function cC(n){for(;ue!==null;){var e=ue;if(e===n){ue=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ue=t;break}ue=e.return}}function uC(n){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$v(4,e)}catch(l){Kt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kt(e,i,l)}}var o=e.return;try{gb(e)}catch(l){Kt(e,o,l)}break;case 5:var s=e.return;try{gb(e)}catch(l){Kt(e,s,l)}}}catch(l){Kt(e,e.return,l)}if(e===n){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var W5=Math.ceil,ty=ms.ReactCurrentDispatcher,$S=ms.ReactCurrentOwner,Ei=ms.ReactCurrentBatchConfig,Qe=0,xn=null,un=null,Un=0,Hr=0,Zc=Ca(0),vn=0,Eh=null,Ml=0,Bv=0,BS=0,jf=null,Dr=null,zS=0,Cu=1/0,Lo=null,ny=!1,_b=null,ra=null,fm=!1,Hs=null,ry=0,Uf=0,wb=null,eg=-1,tg=0;function vr(){return Qe&6?tn():eg!==-1?eg:eg=tn()}function ia(n){return n.mode&1?Qe&2&&Un!==0?Un&-Un:C5.transition!==null?(tg===0&&(tg=DO()),tg):(n=ut,n!==0||(n=window.event,n=n===void 0?16:VO(n.type)),n):1}function Wi(n,e,t,r){if(50<Uf)throw Uf=0,wb=null,Error(J(185));np(n,t,r),(!(Qe&2)||n!==xn)&&(n===xn&&(!(Qe&2)&&(Bv|=t),vn===4&&Ls(n,Un)),Lr(n,r),t===1&&Qe===0&&!(e.mode&1)&&(Cu=tn()+500,Lv&&Pa()))}function Lr(n,e){var t=n.callbackNode;Cz(n,e);var r=Bg(n,n===xn?Un:0);if(r===0)t!==null&&_k(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&_k(t),e===1)n.tag===0?k5(dC.bind(null,n)):rN(dC.bind(null,n)),S5(function(){!(Qe&6)&&Pa()}),t=null;else{switch(AO(r)){case 1:t=hS;break;case 4:t=PO;break;case 16:t=$g;break;case 536870912:t=RO;break;default:t=$g}t=t2(t,GN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function GN(n,e){if(eg=-1,tg=0,Qe&6)throw Error(J(327));var t=n.callbackNode;if(cu()&&n.callbackNode!==t)return null;var r=Bg(n,n===xn?Un:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=iy(n,r);else{e=r;var i=Qe;Qe|=2;var o=QN();(xn!==n||Un!==e)&&(Lo=null,Cu=tn()+500,ml(n,e));do try{G5();break}catch(a){YN(n,a)}while(!0);IS(),ty.current=o,Qe=i,un!==null?e=0:(xn=null,Un=0,e=vn)}if(e!==0){if(e===2&&(i=q1(n),i!==0&&(r=i,e=bb(n,i))),e===1)throw t=Eh,ml(n,0),Ls(n,r),Lr(n,tn()),t;if(e===6)Ls(n,r);else{if(i=n.current.alternate,!(r&30)&&!q5(i)&&(e=iy(n,r),e===2&&(o=q1(n),o!==0&&(r=o,e=bb(n,o))),e===1))throw t=Eh,ml(n,0),Ls(n,r),Lr(n,tn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ka(n,Dr,Lo);break;case 3:if(Ls(n,r),(r&130023424)===r&&(e=zS+500-tn(),10<e)){if(Bg(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){vr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=eb(Ka.bind(null,n,Dr,Lo),e);break}Ka(n,Dr,Lo);break;case 4:if(Ls(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-Hi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W5(r/1960))-r,10<r){n.timeoutHandle=eb(Ka.bind(null,n,Dr,Lo),r);break}Ka(n,Dr,Lo);break;case 5:Ka(n,Dr,Lo);break;default:throw Error(J(329))}}}return Lr(n,tn()),n.callbackNode===t?GN.bind(null,n):null}function bb(n,e){var t=jf;return n.current.memoizedState.isDehydrated&&(ml(n,e).flags|=256),n=iy(n,e),n!==2&&(e=Dr,Dr=t,e!==null&&Eb(e)),n}function Eb(n){Dr===null?Dr=n:Dr.push.apply(Dr,n)}function q5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Gi(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ls(n,e){for(e&=~BS,e&=~Bv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hi(e),r=1<<t;n[t]=-1,e&=~r}}function dC(n){if(Qe&6)throw Error(J(327));cu();var e=Bg(n,0);if(!(e&1))return Lr(n,tn()),null;var t=iy(n,e);if(n.tag!==0&&t===2){var r=q1(n);r!==0&&(e=r,t=bb(n,r))}if(t===1)throw t=Eh,ml(n,0),Ls(n,e),Lr(n,tn()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ka(n,Dr,Lo),Lr(n,tn()),null}function jS(n,e){var t=Qe;Qe|=1;try{return n(e)}finally{Qe=t,Qe===0&&(Cu=tn()+500,Lv&&Pa())}}function Ol(n){Hs!==null&&Hs.tag===0&&!(Qe&6)&&cu();var e=Qe;Qe|=1;var t=Ei.transition,r=ut;try{if(Ei.transition=null,ut=1,n)return n()}finally{ut=r,Ei.transition=t,Qe=e,!(Qe&6)&&Pa()}}function US(){Hr=Zc.current,xt(Zc)}function ml(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,E5(t)),un!==null)for(t=un.return;t!==null;){var r=t;switch(SS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wg();break;case 3:Iu(),xt(Or),xt(or),AS();break;case 5:DS(r);break;case 4:Iu();break;case 13:xt(Ot);break;case 19:xt(Ot);break;case 10:kS(r.type._context);break;case 22:case 23:US()}t=t.return}if(xn=n,un=n=oa(n.current,null),Un=Hr=e,vn=0,Eh=null,BS=Bv=Ml=0,Dr=jf=null,al!==null){for(e=0;e<al.length;e++)if(t=al[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}al=null}return n}function YN(n,e){do{var t=un;try{if(IS(),Jm.current=ey,Zg){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zg=!1}if(Al=0,Sn=gn=Ft=null,Bf=!1,_h=0,$S.current=null,t===null||t.return===null){vn=1,Eh=e,un=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Xk(s);if(p!==null){p.flags&=-257,Zk(p,s,a,o,e),p.mode&1&&Jk(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Jk(o,c,e),HS();break e}l=Error(J(426))}}else if(Pt&&a.mode&1){var _=Xk(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Zk(_,s,a,o,e),TS(ku(l,a));break e}}o=l=ku(l,a),vn!==4&&(vn=2),jf===null?jf=[o]:jf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=AN(o,l,e);Wk(o,v);break e;case 1:a=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ra===null||!ra.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=MN(o,a,e);Wk(o,k);break e}}o=o.return}while(o!==null)}XN(t)}catch(P){e=P,un===t&&t!==null&&(un=t=t.return);continue}break}while(!0)}function QN(){var n=ty.current;return ty.current=ey,n===null?ey:n}function HS(){(vn===0||vn===3||vn===2)&&(vn=4),xn===null||!(Ml&268435455)&&!(Bv&268435455)||Ls(xn,Un)}function iy(n,e){var t=Qe;Qe|=2;var r=QN();(xn!==n||Un!==e)&&(Lo=null,ml(n,e));do try{K5();break}catch(i){YN(n,i)}while(!0);if(IS(),Qe=t,ty.current=r,un!==null)throw Error(J(261));return xn=null,Un=0,vn}function K5(){for(;un!==null;)JN(un)}function G5(){for(;un!==null&&!_z();)JN(un)}function JN(n){var e=e2(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,e===null?XN(n):un=e,$S.current=null}function XN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=z5(t,e),t!==null){t.flags&=32767,un=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vn=6,un=null;return}}else if(t=B5(t,e,Hr),t!==null){un=t;return}if(e=e.sibling,e!==null){un=e;return}un=e=n}while(e!==null);vn===0&&(vn=5)}function Ka(n,e,t){var r=ut,i=Ei.transition;try{Ei.transition=null,ut=1,Y5(n,e,t,r)}finally{Ei.transition=i,ut=r}return null}function Y5(n,e,t,r){do cu();while(Hs!==null);if(Qe&6)throw Error(J(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(Pz(n,o),n===xn&&(un=xn=null,Un=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||fm||(fm=!0,t2($g,function(){return cu(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Ei.transition,Ei.transition=null;var s=ut;ut=1;var a=Qe;Qe|=4,$S.current=null,U5(n,t),qN(t,n),m5(X1),zg=!!J1,X1=J1=null,n.current=t,H5(t),wz(),Qe=a,ut=s,Ei.transition=o}else n.current=t;if(fm&&(fm=!1,Hs=n,ry=i),o=n.pendingLanes,o===0&&(ra=null),Sz(t.stateNode),Lr(n,tn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ny)throw ny=!1,n=_b,_b=null,n;return ry&1&&n.tag!==0&&cu(),o=n.pendingLanes,o&1?n===wb?Uf++:(Uf=0,wb=n):Uf=0,Pa(),null}function cu(){if(Hs!==null){var n=AO(ry),e=Ei.transition,t=ut;try{if(Ei.transition=null,ut=16>n?16:n,Hs===null)var r=!1;else{if(n=Hs,Hs=null,ry=0,Qe&6)throw Error(J(331));var i=Qe;for(Qe|=4,ue=n.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:zf(8,u,o)}var d=u.child;if(d!==null)d.return=u,ue=d;else for(;ue!==null;){u=ue;var h=u.sibling,p=u.return;if(UN(u),u===c){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ue=v;break e}ue=o.return}}var w=n.current;for(ue=w;ue!==null;){s=ue;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ue=b;else e:for(s=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$v(9,a)}}catch(P){Kt(a,a.return,P)}if(a===s){ue=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ue=k;break e}ue=a.return}}if(Qe=i,Pa(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(Dv,n)}catch{}r=!0}return r}finally{ut=t,Ei.transition=e}}return!1}function fC(n,e,t){e=ku(t,e),e=AN(n,e,1),n=na(n,e,1),e=vr(),n!==null&&(np(n,1,e),Lr(n,e))}function Kt(n,e,t){if(n.tag===3)fC(n,n,t);else for(;e!==null;){if(e.tag===3){fC(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ra===null||!ra.has(r))){n=ku(t,n),n=MN(e,n,1),e=na(e,n,1),n=vr(),e!==null&&(np(e,1,n),Lr(e,n));break}}e=e.return}}function Q5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=vr(),n.pingedLanes|=n.suspendedLanes&t,xn===n&&(Un&t)===t&&(vn===4||vn===3&&(Un&130023424)===Un&&500>tn()-zS?ml(n,0):BS|=t),Lr(n,e)}function ZN(n,e){e===0&&(n.mode&1?(e=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):e=1);var t=vr();n=rs(n,e),n!==null&&(np(n,e,t),Lr(n,t))}function J5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),ZN(n,t)}function X5(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),ZN(n,t)}var e2;e2=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Or.current)Ar=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ar=!1,$5(n,e,t);Ar=!!(n.flags&131072)}else Ar=!1,Pt&&e.flags&1048576&&iN(e,Gg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zm(n,e),n=e.pendingProps;var i=Su(e,or.current);lu(e,t),i=OS(null,e,r,n,i,t);var o=NS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(o=!0,qg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PS(e),i.updater=Vv,e.stateNode=i,i._reactInternals=e,ab(e,r,n,t),e=ub(null,e,r,!0,o,t)):(e.tag=0,Pt&&o&&ES(e),ur(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Zm(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ej(r),n=Bi(r,n),i){case 0:e=cb(null,e,r,n,t);break e;case 1:e=nC(null,e,r,n,t);break e;case 11:e=eC(null,e,r,n,t);break e;case 14:e=tC(null,e,r,Bi(r.type,n),t);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),cb(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),nC(n,e,r,i,t);case 3:e:{if(FN(e),n===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,uN(n,e),Jg(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ku(Error(J(423)),e),e=rC(n,e,r,t,i);break e}else if(r!==i){i=ku(Error(J(424)),e),e=rC(n,e,r,t,i);break e}else for(Gr=ta(e.stateNode.containerInfo.firstChild),Jr=e,Pt=!0,ji=null,t=lN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Tu(),r===i){e=is(n,e,t);break e}ur(n,e,r,t)}e=e.child}return e;case 5:return dN(e),n===null&&ib(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,Z1(r,i)?s=null:o!==null&&Z1(r,o)&&(e.flags|=32),LN(n,e),ur(n,e,s,t),e.child;case 6:return n===null&&ib(e),null;case 13:return VN(n,e,t);case 4:return RS(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=xu(e,null,r,t):ur(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),eC(n,e,r,i,t);case 7:return ur(n,e,e.pendingProps,t),e.child;case 8:return ur(n,e,e.pendingProps.children,t),e.child;case 12:return ur(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Et(Yg,r._currentValue),r._currentValue=s,o!==null)if(Gi(o.value,s)){if(o.children===i.children&&!Or.current){e=is(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Go(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),ob(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),ob(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ur(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lu(e,t),i=xi(i),r=r(i),e.flags|=1,ur(n,e,r,t),e.child;case 14:return r=e.type,i=Bi(r,e.pendingProps),i=Bi(r.type,i),tC(n,e,r,i,t);case 15:return ON(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),Zm(n,e),e.tag=1,Nr(r)?(n=!0,qg(e)):n=!1,lu(e,t),DN(e,r,i),ab(e,r,i,t),ub(null,e,r,!0,n,t);case 19:return $N(n,e,t);case 22:return NN(n,e,t)}throw Error(J(156,e.tag))};function t2(n,e){return CO(n,e)}function Z5(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(n,e,t,r){return new Z5(n,e,t,r)}function WS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ej(n){if(typeof n=="function")return WS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===uS)return 11;if(n===dS)return 14}return 2}function oa(n,e){var t=n.alternate;return t===null?(t=_i(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ng(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")WS(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Uc:return gl(t.children,i,o,e);case cS:s=8,i|=8;break;case D1:return n=_i(12,t,e,i|2),n.elementType=D1,n.lanes=o,n;case A1:return n=_i(13,t,e,i),n.elementType=A1,n.lanes=o,n;case M1:return n=_i(19,t,e,i),n.elementType=M1,n.lanes=o,n;case dO:return zv(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case cO:s=10;break e;case uO:s=9;break e;case uS:s=11;break e;case dS:s=14;break e;case Ds:s=16,r=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=_i(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function gl(n,e,t,r){return n=_i(7,n,r,e),n.lanes=t,n}function zv(n,e,t,r){return n=_i(22,n,r,e),n.elementType=dO,n.lanes=t,n.stateNode={isHidden:!1},n}function ww(n,e,t){return n=_i(6,n,null,e),n.lanes=t,n}function bw(n,e,t){return e=_i(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function tj(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qS(n,e,t,r,i,o,s,a,l){return n=new tj(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_i(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},PS(o),n}function nj(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function n2(n){if(!n)return va;n=n._reactInternals;e:{if(tc(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(Nr(t))return nN(n,t,e)}return e}function r2(n,e,t,r,i,o,s,a,l){return n=qS(t,r,!0,n,i,o,s,a,l),n.context=n2(null),t=n.current,r=vr(),i=ia(t),o=Go(r,i),o.callback=e??null,na(t,o,i),n.current.lanes=i,np(n,i,r),Lr(n,r),n}function jv(n,e,t,r){var i=e.current,o=vr(),s=ia(i);return t=n2(t),e.context===null?e.context=t:e.pendingContext=t,e=Go(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=na(i,e,s),n!==null&&(Wi(n,i,s,o),Qm(n,i,s)),s}function oy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function KS(n,e){hC(n,e),(n=n.alternate)&&hC(n,e)}function rj(){return null}var i2=typeof reportError=="function"?reportError:function(n){console.error(n)};function GS(n){this._internalRoot=n}Uv.prototype.render=GS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));jv(n,e,null,null)};Uv.prototype.unmount=GS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ol(function(){jv(null,n,null,null)}),e[ns]=null}};function Uv(n){this._internalRoot=n}Uv.prototype.unstable_scheduleHydration=function(n){if(n){var e=NO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ns.length&&e!==0&&e<Ns[t].priority;t++);Ns.splice(t,0,n),t===0&&FO(n)}};function YS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function pC(){}function ij(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=oy(s);o.call(c)}}var s=r2(e,r,n,0,null,!1,!1,"",pC);return n._reactRootContainer=s,n[ns]=s.current,ph(n.nodeType===8?n.parentNode:n),Ol(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=oy(l);a.call(c)}}var l=qS(n,0,!1,null,null,!1,!1,"",pC);return n._reactRootContainer=l,n[ns]=l.current,ph(n.nodeType===8?n.parentNode:n),Ol(function(){jv(e,l,t,r)}),l}function Wv(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=oy(s);a.call(l)}}jv(e,s,n,i)}else s=ij(t,e,n,i,r);return oy(s)}MO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=wf(e.pendingLanes);t!==0&&(pS(e,t|1),Lr(e,tn()),!(Qe&6)&&(Cu=tn()+500,Pa()))}break;case 13:Ol(function(){var r=rs(n,1);if(r!==null){var i=vr();Wi(r,n,1,i)}}),KS(n,1)}};mS=function(n){if(n.tag===13){var e=rs(n,134217728);if(e!==null){var t=vr();Wi(e,n,134217728,t)}KS(n,134217728)}};OO=function(n){if(n.tag===13){var e=ia(n),t=rs(n,e);if(t!==null){var r=vr();Wi(t,n,e,r)}KS(n,e)}};NO=function(){return ut};LO=function(n,e){var t=ut;try{return ut=n,e()}finally{ut=t}};U1=function(n,e,t){switch(e){case"input":if(L1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Nv(r);if(!i)throw Error(J(90));hO(r),L1(r,i)}}}break;case"textarea":mO(n,t);break;case"select":e=t.value,e!=null&&iu(n,!!t.multiple,e,!1)}};EO=jS;SO=Ol;var oj={usingClientEntryPoint:!1,Events:[ip,Kc,Nv,wO,bO,jS]},Gd={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sj={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=IO(n),n===null?null:n.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hm.isDisabled&&hm.supportsFiber)try{Dv=hm.inject(sj),go=hm}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oj;ii.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YS(e))throw Error(J(200));return nj(n,e,null,t)};ii.createRoot=function(n,e){if(!YS(n))throw Error(J(299));var t=!1,r="",i=i2;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qS(n,1,!1,null,null,t,!1,r,i),n[ns]=e.current,ph(n.nodeType===8?n.parentNode:n),new GS(e)};ii.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=IO(e),n=n===null?null:n.stateNode,n};ii.flushSync=function(n){return Ol(n)};ii.hydrate=function(n,e,t){if(!Hv(e))throw Error(J(200));return Wv(null,n,e,!0,t)};ii.hydrateRoot=function(n,e,t){if(!YS(n))throw Error(J(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=i2;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=r2(e,null,n,1,t??null,i,!1,o,s),n[ns]=e.current,ph(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Uv(e)};ii.render=function(n,e,t){if(!Hv(e))throw Error(J(200));return Wv(null,n,e,!1,t)};ii.unmountComponentAtNode=function(n){if(!Hv(n))throw Error(J(40));return n._reactRootContainer?(Ol(function(){Wv(null,null,n,!1,function(){n._reactRootContainer=null,n[ns]=null})}),!0):!1};ii.unstable_batchedUpdates=jS;ii.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Hv(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return Wv(n,e,t,!1,r)};ii.version="18.3.1-next-f1338f8080-20240426";function o2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o2)}catch(n){console.error(n)}}o2(),oO.exports=ii;var qv=oO.exports;const eu=Xt(qv);var s2,mC=qv;s2=mC.createRoot,mC.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sh.apply(this,arguments)}var Ws;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ws||(Ws={}));const gC="popstate";function aj(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Sb("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:l2(i)}return cj(e,t,null,n)}function _n(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function a2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lj(){return Math.random().toString(36).substr(2,8)}function yC(n,e){return{usr:n.state,key:n.key,idx:e}}function Sb(n,e,t,r){return t===void 0&&(t=null),Sh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?od(e):e,{state:t,key:e&&e.key||r||lj()})}function l2(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function od(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function cj(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ws.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Sh({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Ws.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:v})}function h(_,v){a=Ws.Push;let w=Sb(g.location,_,v);c=u()+1;let b=yC(w,c),k=g.createHref(w);try{s.pushState(b,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}o&&l&&l({action:a,location:g.location,delta:1})}function p(_,v){a=Ws.Replace;let w=Sb(g.location,_,v);c=u();let b=yC(w,c),k=g.createHref(w);s.replaceState(b,"",k),o&&l&&l({action:a,location:g.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:l2(_);return w=w.replace(/ $/,"%20"),_n(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return n(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gC,d),l=_,()=>{i.removeEventListener(gC,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(_){return s.go(_)}};return g}var vC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(vC||(vC={}));function uj(n,e,t){return t===void 0&&(t="/"),dj(n,e,t,!1)}function dj(n,e,t,r){let i=typeof e=="string"?od(e):e,o=d2(i.pathname||"/",t);if(o==null)return null;let s=c2(n);fj(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Sj(o);a=bj(s[l],c,r)}return a}function c2(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(_n(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=yl([r,l.relativePath]),u=t.concat(l);o.children&&o.children.length>0&&(_n(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),c2(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:_j(c,o.index),routesMeta:u})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of u2(o.path))i(o,s,l)}),e}function u2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=u2(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function fj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const hj=/^:[\w-]+$/,pj=3,mj=2,gj=1,yj=10,vj=-2,_C=n=>n==="*";function _j(n,e){let t=n.split("/"),r=t.length;return t.some(_C)&&(r+=vj),e&&(r+=mj),t.filter(i=>!_C(i)).reduce((i,o)=>i+(hj.test(o)?pj:o===""?gj:yj),r)}function wj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function bj(n,e,t){let{routesMeta:r}=n,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=wC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=wC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:yl([o,d.pathname]),pathnameBase:Pj(yl([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=yl([o,d.pathnameBase]))}return s}function wC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ej(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:n}}function Ej(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),a2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Sj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return a2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function d2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Tj(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?od(n):n;return{pathname:t?t.startsWith("/")?t:xj(t,e):e,search:Rj(r),hash:Dj(i)}}function xj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ew(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ij(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kj(n,e){let t=Ij(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Cj(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=od(n):(i=Sh({},n),_n(!i.pathname||!i.pathname.includes("?"),Ew("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),Ew("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),Ew("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=t;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Tj(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const yl=n=>n.join("/").replace(/\/\/+/g,"/"),Pj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Rj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Aj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const f2=["post","put","patch","delete"];new Set(f2);const Mj=["get",...f2];new Set(Mj);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Th.apply(this,arguments)}const QS=x.createContext(null),Oj=x.createContext(null),Kv=x.createContext(null),Gv=x.createContext(null),nc=x.createContext({outlet:null,matches:[],isDataRoute:!1}),h2=x.createContext(null);function Yv(){return x.useContext(Gv)!=null}function p2(){return Yv()||_n(!1),x.useContext(Gv).location}function m2(n){x.useContext(Kv).static||x.useLayoutEffect(n)}function sd(){let{isDataRoute:n}=x.useContext(nc);return n?Gj():Nj()}function Nj(){Yv()||_n(!1);let n=x.useContext(QS),{basename:e,future:t,navigator:r}=x.useContext(Kv),{matches:i}=x.useContext(nc),{pathname:o}=p2(),s=JSON.stringify(kj(i,t.v7_relativeSplatPath)),a=x.useRef(!1);return m2(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Cj(c,JSON.parse(s),o,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yl([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,n])}function Lj(){let{matches:n}=x.useContext(nc),e=n[n.length-1];return e?e.params:{}}function Fj(n,e){return Vj(n,e)}function Vj(n,e,t,r){Yv()||_n(!1);let{navigator:i}=x.useContext(Kv),{matches:o}=x.useContext(nc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=p2(),u;if(e){var d;let _=typeof e=="string"?od(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||_n(!1),u=_}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=uj(n,{pathname:p}),g=Uj(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:yl([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:yl([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,t,r);return e&&g?x.createElement(Gv.Provider,{value:{location:Th({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ws.Pop}},g):g}function $j(){let n=Kj(),e=Aj(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,null)}const Bj=x.createElement($j,null);class zj extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(nc.Provider,{value:this.props.routeContext},x.createElement(h2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jj(n){let{routeContext:e,match:t,children:r}=n,i=x.useContext(QS);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(nc.Provider,{value:e},r)}function Uj(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if((o=t)!=null&&o.errors)n=t.matches;else return null}let s=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||_n(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=t,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,m=!1,g=null,_=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||Bj,l&&(c<0&&h===0?(m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=g:m?b=_:d.route.Component?b=x.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,x.createElement(jj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(zj,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var g2=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(g2||{}),sy=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(sy||{});function Hj(n){let e=x.useContext(QS);return e||_n(!1),e}function Wj(n){let e=x.useContext(Oj);return e||_n(!1),e}function qj(n){let e=x.useContext(nc);return e||_n(!1),e}function y2(n){let e=qj(),t=e.matches[e.matches.length-1];return t.route.id||_n(!1),t.route.id}function Kj(){var n;let e=x.useContext(h2),t=Wj(sy.UseRouteError),r=y2(sy.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Gj(){let{router:n}=Hj(g2.UseNavigateStable),e=y2(sy.UseNavigateStable),t=x.useRef(!1);return m2(()=>{t.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Th({fromRouteId:e},o)))},[n,e])}function Ac(n){_n(!1)}function Yj(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ws.Pop,navigator:o,static:s=!1,future:a}=n;Yv()&&_n(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:o,static:s,future:Th({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=od(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let _=d2(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:x.createElement(Kv.Provider,{value:c},x.createElement(Gv.Provider,{children:t,value:g}))}function Qj(n){let{children:e,location:t}=n;return Fj(Tb(e),t)}new Promise(()=>{});function Tb(n,e){e===void 0&&(e=[]);let t=[];return x.Children.forEach(n,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){t.push.apply(t,Tb(r.props.children,o));return}r.type!==Ac&&_n(!1),!r.props.index||!r.props.children||_n(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Tb(r.props.children,o)),t.push(s)}),t}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Jj="6";try{window.__reactRouterVersion=Jj}catch{}const Xj="startTransition",bC=oh[Xj];function Zj(n){let{basename:e,children:t,future:r,window:i}=n,o=x.useRef();o.current==null&&(o.current=aj({window:i,v5Compat:!0}));let s=o.current,[a,l]=x.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&bC?bC(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(Yj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,future:r})}var EC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(EC||(EC={}));var SC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(SC||(SC={}));function v2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=v2(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function de(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=v2(n))&&(r&&(r+=" "),r+=e);return r}const xh=n=>typeof n=="number"&&!isNaN(n),vl=n=>typeof n=="string",Yr=n=>typeof n=="function",rg=n=>vl(n)||Yr(n)?n:null,xb=n=>x.isValidElement(n)||vl(n)||Yr(n)||xh(n);function e6(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function Qv(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=n;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=s;const m=r?`${e}--${l}`:e,g=r?`${t}--${l}`:t,_=x.useRef(0);return x.useLayoutEffect(()=>{const v=d.current,w=m.split(" "),b=k=>{k.target===d.current&&(p(),v.removeEventListener("animationend",b),v.removeEventListener("animationcancel",b),_.current===0&&k.type!=="animationcancel"&&v.classList.remove(...w))};v.classList.add(...w),v.addEventListener("animationend",b),v.addEventListener("animationcancel",b)},[]),x.useEffect(()=>{const v=d.current,w=()=>{v.removeEventListener("animationend",w),i?e6(v,u,o):u()};h||(c?w():(_.current=1,v.className+=` ${g}`,v.addEventListener("animationend",w)))},[h]),$.createElement($.Fragment,null,a)}}function TC(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const hr=new Map;let Ih=[];const Ib=new Set,t6=n=>Ib.forEach(e=>e(n)),_2=()=>hr.size>0;function w2(n,e){var t;if(e)return!((t=hr.get(e))==null||!t.isToastActive(n));let r=!1;return hr.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function b2(n,e){xb(n)&&(_2()||Ih.push({content:n,options:e}),hr.forEach(t=>{t.buildToast(n,e)}))}function xC(n,e){hr.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function n6(n){const{subscribe:e,getSnapshot:t,setProps:r}=x.useRef(function(o){const s=o.containerId||1;return{subscribe(a){const l=function(u,d,h){let p=1,m=0,g=[],_=[],v=[],w=d;const b=new Map,k=new Set,P=()=>{v=Array.from(b.values()),k.forEach(E=>E())},M=E=>{_=E==null?[]:_.filter(I=>I!==E),P()},S=E=>{const{toastId:I,onOpen:C,updateId:A,children:O}=E.props,R=A==null;E.staleId&&b.delete(E.staleId),b.set(I,E),_=[..._,E.props.toastId].filter(U=>U!==E.staleId),P(),h(TC(E,R?"added":"updated")),R&&Yr(C)&&C(x.isValidElement(O)&&O.props)};return{id:u,props:w,observe:E=>(k.add(E),()=>k.delete(E)),toggle:(E,I)=>{b.forEach(C=>{I!=null&&I!==C.props.toastId||Yr(C.toggle)&&C.toggle(E)})},removeToast:M,toasts:b,clearQueue:()=>{m-=g.length,g=[]},buildToast:(E,I)=>{if((fe=>{let{containerId:re,toastId:ge,updateId:ce}=fe;const Te=re?re!==u:u!==1,Ue=b.has(ge)&&ce==null;return Te||Ue})(I))return;const{toastId:C,updateId:A,data:O,staleId:R,delay:U}=I,K=()=>{M(C)},H=A==null;H&&m++;const q={...w,style:w.toastStyle,key:p++,...Object.fromEntries(Object.entries(I).filter(fe=>{let[re,ge]=fe;return ge!=null})),toastId:C,updateId:A,data:O,closeToast:K,isIn:!1,className:rg(I.className||w.toastClassName),bodyClassName:rg(I.bodyClassName||w.bodyClassName),progressClassName:rg(I.progressClassName||w.progressClassName),autoClose:!I.isLoading&&(V=I.autoClose,G=w.autoClose,V===!1||xh(V)&&V>0?V:G),deleteToast(){const fe=b.get(C),{onClose:re,children:ge}=fe.props;Yr(re)&&re(x.isValidElement(ge)&&ge.props),h(TC(fe,"removed")),b.delete(C),m--,m<0&&(m=0),g.length>0?S(g.shift()):P()}};var V,G;q.closeButton=w.closeButton,I.closeButton===!1||xb(I.closeButton)?q.closeButton=I.closeButton:I.closeButton===!0&&(q.closeButton=!xb(w.closeButton)||w.closeButton);let Z=E;x.isValidElement(E)&&!vl(E.type)?Z=x.cloneElement(E,{closeToast:K,toastProps:q,data:O}):Yr(E)&&(Z=E({closeToast:K,toastProps:q,data:O}));const ne={content:Z,props:q,staleId:R};w.limit&&w.limit>0&&m>w.limit&&H?g.push(ne):xh(U)?setTimeout(()=>{S(ne)},U):S(ne)},setProps(E){w=E},setToggle:(E,I)=>{b.get(E).toggle=I},isToastActive:E=>_.some(I=>I===E),getSnapshot:()=>w.newestOnTop?v.reverse():v}}(s,o,t6);hr.set(s,l);const c=l.observe(a);return Ih.forEach(u=>b2(u.content,u.options)),Ih=[],()=>{c(),hr.delete(s)}},setProps(a){var l;(l=hr.get(s))==null||l.setProps(a)},getSnapshot(){var a;return(a=hr.get(s))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const i=x.useSyncExternalStore(e,t,t);return{getToastToRender:function(o){if(!i)return[];const s=new Map;return i.forEach(a=>{const{position:l}=a.props;s.has(l)||s.set(l,[]),s.get(l).push(a)}),Array.from(s,a=>o(a[0],a[1]))},isToastActive:w2,count:i==null?void 0:i.length}}function r6(n){const[e,t]=x.useState(!1),[r,i]=x.useState(!1),o=x.useRef(null),s=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=n;var h,p;function m(){t(!0)}function g(){t(!1)}function _(b){const k=o.current;s.canDrag&&k&&(s.didMove=!0,e&&g(),s.delta=n.draggableDirection==="x"?b.clientX-s.start:b.clientY-s.start,s.start!==b.clientX&&(s.canCloseOnClick=!1),k.style.transform=`translate3d(${n.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function v(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",v);const b=o.current;if(s.canDrag&&s.didMove&&b){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}(p=hr.get((h={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(h.id,h.fn),x.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[n.pauseOnFocusLoss]);const w={onPointerDown:function(b){if(n.draggable===!0||n.draggable===b.pointerType){s.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",v);const k=o.current;s.canCloseOnClick=!0,s.canDrag=!0,k.style.transition="none",n.draggableDirection==="x"?(s.start=b.clientX,s.removalDistance=k.offsetWidth*(n.draggablePercent/100)):(s.start=b.clientY,s.removalDistance=k.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(b){const{top:k,bottom:P,left:M,right:S}=o.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&n.pauseOnHover&&b.clientX>=M&&b.clientX<=S&&b.clientY>=k&&b.clientY<=P?g():m()}};return a&&l&&(w.onMouseEnter=g,n.stacked||(w.onMouseLeave=m)),d&&(w.onClick=b=>{u&&u(b),s.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:w}}function i6(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=n;const p=o||l&&c===0,m={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(m.transform=`scaleX(${c})`);const g=de("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),_=Yr(s)?s({rtl:u,type:i,defaultClassName:g}):de(g,s),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return $.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},$.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),$.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:m,...v}))}let o6=1;const E2=()=>""+o6++;function s6(n){return n&&(vl(n.toastId)||xh(n.toastId))?n.toastId:E2()}function Hf(n,e){return b2(n,e),e.toastId}function ay(n,e){return{...e,type:e&&e.type||n,toastId:s6(e)}}function pm(n){return(e,t)=>Hf(e,ay(n,t))}function ot(n,e){return Hf(n,ay("default",e))}ot.loading=(n,e)=>Hf(n,ay("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ot.promise=function(n,e,t){let r,{pending:i,error:o,success:s}=e;i&&(r=vl(i)?ot.loading(i,t):ot.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void ot.dismiss(r);const p={type:u,...a,...t,data:h},m=vl(d)?{render:d}:d;return r?ot.update(r,{...p,...m}):ot(m.render,{...p,...m}),h},c=Yr(n)?n():n;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},ot.success=pm("success"),ot.info=pm("info"),ot.error=pm("error"),ot.warning=pm("warning"),ot.warn=ot.warning,ot.dark=(n,e)=>Hf(n,ay("default",{theme:"dark",...e})),ot.dismiss=function(n){(function(e){var t;if(_2()){if(e==null||vl(t=e)||xh(t))hr.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=hr.get(e.containerId);r?r.removeToast(e.id):hr.forEach(i=>{i.removeToast(e.id)})}}else Ih=Ih.filter(r=>e!=null&&r.options.toastId!==e)})(n)},ot.clearWaitingQueue=function(n){n===void 0&&(n={}),hr.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},ot.isActive=w2,ot.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var o;let{containerId:s}=i;return(o=hr.get(s||1))==null?void 0:o.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:E2()};o.toastId!==n&&(o.staleId=n);const s=o.render||i;delete o.render,Hf(s,o)}},ot.done=n=>{ot.update(n,{progress:1})},ot.onChange=function(n){return Ib.add(n),()=>{Ib.delete(n)}},ot.play=n=>xC(!0,n),ot.pause=n=>xC(!1,n);const a6=typeof window<"u"?x.useLayoutEffect:x.useEffect,mm=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return $.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},Sw={info:function(n){return $.createElement(mm,{...n},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return $.createElement(mm,{...n},$.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return $.createElement(mm,{...n},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return $.createElement(mm,{...n},$.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return $.createElement("div",{className:"Toastify__spinner"})}},l6=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=r6(n),{closeButton:s,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:p,position:m,className:g,style:_,bodyClassName:v,bodyStyle:w,progressClassName:b,progressStyle:k,updateId:P,role:M,progress:S,rtl:E,toastId:I,deleteToast:C,isIn:A,isLoading:O,closeOnClick:R,theme:U}=n,K=de("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":R}),H=Yr(g)?g({rtl:E,position:m,type:u,defaultClassName:K}):de(K,g),q=function(ne){let{theme:fe,type:re,isLoading:ge,icon:ce}=ne,Te=null;const Ue={theme:fe,type:re};return ce===!1||(Yr(ce)?Te=ce({...Ue,isLoading:ge}):x.isValidElement(ce)?Te=x.cloneElement(ce,Ue):ge?Te=Sw.spinner():(Bt=>Bt in Sw)(re)&&(Te=Sw[re](Ue))),Te}(n),V=!!S||!l,G={closeToast:h,type:u,theme:U};let Z=null;return s===!1||(Z=Yr(s)?s(G):x.isValidElement(s)?x.cloneElement(s,G):function(ne){let{closeToast:fe,theme:re,ariaLabel:ge="close"}=ne;return $.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:ce=>{ce.stopPropagation(),fe(ce)},"aria-label":ge},$.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(G)),$.createElement(p,{isIn:A,done:C,position:m,preventExitTransition:t,nodeRef:r,playToast:o},$.createElement("div",{id:I,onClick:c,"data-in":A,className:H,...i,style:_,ref:r},$.createElement("div",{...A&&{role:M},className:Yr(v)?v({type:u}):de("Toastify__toast-body",v),style:w},q!=null&&$.createElement("div",{className:de("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},q),$.createElement("div",null,a)),Z,$.createElement(i6,{...P&&!V?{key:`pb-${P}`}:{},rtl:E,theme:U,delay:l,isRunning:e,isIn:A,closeToast:h,hide:d,type:u,style:k,className:b,controlledProgress:V,progress:S||0})))},Jv=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},c6=Qv(Jv("bounce",!0));Qv(Jv("slide",!0));Qv(Jv("zoom"));Qv(Jv("flip"));const u6={position:"top-right",transition:c6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function d6(n){let e={...u6,...n};const t=n.stacked,[r,i]=x.useState(!0),o=x.useRef(null),{getToastToRender:s,isToastActive:a,count:l}=n6(e),{className:c,style:u,rtl:d,containerId:h}=e;function p(g){const _=de("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":d});return Yr(c)?c({position:g,rtl:d,defaultClassName:_}):de(_,rg(c))}function m(){t&&(i(!0),ot.play())}return a6(()=>{if(t){var g;const _=o.current.querySelectorAll('[data-in="true"]'),v=12,w=(g=e.position)==null?void 0:g.includes("top");let b=0,k=0;Array.from(_).reverse().forEach((P,M)=>{const S=P;S.classList.add("Toastify__toast--stacked"),M>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=w?"top":"bot");const E=b*(r?.2:1)+(r?0:v*M);S.style.setProperty("--y",`${w?E:-1*E}px`),S.style.setProperty("--g",`${v}`),S.style.setProperty("--s",""+(1-(r?k:0))),b+=S.offsetHeight,k+=.025})}},[r,l,t]),$.createElement("div",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{t&&(i(!1),ot.pause())},onMouseLeave:m},s((g,_)=>{const v=_.length?{...u}:{...u,pointerEvents:"none"};return $.createElement("div",{className:p(g),style:v,key:`container-${g}`},_.map(w=>{let{content:b,props:k}=w;return $.createElement(l6,{...k,stacked:t,collapseAll:m,isIn:a(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},b)}))}))}var IC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},f6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},T2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(t[u],t[d],t[h],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):f6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new h6;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class h6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p6=function(n){const e=S2(n);return T2.encodeByteArray(e,!0)},x2=function(n){return p6(n).replace(/\./g,"")},I2=function(n){try{return T2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=()=>m6().__FIREBASE_DEFAULTS__,y6=()=>{if(typeof process>"u"||typeof IC>"u")return;const n=IC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},v6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&I2(n[1]);return e&&JSON.parse(e)},Xv=()=>{try{return g6()||y6()||v6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_6=n=>{var e,t;return(t=(e=Xv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},k2=()=>{var n;return(n=Xv())===null||n===void 0?void 0:n.config},C2=n=>{var e;return(e=Xv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function E6(){var n;const e=(n=Xv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function T6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x6(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P2(){return!E6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R2(){try{return typeof indexedDB=="object"}catch{return!1}}function I6(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="FirebaseError";class gs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=k6,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sp.prototype.create)}}class sp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?C6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new gs(i,a,r)}}function C6(n,e){return n.replace(P6,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P6=/\{\$([^}]+)}/g;function R6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(kC(o)&&kC(s)){if(!kh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ef(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Sf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function D6(n,e){const t=new A6(n,e);return t.subscribe.bind(t)}class A6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tw),i.error===void 0&&(i.error=Tw),i.complete===void 0&&(i.complete=Tw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class Nl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new w6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L6(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N6(n){return n===Ga?void 0:n}function L6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new O6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const V6={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},$6=ze.INFO,B6={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},z6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=B6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JS{constructor(e){this.name=e,this._logLevel=$6,this._logHandler=z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const j6=(n,e)=>e.some(t=>n instanceof t);let CC,PC;function U6(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H6(){return PC||(PC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D2=new WeakMap,kb=new WeakMap,A2=new WeakMap,xw=new WeakMap,XS=new WeakMap;function W6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(sa(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&D2.set(t,n)}).catch(()=>{}),XS.set(e,n),e}function q6(n){if(kb.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kb.set(n,e)}let Cb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function K6(n){Cb=n(Cb)}function G6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iw(this),e,...t);return A2.set(r,e.sort?e.sort():[e]),sa(r)}:H6().includes(n)?function(...e){return n.apply(Iw(this),e),sa(D2.get(this))}:function(...e){return sa(n.apply(Iw(this),e))}}function Y6(n){return typeof n=="function"?G6(n):(n instanceof IDBTransaction&&q6(n),j6(n,U6())?new Proxy(n,Cb):n)}function sa(n){if(n instanceof IDBRequest)return W6(n);if(xw.has(n))return xw.get(n);const e=Y6(n);return e!==n&&(xw.set(n,e),XS.set(e,n)),e}const Iw=n=>XS.get(n);function Q6(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=sa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(sa(s.result),l.oldVersion,l.newVersion,sa(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const J6=["get","getKey","getAll","getAllKeys","count"],X6=["put","add","delete","clear"],kw=new Map;function RC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kw.get(e))return kw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=X6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J6.includes(t)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return kw.set(e,o),o}K6(n=>({...n,get:(e,t,r)=>RC(e,t)||n.get(e,t,r),has:(e,t)=>!!RC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function eU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pb="@firebase/app",DC="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new JS("@firebase/app"),tU="@firebase/app-compat",nU="@firebase/analytics-compat",rU="@firebase/analytics",iU="@firebase/app-check-compat",oU="@firebase/app-check",sU="@firebase/auth",aU="@firebase/auth-compat",lU="@firebase/database",cU="@firebase/database-compat",uU="@firebase/functions",dU="@firebase/functions-compat",fU="@firebase/installations",hU="@firebase/installations-compat",pU="@firebase/messaging",mU="@firebase/messaging-compat",gU="@firebase/performance",yU="@firebase/performance-compat",vU="@firebase/remote-config",_U="@firebase/remote-config-compat",wU="@firebase/storage",bU="@firebase/storage-compat",EU="@firebase/firestore",SU="@firebase/vertexai-preview",TU="@firebase/firestore-compat",xU="firebase",IU="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="[DEFAULT]",kU={[Pb]:"fire-core",[tU]:"fire-core-compat",[rU]:"fire-analytics",[nU]:"fire-analytics-compat",[oU]:"fire-app-check",[iU]:"fire-app-check-compat",[sU]:"fire-auth",[aU]:"fire-auth-compat",[lU]:"fire-rtdb",[cU]:"fire-rtdb-compat",[uU]:"fire-fn",[dU]:"fire-fn-compat",[fU]:"fire-iid",[hU]:"fire-iid-compat",[pU]:"fire-fcm",[mU]:"fire-fcm-compat",[gU]:"fire-perf",[yU]:"fire-perf-compat",[vU]:"fire-rc",[_U]:"fire-rc-compat",[wU]:"fire-gcs",[bU]:"fire-gcs-compat",[EU]:"fire-fst",[TU]:"fire-fst-compat",[SU]:"fire-vertex","fire-js":"fire-js",[xU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map,CU=new Map,Db=new Map;function AC(n,e){try{n.container.addComponent(e)}catch(t){Ll.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pu(n){const e=n.name;if(Db.has(e))return Ll.debug(`There were multiple attempts to register component ${e}.`),!1;Db.set(e,n);for(const t of ly.values())AC(t,n);for(const t of CU.values())AC(t,n);return!0}function ZS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function co(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new sp("app","Firebase",PU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=IU;function M2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw aa.create("bad-app-name",{appName:String(i)});if(t||(t=k2()),!t)throw aa.create("no-options");const o=ly.get(i);if(o){if(kh(t,o.options)&&kh(r,o.config))return o;throw aa.create("duplicate-app",{appName:i})}const s=new F6(i);for(const l of Db.values())s.addComponent(l);const a=new RU(t,r,s);return ly.set(i,a),a}function DU(n=Rb){const e=ly.get(n);if(!e&&n===Rb&&k2())return M2();if(!e)throw aa.create("no-app",{appName:n});return e}function la(n,e,t){var r;let i=(r=kU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ll.warn(a.join(" "));return}Pu(new Nl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="firebase-heartbeat-database",MU=1,Ch="firebase-heartbeat-store";let Cw=null;function O2(){return Cw||(Cw=Q6(AU,MU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ch)}catch(t){console.warn(t)}}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),Cw}async function OU(n){try{const t=(await O2()).transaction(Ch),r=await t.objectStore(Ch).get(N2(n));return await t.done,r}catch(e){if(e instanceof gs)Ll.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ll.warn(t.message)}}}async function MC(n,e){try{const r=(await O2()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,N2(n)),await r.done}catch(t){if(t instanceof gs)Ll.warn(t.message);else{const r=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ll.warn(r.message)}}}function N2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1024,LU=30*24*60*60*1e3;class FU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $U(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=LU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OC(),{heartbeatsToSend:r,unsentEntries:i}=VU(this._heartbeatsCache.heartbeats),o=x2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function OC(){return new Date().toISOString().substring(0,10)}function VU(n,e=NU){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $U{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R2()?I6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NC(n){return x2(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(n){Pu(new Nl("platform-logger",e=>new Z6(e),"PRIVATE")),Pu(new Nl("heartbeat",e=>new FU(e),"PRIVATE")),la(Pb,DC,n),la(Pb,DC,"esm2017"),la("fire-js","")}BU("");var zU="firebase",jU="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(zU,jU,"app");var LC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,L2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,A,O){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return E.prototype[A].apply(C,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)C[A]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],A=S.g[2];var O=S.g[3],R=E+(O^I&(A^O))+C[0]+3614090360&4294967295;E=I+(R<<7&4294967295|R>>>25),R=O+(A^E&(I^A))+C[1]+3905402710&4294967295,O=E+(R<<12&4294967295|R>>>20),R=A+(I^O&(E^I))+C[2]+606105819&4294967295,A=O+(R<<17&4294967295|R>>>15),R=I+(E^A&(O^E))+C[3]+3250441966&4294967295,I=A+(R<<22&4294967295|R>>>10),R=E+(O^I&(A^O))+C[4]+4118548399&4294967295,E=I+(R<<7&4294967295|R>>>25),R=O+(A^E&(I^A))+C[5]+1200080426&4294967295,O=E+(R<<12&4294967295|R>>>20),R=A+(I^O&(E^I))+C[6]+2821735955&4294967295,A=O+(R<<17&4294967295|R>>>15),R=I+(E^A&(O^E))+C[7]+4249261313&4294967295,I=A+(R<<22&4294967295|R>>>10),R=E+(O^I&(A^O))+C[8]+1770035416&4294967295,E=I+(R<<7&4294967295|R>>>25),R=O+(A^E&(I^A))+C[9]+2336552879&4294967295,O=E+(R<<12&4294967295|R>>>20),R=A+(I^O&(E^I))+C[10]+4294925233&4294967295,A=O+(R<<17&4294967295|R>>>15),R=I+(E^A&(O^E))+C[11]+2304563134&4294967295,I=A+(R<<22&4294967295|R>>>10),R=E+(O^I&(A^O))+C[12]+1804603682&4294967295,E=I+(R<<7&4294967295|R>>>25),R=O+(A^E&(I^A))+C[13]+4254626195&4294967295,O=E+(R<<12&4294967295|R>>>20),R=A+(I^O&(E^I))+C[14]+2792965006&4294967295,A=O+(R<<17&4294967295|R>>>15),R=I+(E^A&(O^E))+C[15]+1236535329&4294967295,I=A+(R<<22&4294967295|R>>>10),R=E+(A^O&(I^A))+C[1]+4129170786&4294967295,E=I+(R<<5&4294967295|R>>>27),R=O+(I^A&(E^I))+C[6]+3225465664&4294967295,O=E+(R<<9&4294967295|R>>>23),R=A+(E^I&(O^E))+C[11]+643717713&4294967295,A=O+(R<<14&4294967295|R>>>18),R=I+(O^E&(A^O))+C[0]+3921069994&4294967295,I=A+(R<<20&4294967295|R>>>12),R=E+(A^O&(I^A))+C[5]+3593408605&4294967295,E=I+(R<<5&4294967295|R>>>27),R=O+(I^A&(E^I))+C[10]+38016083&4294967295,O=E+(R<<9&4294967295|R>>>23),R=A+(E^I&(O^E))+C[15]+3634488961&4294967295,A=O+(R<<14&4294967295|R>>>18),R=I+(O^E&(A^O))+C[4]+3889429448&4294967295,I=A+(R<<20&4294967295|R>>>12),R=E+(A^O&(I^A))+C[9]+568446438&4294967295,E=I+(R<<5&4294967295|R>>>27),R=O+(I^A&(E^I))+C[14]+3275163606&4294967295,O=E+(R<<9&4294967295|R>>>23),R=A+(E^I&(O^E))+C[3]+4107603335&4294967295,A=O+(R<<14&4294967295|R>>>18),R=I+(O^E&(A^O))+C[8]+1163531501&4294967295,I=A+(R<<20&4294967295|R>>>12),R=E+(A^O&(I^A))+C[13]+2850285829&4294967295,E=I+(R<<5&4294967295|R>>>27),R=O+(I^A&(E^I))+C[2]+4243563512&4294967295,O=E+(R<<9&4294967295|R>>>23),R=A+(E^I&(O^E))+C[7]+1735328473&4294967295,A=O+(R<<14&4294967295|R>>>18),R=I+(O^E&(A^O))+C[12]+2368359562&4294967295,I=A+(R<<20&4294967295|R>>>12),R=E+(I^A^O)+C[5]+4294588738&4294967295,E=I+(R<<4&4294967295|R>>>28),R=O+(E^I^A)+C[8]+2272392833&4294967295,O=E+(R<<11&4294967295|R>>>21),R=A+(O^E^I)+C[11]+1839030562&4294967295,A=O+(R<<16&4294967295|R>>>16),R=I+(A^O^E)+C[14]+4259657740&4294967295,I=A+(R<<23&4294967295|R>>>9),R=E+(I^A^O)+C[1]+2763975236&4294967295,E=I+(R<<4&4294967295|R>>>28),R=O+(E^I^A)+C[4]+1272893353&4294967295,O=E+(R<<11&4294967295|R>>>21),R=A+(O^E^I)+C[7]+4139469664&4294967295,A=O+(R<<16&4294967295|R>>>16),R=I+(A^O^E)+C[10]+3200236656&4294967295,I=A+(R<<23&4294967295|R>>>9),R=E+(I^A^O)+C[13]+681279174&4294967295,E=I+(R<<4&4294967295|R>>>28),R=O+(E^I^A)+C[0]+3936430074&4294967295,O=E+(R<<11&4294967295|R>>>21),R=A+(O^E^I)+C[3]+3572445317&4294967295,A=O+(R<<16&4294967295|R>>>16),R=I+(A^O^E)+C[6]+76029189&4294967295,I=A+(R<<23&4294967295|R>>>9),R=E+(I^A^O)+C[9]+3654602809&4294967295,E=I+(R<<4&4294967295|R>>>28),R=O+(E^I^A)+C[12]+3873151461&4294967295,O=E+(R<<11&4294967295|R>>>21),R=A+(O^E^I)+C[15]+530742520&4294967295,A=O+(R<<16&4294967295|R>>>16),R=I+(A^O^E)+C[2]+3299628645&4294967295,I=A+(R<<23&4294967295|R>>>9),R=E+(A^(I|~O))+C[0]+4096336452&4294967295,E=I+(R<<6&4294967295|R>>>26),R=O+(I^(E|~A))+C[7]+1126891415&4294967295,O=E+(R<<10&4294967295|R>>>22),R=A+(E^(O|~I))+C[14]+2878612391&4294967295,A=O+(R<<15&4294967295|R>>>17),R=I+(O^(A|~E))+C[5]+4237533241&4294967295,I=A+(R<<21&4294967295|R>>>11),R=E+(A^(I|~O))+C[12]+1700485571&4294967295,E=I+(R<<6&4294967295|R>>>26),R=O+(I^(E|~A))+C[3]+2399980690&4294967295,O=E+(R<<10&4294967295|R>>>22),R=A+(E^(O|~I))+C[10]+4293915773&4294967295,A=O+(R<<15&4294967295|R>>>17),R=I+(O^(A|~E))+C[1]+2240044497&4294967295,I=A+(R<<21&4294967295|R>>>11),R=E+(A^(I|~O))+C[8]+1873313359&4294967295,E=I+(R<<6&4294967295|R>>>26),R=O+(I^(E|~A))+C[15]+4264355552&4294967295,O=E+(R<<10&4294967295|R>>>22),R=A+(E^(O|~I))+C[6]+2734768916&4294967295,A=O+(R<<15&4294967295|R>>>17),R=I+(O^(A|~E))+C[13]+1309151649&4294967295,I=A+(R<<21&4294967295|R>>>11),R=E+(A^(I|~O))+C[4]+4149444226&4294967295,E=I+(R<<6&4294967295|R>>>26),R=O+(I^(E|~A))+C[11]+3174756917&4294967295,O=E+(R<<10&4294967295|R>>>22),R=A+(E^(O|~I))+C[2]+718787259&4294967295,A=O+(R<<15&4294967295|R>>>17),R=I+(O^(A|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,C=this.B,A=this.h,O=0;O<E;){if(A==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(C[A++]=S.charCodeAt(O++),A==this.blockSize){i(this,C),A=0;break}}else for(;O<E;)if(C[A++]=S[O++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)S[I++]=this.g[E]>>>C&255;return S};function o(S,E){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function s(S,E){this.h=E;for(var I=[],C=!0,A=S.length-1;0<=A;A--){var O=S[A]|0;C&&O==E||(I[A]=O,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(E){return new s([E|0],0>E?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return _(c(-S));for(var E=[],I=1,C=0;S>=I;C++)E[C]=S/I|0,I*=4294967296;return new s(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return _(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),C=d,A=0;A<S.length;A+=8){var O=Math.min(8,S.length-A),R=parseInt(S.substring(A,A+O),E);8>O?(O=c(Math.pow(E,O)),C=C.j(O).add(c(R))):(C=C.j(I),C=C.add(c(R)))}return C}var d=l(0),h=l(1),p=l(16777216);n=s.prototype,n.m=function(){if(g(this))return-_(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+_(this).toString(S);for(var E=c(Math.pow(S,6)),I=this,C="";;){var A=k(I,E).g;I=v(I,A.j(E));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=A,m(I))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}n.l=function(S){return S=v(this,S),g(S)?-1:m(S)?0:1};function _(S){for(var E=S.g.length,I=[],C=0;C<E;C++)I[C]=~S.g[C];return new s(I,~S.h).add(h)}n.abs=function(){return g(this)?_(this):this},n.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0,A=0;A<=E;A++){var O=C+(this.i(A)&65535)+(S.i(A)&65535),R=(O>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=R>>>16,O&=65535,R&=65535,I[A]=R<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function v(S,E){return S.add(_(E))}n.j=function(S){if(m(this)||m(S))return d;if(g(this))return g(S)?_(this).j(_(S)):_(_(this).j(S));if(g(S))return _(this.j(_(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var O=this.i(C)>>>16,R=this.i(C)&65535,U=S.i(A)>>>16,K=S.i(A)&65535;I[2*C+2*A]+=R*K,w(I,2*C+2*A),I[2*C+2*A+1]+=O*K,w(I,2*C+2*A+1),I[2*C+2*A+1]+=R*U,w(I,2*C+2*A+1),I[2*C+2*A+2]+=O*U,w(I,2*C+2*A+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new s(I,0)};function w(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function b(S,E){this.g=S,this.h=E}function k(S,E){if(m(E))throw Error("division by zero");if(m(S))return new b(d,d);if(g(S))return E=k(_(S),E),new b(_(E.g),_(E.h));if(g(E))return E=k(S,_(E)),new b(_(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=h,C=E;0>=C.l(S);)I=P(I),C=P(C);var A=M(I,1),O=M(C,1);for(C=M(C,2),I=M(I,2);!m(C);){var R=O.add(C);0>=R.l(S)&&(A=A.add(I),O=R),C=M(C,1),I=M(I,1)}return E=v(S,A.j(E)),new b(A,E)}for(A=d;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(I),R=O.j(E);g(R)||0<R.l(S);)I-=C,O=c(I),R=O.j(E);m(O)&&(O=h),A=A.add(O),S=v(S,R)}return new b(A,S)}n.A=function(S){return k(this,S).h},n.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&S.i(C);return new s(I,this.h&S.h)},n.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|S.i(C);return new s(I,this.h|S.h)},n.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^S.i(C);return new s(I,this.h^S.h)};function P(S){for(var E=S.g.length+1,I=[],C=0;C<E;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new s(I,S.h)}function M(S,E){var I=E>>5;E%=32;for(var C=S.g.length-I,A=[],O=0;O<C;O++)A[O]=0<E?S.i(O+I)>>>E|S.i(O+I+1)<<32-E:S.i(O+I);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,_l=s}).apply(typeof LC<"u"?LC:typeof self<"u"?self:typeof window<"u"?window:{});var gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F2,V2,Tf,$2,ig,Ab,B2,z2,j2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gm=="object"&&gm];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var B=f[D];if(!(B in T))break e;T=T[B]}f=f[f.length-1],D=T[f],y=y(D),y!=D&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var T=0,D=!1,B={next:function(){if(!D&&T<f.length){var j=T++;return{value:y(j,f[j]),done:!1}}return D=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(f){return f||function(){return o(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function c(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function u(f,y,T){return f.call.apply(f.bind,arguments)}function d(f,y,T){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,D),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function h(f,y,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function m(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(D,B,j){for(var ee=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ee[wt-2]=arguments[wt];return y.prototype[B].apply(D,ee)}}function g(f){const y=f.length;if(0<y){const T=Array(y);for(let D=0;D<y;D++)T[D]=f[D];return T}return[]}function _(f,y){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(l(D)){const B=f.length||0,j=D.length||0;f.length=B+j;for(let ee=0;ee<j;ee++)f[B+ee]=D[ee]}else f.push(D)}}class v{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(f,y,T){for(const D in f)y.call(T,f[D],D,f)}function S(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function E(f){const y={};for(const T in f)y[T]=f[T];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,y){let T,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(T in D)f[T]=D[T];for(let j=0;j<I.length;j++)T=I[j],Object.prototype.hasOwnProperty.call(D,T)&&(f[T]=D[T])}}function A(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function O(f){a.setTimeout(()=>{throw f},0)}function R(){var f=G;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,T){const D=K.get();D.set(y,T),this.h?this.h.next=D:this.g=D,this.h=D}}var K=new v(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,G=new U,Z=()=>{const f=a.Promise.resolve(void 0);q=()=>{f.then(ne)}};var ne=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(T){O(T)}var y=K;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}V=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return f}();function ce(f,y){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(P){e:{try{k(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ce.aa.h.call(this)}}m(ce,re);var Te={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function vt(f,y,T,D,B){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!D,this.ha=B,this.key=++Bt,this.da=this.fa=!1}function zt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Le(f){this.src=f,this.g={},this.h=0}Le.prototype.add=function(f,y,T,D,B){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var ee=ke(f,y,D,B);return-1<ee?(y=f[ee],T||(y.fa=!1)):(y=new vt(y,this.src,j,!!D,B),y.fa=T,f.push(y)),y};function He(f,y){var T=y.type;if(T in f.g){var D=f.g[T],B=Array.prototype.indexOf.call(D,y,void 0),j;(j=0<=B)&&Array.prototype.splice.call(D,B,1),j&&(zt(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ke(f,y,T,D){for(var B=0;B<f.length;++B){var j=f[B];if(!j.da&&j.listener==y&&j.capture==!!T&&j.ha==D)return B}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Je={};function lr(f,y,T,D,B){if(Array.isArray(y)){for(var j=0;j<y.length;j++)lr(f,y[j],T,D,B);return null}return T=an(T),f&&f[Ue]?f.K(y,T,c(D)?!!D.capture:!!D,B):Zt(f,y,T,!1,D,B)}function Zt(f,y,T,D,B,j){if(!y)throw Error("Invalid event type");var ee=c(B)?!!B.capture:!!B,wt=jt(f);if(wt||(f[Ae]=wt=new Le(f)),T=wt.add(y,T,D,ee,j),T.proxy)return T;if(D=hn(),T.proxy=D,D.src=f,D.listener=T,f.addEventListener)ge||(B=ee),B===void 0&&(B=!1),f.addEventListener(y.toString(),D,B);else if(f.attachEvent)f.attachEvent(it(y.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hn(){function f(T){return y.call(f.src,f.listener,T)}const y=jr;return f}function pn(f,y,T,D,B){if(Array.isArray(y))for(var j=0;j<y.length;j++)pn(f,y[j],T,D,B);else D=c(D)?!!D.capture:!!D,T=an(T),f&&f[Ue]?(f=f.i,y=String(y).toString(),y in f.g&&(j=f.g[y],T=ke(j,T,D,B),-1<T&&(zt(j[T]),Array.prototype.splice.call(j,T,1),j.length==0&&(delete f.g[y],f.h--)))):f&&(f=jt(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ke(y,T,D,B)),(T=-1<f?y[f]:null)&&mn(T))}function mn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ue])He(y.i,f);else{var T=f.type,D=f.proxy;y.removeEventListener?y.removeEventListener(T,D,f.capture):y.detachEvent?y.detachEvent(it(T),D):y.addListener&&y.removeListener&&y.removeListener(D),(T=jt(y))?(He(T,f),T.h==0&&(T.src=null,y[Ae]=null)):zt(f)}}}function it(f){return f in Je?Je[f]:Je[f]="on"+f}function jr(f,y){if(f.da)f=!0;else{y=new ce(y,this);var T=f.listener,D=f.ha||f.src;f.fa&&mn(f),f=T.call(D,y)}return f}function jt(f){return f=f[Ae],f instanceof Le?f:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(f){return typeof f=="function"?f:(f[We]||(f[We]=function(y){return f.handleEvent(y)}),f[We])}function Xe(){fe.call(this),this.i=new Le(this),this.M=this,this.F=null}m(Xe,fe),Xe.prototype[Ue]=!0,Xe.prototype.removeEventListener=function(f,y,T,D){pn(this,f,y,T,D)};function ht(f,y){var T,D=f.F;if(D)for(T=[];D;D=D.F)T.push(D);if(f=f.M,D=y.type||y,typeof y=="string")y=new re(y,f);else if(y instanceof re)y.target=y.target||f;else{var B=y;y=new re(D,f),C(y,B)}if(B=!0,T)for(var j=T.length-1;0<=j;j--){var ee=y.g=T[j];B=qe(ee,D,!0,y)&&B}if(ee=y.g=f,B=qe(ee,D,!0,y)&&B,B=qe(ee,D,!1,y)&&B,T)for(j=0;j<T.length;j++)ee=y.g=T[j],B=qe(ee,D,!1,y)&&B}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],D=0;D<T.length;D++)zt(T[D]);delete f.g[y],f.h--}}this.F=null},Xe.prototype.K=function(f,y,T,D){return this.i.add(String(f),y,!1,T,D)},Xe.prototype.L=function(f,y,T,D){return this.i.add(String(f),y,!0,T,D)};function qe(f,y,T,D){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,j=0;j<y.length;++j){var ee=y[j];if(ee&&!ee.da&&ee.capture==T){var wt=ee.listener,Nn=ee.ha||ee.src;ee.fa&&He(f.i,ee),B=wt.call(Nn,D)!==!1&&B}}return B&&!D.defaultPrevented}function _e(f,y,T){if(typeof f=="function")T&&(f=h(f,T));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function qn(f){f.g=_e(()=>{f.g=null,f.i&&(f.i=!1,qn(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Xi extends fe{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(f){fe.call(this),this.h=f,this.g={}}m(Kn,fe);var ye=[];function Fe(f){M(f.g,function(y,T){this.g.hasOwnProperty(T)&&mn(y)},f),f.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),Fe(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pt=a.JSON.stringify,ci=a.JSON.parse,ws=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Cd(){}Cd.prototype.h=null;function Fa(f){return f.h||(f.h=f.i())}function Va(){}var $a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ro(){re.call(this,"d")}m(Ro,re);function Pd(){re.call(this,"c")}m(Pd,re);var Do={},en=null;function Oi(){return en=en||new Xe}Do.La="serverreachability";function Np(f){re.call(this,Do.La,f)}m(Np,re);function bs(f){const y=Oi();ht(y,new Np(y))}Do.STAT_EVENT="statevent";function uc(f,y){re.call(this,Do.STAT_EVENT,f),this.stat=y}m(uc,re);function wn(f){const y=Oi();ht(y,new uc(y,f))}Do.Ma="timingevent";function Rd(f,y){re.call(this,Do.Ma,f),this.size=y}m(Rd,re);function Ba(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function dc(f,y,T,D,B,j){f.info(function(){if(f.g)if(j)for(var ee="",wt=j.split("&"),Nn=0;Nn<wt.length;Nn++){var Ze=wt[Nn].split("=");if(1<Ze.length){var Yn=Ze[0];Ze=Ze[1];var Qn=Yn.split("_");ee=2<=Qn.length&&Qn[1]=="type"?ee+(Yn+"="+Ze+"&"):ee+(Yn+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+y+`
`+T+`
`+ee})}function Lp(f,y,T,D,B,j,ee){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+y+`
`+T+`
`+j+" "+ee})}function Ao(f,y,T,D){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fp(f,T)+(D?" "+D:"")})}function Dd(f,y){f.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function Fp(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var D=T[f];if(!(2>D.length)){var B=D[1];if(Array.isArray(B)&&!(1>B.length)){var j=B[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<B.length;ee++)B[ee]=""}}}}return pt(T)}catch{return y}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ad={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fc;function za(){}m(za,Cd),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},fc=new za;function Ni(f,y,T,D){this.j=f,this.i=y,this.l=T,this.R=D||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vp}function Vp(){this.i=null,this.g="",this.h=!1}var ve={},F={};function X(f,y,T){f.L=1,f.v=jp(Mo(y)),f.m=T,f.P=!0,he(f,null)}function he(f,y){f.F=Date.now(),Ut(f),f.A=Mo(f.v);var T=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),$I(T.i,"t",D),f.C=0,T=f.j.J,f.h=new Vp,f.g=rk(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Xi(h(f.Y,f,f.g),f.O)),y=f.U,T=f.g,D=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(ye[0]=B.toString()),B=ye);for(var j=0;j<B.length;j++){var ee=lr(T,B[j],D||y.handleEvent,!1,y.h||y);if(!ee)break;y.g[ee.key]=ee}y=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),bs(),dc(f.i,f.u,f.A,f.l,f.R,f.m)}Ni.prototype.ca=function(f){f=f.target;const y=this.M;y&&Oo(f)==3?y.j():this.Y(f)},Ni.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=Oo(this.g);var y=this.g.Ba();const gc=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||qI(this.g)))){this.J||Qn!=4||y==7||(y==8||0>=gc?bs(3):bs(2)),Pr(this);var T=this.g.Z();this.X=T;t:if(_t(this)){var D=qI(this.g);f="";var B=D.length,j=Oo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Li(this);var ee="";break t}this.h.i=new a.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(D[y],{stream:!(j&&y==B-1)});D.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=T==200,Lp(this.i,this.u,this.A,this.l,this.R,Qn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,Nn=this.g;if((wt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(wt)){var Ze=wt;break t}}Ze=null}if(T=Ze)Ao(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hc(this,T);else{this.o=!1,this.s=3,wn(12),Mt(this),Li(this);break e}}if(this.P){T=!0;let Fi;for(;!this.J&&this.C<ee.length;)if(Fi=bn(this,ee),Fi==F){Qn==4&&(this.s=4,wn(14),T=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Fi==ve){this.s=4,wn(15),Ao(this.i,this.l,ee,"[Invalid Chunk]"),T=!1;break}else Ao(this.i,this.l,Fi,null),hc(this,Fi);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||ee.length!=0||this.h.h||(this.s=1,wn(16),T=!1),this.o=this.o&&T,!T)Ao(this.i,this.l,ee,"[Invalid Chunked Response]"),Mt(this),Li(this);else if(0<ee.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),G_(Yn),Yn.M=!0,wn(11))}}else Ao(this.i,this.l,ee,null),hc(this,ee);Qn==4&&Mt(this),this.o&&!this.J&&(Qn==4?ZI(this.j,this):(this.o=!1,Ut(this)))}else D3(this.g),T==400&&0<ee.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Mt(this),Li(this)}}}catch{}finally{}};function _t(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bn(f,y){var T=f.C,D=y.indexOf(`
`,T);return D==-1?F:(T=Number(y.substring(T,D)),isNaN(T)?ve:(D+=1,D+T>y.length?F:(y=y.slice(D,D+T),f.C=D+T,y)))}Ni.prototype.cancel=function(){this.J=!0,Mt(this)};function Ut(f){f.S=Date.now()+f.I,On(f,f.I)}function On(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ba(h(f.ba,f),y)}function Pr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Ni.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dd(this.i,this.A),this.L!=2&&(bs(),wn(17)),Mt(this),this.s=2,Li(this)):On(this,this.S-f)};function Li(f){f.j.G==0||f.J||ZI(f.j,f)}function Mt(f){Pr(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Fe(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function hc(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||U_(T.h,f))){if(!f.K&&U_(T.h,f)&&T.G==3){try{var D=T.Da.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Kp(T),Wp(T);else break e;K_(T),wn(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ba(h(T.Za,T),6e3));if(1>=RI(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ua(T,11)}else if((f.K||T.g==f)&&Kp(T),!w(y))for(B=T.Da.g.parse(y),y=0;y<B.length;y++){let Ze=B[y];if(T.T=Ze[0],Ze=Ze[1],T.G==2)if(Ze[0]=="c"){T.K=Ze[1],T.ia=Ze[2];const Yn=Ze[3];Yn!=null&&(T.la=Yn,T.j.info("VER="+T.la));const Qn=Ze[4];Qn!=null&&(T.Aa=Qn,T.j.info("SVER="+T.Aa));const gc=Ze[5];gc!=null&&typeof gc=="number"&&0<gc&&(D=1.5*gc,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Fi=f.g;if(Fi){const Yp=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yp){var j=D.h;j.g||Yp.indexOf("spdy")==-1&&Yp.indexOf("quic")==-1&&Yp.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(H_(j,j.h),j.h=null))}if(D.D){const Y_=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Y_&&(D.ya=Y_,St(D.I,D.D,Y_))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var ee=f;if(D.qa=nk(D,D.J?D.ia:null,D.W),ee.K){DI(D.h,ee);var wt=ee,Nn=D.L;Nn&&(wt.I=Nn),wt.B&&(Pr(wt),Ut(wt)),D.g=ee}else JI(D);0<T.i.length&&qp(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ua(T,7);else T.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ua(T,7):q_(T):Ze[0]!="noop"&&T.l&&T.l.ta(Ze),T.v=0)}}bs(4)}catch{}}var $p=class{constructor(f,y){this.g=f,this.map=y}};function CI(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function PI(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function RI(f){return f.h?1:f.g?f.g.size:0}function U_(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function H_(f,y){f.g?f.g.add(y):f.h=y}function DI(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}CI.prototype.cancel=function(){if(this.i=AI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function AI(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return g(f.i)}function g3(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var y=[],T=f.length,D=0;D<T;D++)y.push(f[D]);return y}y=[],T=0;for(D in f)y[T++]=f[D];return y}function y3(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const D in f)y[T++]=D;return y}}}function MI(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=y3(f),D=g3(f),B=D.length,j=0;j<B;j++)y.call(void 0,D[j],T&&T[j],f)}var OI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v3(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var D=f[T].indexOf("="),B=null;if(0<=D){var j=f[T].substring(0,D);B=f[T].substring(D+1)}else j=f[T];y(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ja(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ja){this.h=f.h,Bp(this,f.j),this.o=f.o,this.g=f.g,zp(this,f.s),this.l=f.l;var y=f.i,T=new Nd;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),NI(this,T),this.m=f.m}else f&&(y=String(f).match(OI))?(this.h=!1,Bp(this,y[1]||"",!0),this.o=Md(y[2]||""),this.g=Md(y[3]||"",!0),zp(this,y[4]),this.l=Md(y[5]||"",!0),NI(this,y[6]||"",!0),this.m=Md(y[7]||"")):(this.h=!1,this.i=new Nd(null,this.h))}ja.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Od(y,LI,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Od(y,LI,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Od(T,T.charAt(0)=="/"?b3:w3,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Od(T,S3)),f.join("")};function Mo(f){return new ja(f)}function Bp(f,y,T){f.j=T?Md(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function zp(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function NI(f,y,T){y instanceof Nd?(f.i=y,T3(f.i,f.h)):(T||(y=Od(y,E3)),f.i=new Nd(y,f.h))}function St(f,y,T){f.i.set(y,T)}function jp(f){return St(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Md(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Od(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,_3),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _3(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var LI=/[#\/\?@]/g,w3=/[#\?:]/g,b3=/[#\?]/g,E3=/[#\?@]/g,S3=/#/g;function Nd(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Es(f){f.g||(f.g=new Map,f.h=0,f.i&&v3(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Nd.prototype,n.add=function(f,y){Es(this),this.i=null,f=pc(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function FI(f,y){Es(f),y=pc(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function VI(f,y){return Es(f),y=pc(f,y),f.g.has(y)}n.forEach=function(f,y){Es(this),this.g.forEach(function(T,D){T.forEach(function(B){f.call(y,B,D,this)},this)},this)},n.na=function(){Es(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let D=0;D<y.length;D++){const B=f[D];for(let j=0;j<B.length;j++)T.push(y[D])}return T},n.V=function(f){Es(this);let y=[];if(typeof f=="string")VI(this,f)&&(y=y.concat(this.g.get(pc(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return Es(this),this.i=null,f=pc(this,f),VI(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function $I(f,y,T){FI(f,y),0<T.length&&(f.i=null,f.g.set(pc(f,y),g(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var D=y[T];const j=encodeURIComponent(String(D)),ee=this.V(D);for(D=0;D<ee.length;D++){var B=j;ee[D]!==""&&(B+="="+encodeURIComponent(String(ee[D]))),f.push(B)}}return this.i=f.join("&")};function pc(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function T3(f,y){y&&!f.j&&(Es(f),f.i=null,f.g.forEach(function(T,D){var B=D.toLowerCase();D!=B&&(FI(this,D),$I(this,B,T))},f)),f.j=y}function x3(f,y){const T=new Gn;if(a.Image){const D=new Image;D.onload=p(Ss,T,"TestLoadImage: loaded",!0,y,D),D.onerror=p(Ss,T,"TestLoadImage: error",!1,y,D),D.onabort=p(Ss,T,"TestLoadImage: abort",!1,y,D),D.ontimeout=p(Ss,T,"TestLoadImage: timeout",!1,y,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else y(!1)}function I3(f,y){const T=new Gn,D=new AbortController,B=setTimeout(()=>{D.abort(),Ss(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:D.signal}).then(j=>{clearTimeout(B),j.ok?Ss(T,"TestPingServer: ok",!0,y):Ss(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Ss(T,"TestPingServer: error",!1,y)})}function Ss(f,y,T,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(T)}catch{}}function k3(){this.g=new ws}function C3(f,y,T){const D=T||"";try{MI(f,function(B,j){let ee=B;c(B)&&(ee=pt(B)),y.push(D+j+"="+encodeURIComponent(ee))})}catch(B){throw y.push(D+"type="+encodeURIComponent("_badmap")),B}}function Ld(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Ld,Cd),Ld.prototype.g=function(){return new Up(this.l,this.j)},Ld.prototype.i=function(f){return function(){return f}}({});function Up(f,y){Xe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Up,Xe),n=Up.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Vd(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fd(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BI(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function BI(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Fd(this):Vd(this),this.readyState==3&&BI(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Fd(this))},n.Qa=function(f){this.g&&(this.response=f,Fd(this))},n.ga=function(){this.g&&Fd(this)};function Fd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Vd(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function Vd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Up.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zI(f){let y="";return M(f,function(T,D){y+=D,y+=":",y+=T,y+=`\r
`}),y}function W_(f,y,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=zI(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):St(f,y,T))}function Ht(f){Xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ht,Xe);var P3=/^https?$/i,R3=["POST","PUT"];n=Ht.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fc.g(),this.v=this.o?Fa(this.o):Fa(fc),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(j){jI(this,j);return}if(f=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)T.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const j of D.keys())T.set(j,D.get(j));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(j=>j.toLowerCase()=="content-type"),B=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(R3,y,void 0))||D||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of T)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WI(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){jI(this,j)}};function jI(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,UI(f),Hp(f)}function UI(f){f.A||(f.A=!0,ht(f,"complete"),ht(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ht(this,"complete"),ht(this,"abort"),Hp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hp(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?HI(this):this.bb())},n.bb=function(){HI(this)};function HI(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Oo(f)!=4||f.Z()!=2)){if(f.u&&Oo(f)==4)_e(f.Ea,0,f);else if(ht(f,"readystatechange"),Oo(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var D;if(D=ee===0){var B=String(f.D).match(OI)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),D=!P3.test(B?B.toLowerCase():"")}T=D}if(T)ht(f,"complete"),ht(f,"success");else{f.m=6;try{var j=2<Oo(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",UI(f)}}finally{Hp(f)}}}}function Hp(f,y){if(f.g){WI(f);const T=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||ht(f,"ready");try{T.onreadystatechange=D}catch{}}}function WI(f){f.I&&(a.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Oo(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Oo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ci(y)}};function qI(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function D3(f){const y={};f=(f.g&&2<=Oo(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(w(f[D]))continue;var T=A(f[D]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const j=y[B]||[];y[B]=j,j.push(T)}S(y,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $d(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function KI(f){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$d("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$d("baseRetryDelayMs",5e3,f),this.cb=$d("retryDelaySeedMs",1e4,f),this.Wa=$d("forwardChannelMaxRetries",2,f),this.wa=$d("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new CI(f&&f.concurrentRequestLimit),this.Da=new k3,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=KI.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,D){wn(0),this.W=f,this.H=y||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=nk(this,null,this.W),qp(this)};function q_(f){if(GI(f),f.G==3){var y=f.U++,T=Mo(f.I);if(St(T,"SID",f.K),St(T,"RID",y),St(T,"TYPE","terminate"),Bd(f,T),y=new Ni(f,f.j,y),y.L=2,y.v=jp(Mo(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=rk(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ut(y)}tk(f)}function Wp(f){f.g&&(G_(f),f.g.cancel(),f.g=null)}function GI(f){Wp(f),f.u&&(a.clearTimeout(f.u),f.u=null),Kp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function qp(f){if(!PI(f.h)&&!f.s){f.s=!0;var y=f.Ga;q||Z(),V||(q(),V=!0),G.add(y,f),f.B=0}}function A3(f,y){return RI(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ba(h(f.Ga,f,y),ek(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new Ni(this,this.j,f);let j=this.o;if(this.S&&(j?(j=E(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(B.H=j,j=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=QI(this,B,y),T=Mo(this.I),St(T,"RID",f),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),Bd(this,T),j&&(this.O?y="headers="+encodeURIComponent(String(zI(j)))+"&"+y:this.m&&W_(T,this.m,j)),H_(this.h,B),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",y),St(T,"SID","null"),B.T=!0,X(B,T,null)):X(B,T,y),this.G=2}}else this.G==3&&(f?YI(this,f):this.i.length==0||PI(this.h)||YI(this))};function YI(f,y){var T;y?T=y.l:T=f.U++;const D=Mo(f.I);St(D,"SID",f.K),St(D,"RID",T),St(D,"AID",f.T),Bd(f,D),f.m&&f.o&&W_(D,f.m,f.o),T=new Ni(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=QI(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),H_(f.h,T),X(T,D,y)}function Bd(f,y){f.H&&M(f.H,function(T,D){St(y,D,T)}),f.l&&MI({},function(T,D){St(y,D,T)})}function QI(f,y,T){T=Math.min(f.i.length,T);var D=f.l?h(f.l.Na,f.l,f):null;e:{var B=f.i;let j=-1;for(;;){const ee=["count="+T];j==-1?0<T?(j=B[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let wt=!0;for(let Nn=0;Nn<T;Nn++){let Ze=B[Nn].g;const Yn=B[Nn].map;if(Ze-=j,0>Ze)j=Math.max(0,B[Nn].g-100),wt=!1;else try{C3(Yn,ee,"req"+Ze+"_")}catch{D&&D(Yn)}}if(wt){D=ee.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,D}function JI(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;q||Z(),V||(q(),V=!0),G.add(y,f),f.v=0}}function K_(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ba(h(f.Fa,f),ek(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,XI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ba(h(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Wp(this),XI(this))};function G_(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function XI(f){f.g=new Ni(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Mo(f.qa);St(y,"RID","rpc"),St(y,"SID",f.K),St(y,"AID",f.T),St(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&St(y,"TO",f.ja),St(y,"TYPE","xmlhttp"),Bd(f,y),f.m&&f.o&&W_(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=jp(Mo(y)),T.m=null,T.P=!0,he(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Wp(this),K_(this),wn(19))};function Kp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ZI(f,y){var T=null;if(f.g==y){Kp(f),G_(f),f.g=null;var D=2}else if(U_(f.h,y))T=y.D,DI(f.h,y),D=1;else return;if(f.G!=0){if(y.o)if(D==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;D=Oi(),ht(D,new Rd(D,T)),qp(f)}else JI(f);else if(B=y.s,B==3||B==0&&0<y.X||!(D==1&&A3(f,y)||D==2&&K_(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),B){case 1:Ua(f,5);break;case 4:Ua(f,10);break;case 3:Ua(f,6);break;default:Ua(f,2)}}}function ek(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function Ua(f,y){if(f.j.info("Error code "+y),y==2){var T=h(f.fb,f),D=f.Xa;const B=!D;D=new ja(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bp(D,"https"),jp(D),B?x3(D.toString(),T):I3(D.toString(),T)}else wn(2);f.G=0,f.l&&f.l.sa(y),tk(f),GI(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function tk(f){if(f.G=0,f.ka=[],f.l){const y=AI(f.h);(y.length!=0||f.i.length!=0)&&(_(f.ka,y),_(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function nk(f,y,T){var D=T instanceof ja?Mo(T):new ja(T);if(D.g!="")y&&(D.g=y+"."+D.g),zp(D,D.s);else{var B=a.location;D=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var j=new ja(null);D&&Bp(j,D),y&&(j.g=y),B&&zp(j,B),T&&(j.l=T),D=j}return T=f.D,y=f.ya,T&&y&&St(D,T,y),St(D,"VER",f.la),Bd(f,D),D}function rk(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ht(new Ld({eb:T})):new Ht(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ik(){}n=ik.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gp(){}Gp.prototype.g=function(f,y){return new Ur(f,y)};function Ur(f,y){Xe.call(this),this.g=new KI(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!w(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new mc(this)}m(Ur,Xe),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){q_(this.g)},Ur.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=pt(f),f=T);y.i.push(new $p(y.Ya++,f)),y.G==3&&qp(y)},Ur.prototype.N=function(){this.g.l=null,delete this.j,q_(this.g),delete this.g,Ur.aa.N.call(this)};function ok(f){Ro.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m(ok,Ro);function sk(){Pd.call(this),this.status=1}m(sk,Pd);function mc(f){this.g=f}m(mc,ik),mc.prototype.ua=function(){ht(this.g,"a")},mc.prototype.ta=function(f){ht(this.g,new ok(f))},mc.prototype.sa=function(f){ht(this.g,new sk)},mc.prototype.ra=function(){ht(this.g,"b")},Gp.prototype.createWebChannel=Gp.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,j2=function(){return new Gp},z2=function(){return Oi()},B2=Do,Ab={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,ig=Cr,Ad.COMPLETE="complete",$2=Ad,Va.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Tf=Va,V2=Ld,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,F2=Ht}).apply(typeof gm<"u"?gm:typeof self<"u"?self:typeof window<"u"?window:{});const FC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new JS("@firebase/firestore");function Mc(){return Fl.logLevel}function Q(n,...e){if(Fl.logLevel<=ze.DEBUG){const t=e.map(eT);Fl.debug(`Firestore (${ld}): ${n}`,...t)}}function pr(n,...e){if(Fl.logLevel<=ze.ERROR){const t=e.map(eT);Fl.error(`Firestore (${ld}): ${n}`,...t)}}function Vl(n,...e){if(Fl.logLevel<=ze.WARN){const t=e.map(eT);Fl.warn(`Firestore (${ld}): ${n}`,...t)}}function eT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(n="Unexpected state"){const e=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function we(n,e){n||me()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dr.UNAUTHENTICATED))}shutdown(){}}class WU{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let o=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qi)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new UU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new dr(e)}}class qU{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KU{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qU(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string"),this.R=t.token,new GU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(n,e){return n<e?-1:n>e?1:0}function Ru(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function H2(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(),r===void 0?r=e.length-t:r>e.length-t&&me(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ph.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ph?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends Ph{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const JU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ph{construct(e,t,r){return new Nt(e,t,r)}static isValidIdentifier(e){return JU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(rt.fromString(e))}static fromName(e){return new ie(rt.fromString(e).popFirst(5))}static empty(){return new ie(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Mb(n){return n.fields.find(e=>e.kind===2)}function Ya(n){return n.fields.filter(e=>e.kind!==2)}cy.UNKNOWN_ID=-1;class og{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rh(0,ni.min())}}function XU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new ni(i,ie.empty(),e)}function W2(n){return new ni(n.readTime,n.key,-1)}class ni{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ni(be.min(),ie.empty(),-1)}static max(){return new ni(be.max(),ie.empty(),-1)}}function tT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==q2)throw n;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new qi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wf(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=nT(r.target.error);this.V.reject(new Wf(e,i))}}static open(e,t,r,i){try{return new Zv(t,e.transaction(i,r))}catch(o){throw new Wf(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new e9(t)}}class ca{constructor(e,t,r){this.name=e,this.version=t,this.p=r,ca.S(fn())===12.2&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),el(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!R2())return!1;if(ca.C())return!0;const e=fn(),t=ca.S(e),r=0<t&&t<10,i=G2(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;t(s)},i.onblocked=()=>{r(new Wf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new te(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new te(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Wf(e,s))},i.onupgradeneeded=o=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=Zv.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function G2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class ZU{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return el(this.B.delete())}}class Wf extends te{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ra(n){return n.name==="IndexedDbTransactionError"}class e9{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Q("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),el(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),el(this.store.add(e))}get(e){return el(this.store.get(e)).next(t=>(t===void 0&&(t=null),Q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),el(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),el(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new z((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new z((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new z((r,i)=>{t.onerror=o=>{const s=nT(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new z((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new ZU(a),c=t(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>z.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function el(n){return new z((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=nT(r.target.error);t(i)}})}let VC=!1;function nT(n){const e=ca.S(fn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VC||(VC=!0,setTimeout(()=>{throw r},0)),r}}return n}class t9{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Q("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){Ra(t)?Q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await rc(t)}await this.X(6e4)})}}class n9{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,o=!0;return z.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return Q("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(Q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=W2(o);tT(s,r)>0&&(r=s)}),new ni(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wi.oe=-1;function e0(n){return n==null}function Dh(n){return n===0&&1/n==-1/0}function r9(n){return typeof n=="number"&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$C(e)),e=i9(n.get(t),e);return $C(e)}function i9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function $C(n){return n+""}function uo(n){const e=n.length;if(we(e>=2),e===2)return we(n.charAt(0)===""&&n.charAt(1)===""),rt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("",o);switch((s<0||s>t)&&me(),n.charAt(s+1)){case"":const a=n.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:me()}o=s+2}return new rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n,e){return[n,_r(e)]}function Y2(n,e,t){return[n,_r(e),t]}const o9={},s9=["prefixPath","collectionGroup","readTime","documentId"],a9=["prefixPath","collectionGroup","documentId"],l9=["collectionGroup","readTime","prefixPath","documentId"],c9=["canonicalId","targetId"],u9=["targetId","path"],d9=["path","targetId"],f9=["collectionId","parent"],h9=["indexId","uid"],p9=["uid","sequenceNumber"],m9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g9=["indexId","uid","orderedDocumentKey"],y9=["userId","collectionPath","documentId"],v9=["userId","collectionPath","largestBatchId"],_9=["userId","collectionGroup","largestBatchId"],Q2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w9=[...Q2,"documentOverlays"],J2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X2=J2,Z2=[...X2,"indexConfiguration","indexState","indexEntries"],b9=Z2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends K2{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Dn(n,e){const t=Pe(n);return ca.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ym(this.root,e,this.comparator,!0)}}class ym{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new $n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,t,r,i,o){return this}insert(e,t,r){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jC(this.data.getIterator())}getIteratorFrom(e){return new jC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class jC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new mt(Nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tL("Invalid base64 string: "+o):o}}(e);return new Wn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const E9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(n){if(we(!!n),typeof n=="string"){let e=0;const t=E9.exec(n);if(we(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(n.seconds),nanos:Gt(n.nanos)}}function Gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?Wn.fromBase64String(n):Wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function iT(n){const e=n.mapValue.fields.__previous_value__;return rT(e)?iT(e):e}function Ah(n){const e=ss(n.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ag={nullValue:"NULL_VALUE"};function Bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rT(n)?4:nL(n)?9007199254740991:10:me()}function So(n,e){if(n===e)return!0;const t=Bl(n);if(t!==Bl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ah(n).isEqual(Ah(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ss(i.timestampValue),a=ss(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _a(i.bytesValue).isEqual(_a(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Gt(i.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Gt(i.integerValue)===Gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gt(i.doubleValue),a=Gt(o.doubleValue);return s===a?Dh(s)===Dh(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ru(n.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zC(s)!==zC(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!So(s[l],a[l])))return!1;return!0}(n,e);default:return me()}}function Mh(n,e){return(n.values||[]).find(t=>So(t,e))!==void 0}function wa(n,e){if(n===e)return 0;const t=Bl(n),r=Bl(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gt(o.integerValue||o.doubleValue),l=Gt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return UC(n.timestampValue,e.timestampValue);case 4:return UC(Ah(n),Ah(e));case 5:return Re(n.stringValue,e.stringValue);case 6:return function(o,s){const a=_a(o),l=_a(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Re(Gt(o.latitude),Gt(s.latitude));return a!==0?a:Re(Gt(o.longitude),Gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=wa(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===qs.mapValue&&s===qs.mapValue)return 0;if(o===qs.mapValue)return 1;if(s===qs.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=wa(a[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(n.mapValue,e.mapValue);default:throw me()}}function UC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=ss(n),r=ss(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function Du(n){return Nb(n)}function Nb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ss(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _a(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Nb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Nb(t.fields[s])}`;return i+"}"}(n.mapValue):me()}function Oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lb(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function HC(n){return!!n&&"nullValue"in n}function WC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lg(n){return!!n&&"mapValue"in n}function qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ic(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function T9(n){return"nullValue"in n?ag:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Oh($l.empty(),ie.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:me()}function x9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Oh($l.empty(),ie.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qs:me()}function qC(n,e){const t=wa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function KC(n,e){const t=wa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=qf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ic(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rr(qf(this.value))}}function rL(n){const e=[];return ic(n.fields,(t,r)=>{const i=new Nt([t]);if(lg(r)){const o=rL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,be.min(),be.min(),be.min(),rr.empty(),0)}static newFoundDocument(e,t,r,i){return new Qt(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new Qt(e,2,t,be.min(),be.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,be.min(),be.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.position=e,this.inclusive=t}}function GC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=wa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!So(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t="asc"){this.field=e,this.dir=t}}function I9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{}class je extends iL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new k9(e,t,r):t==="array-contains"?new R9(e,r):t==="in"?new uL(e,r):t==="not-in"?new D9(e,r):t==="array-contains-any"?new A9(e,r):new je(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C9(e,r):new P9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wa(t,this.value)):t!==null&&Bl(this.value)===Bl(t)&&this.matchesComparison(wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends iL{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ct(e,t)}matches(e){return Mu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mu(n){return n.op==="and"}function Fb(n){return n.op==="or"}function oT(n){return oL(n)&&Mu(n)}function oL(n){for(const e of n.filters)if(e instanceof ct)return!1;return!0}function Vb(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Du(n.value);if(oT(n))return n.filters.map(e=>Vb(e)).join(",");{const e=n.filters.map(t=>Vb(t)).join(",");return`${n.op}(${e})`}}function sL(n,e){return n instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&So(r.value,i.value)}(n,e):n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&sL(s,i.filters[a]),!0):!1}(n,e):void me()}function aL(n,e){const t=n.filters.concat(e);return ct.create(t,n.op)}function lL(n){return n instanceof je?function(t){return`${t.field.canonicalString()} ${t.op} ${Du(t.value)}`}(n):n instanceof ct?function(t){return t.op.toString()+" {"+t.getFilters().map(lL).join(" ,")+"}"}(n):"Filter"}class k9 extends je{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){const t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class C9 extends je{constructor(e,t){super(e,"in",t),this.keys=cL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class P9 extends je{constructor(e,t){super(e,"not-in",t),this.keys=cL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}class R9 extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nh(t)&&Mh(t.arrayValue,this.value)}}class uL extends je{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mh(this.value.arrayValue,t)}}class D9 extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Mh(this.value.arrayValue,t)}}class A9 extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function $b(n,e=null,t=[],r=[],i=null,o=null,s=null){return new M9(n,e,t,r,i,o,s)}function zl(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),e0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Du(r)).join(",")),e.ue=t}return e.ue}function lp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YC(n.startAt,e.startAt)&&YC(n.endAt,e.endAt)}function dy(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function fy(n,e){return n.filters.filter(t=>t instanceof je&&t.field.isEqual(e))}function QC(n,e,t){let r=ag,i=!0;for(const o of fy(n,e)){let s=ag,a=!0;switch(o.op){case"<":case"<=":s=T9(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=ag}qC({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];qC({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function JC(n,e,t){let r=qs,i=!0;for(const o of fy(n,e)){let s=qs,a=!0;switch(o.op){case">=":case">":s=x9(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=qs}KC({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];KC({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O9(n,e,t,r,i,o,s,a){return new cp(n,e,t,r,i,o,s,a)}function t0(n){return new cp(n)}function XC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dL(n){return n.collectionGroup!==null}function Kf(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(Nt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new uy(o,r))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new uy(Nt.keyField(),r))}return e.ce}function Si(n){const e=Pe(n);return e.le||(e.le=N9(e,Kf(n))),e.le}function N9(n,e){if(n.limitType==="F")return $b(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new uy(i.field,o)});const t=n.endAt?new Au(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Au(n.startAt.position,n.startAt.inclusive):null;return $b(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bb(n,e){const t=n.filters.concat([e]);return new cp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zb(n,e,t){return new cp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n0(n,e){return lp(Si(n),Si(e))&&n.limitType===e.limitType}function fL(n){return`${zl(Si(n))}|lt:${n.limitType}`}function Oc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lL(i)).join(", ")}]`),e0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Du(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Du(i)).join(",")),`Target(${r})`}(Si(n))}; limitType=${n.limitType})`}function up(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Kf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=GC(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Kf(r),i)||r.endAt&&!function(s,a,l){const c=GC(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Kf(r),i))}(n,e)}function L9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hL(n){return(e,t)=>{let r=!1;for(const i of Kf(n)){const o=F9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function F9(n,e,t){const r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?wa(l,c):me()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Rt(ie.comparator);function Qr(){return V9}const pL=new Rt(ie.comparator);function xf(...n){let e=pL;for(const t of n)e=e.insert(t.key,t);return e}function mL(n){let e=pL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fo(){return Gf()}function gL(){return Gf()}function Gf(){return new Da(n=>n.toString(),(n,e)=>n.isEqual(e))}const $9=new Rt(ie.comparator),B9=new mt(ie.comparator);function Ne(...n){let e=B9;for(const t of n)e=e.add(t);return e}const z9=new mt(Re);function j9(){return z9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function vL(n){return{integerValue:""+n}}function U9(n,e){return r9(e)?vL(e):yL(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this._=void 0}}function H9(n,e,t){return n instanceof Lh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rT(o)&&(o=iT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ou?wL(n,e):n instanceof Nu?bL(n,e):function(i,o){const s=_L(i,o),a=ZC(s)+ZC(i.Pe);return Lb(s)&&Lb(i.Pe)?vL(a):yL(i.serializer,a)}(n,e)}function W9(n,e,t){return n instanceof Ou?wL(n,e):n instanceof Nu?bL(n,e):t}function _L(n,e){return n instanceof Fh?function(r){return Lb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Lh extends r0{}class Ou extends r0{constructor(e){super(),this.elements=e}}function wL(n,e){const t=EL(e);for(const r of n.elements)t.some(i=>So(i,r))||t.push(r);return{arrayValue:{values:t}}}class Nu extends r0{constructor(e){super(),this.elements=e}}function bL(n,e){let t=EL(e);for(const r of n.elements)t=t.filter(i=>!So(i,r));return{arrayValue:{values:t}}}class Fh extends r0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ZC(n){return Gt(n.integerValue||n.doubleValue)}function EL(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,t){this.field=e,this.transform=t}}function K9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ou&&i instanceof Ou||r instanceof Nu&&i instanceof Nu?Ru(r.elements,i.elements,So):r instanceof Fh&&i instanceof Fh?So(r.Pe,i.Pe):r instanceof Lh&&i instanceof Lh}(n.transform,e.transform)}class G9{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class i0{}function SL(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new o0(n.key,mr.none()):new cd(n.key,n.data,mr.none());{const t=n.data,r=rr.empty();let i=new mt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ys(n.key,r,new Mr(i.toArray()),mr.none())}}function Y9(n,e,t){n instanceof cd?function(i,o,s){const a=i.value.clone(),l=tP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ys?function(i,o,s){if(!cg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=tP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(TL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Yf(n,e,t,r){return n instanceof cd?function(o,s,a,l){if(!cg(o.precondition,s))return a;const c=o.value.clone(),u=nP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ys?function(o,s,a,l){if(!cg(o.precondition,s))return a;const c=nP(o.fieldTransforms,l,s),u=s.data;return u.setAll(TL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(o,s,a){return cg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Q9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=_L(r.transform,i||null);o!=null&&(t===null&&(t=rr.empty()),t.set(r.field,o))}return t||null}function eP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ru(r,i,(o,s)=>K9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cd extends i0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends i0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function TL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tP(n,e,t){const r=new Map;we(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,W9(s,a,t[i]))}return r}function nP(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,H9(o,s,e))}return r}class o0 extends i0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xL extends i0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Y9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=SL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(t,r)=>eP(t,r))&&Ru(this.baseMutations,e.baseMutations,(t,r)=>eP(t,r))}}class aT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length);let i=function(){return $9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new aT(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,Ke;function X9(n){switch(n){default:return me();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function IL(n){if(n===void 0)return pr("GRPC error has no .code"),W.UNKNOWN;switch(n){case ln.OK:return W.OK;case ln.CANCELLED:return W.CANCELLED;case ln.UNKNOWN:return W.UNKNOWN;case ln.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ln.INTERNAL:return W.INTERNAL;case ln.UNAVAILABLE:return W.UNAVAILABLE;case ln.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ln.NOT_FOUND:return W.NOT_FOUND;case ln.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ln.ABORTED:return W.ABORTED;case ln.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ln.DATA_LOSS:return W.DATA_LOSS;default:return me()}}(Ke=ln||(ln={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new _l([4294967295,4294967295],0);function rP(n){const e=Z9().encode(n),t=new L2;return t.update(e),new Uint8Array(t.digest())}function iP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _l([t,r],0),new _l([i,o],0)]}class cT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new If(`Invalid padding: ${t}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new If(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_l.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(_l.fromNumber(r)));return i.compare(eH)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=rP(e),[r,i]=iP(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cT(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const t=rP(e),[r,i]=iP(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new s0(be.min(),i,new Rt(Re),Qr(),Ne())}}class dp{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dp(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class kL{constructor(e,t){this.targetId=e,this.me=t}}class CL{constructor(e,t,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oP{constructor(){this.fe=0,this.ge=aP(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ne(),t=Ne(),r=Ne();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:me()}}),new dp(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=aP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=sP(),this.Qe=new Rt(Re)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(dy(o))if(r===0){const s=new ie(o.path);this.Ue(t,s,Qt.newNoDocument(s,be.min()))}else we(r===1);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=_a(r).toUint8Array()}catch(l){if(l instanceof tL)return Vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cT(s,i,o)}catch(l){return Vl(l instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&dy(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Qt.newNoDocument(l,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=Ne();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new s0(e,t,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=sP(),this.Qe=new Rt(Re),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new oP,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(Re),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oP),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sP(){return new Rt(ie.comparator)}function aP(){return new Rt(ie.comparator)}const nH={asc:"ASCENDING",desc:"DESCENDING"},rH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iH={and:"AND",or:"OR"};class oH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jb(n,e){return n.useProto3Json||e0(e)?e:{value:e}}function Lu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sH(n,e){return Lu(n,e.toTimestamp())}function wr(n){return we(!!n),be.fromTimestamp(function(t){const r=ss(t);return new Vt(r.seconds,r.nanos)}(n))}function uT(n,e){return Ub(n,e).canonicalString()}function Ub(n,e){const t=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RL(n){const e=rt.fromString(n);return we($L(e)),e}function hy(n,e){return uT(n.databaseId,e.path)}function wl(n,e){const t=RL(e);if(t.get(1)!==n.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(ML(t))}function DL(n,e){return uT(n.databaseId,e)}function AL(n){const e=RL(n);return e.length===4?rt.emptyPath():ML(e)}function Hb(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ML(n){return we(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function lP(n,e,t){return{name:hy(n,e),fields:t.value.mapValue.fields}}function aH(n,e,t){const r=wl(n,e.name),i=wr(e.updateTime),o=e.createTime?wr(e.createTime):be.min(),s=new rr({mapValue:{fields:e.fields}}),a=Qt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function lH(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(we(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?W.UNKNOWN:IL(c.code);return new te(u,c.message||"")}(s);t=new CL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wl(n,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):be.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new ug(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wl(n,r.document),o=r.readTime?wr(r.readTime):be.min(),s=Qt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ug([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wl(n,r.document),o=r.removedTargetIds||[];t=new ug([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new J9(i,o),a=r.targetId;t=new kL(a,s)}}return t}function py(n,e){let t;if(e instanceof cd)t={update:lP(n,e.key,e.value)};else if(e instanceof o0)t={delete:hy(n,e.key)};else if(e instanceof ys)t={update:lP(n,e.key,e.data),updateMask:pH(e.fieldMask)};else{if(!(e instanceof xL))return me();t={verify:hy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Lh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ou)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:sH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me()}(n,e.precondition)),t}function Wb(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?mr.updateTime(wr(o.updateTime)):o.exists!==void 0?mr.exists(o.exists):mr.none()}(e.currentDocument):mr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME"),l=new Lh;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Ou(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Nu(u)}else"increment"in a?l=new Fh(s,a.increment):me();const c=Nt.fromServerFormat(a.fieldPath);return new q9(c,l)}(n,i)):[];if(e.update){e.update.name;const i=wl(n,e.update.name),o=new rr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Mr(c.map(u=>Nt.fromServerFormat(u)))}(e.updateMask);return new ys(i,o,s,t,r)}return new cd(i,o,t,r)}if(e.delete){const i=wl(n,e.delete);return new o0(i,t)}if(e.verify){const i=wl(n,e.verify);return new xL(i,t)}return me()}function cH(n,e){return n&&n.length>0?(we(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?wr(i.updateTime):wr(o);return s.isEqual(be.min())&&(s=wr(o)),new G9(s,i.transformResults||[])}(t,e))):[]}function OL(n,e){return{documents:[DL(n,e.path)]}}function NL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DL(n,i);const o=function(c){if(c.length!==0)return VL(ct.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Nc(h.field),direction:dH(h.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=jb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function LL(n){let e=AL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){we(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const h=FL(d);return h instanceof ct&&oT(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(d){return d.map(h=>function(m){return new uy(Lc(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(t.orderBy));let a=null;t.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,e0(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Au(p,h)}(t.startAt));let c=null;return t.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Au(p,h)}(t.endAt)),O9(e,i,s,o,a,"F",l,c)}function uH(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FL(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lc(t.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lc(t.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lc(t.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Lc(t.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(n):n.fieldFilter!==void 0?function(t){return je.create(Lc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ct.create(t.compositeFilter.filters.map(r=>FL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(t.compositeFilter.op))}(n):me()}function dH(n){return nH[n]}function fH(n){return rH[n]}function hH(n){return iH[n]}function Nc(n){return{fieldPath:n.canonicalString()}}function Lc(n){return Nt.fromServerFormat(n.fieldPath)}function VL(n){return n instanceof je?function(t){if(t.op==="=="){if(WC(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NAN"}};if(HC(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WC(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NAN"}};if(HC(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(t.field),op:fH(t.op),value:t.value}}}(n):n instanceof ct?function(t){const r=t.getFilters().map(i=>VL(i));return r.length===1?r[0]:{compositeFilter:{op:hH(t.op),filters:r}}}(n):me()}function pH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $L(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t,r,i,o=be.min(),s=be.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.ct=e}}function mH(n,e){let t;if(e.document)t=aH(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ie.fromSegments(e.noDocument.path),i=Ul(e.noDocument.readTime);t=Qt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me();{const r=ie.fromSegments(e.unknownDocument.path),i=Ul(e.unknownDocument.version);t=Qt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Vt(i[0],i[1]);return be.fromTimestamp(o)}(e.readTime)),t}function cP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:my(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:hy(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Lu(o,s.version.toTimestamp()),createTime:Lu(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:jl(e.version)};else{if(!e.isUnknownDocument())return me();r.unknownDocument={path:t.path.toArray(),version:jl(e.version)}}return r}function my(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ul(n){const e=new Vt(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function tl(n,e){const t=(e.baseMutations||[]).map(o=>Wb(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Wb(n.ct,o)),i=Vt.fromMillis(e.localWriteTimeMs);return new sT(e.batchId,i,t,r)}function kf(n){const e=Ul(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ul(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return we(o.documents.length===1),Si(t0(AL(o.documents[0])))}(n.query):function(o){return Si(LL(o))}(n.query),new Uo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Wn.fromBase64String(n.resumeToken))}function zL(n,e){const t=jl(e.snapshotVersion),r=jl(e.lastLimboFreeSnapshotVersion);let i;i=dy(e.target)?OL(n.ct,e.target):NL(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jL(n){const e=LL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zb(e,e.limit,"L"):e}function Pw(n,e){return new lT(e.largestBatchId,Wb(n.ct,e.overlayMutation))}function uP(n,e){const t=e.path.lastSegment();return[n,_r(e.path.popLast()),t]}function dP(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:jl(r.readTime),documentKey:_r(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{getBundleMetadata(e,t){return fP(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ul(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return fP(e).put(function(i){return{bundleId:i.id,createTime:jl(wr(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return hP(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:jL(o.bundledQuery),readTime:Ul(o.readTime)}}(r)})}saveNamedQuery(e,t){return hP(e).put(function(i){return{name:i.name,readTime:jl(wr(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function fP(n){return Dn(n,"bundles")}function hP(n){return Dn(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const r=t.uid||"";return new a0(e,r)}getOverlay(e,t){return Yd(e).get(uP(this.userId,t)).next(r=>r?Pw(this.serializer,r):null)}getOverlays(e,t){const r=fo();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new lT(t,s);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(_r(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Yd(e).j("collectionPathOverlayIndex",a))}),z.waitFor(o)}getOverlaysForCollection(e,t,r){const i=fo(),o=_r(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Yd(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=Pw(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=fo();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yd(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=Pw(this.serializer,c);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}ht(e,t){return Yd(e).put(function(i,o,s){const[a,l,c]=uP(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:py(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function Yd(n){return Dn(n,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Gt(e.integerValue));else if("doubleValue"in e){const r=Gt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Dh(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=ss(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(_a(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?nL(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):me()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),ie.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}nl.bt=new nl;function yH(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function pP(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=yH(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}class vH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=pP(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=pP(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;t===0?(this.Kt(0),this.Kt(255)):t===255?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class _H{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class wH{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Qd{constructor(){this.Gt=new vH,this.zt=new _H(this.Gt),this.jt=new wH(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rl(this.indexId,this.documentKey,this.arrayValue,r)}}function xs(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=mP(n.arrayValue,e.arrayValue),t!==0?t:(t=mP(n.directionalValue,e.directionalValue),t!==0?t:ie.comparator(n.documentKey,e.documentKey)))}function mP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.Yt=new mt((t,r)=>Nt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(we(e.collectionGroup===this.collectionId),this.en)return!1;const t=Mb(e);if(t!==void 0&&!this.nn(t))return!1;const r=Ya(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new mt(Nt.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new og(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new og(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new og(r.field,r.dir==="asc"?0:1)));return new cy(cy.UNKNOWN_ID,this.collectionId,t,Rh.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n){var e,t;if(we(n instanceof je||n instanceof ct),n instanceof je){if(n instanceof uL){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>je.create(n.field,"==",o)))||[];return ct.create(i,"or")}return n}const r=n.filters.map(i=>UL(i));return ct.create(r,n.op)}function bH(n){if(n.getFilters().length===0)return[];const e=Gb(UL(n));return we(HL(e)),qb(e)||Kb(e)?[e]:e.getFilters()}function qb(n){return n instanceof je}function Kb(n){return n instanceof ct&&oT(n)}function HL(n){return qb(n)||Kb(n)||function(t){if(t instanceof ct&&Fb(t)){for(const r of t.getFilters())if(!qb(r)&&!Kb(r))return!1;return!0}return!1}(n)}function Gb(n){if(we(n instanceof je||n instanceof ct),n instanceof je)return n;if(n.filters.length===1)return Gb(n.filters[0]);const e=n.filters.map(r=>Gb(r));let t=ct.create(e,n.op);return t=gy(t),HL(t)?t:(we(t instanceof ct),we(Mu(t)),we(t.filters.length>1),t.filters.reduce((r,i)=>dT(r,i)))}function dT(n,e){let t;return we(n instanceof je||n instanceof ct),we(e instanceof je||e instanceof ct),t=n instanceof je?e instanceof je?function(i,o){return ct.create([i,o],"and")}(n,e):yP(n,e):e instanceof je?yP(e,n):function(i,o){if(we(i.filters.length>0&&o.filters.length>0),Mu(i)&&Mu(o))return aL(i,o.getFilters());const s=Fb(i)?i:o,a=Fb(i)?o:i,l=s.filters.map(c=>dT(c,a));return ct.create(l,"or")}(n,e),gy(t)}function yP(n,e){if(Mu(e))return aL(e,n.getFilters());{const t=e.filters.map(r=>dT(n,r));return ct.create(t,"or")}}function gy(n){if(we(n instanceof je||n instanceof ct),n instanceof je)return n;const e=n.getFilters();if(e.length===1)return gy(e[0]);if(oL(n))return n;const t=e.map(i=>gy(i)),r=[];return t.forEach(i=>{i instanceof je?r.push(i):i instanceof ct&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ct.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this._n=new fT}addToCollectionParentIndex(e,t){return this._n.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(ni.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class fT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt(rt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Uint8Array(0);class SH{constructor(e,t){this.databaseId=t,this.an=new fT,this.un=new Da(r=>zl(r),(r,i)=>lp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const o={collectionId:r,parent:_r(i)};return vP(e).put(o)}return z.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[H2(t),""],!1,!0);return vP(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(uo(s.parent))}return r})}addFieldIndex(e,t){const r=Jd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const s=wc(e);return o.next(a=>{s.put(dP(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Jd(e),i=wc(e),o=_c(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Jd(e),r=_c(e),i=wc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return z.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new gP(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=_c(e);let i=!0;const o=new Map;return z.forEach(this.cn(t),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ne();const a=[];return z.forEach(o,(l,c)=>{Q("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${zl(t)}`);const u=function(b,k){const P=Mb(k);if(P===void 0)return null;for(const M of fy(b,P.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),d=function(b,k){const P=new Map;for(const M of Ya(k))for(const S of fy(b,M.fieldPath))switch(S.op){case"==":case"in":P.set(M.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return P.set(M.fieldPath.canonicalString(),S.value),Array.from(P.values())}return null}(c,l),h=function(b,k){const P=[];let M=!0;for(const S of Ya(k)){const E=S.kind===0?QC(b,S.fieldPath,b.startAt):JC(b,S.fieldPath,b.startAt);P.push(E.value),M&&(M=E.inclusive)}return new Au(P,M)}(c,l),p=function(b,k){const P=[];let M=!0;for(const S of Ya(k)){const E=S.kind===0?JC(b,S.fieldPath,b.endAt):QC(b,S.fieldPath,b.endAt);P.push(E.value),M&&(M=E.inclusive)}return new Au(P,M)}(c,l),m=this.hn(l,c,h),g=this.hn(l,c,p),_=this.Pn(l,c,d),v=this.In(l.indexId,u,m,h.inclusive,g,p.inclusive,_);return z.forEach(v,w=>r.G(w,t.limit).next(b=>{b.forEach(k=>{const P=ie.fromSegments(k.documentKey);s.has(P)||(s=s.add(P),a.push(P))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=bH(ct.create(e.filters,"and")).map(r=>$b(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,o,s,a){const l=(t!=null?t.length:1)*Math.max(r.length,o.length),c=l/(t!=null?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.Tn(t[d/c]):vm,p=this.En(e,h,r[d%c],i),m=this.dn(e,h,o[d%c],s),g=a.map(_=>this.En(e,h,_,!0));u.push(...this.createRange(p,m,g))}return u}En(e,t,r,i){const o=new rl(e,ie.empty(),t,r);return i?o:o.Jt()}dn(e,t,r,i){const o=new rl(e,ie.empty(),t,r);return i?o.Jt():o}ln(e,t){const r=new gP(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return z.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new mt(Nt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}An(e,t){const r=new Qd;for(const i of Ya(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const s=r.Ht(i.kind);nl.bt.Pt(o,s)}return r.Wt()}Tn(e){const t=new Qd;return nl.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new Qd;return nl.bt.Pt(Oh(this.databaseId,t),r.Ht(function(o){const s=Ya(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(r===null)return[];let i=[];i.push(new Qd);let o=0;for(const s of Ya(e)){const a=r[o++];for(const l of i)if(this.Vn(t,s.fieldPath)&&Nh(a))i=this.mn(i,s,a);else{const c=l.Ht(s.kind);nl.bt.Pt(a,c)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new Qd;l.seed(a.Wt()),nl.bt.Pt(s,l.Ht(t.kind)),o.push(l)}return o}Vn(e,t){return!!e.filters.find(r=>r instanceof je&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Jd(e),i=wc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return z.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const h=d?new Rh(d.sequenceNumber,new ni(Ul(d.readTime),new ie(uo(d.documentKey)),d.largestBatchId)):Rh.empty(),p=u.fields.map(([m,g])=>new og(Nt.fromServerFormat(m),g));return new cy(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Re(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Jd(e),o=wc(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>z.forEach(a,l=>o.put(dP(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return z.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?z.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(o,l);return c.isEqual(u)?z.resolve():this.wn(e,o,l,c,u)}))))})}Sn(e,t,r,i){return _c(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return _c(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=_c(e);let o=new mt(xs);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(s,a)=>{o=o.add(new rl(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,t){let r=new mt(xs);const i=this.An(t,e);if(i==null)return r;const o=Mb(t);if(o!=null){const s=e.data.field(o.fieldPath);if(Nh(s))for(const a of s.arrayValue.values||[])r=r.add(new rl(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new rl(t.indexId,e.key,vm,i));return r}wn(e,t,r,i,o){Q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,c,u,d,h){const p=l.getIterator(),m=c.getIterator();let g=vc(p),_=vc(m);for(;g||_;){let v=!1,w=!1;if(g&&_){const b=u(g,_);b<0?w=!0:b>0&&(v=!0)}else g!=null?w=!0:v=!0;v?(d(_),_=vc(m)):w?(h(g),g=vc(p)):(g=vc(p),_=vc(m))}}(i,o,xs,a=>{s.push(this.Sn(e,t,r,a))},a=>{s.push(this.bn(e,t,r,a))}),z.waitFor(s)}gn(e){let t=1;return wc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>xs(s,a)).filter((s,a,l)=>!a||xs(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=xs(s,e),l=xs(s,t);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,vm,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,vm,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,t){return xs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_P)}getMinOffset(e,t){return z.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||me())).next(_P)}}function vP(n){return Dn(n,"collectionParents")}function _c(n){return Dn(n,"indexEntries")}function Jd(n){return Dn(n,"indexConfiguration")}function wc(n){return Dn(n,"indexState")}function _P(n){we(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;tT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ni(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=r.J({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{we(a===1)}));const c=[];for(const u of t.mutations){const d=Y2(e,u.key.path,t.batchId);o.push(i.delete(d)),c.push(u.key)}return z.waitFor(o).next(()=>c)}function yy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw me();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(41943040,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);class l0{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){we(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new l0(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Is(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Fc(e),s=Is(e);return s.add({}).next(a=>{we(typeof a=="number");const l=new sT(a,t,r,i),c=function(p,m,g){const _=g.baseMutations.map(w=>py(p.ct,w)),v=g.mutations.map(w=>py(p.ct,w));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,l),u=[];let d=new mt((h,p)=>Re(h.canonicalString(),p.canonicalString()));for(const h of i){const p=Y2(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(p,o9))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return Is(e).get(t).next(r=>r?(we(r.userId===this.userId),tl(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?z.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Is(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),o=tl(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Is(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Is(e).U("userMutationsIndex",t).next(r=>r.map(i=>tl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Fc(e).J({range:i},(s,a,l)=>{const[c,u,d]=s,h=uo(u);if(c===this.userId&&t.path.isEqual(h))return Is(e).get(d).next(p=>{if(!p)throw me();we(p.userId===this.userId),o.push(tl(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(Re);const i=[];return t.forEach(o=>{const s=sg(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Fc(e).J({range:a},(c,u,d)=>{const[h,p,m]=c,g=uo(p);h===this.userId&&o.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=sg(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new mt(Re);return Fc(e).J({range:s},(l,c,u)=>{const[d,h,p]=l,m=uo(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Is(e).get(o).next(s=>{if(s===null)throw me();we(s.userId===this.userId),r.push(tl(this.serializer,s))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return WL(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return z.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Fc(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=uo(o[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,t){return qL(e,this.userId,t)}xn(e){return KL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qL(n,e,t){const r=sg(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Fc(n).J({range:o,H:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),c.done()}).next(()=>s)}function Is(n){return Dn(n,"mutations")}function Fc(n){return Dn(n,"documentMutations")}function KL(n){return Dn(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Hl(0)}static Ln(){return new Hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Hl(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>be.fromTimestamp(new Vt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bc(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return bc(e).J((s,a)=>{const l=kf(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(o)).next(()=>i)}forEachTarget(e,t){return bc(e).J((r,i)=>{const o=kf(i);t(o)})}Bn(e){return bP(e).get("targetGlobalKey").next(t=>(we(t!==null),t))}kn(e,t){return bP(e).put("targetGlobalKey",t)}qn(e,t){return bc(e).put(zL(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=zl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return bc(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const c=kf(a);lp(t,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Fs(e);return t.forEach(s=>{const a=_r(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),z.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fs(e);return z.forEach(t,o=>{const s=_r(o.path);return z.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Fs(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fs(e);let o=Ne();return i.J({range:r,H:!0},(s,a,l)=>{const c=uo(s[1]),u=new ie(c);o=o.add(u)}).next(()=>o)}containsKey(e,t){const r=_r(t.path),i=IDBKeyRange.bound([r],[H2(r)],!1,!0);let o=0;return Fs(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,t){return bc(e).get(t).next(r=>r?kf(r):null)}}function bc(n){return Dn(n,"targets")}function bP(n){return Dn(n,"targetGlobal")}function Fs(n){return Dn(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP([n,e],[t,r]){const i=Re(n,t);return i===0?Re(e,r):i}class xH{constructor(e){this.Kn=e,this.buffer=new mt(EP),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();EP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ra(t)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await rc(t)}await this.zn(3e5)})}}class kH{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return z.resolve(wi.oe);const r=new xH(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(wP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wP):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Mc()<=ze.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function CH(n,e){return new kH(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,t){this.db=e,this.garbageCollector=CH(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return _m(e,r)}removeReference(e,t,r){return _m(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return _m(e,t)}er(e,t){return function(i,o){let s=!1;return KL(i).Y(a=>qL(i,a,o).next(l=>(l&&(s=!0),z.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=t){const l=this.er(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,be.min()),Fs(e).delete(function(d){return[0,_r(d.path)]}(s))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return _m(e,t)}Xn(e,t){const r=Fs(e);let i,o=wi.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==wi.oe&&t(new ie(uo(i)),o),o=c,i=l):o=wi.oe}).next(()=>{o!==wi.oe&&t(new ie(uo(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(n,e){return Fs(n).put(function(r,i){return{targetId:0,path:_r(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ha(e).put(r)}removeEntry(e,t,r){return Ha(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],my(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=Qt.newInvalidDocument(t);return Ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(i,o)=>{r=this.nr(t,o)}).next(()=>r)}rr(e,t){let r={size:0,document:Qt.newInvalidDocument(t)};return Ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(i,o)=>{r={document:this.nr(t,o),size:yy(o)}}).next(()=>r)}getEntries(e,t){let r=Qr();return this.ir(e,t,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,t){let r=Qr(),i=new Rt(ie.comparator);return this.ir(e,t,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,yy(s))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return z.resolve();let i=new mt(xP);t.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Xd(i.first()),Xd(i.last())),s=i.getIterator();let a=s.getNext();return Ha(e).J({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=ie.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&xP(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?u.$(Xd(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),my(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ha(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let u=Qr();for(const d of c){const h=this.nr(ie.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(up(t,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,t,r,i){let o=Qr();const s=TP(t,r),a=TP(t,ni.max());return Ha(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.nr(ie.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new DH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SP(e).get("remoteDocumentGlobalKey").next(t=>(we(!!t),t))}tr(e,t){return SP(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=mH(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return Qt.newInvalidDocument(e)}}function YL(n){return new RH(n)}class DH extends GL{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Da(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new mt((o,s)=>Re(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(t.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=cP(this.ar.serializer,s);i=i.add(o.path.popLast());const c=yy(l);r+=c-a.size,t.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=cP(this.ar.serializer,s.convertToNoDocument(be.min()));t.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.ar.updateMetadata(e,r)),z.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function SP(n){return Dn(n,"remoteDocumentGlobal")}function Ha(n){return Dn(n,"remoteDocumentsV14")}function Xd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TP(n,e){const t=e.documentKey.path.toArray();return[n,my(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Re(t[o],r[o]),i)return i;return i=Re(t.length,r.length),i||(i=Re(t[t.length-2],r[r.length-2]),i||Re(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yf(r.mutation,i,Mr.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const i=fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=xf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Qr();const s=Gf(),a=function(){return Gf()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ys)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Yf(u.mutation,c,u.mutation.getFieldMask(),Vt.now())):s.set(c.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new AH(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Gf();let i=new Rt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Mr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=gL();u.forEach(h=>{if(!o.has(h)){const p=SL(t.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):z.resolve(fo());let a=-1,l=o;return s.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ne())).next(u=>({batchId:a,changes:mL(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=xf();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const c=function(d,h){return new cp(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Qt.newInvalidDocument(u)))});let a=xf();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Yf(u.mutation,c,Mr.empty(),Vt.now()),up(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return z.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:jL(i.bundledQuery),readTime:wr(i.readTime)}}(t)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.overlays=new Rt(ie.comparator),this.hr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fo();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=fo(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Rt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=fo(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=fo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lT(t,r));let o=this.hr.get(t);o===void 0&&(o=Ne(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.Pr=new mt(En.Ir),this.Tr=new mt(En.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new En(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new ie(new rt([])),r=new En(t,e),i=new En(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ie(new rt([])),r=new En(t,e),i=new En(t,e+1);let o=Ne();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new En(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ie.comparator(e.key,t.key)||Re(e.pr,t.pr)}static Er(e,t){return Re(e.pr,t.pr)||ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new mt(En.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new En(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.br(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(Re);return t.forEach(i=>{const o=new En(i,0),s=new En(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ie.isDocumentKey(o)||(o=o.child(""));const s=new En(new ie(o),0);let a=new mt(Re);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},s),z.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(t.mutations,i=>{const o=new En(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new En(t,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.vr=e,this.docs=function(){return new Rt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qr();const s=t.path,a=new ie(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||tT(W2(u),r)<=0||(i.has(u.key)||up(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){me()}Fr(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FH(this)}getSize(e){return z.resolve(this.size)}}class FH extends GL{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.persistence=e,this.Mr=new Da(t=>zl(t),lp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hT,this.targetCount=0,this.Lr=Hl.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),z.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Hl(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.qn(t),z.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t){this.Br={},this.overlays={},this.kr=new wi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new VH(this),this.indexManager=new EH,this.remoteDocumentCache=function(i){return new LH(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new BL(t),this.$r=new MH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new NH(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);const i=new $H(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class $H extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.zr=new hT,this.jr=null}static Hr(e){return new c0(e)}get Jr(){if(this.jr)return this.jr;throw me()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),z.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return z.or([()=>z.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.serializer=e}O(e,t,r,i){const o=new Zv("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0}),l.createObjectStore("documentMutations")}(e),IP(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),IP(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return z.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:y9});c.createIndex("collectionPathOverlayIndex",v9,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",_9,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:s9});c.createIndex("documentKeyIndex",a9),c.createIndex("collectionGroupIndex",l9)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:h9}).createIndex("sequenceNumberIndex",p9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:m9}).createIndex("documentKeyIndex",g9,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s}ei(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=yy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>z.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>z.forEach(a,l=>{we(l.userId===o.userId);const c=tl(this.serializer,l);return WL(e,o.userId,c).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new rt(s),c=function(d){return[0,_r(d)]}(l);o.push(t.get(c).next(u=>u?z.resolve():(d=>t.put({targetId:0,path:_r(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(o))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:f9});const r=t.store("collectionParents"),i=new fT,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:_r(l)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new rt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,l],c)=>{const u=uo(a);return o(u.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,i)=>{const o=kf(i),s=zL(this.serializer,o);return t.put(s)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),l=function(d){return d.document?new ie(rt.fromString(d.document.name).popFirst(5)):d.noDocument?ie.fromSegments(d.noDocument.path):d.unknownDocument?ie.fromSegments(d.unknownDocument.path):me()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>z.waitFor(i))}si(e,t){const r=t.store("mutations"),i=YL(this.serializer),o=new JL(c0.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ne();tl(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new dr(c),d=a0.lt(this.serializer,u),h=o.getIndexManager(u),p=l0.lt(u,this.serializer,h,o.referenceDelegate);return new QL(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Ob(t,wi.oe),l).next()})})}}function IP(n){n.createObjectStore("targetDocuments",{keyPath:u9}).createIndex("documentTargetsIndex",d9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",c9,{unique:!0}),n.createObjectStore("targetGlobal")}const Rw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pT{constructor(e,t,r,i,o,s,a,l,c,u,d=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!pT.D())throw new te(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PH(this,i),this.Ti=t+"main",this.serializer=new BL(l),this.Ei=new ca(this.Ti,this.ui,new BH(this.serializer)),this.Qr=new TH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YL(this.serializer),this.$r=new gH,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,Rw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new wi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ra(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Zd(e).get("owner").next(t=>z.resolve(this.Si(t)))}bi(e){return wm(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Dn(t,"clientMetadata");return r.U().next(i=>{const o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return z.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):Zd(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,Rw);return!1}}return!(!this.networkEnabled||!this.inForeground)||wm(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new Ob(e,wi.oe);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Li()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>wm(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return l0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SH(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return a0.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){Q("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(l){return l===16?b9:l===15?Z2:l===14?X2:l===13?J2:l===12?w9:l===11?Q2:void me()}(this.ui);let s;return this.Ei.runTransaction(e,i,o,a=>(s=new Ob(a,this.kr?this.kr.next():wi.oe),t==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new te(W.FAILED_PRECONDITION,q2);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Zd(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(W.FAILED_PRECONDITION,Rw)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zd(e).put("owner",t)}static D(){return ca.D()}yi(e){const t=Zd(e);return t.get("owner").next(r=>this.Si(r)?(Q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):z.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(pr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;P2()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=((t=this.di)===null||t===void 0?void 0:t.getItem(this.Fi(e)))!==null;return Q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zd(n){return Dn(n,"owner")}function wm(n){return Dn(n,"clientMetadata")}function zH(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=Ne(),i=Ne();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mT(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return P2()?8:G2(fn())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new jH;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Mc()<=ze.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Mc()<=ze.DEBUG&&Q("QueryEngine","Query:",Oc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Mc()<=ze.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):z.resolve())}ji(e,t){if(XC(t))return z.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zb(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(t,a);return this.Xi(t,c,s,l.readTime)?this.ji(e,zb(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,r,i){return XC(t)||i.isEqual(be.min())?z.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?z.resolve(null):(Mc()<=ze.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oc(t)),this.es(e,s,t,XU(i,-1)).next(a=>a))})}Zi(e,t){let r=new mt(hL(e));return t.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return Mc()<=ze.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Oc(t)),this.zi.getDocumentsMatchingQuery(e,t,ni.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Rt(Re),this.rs=new Da(o=>zl(o),lp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function ZL(n,e,t,r){return new UH(n,e,t,r)}async function eF(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function HH(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=z.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const _=c.docVersions.get(m);we(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tF(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function WH(n,e){const t=Pe(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Qr.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Wn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(g,_,v){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&a.push(t.Qr.updateTargetData(o,p))});let l=Qr(),c=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(qH(o,s,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(be.min())){const u=t.Qr.getLastRemoteSnapshotVersion(o).next(d=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ns=i,o))}function qH(n,e,t){let r=Ne(),i=Ne();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Qr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:i}})}function KH(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GH(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new Uo(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}async function Yb(n,e,t){const r=Pe(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ra(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function kP(n,e,t){const r=Pe(n);let i=be.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Pe(l),h=d.rs.get(u);return h!==void 0?z.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,s,Si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:Ne())).next(a=>(YH(r,L9(e),a),{documents:a,hs:o})))}function YH(n,e,t){let r=n.ss.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}class CP{constructor(){this.activeTargetIds=j9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.no=new CP,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new CP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=null;function Dw(){return bm===null?bm=function(){return 268435456+Math.round(2147483648*Math.random())}():bm++,"0x"+bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class ZH extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=Dw(),l=this.vo(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(t,l,c,i).then(u=>(Q("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Vl("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ld}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){const i=JH[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=Dw();return new Promise((s,a)=>{const l=new F2;l.setWithCredentials(!0),l.listenOnce($2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ig.NO_ERROR:const u=l.getResponseJson();Q(Zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case ig.TIMEOUT:Q(Zn,`RPC '${e}' ${o} timed out`),a(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const d=l.getStatus();if(Q(Zn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(p.status);a(new te(m,p.message))}else a(new te(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(W.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Q(Zn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Q(Zn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Oo(e,t,r){const i=Dw(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=j2(),a=z2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new V2({})),this.Fo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Q(Zn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const m=new XH({lo:_=>{p?Q(Zn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(Q(Zn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Q(Zn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,v,w)=>{_.listen(v,b=>{try{w(b)}catch(k){setTimeout(()=>{throw k},0)}})};return g(d,Tf.EventType.OPEN,()=>{p||(Q(Zn,`RPC '${e}' stream ${i} transport opened.`),m.mo())}),g(d,Tf.EventType.CLOSE,()=>{p||(p=!0,Q(Zn,`RPC '${e}' stream ${i} transport closed`),m.po())}),g(d,Tf.EventType.ERROR,_=>{p||(p=!0,Vl(Zn,`RPC '${e}' stream ${i} transport errored:`,_),m.po(new te(W.UNAVAILABLE,"The operation could not be completed")))}),g(d,Tf.EventType.MESSAGE,_=>{var v;if(!p){const w=_.data[0];we(!!w);const b=w,k=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(k){Q(Zn,`RPC '${e}' stream ${i} received error:`,k);const P=k.status;let M=function(I){const C=ln[I];if(C!==void 0)return IL(C)}(P),S=k.message;M===void 0&&(M=W.INTERNAL,S="Unknown error status: "+P+" with message "+k.message),p=!0,m.po(new te(M,S)),d.close()}else Q(Zn,`RPC '${e}' stream ${i} received:`,w),m.yo(w)}}),g(a,B2.STAT_EVENT,_=>{_.stat===Ab.PROXY?Q(Zn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ab.NOPROXY&&Q(Zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(){return typeof window<"u"?window:null}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(n){return new oH(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new rF(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tW extends iF{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=lH(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?wr(s.readTime):be.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=Hb(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=dy(l)?{documents:OL(o,l)}:{query:NL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PL(o,s.resumeToken);const c=jb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Lu(o,s.snapshotVersion.toTimestamp());const c=jb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=uH(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=Hb(this.serializer),t.removeTarget=e,this.i_(t)}}class nW extends iF{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=cH(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.A_(r,t)}return we(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Hb(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>py(this.serializer,r))};this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Ub(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(W.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Ub(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(W.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class iW{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(pr(t),this.y_=!1):Q("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{oc(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.M_.add(4),await fp(c),c.N_.set("Unknown"),c.M_.delete(4),await d0(c)}(this))})}),this.N_=new iW(r,i)}}async function d0(n){if(oc(n))for(const e of n.x_)await e(!0)}async function fp(n){for(const e of n.x_)await e(!1)}function oF(n,e){const t=Pe(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),_T(t)?vT(t):ud(t).Xo()&&yT(t,e))}function gT(n,e){const t=Pe(n),r=ud(t);t.F_.delete(e),r.Xo()&&sF(t,e),t.F_.size===0&&(r.Xo()?r.n_():oc(t)&&t.N_.set("Unknown"))}function yT(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ud(n).P_(e)}function sF(n,e){n.L_.xe(e),ud(n).I_(e)}function vT(n){n.L_=new tH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ud(n).start(),n.N_.w_()}function _T(n){return oc(n)&&!ud(n).Zo()&&n.F_.size>0}function oc(n){return Pe(n).M_.size===0}function aF(n){n.L_=void 0}async function sW(n){n.N_.set("Online")}async function aW(n){n.F_.forEach((e,t)=>{yT(n,e)})}async function lW(n,e){aF(n),_T(n)?(n.N_.D_(e),vT(n)):n.N_.set("Unknown")}async function cW(n,e,t){if(n.N_.set("Online"),e instanceof CL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vy(n,r)}else if(e instanceof ug?n.L_.Ke(e):e instanceof kL?n.L_.He(e):n.L_.We(e),!t.isEqual(be.min()))try{const r=await tF(n.localStore);t.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.F_.get(c);u&&o.F_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),sF(o,l);const d=new Uo(u.target,l,c,u.sequenceNumber);yT(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await vy(n,r)}}async function vy(n,e,t){if(!Ra(e))throw e;n.M_.add(1),await fp(n),n.N_.set("Offline"),t||(t=()=>tF(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await t(),n.M_.delete(1),await d0(n)})}function lF(n,e){return e().catch(t=>vy(n,t,e))}async function hp(n){const e=Pe(n),t=ba(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;uW(e);)try{const i=await KH(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,dW(e,i)}catch(i){await vy(e,i)}cF(e)&&uF(e)}function uW(n){return oc(n)&&n.v_.length<10}function dW(n,e){n.v_.push(e);const t=ba(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function cF(n){return oc(n)&&!ba(n).Zo()&&n.v_.length>0}function uF(n){ba(n).start()}async function fW(n){ba(n).V_()}async function hW(n){const e=ba(n);for(const t of n.v_)e.d_(t.mutations)}async function pW(n,e,t){const r=n.v_.shift(),i=aT.from(r,e,t);await lF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hp(n)}async function mW(n,e){e&&ba(n).E_&&await async function(r,i){if(function(s){return X9(s)&&s!==W.ABORTED}(i.code)){const o=r.v_.shift();ba(r).t_(),await lF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hp(r)}}(n,e),cF(n)&&uF(n)}async function RP(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=oc(t);t.M_.add(3),await fp(t),r&&t.N_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),await d0(t)}async function gW(n,e){const t=Pe(n);e?(t.M_.delete(2),await d0(t)):e||(t.M_.add(2),await fp(t),t.N_.set("Unknown"))}function ud(n){return n.B_||(n.B_=function(t,r,i){const o=Pe(t);return o.f_(),new tW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:sW.bind(null,n),To:aW.bind(null,n),Ao:lW.bind(null,n),h_:cW.bind(null,n)}),n.x_.push(async e=>{e?(n.B_.t_(),_T(n)?vT(n):n.N_.set("Unknown")):(await n.B_.stop(),aF(n))})),n.B_}function ba(n){return n.k_||(n.k_=function(t,r,i){const o=Pe(t);return o.f_(),new nW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:fW.bind(null,n),Ao:mW.bind(null,n),R_:hW.bind(null,n),A_:pW.bind(null,n)}),n.x_.push(async e=>{e?(n.k_.t_(),await hp(n)):(await n.k_.stop(),n.v_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))})),n.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new wT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bT(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Ra(n))return new te(W.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=xf(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.q_=new Rt(ie.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fu{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Fu(e,t,uu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class vW{constructor(){this.queries=new Da(e=>fL(e),n0),this.onlineState="Unknown",this.z_=new Set}}async function dF(n,e){const t=Pe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new yW,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await t.onListen(i,!0);break;case 1:o.K_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const a=bT(s,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&ET(t)}async function fF(n,e){const t=Pe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _W(n,e){const t=Pe(n);let r=!1;for(const i of e){const o=i.query,s=t.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&ET(t)}function wW(n,e,t){const r=Pe(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function ET(n){n.z_.forEach(e=>{e.next()})}var Qb,AP;(AP=Qb||(Qb={})).J_="default",AP.Cache="cache";class hF{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;const r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Qb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.key=e}}class mF{constructor(e){this.key=e}}class bW{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ne(),this.mutatedKeys=Ne(),this.Ia=hL(e),this.Ta=new uu(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new DP,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=up(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),_=!0):this.Ra(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(p?(s=s.add(p),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((u,d)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return g(p)-g(m)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=t&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,s.length!==0||c?{snapshot:new Fu(this.query,e.Ta,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new DP,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ne(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new mF(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new pF(r))}),t}pa(e){this.la=e.hs,this.Pa=Ne();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Fu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class EW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SW{constructor(e){this.key=e,this.wa=!1}}class TW{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Da(a=>fL(a),n0),this.Da=new Map,this.Ca=new Set,this.va=new Rt(ie.comparator),this.Fa=new Map,this.Ma=new hT,this.xa={},this.Oa=new Map,this.Na=Hl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function xW(n,e,t=!0){const r=bF(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await gF(r,e,t,!0),i}async function IW(n,e){const t=bF(n);await gF(t,e,!0,!1)}async function gF(n,e,t,r){const i=await GH(n.localStore,Si(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await kW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&oF(n.remoteStore,i),a}async function kW(n,e,t,r,i){n.Ba=(d,h,p)=>async function(g,_,v,w){let b=_.view.da(v);b.Xi&&(b=await kP(g.localStore,_.query,!1).then(({documents:S})=>_.view.da(S,b)));const k=w&&w.targetChanges.get(_.targetId),P=w&&w.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(b,g.isPrimaryClient,k,P);return OP(g,_.targetId,M.fa),M.snapshot}(n,d,h,p);const o=await kP(n.localStore,e,!0),s=new bW(e,o.hs),a=s.da(o.documents),l=dp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=s.applyChanges(a,n.isPrimaryClient,l);OP(n,t,c.fa);const u=new EW(e,t,s);return n.ba.set(e,u),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}async function CW(n,e,t){const r=Pe(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!n0(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gT(r.remoteStore,i.targetId),Jb(r,i.targetId)}).catch(rc)):(Jb(r,i.targetId),await Yb(r.localStore,i.targetId,!0))}async function PW(n,e){const t=Pe(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gT(t.remoteStore,r.targetId))}async function RW(n,e,t){const r=EF(n);try{const i=await function(s,a){const l=Pe(s),c=Vt.now(),u=a.reduce((p,m)=>p.add(m.key),Ne());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Qr(),g=Ne();return l.os.getEntries(p,u).next(_=>{m=_,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const v=[];for(const w of a){const b=Q9(w,d.get(w.key).overlayedDocument);b!=null&&v.push(new ys(w.key,b,rL(b.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:mL(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.xa[s.currentUser.toKey()];c||(c=new Rt(Re)),c=c.insert(a,l),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,t),await pp(r,i.changes),await hp(r.remoteStore)}catch(i){const o=bT(i,"Failed to persist write");t.reject(o)}}async function yF(n,e){const t=Pe(n);try{const r=await WH(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?we(s.wa):i.removedDocuments.size>0&&(we(s.wa),s.wa=!1))}),await pp(t,r,e)}catch(r){await rc(r)}}function MP(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&ET(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DW(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Rt(ie.comparator);s=s.insert(o,Qt.newNoDocument(o,be.min()));const a=Ne().add(o),l=new s0(be.min(),new Map,new Rt(Re),s,a);await yF(r,l),r.va=r.va.remove(o),r.Fa.delete(e),ST(r)}else await Yb(r.localStore,e,!1).then(()=>Jb(r,e,t)).catch(rc)}async function AW(n,e){const t=Pe(n),r=e.batch.batchId;try{const i=await HH(t.localStore,e);_F(t,r,null),vF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pp(t,i)}catch(i){await rc(i)}}async function MW(n,e,t){const r=Pe(n);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_F(r,e,t),vF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pp(r,i)}catch(i){await rc(i)}}function vF(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function _F(n,e,t){const r=Pe(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Jb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||wF(n,r)})}function wF(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);t!==null&&(gT(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),ST(n))}function OP(n,e,t){for(const r of t)r instanceof pF?(n.Ma.addReference(r.key,e),OW(n,r)):r instanceof mF?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||wF(n,r.key)):me()}function OW(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.Ca.add(r),ST(n))}function ST(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new ie(rt.fromString(e)),r=n.Na.next();n.Fa.set(r,new SW(t)),n.va=n.va.insert(t,r),oF(n.remoteStore,new Uo(Si(t0(t.path)),r,"TargetPurposeLimboResolution",wi.oe))}}async function pp(n,e,t){const r=Pe(n),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=mT.Ki(l.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(l,c){const u=Pe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,h=>z.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>z.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Ra(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,g)}}}(r.localStore,o))}async function NW(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await eF(t.localStore,e);t.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new te(W.CANCELLED,s))})}),o.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pp(t,r.us)}}function LW(n,e){const t=Pe(n),r=t.Fa.get(e);if(r&&r.wa)return Ne().add(r.key);{let i=Ne();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function bF(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DW.bind(null,e),e.Sa.h_=_W.bind(null,e.eventManager),e.Sa.ka=wW.bind(null,e.eventManager),e}function EF(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MW.bind(null,e),e}class Xb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=u0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ZL(this.persistence,new XL,e.initialUser,this.serializer)}createPersistence(e){return new JL(c0.Hr,this.serializer)}createSharedClientState(e){return new nF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FW extends Xb{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await EF(this.Qa.syncEngine),await hp(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return ZL(this.persistence,new XL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new IH(r,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new n9(t,this.persistence);return new t9(e.asyncQueue,r)}createPersistence(e){const t=zH(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new pT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,eW(),dg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new nF}}class SF{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NW.bind(null,this.syncEngine),await gW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vW}()}createDatastore(e){const t=u0(e.databaseInfo.databaseId),r=function(o){return new ZH(o)}(e.databaseInfo);return function(o,s,a,l){return new rW(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,a){return new oW(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>MP(this.syncEngine,t,0),function(){return PP.D()?new PP:new QH}())}createSyncEngine(e,t){return function(i,o,s,a,l,c,u){const d=new TW(i,o,s,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(r){const i=Pe(r);Q("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await fp(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=U2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(n,e){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $W(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>RP(e.remoteStore,i)),n._onlineComponents=e}function xF(n){return n.name==="FirebaseError"?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function $W(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await fg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!xF(t))throw t;Vl("Error using user provided cache. Falling back to memory cache: "+t),await fg(n,new Xb)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await fg(n,new Xb);return n._offlineComponents}async function IF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Zb(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Zb(n,new SF))),n._onlineComponents}function BW(n){return IF(n).then(e=>e.syncEngine)}async function kF(n){const e=await IF(n),t=e.eventManager;return t.onListen=xW.bind(null,e.syncEngine),t.onUnlisten=CW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PW.bind(null,e.syncEngine),t}function zW(n,e,t={}){const r=new qi;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new TF({next:h=>{s.enqueueAndForget(()=>fF(o,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new hF(t0(a.path),u,{includeMetadataChanges:!0,ra:!0});return dF(o,d)}(await kF(n),n.asyncQueue,e,t,r)),r.promise}function jW(n,e,t={}){const r=new qi;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new TF({next:h=>{s.enqueueAndForget(()=>fF(o,d)),h.fromCache&&l.source==="server"?c.reject(new te(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new hF(a,u,{includeMetadataChanges:!0,ra:!0});return dF(o,d)}(await kF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n,e,t){if(!t)throw new te(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UW(n,e,t,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LP(n){if(!ie.isDocumentKey(n))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FP(n){if(ie.isDocumentKey(n))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":me()}function as(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=f0(n);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class TT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HU;switch(r.type){case"firstParty":return new KU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NP.get(t);r&&(Q("ComponentProvider","Removing Datastore"),NP.delete(t),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dd(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class ua extends dd{constructor(e,t,r){super(e,t,t0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new ie(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function RF(n,e,...t){if(n=Cn(n),PF("collection","path",e),n instanceof TT){const r=rt.fromString(e,...t);return FP(r),new ua(n,null,r)}{if(!(n instanceof Fr||n instanceof ua))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return FP(r),new ua(n.firestore,null,r)}}function h0(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=U2.newId()),PF("doc","path",e),n instanceof TT){const r=rt.fromString(e,...t);return LP(r),new Fr(n,null,new ie(r))}{if(!(n instanceof Fr||n instanceof ua))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return LP(r),new Fr(n.firestore,n instanceof ua?n.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new rF(this,"async_queue_retry"),this.hu=()=>{const t=dg();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=dg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new qi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ra(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=wT.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&me()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=-1;class sc extends TT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new HW}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DF(this),this._firestoreClient.terminate()}}function qW(n,e,t){t||(t="(default)");const r=ZS(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),o=r.getOptions(t);if(kh(o,e))return i;throw new te(W.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new te(W.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:t})}function p0(n){return n._firestoreClient||DF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DF(n){var e,t,r;const i=n._freezeSettings(),o=function(a,l,c,u){return new S9(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CF(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new VW(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function KW(n,e){YW(n=as(n,sc));const t=p0(n);if(t._uninitializedComponentsProvider)throw new te(W.FAILED_PRECONDITION,"SDK cache is already specified.");Vl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new SF;return GW(t,i,new FW(i,r.cacheSizeBytes,void 0))}function GW(n,e,t){const r=new qi;return n.asyncQueue.enqueue(async()=>{try{await fg(n,t),await Zb(n,e),r.resolve()}catch(i){const o=i;if(!xF(o))throw o;Vl("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function YW(n){if(n._initialized||n._terminated)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(Wn.fromBase64String(e))}catch(t){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=/^__.*__$/;class JW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new cd(e,this.data,t,this.fieldTransforms)}}class AF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class kT{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new kT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return _y(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(MF(this.fu)&&QW.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class XW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||u0(e)}Fu(e,t,r,i=!1){return new kT({fu:e,methodName:t,vu:r,path:Nt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(n){const e=n._freezeSettings(),t=u0(n._databaseId);return new XW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZW(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);PT("Data must be an object, but it was:",s,r);const a=OF(r,s);let l,c;if(o.merge)l=new Mr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=eE(e,d,t);if(!s.contains(h))throw new te(W.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LF(u,h)||u.push(h)}l=new Mr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new JW(new rr(a),l,c)}class g0 extends xT{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function e8(n,e,t,r){const i=n.Fu(1,e,t);PT("Data must be an object, but it was:",i,r);const o=[],s=rr.empty();ic(r,(l,c)=>{const u=RT(e,l,t);c=Cn(c);const d=i.Su(u);if(c instanceof g0)o.push(u);else{const h=mp(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new Mr(o);return new AF(s,a,i.fieldTransforms)}function t8(n,e,t,r,i,o){const s=n.Fu(1,e,t),a=[eE(e,r,t)],l=[i];if(o.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(eE(e,o[h])),l.push(o[h+1]);const c=[],u=rr.empty();for(let h=a.length-1;h>=0;--h)if(!LF(c,a[h])){const p=a[h];let m=l[h];m=Cn(m);const g=s.Su(p);if(m instanceof g0)c.push(p);else{const _=mp(m,g);_!=null&&(c.push(p),u.set(p,_))}}const d=new Mr(c);return new AF(u,d,s.fieldTransforms)}function n8(n,e,t,r=!1){return mp(t,n.Fu(r?4:3,e))}function mp(n,e){if(NF(n=Cn(n)))return PT("Unsupported field value:",e,n),OF(n,e);if(n instanceof xT)return function(r,i){if(!MF(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=mp(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:Lu(i.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lu(i.serializer,o)}}if(r instanceof IT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vu)return{bytesValue:PL(i.serializer,r._byteString)};if(r instanceof Fr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${f0(r)}`)}(n,e)}function OF(n,e){const t={};return eL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(n,(r,i)=>{const o=mp(i,e.pu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof IT||n instanceof Vu||n instanceof Fr||n instanceof xT)}function PT(n,e,t){if(!NF(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=f0(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function eE(n,e,t){if((e=Cn(e))instanceof m0)return e._internalPath;if(typeof e=="string")return RT(n,e);throw _y("Field path arguments must be of type string or ",n,!1,void 0,t)}const r8=new RegExp("[~\\*/\\[\\]]");function RT(n,e,t){if(e.search(r8)>=0)throw _y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new m0(...e.split("."))._internalPath}catch{throw _y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _y(n,e,t,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new te(W.INVALID_ARGUMENT,a+n+l)}function LF(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i8 extends FF{data(){return super.data()}}function DT(n,e){return typeof e=="string"?RT(n,e):e instanceof m0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AT{}class s8 extends AT{}function a8(n,e,...t){let r=[];e instanceof AT&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof MT).length,a=o.filter(l=>l instanceof y0).length;if(s>1||s>0&&a>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class y0 extends s8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new y0(e,t,r)}_apply(e){const t=this._parse(e);return VF(e._query,t),new dd(e.firestore,e.converter,Bb(e._query,t))}_parse(e){const t=CT(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){BP(d,u);const p=[];for(const m of d)p.push($P(l,o,m));h={arrayValue:{values:p}}}else h=$P(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||BP(d,u),h=n8(a,s,d,u==="in"||u==="not-in");return je.create(c,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function l8(n,e,t){const r=e,i=DT("where",n);return y0._create(i,r,t)}class MT extends AT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new MT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ct.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)VF(s,l),s=Bb(s,l)}(e._query,t),new dd(e.firestore,e.converter,Bb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $P(n,e,t){if(typeof(t=Cn(t))=="string"){if(t==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dL(e)&&t.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ie.isDocumentKey(r))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Oh(n,new ie(r))}if(t instanceof Fr)return Oh(n,t._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${f0(t)}.`)}function BP(n,e){if(!Array.isArray(n)||n.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VF(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class c8{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ic(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new IT(Gt(e.latitude),Gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iT(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const t=ss(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);we($L(r));const i=new $l(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $F extends FF{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hg extends $F{data(e={}){return super.data(e)}}class d8{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hg(this._firestore,this._userDataWriter,r.key,r,new Cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:f8(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(n){n=as(n,Fr);const e=as(n.firestore,sc);return zW(p0(e),n._key).then(t=>y8(e,n,t))}class zF extends c8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function h8(n){n=as(n,dd);const e=as(n.firestore,sc),t=p0(e),r=new zF(e);return o8(n._query),jW(t,n._query).then(i=>new d8(e,r,n,i))}function p8(n,e,t,...r){n=as(n,Fr);const i=as(n.firestore,sc),o=CT(i);let s;return s=typeof(e=Cn(e))=="string"||e instanceof m0?t8(o,"updateDoc",n._key,e,t,r):e8(o,"updateDoc",n._key,e),OT(i,[s.toMutation(n._key,mr.exists(!0))])}function m8(n){return OT(as(n.firestore,sc),[new o0(n._key,mr.none())])}function g8(n,e){const t=as(n.firestore,sc),r=h0(n),i=u8(n.converter,e);return OT(t,[ZW(CT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function OT(n,e){return function(r,i){const o=new qi;return r.asyncQueue.enqueueAndForget(async()=>RW(await BW(r),i,o)),o.promise}(p0(n),e)}function y8(n,e,t){const r=t.docs.get(e._key),i=new zF(n);return new $F(n,i,e._key,r,new Cf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ld=i})(ad),Pu(new Nl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new sc(new WU(r.getProvider("auth-internal")),new YU(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),la(FC,"4.6.4",e),la(FC,"4.6.4","esm2017")})();function NT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function jF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v8=jF,UF=new sp("auth","Firebase",jF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new JS("@firebase/auth");function _8(n,...e){wy.logLevel<=ze.WARN&&wy.warn(`Auth (${ad}): ${n}`,...e)}function pg(n,...e){wy.logLevel<=ze.ERROR&&wy.error(`Auth (${ad}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,...e){throw LT(n,...e)}function vo(n,...e){return LT(n,...e)}function HF(n,e,t){const r=Object.assign(Object.assign({},v8()),{[e]:t});return new sp("auth","Firebase",r).create(e,{appName:n.name})}function Yo(n){return HF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UF.create(n,...e)}function xe(n,e,...t){if(!n)throw LT(e,...t)}function Ho(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pg(e),new Error(e)}function ls(n,e){n||Ho(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function w8(){return zP()==="http:"||zP()==="https:"}function zP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w8()||S6()||"connection"in navigator)?navigator.onLine:!0}function E8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=b6()||T6()}get(){return b8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e){ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new gp(3e4,6e4);function Aa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ma(n,e,t,r,i={}){return qF(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ap(Object.assign({key:n.config.apiKey},s)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),WF.fetch()(KF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function qF(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},S8),e);try{const i=new I8(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Em(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Em(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Em(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Em(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HF(n,u,c);Yi(n,u)}}catch(i){if(i instanceof gs)throw i;Yi(n,"network-request-failed",{message:String(i)})}}async function yp(n,e,t,r,i={}){const o=await Ma(n,e,t,r,i);return"mfaPendingCredential"in o&&Yi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function KF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?FT(n.config,i):`${n.config.apiScheme}://${i}`}function x8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vo(this.auth,"network-request-failed")),T8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Em(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=vo(n,e,r);return i.customData._tokenResponse=t,i}function jP(n){return n!==void 0&&n.enterprise!==void 0}class k8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function C8(n,e){return Ma(n,"GET","/v2/recaptchaConfig",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(n,e){return Ma(n,"POST","/v1/accounts:delete",e)}async function GF(n,e){return Ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R8(n,e=!1){const t=Cn(n),r=await t.getIdToken(e),i=VT(r);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Qf(Aw(i.auth_time)),issuedAtTime:Qf(Aw(i.iat)),expirationTime:Qf(Aw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Aw(n){return Number(n)*1e3}function VT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=I2(t);return i?JSON.parse(i):(pg("Failed to decode base64 JWT payload"),null)}catch(i){return pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UP(n){const e=VT(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gs&&D8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function D8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qf(this.lastLoginAt),this.creationTime=Qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function by(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Vh(n,GF(t,{idToken:r}));xe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YF(o.providerUserInfo):[],a=O8(n.providerData,s),l=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nE(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function M8(n){const e=Cn(n);await by(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YF(n){return n.map(e=>{var{providerId:t}=e,r=NT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(n,e){const t=await qF(n,{},async()=>{const r=ap({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=KF(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WF.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function L8(n,e){return Ma(n,"POST","/v2/accounts:revokeToken",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=UP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await N8(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new du;return r&&(xe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=NT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vh(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R8(this,e)}reload(){return M8(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await by(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(co(this.auth.app))return Promise.reject(Yo(this.auth));const e=await this.getIdToken();return await Vh(this,P8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=t.photoURL)!==null&&s!==void 0?s:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=t.createdAt)!==null&&c!==void 0?c:void 0,w=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:k,isAnonymous:P,providerData:M,stsTokenManager:S}=t;xe(b&&S,e,"internal-error");const E=du.fromJSON(this.name,S);xe(typeof b=="string",e,"internal-error"),ks(d,e.name),ks(h,e.name),xe(typeof k=="boolean",e,"internal-error"),xe(typeof P=="boolean",e,"internal-error"),ks(p,e.name),ks(m,e.name),ks(g,e.name),ks(_,e.name),ks(v,e.name),ks(w,e.name);const I=new Wo({uid:b,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:P,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:w});return M&&Array.isArray(M)&&(I.providerData=M.map(C=>Object.assign({},C))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new du;i.updateFromServerResponse(t);const o=new Wo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await by(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?YF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new du;a.updateFromIdToken(r);const l=new Wo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Map;function qo(n){ls(n instanceof Function,"Expected a class definition");let e=HP.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QF.type="NONE";const WP=QF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e,t){return`firebase:${n}:${e}:${t}`}class fu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,o),this.fullPersistenceKey=mg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new fu(qo(WP),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||qo(WP);const s=mg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(s);if(u){const d=Wo._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new fu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tV(e))return"Blackberry";if(nV(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||XF(e))&&!e.includes("edge/"))return"Chrome";if(eV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JF(n=fn()){return/firefox\//i.test(n)}function $T(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XF(n=fn()){return/crios\//i.test(n)}function ZF(n=fn()){return/iemobile/i.test(n)}function eV(n=fn()){return/android/i.test(n)}function tV(n=fn()){return/blackberry/i.test(n)}function nV(n=fn()){return/webos/i.test(n)}function v0(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F8(n=fn()){var e;return v0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V8(){return x6()&&document.documentMode===10}function rV(n=fn()){return v0(n)||eV(n)||nV(n)||tV(n)||/windows phone/i.test(n)||ZF(n)}function $8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n,e=[]){let t;switch(n){case"Browser":t=qP(fn());break;case"Worker":t=`${qP(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ad}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n,e={}){return Ma(n,"GET","/v2/passwordPolicy",Aa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=6;class U8{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:j8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KP(this),this.idTokenSubscription=new KP(this),this.beforeStateQueue=new B8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qo(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await GF(this,{idToken:e}),r=await Wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(co(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await by(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(co(this.app))return Promise.reject(Yo(this));const t=e?Cn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return co(this.app)?Promise.reject(Yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return co(this.app)?Promise.reject(Yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z8(this),t=new U8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await L8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qo(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await fu.create(this,[qo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_8(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ac(n){return Cn(n)}class KP{constructor(e){this.auth=e,this.observer=null,this.addObserver=D6(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W8(n){_0=n}function oV(n){return _0.loadJS(n)}function q8(){return _0.recaptchaEnterpriseScript}function K8(){return _0.gapiScript}function G8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const Y8="recaptcha-enterprise",Q8="NO_RECAPTCHA";class J8{constructor(e){this.type=Y8,this.auth=ac(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{C8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new k8(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;jP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Q8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&jP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=q8();l.length!==0&&(l+=a),oV(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function GP(n,e,t,r=!1){const i=new J8(n);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function rE(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await GP(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await GP(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(n,e){const t=ZS(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(kh(o,e??{}))return i;Yi(i,"already-initialized")}return t.initialize({options:e})}function Z8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(qo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e7(n,e,t){const r=ac(n);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sV(e),{host:s,port:a}=t7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),n7()}function sV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t7(n){const e=sV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:YP(s)}}}function YP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function n7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ho("not implemented")}_getIdTokenResponse(e){return Ho("not implemented")}_linkToIdToken(e,t){return Ho("not implemented")}_getReauthenticationResolver(e){return Ho("not implemented")}}async function r7(n,e){return Ma(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(n,e){return yp(n,"POST","/v1/accounts:signInWithPassword",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(n,e){return yp(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,e))}async function s7(n,e){return yp(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends BT{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $h(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $h(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,t,"signInWithPassword",i7);case"emailLink":return o7(e,{email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,r,"signUpPassword",r7);case"emailLink":return s7(e,{idToken:t,email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(n,e){return yp(n,"POST","/v1/accounts:signInWithIdp",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="http://localhost";class Wl extends BT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=NT(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Wl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return hu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hu(e,t)}buildRequest(){const e={requestUri:a7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ap(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c7(n){const e=Ef(Sf(n)).link,t=e?Ef(Sf(e)).deep_link_id:null,r=Ef(Sf(n)).deep_link_id;return(r?Ef(Sf(r)).link:null)||r||t||e||n}class zT{constructor(e){var t,r,i,o,s,a;const l=Ef(Sf(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=l7((i=l.mode)!==null&&i!==void 0?i:null);xe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=c7(e);try{return new zT(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.providerId=fd.PROVIDER_ID}static credential(e,t){return $h._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=zT.parseLink(t);return xe(r,"argument-error"),$h._fromEmailAndCode(e,r.code,r.tenantId)}}fd.PROVIDER_ID="password";fd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends aV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends vp{constructor(){super("facebook.com")}static credential(e){return Wl._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wl._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $s.credential(t,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends vp{constructor(){super("github.com")}static credential(e){return Wl._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends vp{constructor(){super("twitter.com")}static credential(e,t){return Wl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zs.credential(t,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(n,e){return yp(n,"POST","/v1/accounts:signUp",Aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Wo._fromIdTokenResponse(e,r,i),s=QP(r);return new ql({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=QP(r);return new ql({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function QP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends gs{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ey.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ey(e,t,r,i)}}function lV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(n,o,e,r):o})}async function d7(n,e,t=!1){const r=await Vh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ql._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(n,e,t=!1){const{auth:r}=n;if(co(r.app))return Promise.reject(Yo(r));const i="reauthenticate";try{const o=await Vh(n,lV(r,i,e,n),t);xe(o.idToken,r,"internal-error");const s=VT(o.idToken);xe(s,r,"internal-error");const{sub:a}=s;return xe(n.uid===a,r,"user-mismatch"),ql._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(n,e,t=!1){if(co(n.app))return Promise.reject(Yo(n));const r="signIn",i=await lV(n,r,e),o=await ql._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function h7(n,e){return cV(ac(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(n){const e=ac(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p7(n,e,t){if(co(n.app))return Promise.reject(Yo(n));const r=ac(n),s=await rE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uV(n),l}),a=await ql._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function m7(n,e,t){return co(n.app)?Promise.reject(Yo(n)):h7(Cn(n),fd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uV(n),r})}function g7(n,e,t,r){return Cn(n).onIdTokenChanged(e,t,r)}function y7(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}function jT(n,e,t,r){return Cn(n).onAuthStateChanged(e,t,r)}function v7(n){return Cn(n).signOut()}const Sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sy,"1"),this.storage.removeItem(Sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(){const n=fn();return $T(n)||v0(n)}const w7=1e3,b7=10;class fV extends dV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_7()&&$8(),this.fallbackToPolling=rV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);V8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,b7):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},w7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fV.type="LOCAL";const E7=fV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV extends dV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hV.type="SESSION";const pV=hV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new w0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(t.origin,o)),l=await S7(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}w0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=UT("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return window}function x7(n){_o().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return typeof _o().WorkerGlobalScope<"u"&&typeof _o().importScripts=="function"}async function I7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k7(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C7(){return mV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="firebaseLocalStorageDb",P7=1,Ty="firebaseLocalStorage",yV="fbase_key";class _p{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function b0(n,e){return n.transaction([Ty],e?"readwrite":"readonly").objectStore(Ty)}function R7(){const n=indexedDB.deleteDatabase(gV);return new _p(n).toPromise()}function iE(){const n=indexedDB.open(gV,P7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ty,{keyPath:yV})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ty)?e(r):(r.close(),await R7(),e(await iE()))})})}async function JP(n,e,t){const r=b0(n,!0).put({[yV]:e,value:t});return new _p(r).toPromise()}async function D7(n,e){const t=b0(n,!1).get(e),r=await new _p(t).toPromise();return r===void 0?null:r.value}function XP(n,e){const t=b0(n,!0).delete(e);return new _p(t).toPromise()}const A7=800,M7=3;class vV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>M7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=w0._getInstance(C7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await I7(),!this.activeServiceWorker)return;this.sender=new T7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iE();return await JP(e,Sy,"1"),await XP(e,Sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>JP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>D7(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=b0(i,!1).getAll();return new _p(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vV.type="LOCAL";const O7=vV;new gp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(n,e){return e?qo(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends BT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function L7(n){return cV(n.auth,new HT(n),n.bypassAuthState)}function F7(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),f7(t,new HT(n),n.bypassAuthState)}async function V7(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),d7(t,new HT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L7;case"linkViaPopup":case"linkViaRedirect":return V7;case"reauthViaPopup":case"reauthViaRedirect":return F7;default:Yi(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new gp(2e3,1e4);class tu extends _V{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,tu.currentPopupAction&&tu.currentPopupAction.cancel(),tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=UT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$7.get())};e()}}tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="pendingRedirect",gg=new Map;class z7 extends _V{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gg.get(this.auth._key());if(!e){try{const r=await j7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gg.set(this.auth._key(),e)}return this.bypassAuthState||gg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j7(n,e){const t=W7(e),r=H7(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function U7(n,e){gg.set(n._key(),e)}function H7(n){return qo(n._redirectPersistence)}function W7(n){return mg(B7,n.config.apiKey,n.name)}async function q7(n,e,t=!1){if(co(n.app))return Promise.reject(Yo(n));const r=ac(n),i=N7(r,e),s=await new z7(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=10*60*1e3;class G7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K7&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZP(e))}saveEventToCache(e){this.cachedEventUids.add(ZP(e)),this.lastProcessedEventTime=Date.now()}}function ZP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(n,e={}){return Ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X7=/^https?/;async function Z7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Q7(n);for(const t of e)try{if(eq(t))return}catch{}Yi(n,"unauthorized-domain")}function eq(n){const e=tE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!X7.test(t))return!1;if(J7.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new gp(3e4,6e4);function eR(){const n=_o().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nq(n){return new Promise((e,t)=>{var r,i,o;function s(){eR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eR(),t(vo(n,"network-request-failed"))},timeout:tq.get()})}if(!((i=(r=_o().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_o().gapi)===null||o===void 0)&&o.load)s();else{const a=G8("iframefcb");return _o()[a]=()=>{gapi.load?s():t(vo(n,"network-request-failed"))},oV(`${K8()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw yg=null,e})}let yg=null;function rq(n){return yg=yg||nq(n),yg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new gp(5e3,15e3),oq="__/auth/iframe",sq="emulator/auth/iframe",aq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cq(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?FT(e,sq):`https://${n.config.authDomain}/${oq}`,r={apiKey:e.apiKey,appName:n.name,v:ad},i=lq.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ap(r).slice(1)}`}async function uq(n){const e=await rq(n),t=_o().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:cq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=vo(n,"network-request-failed"),a=_o().setTimeout(()=>{o(s)},iq.get());function l(){_o().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fq=500,hq=600,pq="_blank",mq="http://localhost";class tR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gq(n,e,t,r=fq,i=hq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dq),{width:r.toString(),height:i.toString(),top:o,left:s}),c=fn().toLowerCase();t&&(a=XF(c)?pq:t),JF(c)&&(e=e||mq,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(F8(c)&&a!=="_self")return yq(e||"",a),new tR(null);const d=window.open(e||"",a,u);xe(d,n,"popup-blocked");try{d.focus()}catch{}return new tR(d)}function yq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="__/auth/handler",_q="emulator/auth/handler",wq=encodeURIComponent("fac");async function nR(n,e,t,r,i,o){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ad,eventId:i};if(e instanceof aV){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",R6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof vp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${wq}=${encodeURIComponent(l)}`:"";return`${bq(n)}?${ap(a).slice(1)}${c}`}function bq({config:n}){return n.emulator?FT(n,_q):`https://${n.authDomain}/${vq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="webStorageSupport";class Eq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pV,this._completeRedirectFn=q7,this._overrideRedirectResult=U7}async _openPopup(e,t,r,i){var o;ls((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await nR(e,t,r,tE(),i);return gq(e,s,UT())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await nR(e,t,r,tE(),i);return x7(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ls(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await uq(e),r=new G7(e);return t.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mw,{type:Mw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Mw];s!==void 0&&t(!!s),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rV()||$T()||v0()}}const Sq=Eq;var rR="@firebase/auth",iR="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iq(n){Pu(new Nl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;xe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iV(n)},c=new H8(r,i,o,l);return Z8(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pu(new Nl("auth-internal",e=>{const t=ac(e.getProvider("auth").getImmediate());return(r=>new Tq(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(rR,iR,xq(n)),la(rR,iR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=5*60,Cq=C2("authIdTokenMaxAge")||kq;let oR=null;const Pq=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Cq)return;const i=t==null?void 0:t.token;oR!==i&&(oR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rq(n=DU()){const e=ZS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=X8(n,{popupRedirectResolver:Sq,persistence:[O7,E7,pV]}),r=C2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Pq(o.toString());y7(t,s,()=>s(t.currentUser)),g7(t,a=>s(a))}}const i=_6("auth");return i&&e7(t,`http://${i}`),t}function Dq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=vo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Dq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iq("Browser");const Aq={apiKey:"AIzaSyASucm-e9qhEeoILvnWLXsdpdXlZe0J_7c",authDomain:"organica-74c63.firebaseapp.com",projectId:"organica-74c63",storageBucket:"organica-74c63.firebasestorage.app",messagingSenderId:"619750725397",appId:void 0},bV=M2(Aq),hd=qW(bV,{cacheSizeBytes:WW});KW(hd).catch(n=>{n.code==="failed-precondition"?console.error("Multiple tabs open, persistence can only be enabled in one tab at a time."):n.code==="unimplemented"&&console.error("The current browser does not support all of the features required to enable persistence")});const pd=Rq(bV),Mq=async(n,e)=>{try{return(await p7(pd,n,e)).user}catch(t){throw t}},Oq=async(n,e)=>{try{return(await m7(pd,n,e)).user}catch(t){throw t}},Nq=async()=>{try{await v7(pd)}catch(n){throw n}},Lq=()=>new Promise(n=>{jT(pd,e=>{n(!!e)})}),Fq=async()=>{try{await Nq()}catch(n){console.error("Error logging out:",n)}};var Vq=x;function $q(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var xy=$q(Vq),Bq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},sR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=zq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return xy.default.createElement("svg",Bq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),xy.default.createElement("path",{d:"M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"}))},jq=xy.default.memo?xy.default.memo(sR):sR,Uq=jq;const Hq=Xt(Uq);var Wq=x;function qq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Iy=qq(Wq),Kq=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gq=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},aR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Gq(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Iy.default.createElement("svg",Kq({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Iy.default.createElement("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"}))},Yq=Iy.default.memo?Iy.default.memo(aR):aR,Qq=Yq;const Jq=Xt(Qq);var Xq=x;function Zq(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var ky=Zq(Xq),eK=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tK=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},lR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=tK(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return ky.default.createElement("svg",eK({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),ky.default.createElement("path",{d:"M12 18c.714 0 1.37.25 1.886.666L12 21l-1.886-2.334A2.987 2.987 0 0 1 12 18zM2.808 1.393l17.677 17.678-1.414 1.414-5.18-5.18A5.994 5.994 0 0 0 12 15c-1.428 0-2.74.499-3.77 1.332l-1.256-1.556a7.963 7.963 0 0 1 4.622-1.766L9 10.414a10.969 10.969 0 0 0-3.912 2.029L3.83 10.887A12.984 12.984 0 0 1 7.416 8.83L5.132 6.545a16.009 16.009 0 0 0-3.185 2.007L.689 6.997c.915-.74 1.903-1.391 2.952-1.942L1.393 2.808l1.415-1.415zM14.5 10.285l-2.284-2.283L12 8c3.095 0 5.937 1.081 8.17 2.887l-1.258 1.556a10.96 10.96 0 0 0-4.412-2.158zM12 3c4.285 0 8.22 1.497 11.31 3.997l-1.257 1.555A15.933 15.933 0 0 0 12 5c-.878 0-1.74.07-2.58.207L7.725 3.51C9.094 3.177 10.527 3 12 3z"}))},nK=ky.default.memo?ky.default.memo(lR):lR,rK=nK;const iK=Xt(rK);var oK=x;function sK(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Cy=sK(oK),aK=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lK=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},cR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=lK(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Cy.default.createElement("svg",aK({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Cy.default.createElement("path",{d:"M13 10h5l-6 6-6-6h5V3h2v7zm-9 9h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7z"}))},cK=Cy.default.memo?Cy.default.memo(cR):cR,uK=cK;const dK=Xt(uK);var fK=x;function hK(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Py=hK(fK),pK=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mK=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},uR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=mK(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Py.default.createElement("svg",pK({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Py.default.createElement("path",{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}))},gK=Py.default.memo?Py.default.memo(uR):uR,yK=gK;const vK=Xt(yK);var _K=x;function wK(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Ry=wK(_K),bK=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EK=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},dR=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=EK(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return Ry.default.createElement("svg",bK({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Ry.default.createElement("path",{d:"M21 3v2c0 9.627-5.373 14-12 14H7.098c.212-3.012 1.15-4.835 3.598-7.001 1.204-1.065 1.102-1.68.509-1.327-4.084 2.43-6.112 5.714-6.202 10.958L5 22H3c0-1.363.116-2.6.346-3.732C3.116 16.974 3 15.218 3 13 3 7.477 7.477 3 13 3c2 0 4 1 8 0z"}))},SK=Ry.default.memo?Ry.default.memo(dR):dR,TK=SK;const xK=Xt(TK);function IK({toggleTheme:n,theme:e}){const[t,r]=x.useState(navigator.onLine);x.useEffect(()=>{const o=()=>{r(navigator.onLine)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]);const i=async()=>{try{const o=collection(db,"notes"),s=query(o,where("userId","==",user.uid)),l=(await getDocs(s)).docs.map(d=>({id:d.id,...d.data()})),c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),u=document.createElement("a");u.href=URL.createObjectURL(c),u.download="notes_backup.json",u.click(),URL.revokeObjectURL(u.href),console.log("Notes exported successfully!")}catch(o){console.error("Error exporting notes:",o)}};return N.jsxs("header",{children:[N.jsxs("h1",{children:[N.jsx(xK,{}),"Organica"]}),!t&&N.jsx(iK,{style:{color:"red",float:"right",margin:"10px"}}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:i,children:N.jsx(dK,{})}),N.jsx("button",{className:"dark-mode-button",style:{marginRight:"10px"},onClick:n,children:e==="light"?N.jsx(Hq,{}):N.jsx(Jq,{})}),N.jsx("button",{className:"dark-mode-button",onClick:()=>{Fq(),window.location.href="/login"},children:N.jsx(vK,{})})]})}var WT={},EV={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(EV);var Ri=EV.exports,Ow={};function L(){return L=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},L.apply(null,arguments)}function Bo(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function SV(n){if(!Bo(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=SV(n[t])}),e}function Xr(n,e,t={clone:!0}){const r=t.clone?L({},n):n;return Bo(n)&&Bo(e)&&Object.keys(e).forEach(i=>{Bo(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Bo(n[i])?r[i]=Xr(n[i],e[i],t):t.clone?r[i]=Bo(e[i])?SV(e[i]):e[i]:r[i]=e[i]}),r}const kK=Object.freeze(Object.defineProperty({__proto__:null,default:Xr,isPlainObject:Bo},Symbol.toStringTag,{value:"Module"}));function Kl(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}const CK=Object.freeze(Object.defineProperty({__proto__:null,default:Kl},Symbol.toStringTag,{value:"Module"}));var TV={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT=Symbol.for("react.element"),KT=Symbol.for("react.portal"),E0=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),PK=Symbol.for("react.server_context"),k0=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),D0=Symbol.for("react.lazy"),RK=Symbol.for("react.offscreen"),xV;xV=Symbol.for("react.module.reference");function Di(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case qT:switch(n=n.type,n){case E0:case T0:case S0:case C0:case P0:return n;default:switch(n=n&&n.$$typeof,n){case PK:case I0:case k0:case D0:case R0:case x0:return n;default:return e}}case KT:return e}}}dt.ContextConsumer=I0;dt.ContextProvider=x0;dt.Element=qT;dt.ForwardRef=k0;dt.Fragment=E0;dt.Lazy=D0;dt.Memo=R0;dt.Portal=KT;dt.Profiler=T0;dt.StrictMode=S0;dt.Suspense=C0;dt.SuspenseList=P0;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(n){return Di(n)===I0};dt.isContextProvider=function(n){return Di(n)===x0};dt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===qT};dt.isForwardRef=function(n){return Di(n)===k0};dt.isFragment=function(n){return Di(n)===E0};dt.isLazy=function(n){return Di(n)===D0};dt.isMemo=function(n){return Di(n)===R0};dt.isPortal=function(n){return Di(n)===KT};dt.isProfiler=function(n){return Di(n)===T0};dt.isStrictMode=function(n){return Di(n)===S0};dt.isSuspense=function(n){return Di(n)===C0};dt.isSuspenseList=function(n){return Di(n)===P0};dt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===E0||n===T0||n===S0||n===C0||n===P0||n===RK||typeof n=="object"&&n!==null&&(n.$$typeof===D0||n.$$typeof===R0||n.$$typeof===x0||n.$$typeof===I0||n.$$typeof===k0||n.$$typeof===xV||n.getModuleId!==void 0)};dt.typeOf=Di;TV.exports=dt;var fR=TV.exports;const DK=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function IV(n){const e=`${n}`.match(DK);return e&&e[1]||""}function kV(n,e=""){return n.displayName||n.name||IV(n)||e}function hR(n,e,t){const r=kV(e);return n.displayName||(r!==""?`${t}(${r})`:t)}function AK(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return kV(n,"Component");if(typeof n=="object")switch(n.$$typeof){case fR.ForwardRef:return hR(n,n.render,"ForwardRef");case fR.Memo:return hR(n,n.type,"memo");default:return}}}const MK=Object.freeze(Object.defineProperty({__proto__:null,default:AK,getFunctionName:IV},Symbol.toStringTag,{value:"Module"}));function Me(n){if(typeof n!="string")throw new Error(Kl(7));return n.charAt(0).toUpperCase()+n.slice(1)}const OK=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));function oE(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function GT(n,e=166){let t;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function NK(n,e){return()=>null}function vg(n,e){var t,r;return x.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Vr(n){return n&&n.ownerDocument||document}function Ea(n){return Vr(n).defaultView||window}function LK(n,e){return()=>null}function Dy(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const cs=typeof window<"u"?x.useLayoutEffect:x.useEffect;let pR=0;function FK(n){const[e,t]=x.useState(n),r=n||e;return x.useEffect(()=>{e==null&&(pR+=1,t(`mui-${pR}`))},[e]),r}const mR=oh.useId;function YT(n){if(mR!==void 0){const e=mR();return n??e}return FK(n)}function VK(n,e,t,r,i){return null}function sE({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=x.useRef(n!==void 0),[o,s]=x.useState(e),a=i?n:o,l=x.useCallback(c=>{i||s(c)},[]);return[a,l]}function cl(n){const e=x.useRef(n);return cs(()=>{e.current=n}),x.useRef((...t)=>(0,e.current)(...t)).current}function sr(...n){return x.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Dy(t,e)})},n)}const gR={};function $K(n,e){const t=x.useRef(gR);return t.current===gR&&(t.current=n(e)),t}const BK=[];function zK(n){x.useEffect(n,BK)}class A0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new A0}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function CV(){const n=$K(A0.create).current;return zK(n.disposeEffect),n}let M0=!0,aE=!1;const jK=new A0,UK={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function HK(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&UK[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function WK(n){n.metaKey||n.altKey||n.ctrlKey||(M0=!0)}function Nw(){M0=!1}function qK(){this.visibilityState==="hidden"&&aE&&(M0=!0)}function KK(n){n.addEventListener("keydown",WK,!0),n.addEventListener("mousedown",Nw,!0),n.addEventListener("pointerdown",Nw,!0),n.addEventListener("touchstart",Nw,!0),n.addEventListener("visibilitychange",qK,!0)}function GK(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return M0||HK(e)}function PV(){const n=x.useCallback(i=>{i!=null&&KK(i.ownerDocument)},[]),e=x.useRef(!1);function t(){return e.current?(aE=!0,jK.start(100,()=>{aE=!1}),e.current=!1,!0):!1}function r(i){return GK(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function RV(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function QT(n,e){const t=L({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=L({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=e[r];t[r]={},!o||!Object.keys(o)?t[r]=i:!i||!Object.keys(i)?t[r]=o:(t[r]=L({},o),Object.keys(i).forEach(s=>{t[r][s]=QT(i[s],o[s])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function Dt(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),t&&t[s]&&o.push(t[s])}return o},[]).join(" ")}),r}const yR=n=>n,YK=()=>{let n=yR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=yR}}},JT=YK(),QK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kt(n,e,t="Mui"){const r=QK[e];return r?`${t}-${r}`:`${JT.generate(n)}-${e}`}function gt(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=kt(n,i,t)}),r}function JK(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const XK=Object.freeze(Object.defineProperty({__proto__:null,default:JK},Symbol.toStringTag,{value:"Module"}));function Se(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function ZK(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:QT(e.components[t].defaultProps,r)}const eG=["values","unit","step"],tG=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>L({},t,{[r.key]:r.val}),{})};function DV(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Se(n,eG),o=tG(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${t})`}function c(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${t})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return L({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:t},i)}const nG={borderRadius:4};function Jf(n,e){return e?Xr(n,e,{clone:!1}):n}const XT={xs:0,sm:600,md:900,lg:1200,xl:1536},vR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${XT[n]}px)`};function us(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||vR;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=t(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||vR;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||XT).indexOf(a)!==-1){const l=o.up(a);s[l]=t(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return t(e)}function rG(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function iG(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function O0(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ay(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=O0(n,t)||r,e&&(i=e(i,r,n)),i}function on(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=O0(l,r)||{};return us(s,a,d=>{let h=Ay(c,i,d);return d===h&&typeof d=="string"&&(h=Ay(c,i,`${e}${d==="default"?"":Me(d)}`,d)),t===!1?h:{[t]:h}})};return o.propTypes={},o.filterProps=[e],o}function oG(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const sG={m:"margin",p:"padding"},aG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lG=oG(n=>{if(n.length>2)if(_R[n])n=_R[n];else return[n];const[e,t]=n.split(""),r=sG[e],i=aG[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),ZT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ex=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ZT,...ex];function wp(n,e,t,r){var i;const o=(i=O0(n,e,!1))!=null?i:t;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function AV(n){return wp(n,"spacing",8)}function bp(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function cG(n,e){return t=>n.reduce((r,i)=>(r[i]=bp(e,t),r),{})}function uG(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=lG(t),o=cG(i,r),s=n[t];return us(n,s,o)}function MV(n,e){const t=AV(n.theme);return Object.keys(n).map(r=>uG(n,e,r,t)).reduce(Jf,{})}function Wt(n){return MV(n,ZT)}Wt.propTypes={};Wt.filterProps=ZT;function qt(n){return MV(n,ex)}qt.propTypes={};qt.filterProps=ex;function dG(n=8){if(n.mui)return n;const e=AV({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return t.mui=!0,t}function N0(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Jf(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function gi(n){return typeof n!="number"?n:`${n}px solid`}function Ai(n,e){return on({prop:n,themeKey:"borders",transform:e})}const fG=Ai("border",gi),hG=Ai("borderTop",gi),pG=Ai("borderRight",gi),mG=Ai("borderBottom",gi),gG=Ai("borderLeft",gi),yG=Ai("borderColor"),vG=Ai("borderTopColor"),_G=Ai("borderRightColor"),wG=Ai("borderBottomColor"),bG=Ai("borderLeftColor"),EG=Ai("outline",gi),SG=Ai("outlineColor"),L0=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=wp(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:bp(e,r)});return us(n,n.borderRadius,t)}return null};L0.propTypes={};L0.filterProps=["borderRadius"];N0(fG,hG,pG,mG,gG,yG,vG,_G,wG,bG,L0,EG,SG);const F0=n=>{if(n.gap!==void 0&&n.gap!==null){const e=wp(n.theme,"spacing",8),t=r=>({gap:bp(e,r)});return us(n,n.gap,t)}return null};F0.propTypes={};F0.filterProps=["gap"];const V0=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=wp(n.theme,"spacing",8),t=r=>({columnGap:bp(e,r)});return us(n,n.columnGap,t)}return null};V0.propTypes={};V0.filterProps=["columnGap"];const $0=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=wp(n.theme,"spacing",8),t=r=>({rowGap:bp(e,r)});return us(n,n.rowGap,t)}return null};$0.propTypes={};$0.filterProps=["rowGap"];const TG=on({prop:"gridColumn"}),xG=on({prop:"gridRow"}),IG=on({prop:"gridAutoFlow"}),kG=on({prop:"gridAutoColumns"}),CG=on({prop:"gridAutoRows"}),PG=on({prop:"gridTemplateColumns"}),RG=on({prop:"gridTemplateRows"}),DG=on({prop:"gridTemplateAreas"}),AG=on({prop:"gridArea"});N0(F0,V0,$0,TG,xG,IG,kG,CG,PG,RG,DG,AG);function pu(n,e){return e==="grey"?e:n}const MG=on({prop:"color",themeKey:"palette",transform:pu}),OG=on({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pu}),NG=on({prop:"backgroundColor",themeKey:"palette",transform:pu});N0(MG,OG,NG);function qr(n){return n<=1&&n!==0?`${n*100}%`:n}const LG=on({prop:"width",transform:qr}),tx=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||XT[t];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:qr(t)}};return us(n,n.maxWidth,e)}return null};tx.filterProps=["maxWidth"];const FG=on({prop:"minWidth",transform:qr}),VG=on({prop:"height",transform:qr}),$G=on({prop:"maxHeight",transform:qr}),BG=on({prop:"minHeight",transform:qr});on({prop:"size",cssProperty:"width",transform:qr});on({prop:"size",cssProperty:"height",transform:qr});const zG=on({prop:"boxSizing"});N0(LG,tx,FG,VG,$G,BG,zG);const Ep={border:{themeKey:"borders",transform:gi},borderTop:{themeKey:"borders",transform:gi},borderRight:{themeKey:"borders",transform:gi},borderBottom:{themeKey:"borders",transform:gi},borderLeft:{themeKey:"borders",transform:gi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:L0},color:{themeKey:"palette",transform:pu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pu},backgroundColor:{themeKey:"palette",transform:pu},p:{style:qt},pt:{style:qt},pr:{style:qt},pb:{style:qt},pl:{style:qt},px:{style:qt},py:{style:qt},padding:{style:qt},paddingTop:{style:qt},paddingRight:{style:qt},paddingBottom:{style:qt},paddingLeft:{style:qt},paddingX:{style:qt},paddingY:{style:qt},paddingInline:{style:qt},paddingInlineStart:{style:qt},paddingInlineEnd:{style:qt},paddingBlock:{style:qt},paddingBlockStart:{style:qt},paddingBlockEnd:{style:qt},m:{style:Wt},mt:{style:Wt},mr:{style:Wt},mb:{style:Wt},ml:{style:Wt},mx:{style:Wt},my:{style:Wt},margin:{style:Wt},marginTop:{style:Wt},marginRight:{style:Wt},marginBottom:{style:Wt},marginLeft:{style:Wt},marginX:{style:Wt},marginY:{style:Wt},marginInline:{style:Wt},marginInlineStart:{style:Wt},marginInlineEnd:{style:Wt},marginBlock:{style:Wt},marginBlockStart:{style:Wt},marginBlockEnd:{style:Wt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:F0},rowGap:{style:$0},columnGap:{style:V0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qr},maxWidth:{style:tx},minWidth:{transform:qr},height:{transform:qr},maxHeight:{transform:qr},minHeight:{transform:qr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jG(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function UG(n,e){return typeof n=="function"?n(e):n}function OV(){function n(t,r,i,o){const s={[t]:r,theme:i},a=o[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const h=O0(i,c)||{};return d?d(s):us(s,r,m=>{let g=Ay(h,u,m);return m===g&&typeof m=="string"&&(g=Ay(h,u,`${t}${m==="default"?"":Me(m)}`,m)),l===!1?g:{[l]:g}})}function e(t){var r;const{sx:i,theme:o={}}=t||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Ep;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=rG(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=UG(c[p],o);if(m!=null)if(typeof m=="object")if(s[p])h=Jf(h,n(p,m,o,s));else{const g=us({theme:o},m,_=>({[p]:_}));jG(g,m)?h[p]=e({sx:m,theme:o}):h=Jf(h,g)}else h=Jf(h,n(p,m,o,s))}),iG(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const md=OV();md.filterProps=["sx"];function NV(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const HG=["breakpoints","palette","spacing","shape"];function Sp(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={}}=n,s=Se(n,HG),a=DV(t),l=dG(i);let c=Xr({breakpoints:a,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},nG,o)},s);return c.applyStyles=NV,c=e.reduce((u,d)=>Xr(u,d),c),c.unstable_sxConfig=L({},Ep,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return md({sx:d,theme:this})},c}const WG=Object.freeze(Object.defineProperty({__proto__:null,default:Sp,private_createBreakpoints:DV,unstable_applyStyles:NV},Symbol.toStringTag,{value:"Module"}));function LV(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,KG=LV(function(n){return qG.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function GG(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function YG(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var QG=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=GG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),er="-ms-",My="-moz-",et="-webkit-",FV="comm",nx="rule",rx="decl",JG="@import",VV="@keyframes",XG="@layer",ZG=Math.abs,B0=String.fromCharCode,eY=Object.assign;function tY(n,e){return Bn(n,0)^45?(((e<<2^Bn(n,0))<<2^Bn(n,1))<<2^Bn(n,2))<<2^Bn(n,3):0}function $V(n){return n.trim()}function nY(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function lE(n,e){return n.indexOf(e)}function Bn(n,e){return n.charCodeAt(e)|0}function Bh(n,e,t){return n.slice(e,t)}function ro(n){return n.length}function ix(n){return n.length}function Sm(n,e){return e.push(n),n}function rY(n,e){return n.map(e).join("")}var z0=1,$u=1,BV=0,Br=0,cn=0,gd="";function j0(n,e,t,r,i,o,s){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:z0,column:$u,length:s,return:""}}function ef(n,e){return eY(j0("",null,null,"",null,null,0),n,{length:-n.length},e)}function iY(){return cn}function oY(){return cn=Br>0?Bn(gd,--Br):0,$u--,cn===10&&($u=1,z0--),cn}function Zr(){return cn=Br<BV?Bn(gd,Br++):0,$u++,cn===10&&($u=1,z0++),cn}function wo(){return Bn(gd,Br)}function _g(){return Br}function Tp(n,e){return Bh(gd,n,e)}function zh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zV(n){return z0=$u=1,BV=ro(gd=n),Br=0,[]}function jV(n){return gd="",n}function wg(n){return $V(Tp(Br-1,cE(n===91?n+2:n===40?n+1:n)))}function sY(n){for(;(cn=wo())&&cn<33;)Zr();return zh(n)>2||zh(cn)>3?"":" "}function aY(n,e){for(;--e&&Zr()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Tp(n,_g()+(e<6&&wo()==32&&Zr()==32))}function cE(n){for(;Zr();)switch(cn){case n:return Br;case 34:case 39:n!==34&&n!==39&&cE(cn);break;case 40:n===41&&cE(n);break;case 92:Zr();break}return Br}function lY(n,e){for(;Zr()&&n+cn!==57;)if(n+cn===84&&wo()===47)break;return"/*"+Tp(e,Br-1)+"*"+B0(n===47?n:Zr())}function cY(n){for(;!zh(wo());)Zr();return Tp(n,Br)}function uY(n){return jV(bg("",null,null,null,[""],n=zV(n),0,[0],n))}function bg(n,e,t,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,m=0,g=1,_=1,v=1,w=0,b="",k=i,P=o,M=r,S=b;_;)switch(m=w,w=Zr()){case 40:if(m!=108&&Bn(S,d-1)==58){lE(S+=tt(wg(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=wg(w);break;case 9:case 10:case 13:case 32:S+=sY(m);break;case 92:S+=aY(_g()-1,7);continue;case 47:switch(wo()){case 42:case 47:Sm(dY(lY(Zr(),_g()),e,t),l);break;default:S+="/"}break;case 123*g:a[c++]=ro(S)*v;case 125*g:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+u:v==-1&&(S=tt(S,/\f/g,"")),p>0&&ro(S)-d&&Sm(p>32?bR(S+";",r,t,d-1):bR(tt(S," ","")+";",r,t,d-2),l);break;case 59:S+=";";default:if(Sm(M=wR(S,e,t,c,u,i,a,b,k=[],P=[],d),o),w===123)if(u===0)bg(S,e,M,M,k,o,d,a,P);else switch(h===99&&Bn(S,3)===110?100:h){case 100:case 108:case 109:case 115:bg(n,M,M,r&&Sm(wR(n,M,M,0,0,i,a,b,i,k=[],d),P),i,P,d,a,r?k:P);break;default:bg(S,M,M,M,[""],P,0,a,P)}}c=u=p=0,g=v=1,b=S="",d=s;break;case 58:d=1+ro(S),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&oY()==125)continue}switch(S+=B0(w),w*g){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(ro(S)-1)*v,v=1;break;case 64:wo()===45&&(S+=wg(Zr())),h=wo(),u=d=ro(b=S+=cY(_g())),w++;break;case 45:m===45&&ro(S)==2&&(g=0)}}return o}function wR(n,e,t,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=ix(h),m=0,g=0,_=0;m<r;++m)for(var v=0,w=Bh(n,d+1,d=ZG(g=s[m])),b=n;v<p;++v)(b=$V(g>0?h[v]+" "+w:tt(w,/&\f/g,h[v])))&&(l[_++]=b);return j0(n,e,t,i===0?nx:a,l,c,u)}function dY(n,e,t){return j0(n,e,t,FV,B0(iY()),Bh(n,2,-2),0)}function bR(n,e,t,r){return j0(n,e,t,rx,Bh(n,0,r),Bh(n,r+1,-1),r)}function mu(n,e){for(var t="",r=ix(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function fY(n,e,t,r){switch(n.type){case XG:if(n.children.length)break;case JG:case rx:return n.return=n.return||n.value;case FV:return"";case VV:return n.return=n.value+"{"+mu(n.children,r)+"}";case nx:n.value=n.props.join(",")}return ro(t=mu(n.children,r))?n.return=n.value+"{"+t+"}":""}function hY(n){var e=ix(n);return function(t,r,i,o){for(var s="",a=0;a<e;a++)s+=n[a](t,r,i,o)||"";return s}}function pY(n){return function(e){e.root||(e=e.return)&&n(e)}}var mY=function(e,t,r){for(var i=0,o=0;i=o,o=wo(),i===38&&o===12&&(t[r]=1),!zh(o);)Zr();return Tp(e,Br)},gY=function(e,t){var r=-1,i=44;do switch(zh(i)){case 0:i===38&&wo()===12&&(t[r]=1),e[r]+=mY(Br-1,t,r);break;case 2:e[r]+=wg(i);break;case 4:if(i===44){e[++r]=wo()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=B0(i)}while(i=Zr());return e},yY=function(e,t){return jV(gY(zV(e),t))},ER=new WeakMap,vY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ER.get(r))&&!i){ER.set(e,!0);for(var o=[],s=yY(t,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},_Y=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function UV(n,e){switch(tY(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+My+n+er+n+n;case 6828:case 4268:return et+n+er+n+n;case 6165:return et+n+er+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+er+"flex-$1$2")+n;case 5443:return et+n+er+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+er+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+er+tt(n,"shrink","negative")+n;case 5292:return et+n+er+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+er+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ro(n)-1-e>6)switch(Bn(n,e+1)){case 109:if(Bn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+My+(Bn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~lE(n,"stretch")?UV(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Bn(n,e+1)!==115)break;case 6444:switch(Bn(n,ro(n)-3-(~lE(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(Bn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+er+"$2box$3")+n}break;case 5936:switch(Bn(n,e+11)){case 114:return et+n+er+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+er+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+er+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+er+n+n}return n}var wY=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case rx:e.return=UV(e.value,e.length);break;case VV:return mu([ef(e,{value:tt(e.value,"@","@"+et)})],i);case nx:if(e.length)return rY(e.props,function(o){switch(nY(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mu([ef(e,{props:[tt(o,/:(read-\w+)/,":"+My+"$1")]})],i);case"::placeholder":return mu([ef(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),ef(e,{props:[tt(o,/:(plac\w+)/,":"+My+"$1")]}),ef(e,{props:[tt(o,/:(plac\w+)/,er+"input-$1")]})],i)}return""})}},bY=[wY],HV=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var _=g.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||bY,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var _=g.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)o[_[v]]=!0;a.push(g)});var l,c=[vY,_Y];{var u,d=[fY,pY(function(g){u.insert(g)})],h=hY(c.concat(i,d)),p=function(_){return mu(uY(_),h)};l=function(_,v,w,b){u=w,p(_?_+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:t,sheet:new QG({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},WV={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var An=typeof Symbol=="function"&&Symbol.for,ox=An?Symbol.for("react.element"):60103,sx=An?Symbol.for("react.portal"):60106,U0=An?Symbol.for("react.fragment"):60107,H0=An?Symbol.for("react.strict_mode"):60108,W0=An?Symbol.for("react.profiler"):60114,q0=An?Symbol.for("react.provider"):60109,K0=An?Symbol.for("react.context"):60110,ax=An?Symbol.for("react.async_mode"):60111,G0=An?Symbol.for("react.concurrent_mode"):60111,Y0=An?Symbol.for("react.forward_ref"):60112,Q0=An?Symbol.for("react.suspense"):60113,EY=An?Symbol.for("react.suspense_list"):60120,J0=An?Symbol.for("react.memo"):60115,X0=An?Symbol.for("react.lazy"):60116,SY=An?Symbol.for("react.block"):60121,TY=An?Symbol.for("react.fundamental"):60117,xY=An?Symbol.for("react.responder"):60118,IY=An?Symbol.for("react.scope"):60119;function si(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case ox:switch(n=n.type,n){case ax:case G0:case U0:case W0:case H0:case Q0:return n;default:switch(n=n&&n.$$typeof,n){case K0:case Y0:case X0:case J0:case q0:return n;default:return e}}case sx:return e}}}function qV(n){return si(n)===G0}ft.AsyncMode=ax;ft.ConcurrentMode=G0;ft.ContextConsumer=K0;ft.ContextProvider=q0;ft.Element=ox;ft.ForwardRef=Y0;ft.Fragment=U0;ft.Lazy=X0;ft.Memo=J0;ft.Portal=sx;ft.Profiler=W0;ft.StrictMode=H0;ft.Suspense=Q0;ft.isAsyncMode=function(n){return qV(n)||si(n)===ax};ft.isConcurrentMode=qV;ft.isContextConsumer=function(n){return si(n)===K0};ft.isContextProvider=function(n){return si(n)===q0};ft.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===ox};ft.isForwardRef=function(n){return si(n)===Y0};ft.isFragment=function(n){return si(n)===U0};ft.isLazy=function(n){return si(n)===X0};ft.isMemo=function(n){return si(n)===J0};ft.isPortal=function(n){return si(n)===sx};ft.isProfiler=function(n){return si(n)===W0};ft.isStrictMode=function(n){return si(n)===H0};ft.isSuspense=function(n){return si(n)===Q0};ft.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===U0||n===G0||n===W0||n===H0||n===Q0||n===EY||typeof n=="object"&&n!==null&&(n.$$typeof===X0||n.$$typeof===J0||n.$$typeof===q0||n.$$typeof===K0||n.$$typeof===Y0||n.$$typeof===TY||n.$$typeof===xY||n.$$typeof===IY||n.$$typeof===SY)};ft.typeOf=si;WV.exports=ft;var kY=WV.exports,KV=kY,CY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},PY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GV={};GV[KV.ForwardRef]=CY;GV[KV.Memo]=PY;var RY=!0;function DY(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var YV=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||RY===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},QV=function(e,t,r){YV(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function AY(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var MY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},OY=/[A-Z]|^ms/g,NY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JV=function(e){return e.charCodeAt(1)===45},SR=function(e){return e!=null&&typeof e!="boolean"},Lw=LV(function(n){return JV(n)?n:n.replace(OY,"-$&").toLowerCase()}),TR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(NY,function(r,i,o){return io={name:i,styles:o,next:io},i})}return MY[e]!==1&&!JV(e)&&typeof t=="number"&&t!==0?t+"px":t};function jh(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return io={name:t.name,styles:t.styles,next:io},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)io={name:r.name,styles:r.styles,next:io},r=r.next;var i=t.styles+";";return i}return LY(n,e,t)}case"function":{if(n!==void 0){var o=io,s=t(n);return io=o,jh(n,e,s)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function LY(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=jh(n,e,t[i])+";";else for(var o in t){var s=t[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":SR(s)&&(r+=Lw(o)+":"+TR(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)SR(s[a])&&(r+=Lw(o)+":"+TR(o,s[a])+";");else{var l=jh(n,e,s);switch(o){case"animation":case"animationName":{r+=Lw(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var xR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,io,lx=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";io=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=jh(r,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=jh(r,t,e[a]),i&&(o+=s[a]);xR.lastIndex=0;for(var l="",c;(c=xR.exec(o))!==null;)l+="-"+c[1];var u=AY(o)+l;return{name:u,styles:o,next:io}},FY=function(e){return e()},XV=oh.useInsertionEffect?oh.useInsertionEffect:!1,VY=XV||FY,IR=XV||x.useLayoutEffect,ZV=x.createContext(typeof HTMLElement<"u"?HV({key:"css"}):null),$Y=ZV.Provider,e$=function(e){return x.forwardRef(function(t,r){var i=x.useContext(ZV);return e(t,i,r)})},Z0=x.createContext({}),Fw={exports:{}},kR;function t$(){return kR||(kR=1,function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Fw)),Fw.exports}t$();var BY=e$(function(n,e){var t=n.styles,r=lx([t],void 0,x.useContext(Z0)),i=x.useRef();return IR(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),IR(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&QV(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function n$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return lx(e)}var e_=function(){var e=n$.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},zY=KG,jY=function(e){return e!=="theme"},CR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?zY:jY},PR=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},UY=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return YV(t,r,i),VY(function(){return QV(t,r,i)}),null},HY=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;t!==void 0&&(o=t.label,s=t.target);var a=PR(e,t,r),l=a||CR(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=e$(function(g,_,v){var w=c&&g.as||i,b="",k=[],P=g;if(g.theme==null){P={};for(var M in g)P[M]=g[M];P.theme=x.useContext(Z0)}typeof g.className=="string"?b=DY(_.registered,k,g.className):g.className!=null&&(b=g.className+" ");var S=lx(d.concat(k),_.registered,P);b+=_.key+"-"+S.name,s!==void 0&&(b+=" "+s);var E=c&&a===void 0?CR(w):l,I={};for(var C in g)c&&C==="as"||E(C)&&(I[C]=g[C]);return I.className=b,I.ref=v,x.createElement(x.Fragment,null,x.createElement(UY,{cache:_,serialized:S,isStringTag:typeof w=="string"}),x.createElement(w,I))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(g,_){return n(g,L({},t,_,{shouldForwardProp:PR(m,_,!0)})).apply(void 0,d)},m}},WY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uE=HY.bind();WY.forEach(function(n){uE[n]=uE(n)});let dE;typeof document=="object"&&(dE=HV({key:"css",prepend:!0}));function qY(n){const{injectFirst:e,children:t}=n;return e&&dE?N.jsx($Y,{value:dE,children:t}):t}function KY(n){return n==null||Object.keys(n).length===0}function r$(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(KY(i)?t:i):e;return N.jsx(BY,{styles:r})}function cx(n,e){return uE(n,e)}const i$=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},GY=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:r$,StyledEngineProvider:qY,ThemeContext:Z0,css:n$,default:cx,internal_processStyles:i$,keyframes:e_},Symbol.toStringTag,{value:"Module"}));function YY(n){return Object.keys(n).length===0}function QY(n=null){const e=x.useContext(Z0);return!e||YY(e)?n:e}const JY=Sp();function t_(n=JY){return QY(n)}function o$({props:n,name:e,defaultTheme:t,themeId:r}){let i=t_(t);return r&&(i=i[r]||i),ZK({theme:i,name:e,props:n})}const XY=["sx"],ZY=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:Ep;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function ux(n){const{sx:e}=n,t=Se(n,XY),{systemProps:r,otherProps:i}=ZY(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Bo(a)?L({},r,a):r}:o=L({},r,e),L({},i,{sx:o})}const eQ=Object.freeze(Object.defineProperty({__proto__:null,default:md,extendSxProp:ux,unstable_createStyleFunctionSx:OV,unstable_defaultSxConfig:Ep},Symbol.toStringTag,{value:"Module"}));function tQ(n,e){return L({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}var sn={};const nQ=ps(CK),rQ=ps(XK);var s$=Ri;Object.defineProperty(sn,"__esModule",{value:!0});var ho=sn.alpha=u$;sn.blend=gQ;sn.colorChannel=void 0;var iQ=sn.darken=fx;sn.decomposeColor=ki;sn.emphasize=d$;var oQ=sn.getContrastRatio=dQ;sn.getLuminance=Oy;sn.hexToRgb=a$;sn.hslToRgb=c$;var sQ=sn.lighten=hx;sn.private_safeAlpha=fQ;sn.private_safeColorChannel=void 0;sn.private_safeDarken=hQ;sn.private_safeEmphasize=mQ;sn.private_safeLighten=pQ;sn.recomposeColor=yd;sn.rgbToHex=uQ;var RR=s$(nQ),aQ=s$(rQ);function dx(n,e=0,t=1){return(0,aQ.default)(n,e,t)}function a$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lQ(n){const e=n.toString(16);return e.length===1?`0${e}`:e}function ki(n){if(n.type)return n;if(n.charAt(0)==="#")return ki(a$(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error((0,RR.default)(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,RR.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const l$=n=>{const e=ki(n);return e.values.slice(0,3).map((t,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${t}%`:t).join(" ")};sn.colorChannel=l$;const cQ=(n,e)=>{try{return l$(n)}catch{return n}};sn.private_safeColorChannel=cQ;function yd(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function uQ(n){if(n.indexOf("#")===0)return n;const{values:e}=ki(n);return`#${e.map((t,r)=>lQ(r===3?Math.round(255*t):t)).join("")}`}function c$(n){n=ki(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+t/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),yd({type:a,values:l})}function Oy(n){n=ki(n);let e=n.type==="hsl"||n.type==="hsla"?ki(c$(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function dQ(n,e){const t=Oy(n),r=Oy(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function u$(n,e){return n=ki(n),e=dx(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,yd(n)}function fQ(n,e,t){try{return u$(n,e)}catch{return n}}function fx(n,e){if(n=ki(n),e=dx(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return yd(n)}function hQ(n,e,t){try{return fx(n,e)}catch{return n}}function hx(n,e){if(n=ki(n),e=dx(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return yd(n)}function pQ(n,e,t){try{return hx(n,e)}catch{return n}}function d$(n,e=.15){return Oy(n)>.5?fx(n,e):hx(n,e)}function mQ(n,e,t){try{return d$(n,e)}catch{return n}}function gQ(n,e,t,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-t)+c**(1/r)*t)**r),o=ki(n),s=ki(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return yd({type:"rgb",values:a})}const Uh={black:"#000",white:"#fff"},yQ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ec={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},tf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ic={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},vQ=["mode","contrastThreshold","tonalOffset"],DR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Uh.white,default:Uh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vw={text:{primary:Uh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Uh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function AR(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=sQ(n.main,i):e==="dark"&&(n.dark=iQ(n.main,o)))}function _Q(n="light"){return n==="dark"?{main:Tc[200],light:Tc[50],dark:Tc[400]}:{main:Tc[700],light:Tc[400],dark:Tc[800]}}function wQ(n="light"){return n==="dark"?{main:Ec[200],light:Ec[50],dark:Ec[400]}:{main:Ec[500],light:Ec[300],dark:Ec[700]}}function bQ(n="light"){return n==="dark"?{main:Sc[500],light:Sc[300],dark:Sc[700]}:{main:Sc[700],light:Sc[400],dark:Sc[800]}}function EQ(n="light"){return n==="dark"?{main:xc[400],light:xc[300],dark:xc[700]}:{main:xc[700],light:xc[500],dark:xc[900]}}function SQ(n="light"){return n==="dark"?{main:Ic[400],light:Ic[300],dark:Ic[700]}:{main:Ic[800],light:Ic[500],dark:Ic[900]}}function TQ(n="light"){return n==="dark"?{main:tf[400],light:tf[300],dark:tf[700]}:{main:"#ed6c02",light:tf[500],dark:tf[900]}}function xQ(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Se(n,vQ),o=n.primary||_Q(e),s=n.secondary||wQ(e),a=n.error||bQ(e),l=n.info||EQ(e),c=n.success||SQ(e),u=n.warning||TQ(e);function d(g){return oQ(g,Vw.text.primary)>=t?Vw.text.primary:DR.text.primary}const h=({color:g,name:_,mainShade:v=500,lightShade:w=300,darkShade:b=700})=>{if(g=L({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(Kl(11,_?` (${_})`:"",v));if(typeof g.main!="string")throw new Error(Kl(12,_?` (${_})`:"",JSON.stringify(g.main)));return AR(g,"light",w,r),AR(g,"dark",b,r),g.contrastText||(g.contrastText=d(g.main)),g},p={dark:Vw,light:DR};return Xr(L({common:L({},Uh),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:yQ,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const IQ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function kQ(n){return Math.round(n*1e5)/1e5}const MR={textTransform:"uppercase"},OR='"Roboto", "Helvetica", "Arial", sans-serif';function CQ(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=OR,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,h=Se(t,IQ),p=i/14,m=d||(v=>`${v/c*p}rem`),g=(v,w,b,k,P)=>L({fontFamily:r,fontWeight:v,fontSize:m(w),lineHeight:b},r===OR?{letterSpacing:`${kQ(k/w)}em`}:{},P,u),_={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,MR),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,MR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Xr(L({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const PQ=.2,RQ=.14,DQ=.12;function Ct(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${PQ})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${RQ})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${DQ})`].join(",")}const AQ=["none",Ct(0,2,1,-1,0,1,1,0,0,1,3,0),Ct(0,3,1,-2,0,2,2,0,0,1,5,0),Ct(0,3,3,-2,0,3,4,0,0,1,8,0),Ct(0,2,4,-1,0,4,5,0,0,1,10,0),Ct(0,3,5,-1,0,5,8,0,0,1,14,0),Ct(0,3,5,-1,0,6,10,0,0,1,18,0),Ct(0,4,5,-2,0,7,10,1,0,2,16,1),Ct(0,5,5,-3,0,8,10,1,0,3,14,2),Ct(0,5,6,-3,0,9,12,1,0,3,16,2),Ct(0,6,6,-3,0,10,14,1,0,4,18,3),Ct(0,6,7,-4,0,11,15,1,0,4,20,3),Ct(0,7,8,-4,0,12,17,2,0,5,22,4),Ct(0,7,8,-4,0,13,19,2,0,5,24,4),Ct(0,7,9,-4,0,14,21,2,0,5,26,4),Ct(0,8,9,-5,0,15,22,2,0,6,28,5),Ct(0,8,10,-5,0,16,24,2,0,6,30,5),Ct(0,8,11,-5,0,17,26,2,0,6,32,5),Ct(0,9,11,-5,0,18,28,2,0,7,34,6),Ct(0,9,12,-6,0,19,29,2,0,7,36,6),Ct(0,10,13,-6,0,20,31,3,0,8,38,7),Ct(0,10,13,-6,0,21,33,3,0,8,40,7),Ct(0,10,14,-6,0,22,35,3,0,8,42,7),Ct(0,11,14,-7,0,23,36,3,0,9,44,8),Ct(0,11,15,-7,0,24,38,3,0,9,46,8)],MQ=["duration","easing","delay"],OQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},NQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NR(n){return`${Math.round(n)}ms`}function LQ(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function FQ(n){const e=L({},OQ,n.easing),t=L({},NQ,n.duration);return L({getAutoHeightDuration:LQ,create:(i=["all"],o={})=>{const{duration:s=t.standard,easing:a=e.easeInOut,delay:l=0}=o;return Se(o,MQ),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:NR(s)} ${a} ${typeof l=="string"?l:NR(l)}`).join(",")}},n,{easing:e,duration:t})}const VQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},$Q=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function f$(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:o={}}=n,s=Se(n,$Q);if(n.vars)throw new Error(Kl(18));const a=xQ(r),l=Sp(n);let c=Xr(l,{mixins:tQ(l.breakpoints,t),palette:a,shadows:AQ.slice(),typography:CQ(a,o),transitions:FQ(i),zIndex:L({},VQ)});return c=Xr(c,s),c=e.reduce((u,d)=>Xr(u,d),c),c.unstable_sxConfig=L({},Ep,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return md({sx:d,theme:this})},c}const n_=f$(),xp="$$material";function At({props:n,name:e}){return o$({props:n,name:e,defaultTheme:n_,themeId:xp})}var Ip={},$w={exports:{}},LR;function BQ(){return LR||(LR=1,function(n){function e(t,r){if(t==null)return{};var i={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;i[o]=t[o]}return i}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}($w)),$w.exports}const zQ=ps(GY),jQ=ps(kK),UQ=ps(OK),HQ=ps(MK),WQ=ps(WG),qQ=ps(eQ);var vd=Ri;Object.defineProperty(Ip,"__esModule",{value:!0});var KQ=Ip.default=sJ;Ip.shouldForwardProp=Eg;Ip.systemDefaultTheme=void 0;var ui=vd(t$()),fE=vd(BQ()),FR=eJ(zQ),GQ=jQ;vd(UQ);vd(HQ);var YQ=vd(WQ),QQ=vd(qQ);const JQ=["ownerState"],XQ=["variants"],ZQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h$(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(h$=function(r){return r?t:e})(n)}function eJ(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=h$(e);if(t&&t.has(n))return t.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var s=i?Object.getOwnPropertyDescriptor(n,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=n[o]}return r.default=n,t&&t.set(n,r),r}function tJ(n){return Object.keys(n).length===0}function nJ(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Eg(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const rJ=Ip.systemDefaultTheme=(0,YQ.default)(),iJ=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function Tm({defaultTheme:n,theme:e,themeId:t}){return tJ(e)?n:e[t]||e}function oJ(n){return n?(e,t)=>t[n]:null}function Sg(n,e){let{ownerState:t}=e,r=(0,fE.default)(e,JQ);const i=typeof n=="function"?n((0,ui.default)({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(o=>Sg(o,(0,ui.default)({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,fE.default)(i,XQ);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,ui.default)({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ui.default)({ownerState:t},r,t)):l.style))}),a}return i}function sJ(n={}){const{themeId:e,defaultTheme:t=rJ,rootShouldForwardProp:r=Eg,slotShouldForwardProp:i=Eg}=n,o=s=>(0,QQ.default)((0,ui.default)({},s,{theme:Tm((0,ui.default)({},s,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,FR.internal_processStyles)(s,P=>P.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=oJ(iJ(c))}=a,p=(0,fE.default)(a,ZQ),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let _,v=Eg;c==="Root"||c==="root"?v=r:c?v=i:nJ(s)&&(v=void 0);const w=(0,FR.default)(s,(0,ui.default)({shouldForwardProp:v,label:_},p)),b=P=>typeof P=="function"&&P.__emotion_real!==P||(0,GQ.isPlainObject)(P)?M=>Sg(P,(0,ui.default)({},M,{theme:Tm({theme:M.theme,defaultTheme:t,themeId:e})})):P,k=(P,...M)=>{let S=b(P);const E=M?M.map(b):[];l&&h&&E.push(A=>{const O=Tm((0,ui.default)({},A,{defaultTheme:t,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const R=O.components[l].styleOverrides,U={};return Object.entries(R).forEach(([K,H])=>{U[K]=Sg(H,(0,ui.default)({},A,{theme:O}))}),h(A,U)}),l&&!m&&E.push(A=>{var O;const R=Tm((0,ui.default)({},A,{defaultTheme:t,themeId:e})),U=R==null||(O=R.components)==null||(O=O[l])==null?void 0:O.variants;return Sg({variants:U},(0,ui.default)({},A,{theme:R}))}),g||E.push(o);const I=E.length-M.length;if(Array.isArray(P)&&I>0){const A=new Array(I).fill("");S=[...P,...A],S.raw=[...P.raw,...A]}const C=w(S,...E);return s.muiName&&(C.muiName=s.muiName),C};return w.withConfig&&(k.withConfig=w.withConfig),k}}function p$(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ai=n=>p$(n)&&n!=="classes",Ie=KQ({themeId:xp,defaultTheme:n_,rootShouldForwardProp:ai});function aJ(n){return kt("MuiSvgIcon",n)}gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const lJ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cJ=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Me(e)}`,`fontSize${Me(t)}`]};return Dt(i,aJ,r)},uJ=Ie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Me(t.color)}`],e[`fontSize${Me(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,o,s,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(n.vars||n).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(n.vars||n).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),hE=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Se(r,lJ),m=x.isValidElement(i)&&i.type==="svg",g=L({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),_={};u||(_.viewBox=h);const v=cJ(g);return N.jsxs(uJ,L({as:a,className:de(v.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},_,p,m&&i.props,{ownerState:g,children:[m?i.props.children:i,d?N.jsx("title",{children:d}):null]}))});hE.muiName="SvgIcon";function px(n,e){function t(r,i){return N.jsx(hE,L({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=hE.muiName,x.memo(x.forwardRef(t))}const dJ={configure:n=>{JT.configure(n)}},fJ=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Me,createChainedFunction:oE,createSvgIcon:px,debounce:GT,deprecatedPropType:NK,isMuiElement:vg,ownerDocument:Vr,ownerWindow:Ea,requirePropFactory:LK,setRef:Dy,unstable_ClassNameGenerator:dJ,unstable_useEnhancedEffect:cs,unstable_useId:YT,unsupportedProp:VK,useControlled:sE,useEventCallback:cl,useForkRef:sr,useIsFocusVisible:PV},Symbol.toStringTag,{value:"Module"})),hJ=ps(fJ);var VR;function ko(){return VR||(VR=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=hJ}(Ow)),Ow}var pJ=Ri;Object.defineProperty(WT,"__esModule",{value:!0});var mx=WT.default=void 0,mJ=pJ(ko()),gJ=N;mx=WT.default=(0,mJ.default)((0,gJ.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Ln=[];for(var Bw=0;Bw<256;++Bw)Ln.push((Bw+256).toString(16).slice(1));function yJ(n,e=0){return(Ln[n[e+0]]+Ln[n[e+1]]+Ln[n[e+2]]+Ln[n[e+3]]+"-"+Ln[n[e+4]]+Ln[n[e+5]]+"-"+Ln[n[e+6]]+Ln[n[e+7]]+"-"+Ln[n[e+8]]+Ln[n[e+9]]+"-"+Ln[n[e+10]]+Ln[n[e+11]]+Ln[n[e+12]]+Ln[n[e+13]]+Ln[n[e+14]]+Ln[n[e+15]]).toLowerCase()}var xm,vJ=new Uint8Array(16);function _J(){if(!xm&&(xm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xm(vJ)}var wJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const $R={randomUUID:wJ};function bJ(n,e,t){if($R.randomUUID&&!e&&!n)return $R.randomUUID();n=n||{};var r=n.random||(n.rng||_J)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,yJ(r)}function EJ({styles:n,themeId:e,defaultTheme:t={}}){const r=t_(t),i=typeof n=="function"?n(e&&r[e]||r):n;return N.jsx(r$,{styles:i})}const SJ=["className","component"];function TJ(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=cx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(md);return x.forwardRef(function(l,c){const u=t_(t),d=ux(l),{className:h,component:p="div"}=d,m=Se(d,SJ);return N.jsx(o,L({as:p,ref:c,className:de(h,i?i(r):r),theme:e&&u[e]||u},m))})}const xJ=["ownerState"],IJ=["variants"],kJ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function CJ(n){return Object.keys(n).length===0}function PJ(n){return typeof n=="string"&&n.charCodeAt(0)>96}function zw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const RJ=Sp(),DJ=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function Im({defaultTheme:n,theme:e,themeId:t}){return CJ(e)?n:e[t]||e}function AJ(n){return n?(e,t)=>t[n]:null}function Tg(n,e){let{ownerState:t}=e,r=Se(e,xJ);const i=typeof n=="function"?n(L({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(o=>Tg(o,L({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=Se(i,IJ);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(L({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(L({ownerState:t},r,t)):l.style))}),a}return i}function MJ(n={}){const{themeId:e,defaultTheme:t=RJ,rootShouldForwardProp:r=zw,slotShouldForwardProp:i=zw}=n,o=s=>md(L({},s,{theme:Im(L({},s,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{i$(s,P=>P.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=AJ(DJ(c))}=a,p=Se(a,kJ),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let _,v=zw;c==="Root"||c==="root"?v=r:c?v=i:PJ(s)&&(v=void 0);const w=cx(s,L({shouldForwardProp:v,label:_},p)),b=P=>typeof P=="function"&&P.__emotion_real!==P||Bo(P)?M=>Tg(P,L({},M,{theme:Im({theme:M.theme,defaultTheme:t,themeId:e})})):P,k=(P,...M)=>{let S=b(P);const E=M?M.map(b):[];l&&h&&E.push(A=>{const O=Im(L({},A,{defaultTheme:t,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const R=O.components[l].styleOverrides,U={};return Object.entries(R).forEach(([K,H])=>{U[K]=Tg(H,L({},A,{theme:O}))}),h(A,U)}),l&&!m&&E.push(A=>{var O;const R=Im(L({},A,{defaultTheme:t,themeId:e})),U=R==null||(O=R.components)==null||(O=O[l])==null?void 0:O.variants;return Tg({variants:U},L({},A,{theme:R}))}),g||E.push(o);const I=E.length-M.length;if(Array.isArray(P)&&I>0){const A=new Array(I).fill("");S=[...P,...A],S.raw=[...P.raw,...A]}const C=w(S,...E);return s.muiName&&(C.muiName=s.muiName),C};return w.withConfig&&(k.withConfig=w.withConfig),k}}const OJ=MJ(),NJ=x.createContext(),LJ=()=>{const n=x.useContext(NJ);return n??!1},FJ=["className","component","disableGutters","fixed","maxWidth","classes"],VJ=Sp(),$J=OJ("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${Me(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),BJ=n=>o$({props:n,name:"MuiContainer",defaultTheme:VJ}),zJ=(n,e)=>{const t=l=>kt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=n,a={root:["root",s&&`maxWidth${Me(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Dt(a,t,r)};function jJ(n={}){const{createStyledComponent:e=$J,useThemeProps:t=BJ,componentName:r="MuiContainer"}=n,i=e(({theme:s,ownerState:a})=>L({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>L({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return x.forwardRef(function(a,l){const c=t(a),{className:u,component:d="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg"}=c,g=Se(c,FJ),_=L({},c,{component:d,disableGutters:h,fixed:p,maxWidth:m}),v=zJ(_,r);return N.jsx(i,L({as:d,ownerState:_,className:de(v.root,u),ref:l},g))})}function m$(){const n=t_(n_);return n[xp]||n}const BR=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)};function Ny(n){return typeof n=="string"}function UJ(n,e,t){return n===void 0||Ny(n)?e:L({},e,{ownerState:L({},e.ownerState,t)})}function g$(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function HJ(n,e,t){return typeof n=="function"?n(e,t):n}function zR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function WJ(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const p=de(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m=L({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),g=L({},t,i,r);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const s=g$(L({},i,r)),a=zR(r),l=zR(i),c=e(s),u=de(c==null?void 0:c.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=L({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),h=L({},c,t,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const qJ=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Bu(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,s=Se(n,qJ),a=o?{}:HJ(r,i),{props:l,internalRef:c}=WJ(L({},s,{externalSlotProps:a})),u=sr(c,a==null?void 0:a.ref,(e=n.additionalProps)==null?void 0:e.ref);return UJ(t,L({},l,{ref:u}),i)}function KJ(){this.__data__=[],this.size=0}var GJ=KJ;function YJ(n,e){return n===e||n!==n&&e!==e}var QJ=YJ,JJ=QJ;function XJ(n,e){for(var t=n.length;t--;)if(JJ(n[t][0],e))return t;return-1}var r_=XJ,ZJ=r_,eX=Array.prototype,tX=eX.splice;function nX(n){var e=this.__data__,t=ZJ(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():tX.call(e,t,1),--this.size,!0}var rX=nX,iX=r_;function oX(n){var e=this.__data__,t=iX(e,n);return t<0?void 0:e[t][1]}var sX=oX,aX=r_;function lX(n){return aX(this.__data__,n)>-1}var cX=lX,uX=r_;function dX(n,e){var t=this.__data__,r=uX(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var fX=dX,hX=GJ,pX=rX,mX=sX,gX=cX,yX=fX;function _d(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_d.prototype.clear=hX;_d.prototype.delete=pX;_d.prototype.get=mX;_d.prototype.has=gX;_d.prototype.set=yX;var i_=_d,vX=i_;function _X(){this.__data__=new vX,this.size=0}var wX=_X;function bX(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var EX=bX;function SX(n){return this.__data__.get(n)}var TX=SX;function xX(n){return this.__data__.has(n)}var IX=xX,kX=typeof Qp=="object"&&Qp&&Qp.Object===Object&&Qp,y$=kX,CX=y$,PX=typeof self=="object"&&self&&self.Object===Object&&self,RX=CX||PX||Function("return this")(),vs=RX,DX=vs,AX=DX.Symbol,gx=AX,jR=gx,v$=Object.prototype,MX=v$.hasOwnProperty,OX=v$.toString,nf=jR?jR.toStringTag:void 0;function NX(n){var e=MX.call(n,nf),t=n[nf];try{n[nf]=void 0;var r=!0}catch{}var i=OX.call(n);return r&&(e?n[nf]=t:delete n[nf]),i}var LX=NX,FX=Object.prototype,VX=FX.toString;function $X(n){return VX.call(n)}var BX=$X,UR=gx,zX=LX,jX=BX,UX="[object Null]",HX="[object Undefined]",HR=UR?UR.toStringTag:void 0;function WX(n){return n==null?n===void 0?HX:UX:HR&&HR in Object(n)?zX(n):jX(n)}var yx=WX;function qX(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var _$=qX,KX=yx,GX=_$,YX="[object AsyncFunction]",QX="[object Function]",JX="[object GeneratorFunction]",XX="[object Proxy]";function ZX(n){if(!GX(n))return!1;var e=KX(n);return e==QX||e==JX||e==YX||e==XX}var eZ=ZX,tZ=vs,nZ=tZ["__core-js_shared__"],rZ=nZ,jw=rZ,WR=function(){var n=/[^.]+$/.exec(jw&&jw.keys&&jw.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function iZ(n){return!!WR&&WR in n}var oZ=iZ,sZ=Function.prototype,aZ=sZ.toString;function lZ(n){if(n!=null){try{return aZ.call(n)}catch{}try{return n+""}catch{}}return""}var w$=lZ,cZ=eZ,uZ=oZ,dZ=_$,fZ=w$,hZ=/[\\^$.*+?()[\]{}|]/g,pZ=/^\[object .+?Constructor\]$/,mZ=Function.prototype,gZ=Object.prototype,yZ=mZ.toString,vZ=gZ.hasOwnProperty,_Z=RegExp("^"+yZ.call(vZ).replace(hZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wZ(n){if(!dZ(n)||uZ(n))return!1;var e=cZ(n)?_Z:pZ;return e.test(fZ(n))}var bZ=wZ;function EZ(n,e){return n==null?void 0:n[e]}var SZ=EZ,TZ=bZ,xZ=SZ;function IZ(n,e){var t=xZ(n,e);return TZ(t)?t:void 0}var wd=IZ,kZ=wd,CZ=vs,PZ=kZ(CZ,"Map"),vx=PZ,RZ=wd,DZ=RZ(Object,"create"),o_=DZ,qR=o_;function AZ(){this.__data__=qR?qR(null):{},this.size=0}var MZ=AZ;function OZ(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var NZ=OZ,LZ=o_,FZ="__lodash_hash_undefined__",VZ=Object.prototype,$Z=VZ.hasOwnProperty;function BZ(n){var e=this.__data__;if(LZ){var t=e[n];return t===FZ?void 0:t}return $Z.call(e,n)?e[n]:void 0}var zZ=BZ,jZ=o_,UZ=Object.prototype,HZ=UZ.hasOwnProperty;function WZ(n){var e=this.__data__;return jZ?e[n]!==void 0:HZ.call(e,n)}var qZ=WZ,KZ=o_,GZ="__lodash_hash_undefined__";function YZ(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=KZ&&e===void 0?GZ:e,this}var QZ=YZ,JZ=MZ,XZ=NZ,ZZ=zZ,eee=qZ,tee=QZ;function bd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}bd.prototype.clear=JZ;bd.prototype.delete=XZ;bd.prototype.get=ZZ;bd.prototype.has=eee;bd.prototype.set=tee;var nee=bd,KR=nee,ree=i_,iee=vx;function oee(){this.size=0,this.__data__={hash:new KR,map:new(iee||ree),string:new KR}}var see=oee;function aee(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var lee=aee,cee=lee;function uee(n,e){var t=n.__data__;return cee(e)?t[typeof e=="string"?"string":"hash"]:t.map}var s_=uee,dee=s_;function fee(n){var e=dee(this,n).delete(n);return this.size-=e?1:0,e}var hee=fee,pee=s_;function mee(n){return pee(this,n).get(n)}var gee=mee,yee=s_;function vee(n){return yee(this,n).has(n)}var _ee=vee,wee=s_;function bee(n,e){var t=wee(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Eee=bee,See=see,Tee=hee,xee=gee,Iee=_ee,kee=Eee;function Ed(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ed.prototype.clear=See;Ed.prototype.delete=Tee;Ed.prototype.get=xee;Ed.prototype.has=Iee;Ed.prototype.set=kee;var b$=Ed,Cee=i_,Pee=vx,Ree=b$,Dee=200;function Aee(n,e){var t=this.__data__;if(t instanceof Cee){var r=t.__data__;if(!Pee||r.length<Dee-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ree(r)}return t.set(n,e),this.size=t.size,this}var Mee=Aee,Oee=i_,Nee=wX,Lee=EX,Fee=TX,Vee=IX,$ee=Mee;function kp(n){var e=this.__data__=new Oee(n);this.size=e.size}kp.prototype.clear=Nee;kp.prototype.delete=Lee;kp.prototype.get=Fee;kp.prototype.has=Vee;kp.prototype.set=$ee;var Bee="__lodash_hash_undefined__";function zee(n){return this.__data__.set(n,Bee),this}var jee=zee;function Uee(n){return this.__data__.has(n)}var Hee=Uee,Wee=b$,qee=jee,Kee=Hee;function pE(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Wee;++e<t;)this.add(n[e])}pE.prototype.add=pE.prototype.push=qee;pE.prototype.has=Kee;var Gee=vs;Gee.Uint8Array;var GR=gx,YR=GR?GR.prototype:void 0;YR&&YR.valueOf;function Yee(n){return n!=null&&typeof n=="object"}var E$=Yee,Qee=yx,Jee=E$,Xee="[object Arguments]";function Zee(n){return Jee(n)&&Qee(n)==Xee}var ete=Zee,QR=ete,tte=E$,S$=Object.prototype,nte=S$.hasOwnProperty,rte=S$.propertyIsEnumerable;QR(function(){return arguments}());var Ly={exports:{}};function ite(){return!1}var ote=ite;Ly.exports;(function(n,e){var t=vs,r=ote,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c})(Ly,Ly.exports);Ly.exports;var Fy={exports:{}};Fy.exports;(function(n,e){var t=y$,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(Fy,Fy.exports);var ste=Fy.exports,JR=ste;JR&&JR.isTypedArray;var ate=wd,lte=vs,cte=ate(lte,"DataView"),ute=cte,dte=wd,fte=vs,hte=dte(fte,"Promise"),pte=hte,mte=wd,gte=vs,yte=mte(gte,"Set"),vte=yte,_te=wd,wte=vs,bte=_te(wte,"WeakMap"),Ete=bte,mE=ute,gE=vx,yE=pte,vE=vte,_E=Ete,T$=yx,Sd=w$,XR="[object Map]",Ste="[object Object]",ZR="[object Promise]",eD="[object Set]",tD="[object WeakMap]",nD="[object DataView]",Tte=Sd(mE),xte=Sd(gE),Ite=Sd(yE),kte=Sd(vE),Cte=Sd(_E),kc=T$;(mE&&kc(new mE(new ArrayBuffer(1)))!=nD||gE&&kc(new gE)!=XR||yE&&kc(yE.resolve())!=ZR||vE&&kc(new vE)!=eD||_E&&kc(new _E)!=tD)&&(kc=function(n){var e=T$(n),t=e==Ste?n.constructor:void 0,r=t?Sd(t):"";if(r)switch(r){case Tte:return nD;case xte:return XR;case Ite:return ZR;case kte:return eD;case Cte:return tD}return e});const Pte=async(n,e,t,r=!1,i,o=[],s=null,a=null)=>{if(!n){console.error("User is not authenticated");return}const l=Date.now(),c={key:bJ(),title:e,content:t,isList:r,userId:n.uid,creationDate:l,modifiedDate:l,isPinned:!1,isFavorite:!1,isArchived:!1,tags:o,dueDateTime:s,reminderDateTime:a};try{const u=await g8(RF(hd,"notes"),c);console.log("Added note:",{...c,id:u.id})}catch(u){console.error("Error adding note:",u)}},Rte=async(n,e,t,r,i,o,s,a,l)=>{try{const c=h0(hd,"notes",n),u=await BF(c);if(!u.exists()){console.error("Note does not exist");return}const d=u.data(),h={title:e,content:t,isPinned:r!==void 0?r:d.isPinned,isFavorite:i!==void 0?i:d.isFavorite,isArchived:o!==void 0?o:d.isArchived,tags:s!==void 0?s:d.tags,dueDateTime:a!==void 0?a:d.dueDateTime,reminderDateTime:l!==void 0?l:d.reminderDateTime,modifiedDate:Date.now()};await p8(c,h),console.log("Updated note with id:",n)}catch(c){console.error("Error updating note:",c)}},x$=async(n,e)=>{try{const t=h0(hd,"notes",n);await m8(t),e(r=>r.filter(i=>i.id!==n)),console.log("Removed note with id:",n)}catch(t){console.error("Error removing note:",t)}},Dte=async n=>{try{const e=h0(hd,"notes",n),t=await BF(e);return t.exists()?{id:t.id,...t.data()}:(console.error("Note not found"),null)}catch(e){throw console.error("Error fetching note:",e),e}};var _x={},Ate=Ri;Object.defineProperty(_x,"__esModule",{value:!0});var I$=_x.default=void 0,Mte=Ate(ko()),Ote=N;I$=_x.default=(0,Mte.default)((0,Ote.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");var yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=Symbol.for("react.element"),bx=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),Nte=Symbol.for("react.server_context"),f_=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),Lte=Symbol.for("react.offscreen"),k$;k$=Symbol.for("react.module.reference");function Mi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case wx:switch(n=n.type,n){case a_:case c_:case l_:case h_:case p_:return n;default:switch(n=n&&n.$$typeof,n){case Nte:case d_:case f_:case g_:case m_:case u_:return n;default:return e}}case bx:return e}}}yt.ContextConsumer=d_;yt.ContextProvider=u_;yt.Element=wx;yt.ForwardRef=f_;yt.Fragment=a_;yt.Lazy=g_;yt.Memo=m_;yt.Portal=bx;yt.Profiler=c_;yt.StrictMode=l_;yt.Suspense=h_;yt.SuspenseList=p_;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(n){return Mi(n)===d_};yt.isContextProvider=function(n){return Mi(n)===u_};yt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===wx};yt.isForwardRef=function(n){return Mi(n)===f_};yt.isFragment=function(n){return Mi(n)===a_};yt.isLazy=function(n){return Mi(n)===g_};yt.isMemo=function(n){return Mi(n)===m_};yt.isPortal=function(n){return Mi(n)===bx};yt.isProfiler=function(n){return Mi(n)===c_};yt.isStrictMode=function(n){return Mi(n)===l_};yt.isSuspense=function(n){return Mi(n)===h_};yt.isSuspenseList=function(n){return Mi(n)===p_};yt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===a_||n===c_||n===l_||n===h_||n===p_||n===Lte||typeof n=="object"&&n!==null&&(n.$$typeof===g_||n.$$typeof===m_||n.$$typeof===u_||n.$$typeof===d_||n.$$typeof===f_||n.$$typeof===k$||n.getModuleId!==void 0)};yt.typeOf=Mi;function wE(n,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},wE(n,e)}function C$(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,wE(n,e)}const rD={disabled:!1},Vy=$.createContext(null);var Fte=function(e){return e.scrollTop},Pf="unmounted",Qa="exited",Ja="entering",Vc="entered",bE="exiting",Co=function(n){C$(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Qa,o.appearStatus=Ja):l=Vc:r.unmountOnExit||r.mountOnEnter?l=Pf:l=Qa,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Pf?{status:Qa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ja&&s!==Vc&&(o=Ja):(s===Ja||s===Vc)&&(o=bE)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ja){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:eu.findDOMNode(this);s&&Fte(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qa&&this.setState({status:Pf})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[eu.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||rD.disabled){this.safeSetState({status:Vc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ja},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Vc},function(){o.props.onEntered(c,u)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:eu.findDOMNode(this);if(!o||rD.disabled){this.safeSetState({status:Qa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:bE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Qa},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:eu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Pf)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Se(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(Vy.Provider,{value:null},typeof s=="function"?s(i,a):$.cloneElement($.Children.only(s),a))},e}($.Component);Co.contextType=Vy;Co.propTypes={};function Cc(){}Co.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cc,onEntering:Cc,onEntered:Cc,onExit:Cc,onExiting:Cc,onExited:Cc};Co.UNMOUNTED=Pf;Co.EXITED=Qa;Co.ENTERING=Ja;Co.ENTERED=Vc;Co.EXITING=bE;function Vte(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ex(n,e){var t=function(o){return e&&x.isValidElement(o)?e(o):o},r=Object.create(null);return n&&x.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function $te(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=t(c)}a[l]=t(l)}for(s=0;s<i.length;s++)a[i[s]]=t(i[s]);return a}function ul(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Bte(n,e){return Ex(n.children,function(t){return x.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:ul(t,"appear",n),enter:ul(t,"enter",n),exit:ul(t,"exit",n)})})}function zte(n,e,t){var r=Ex(n.children),i=$te(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(x.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=x.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=x.cloneElement(s,{onExited:t.bind(null,s),in:!0,exit:ul(s,"exit",n),enter:ul(s,"enter",n)}):!l&&a&&!u?i[o]=x.cloneElement(s,{in:!1}):l&&a&&x.isValidElement(c)&&(i[o]=x.cloneElement(s,{onExited:t.bind(null,s),in:c.props.in,exit:ul(s,"exit",n),enter:ul(s,"enter",n)}))}}),i}var jte=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Ute={component:"div",childFactory:function(e){return e}},Sx=function(n){C$(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=o.handleExited.bind(Vte(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Bte(i,a):zte(i,s,a),firstRender:!1}},t.handleExited=function(i,o){var s=Ex(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=L({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Se(i,["component","childFactory"]),l=this.state.contextValue,c=jte(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?$.createElement(Vy.Provider,{value:l},c):$.createElement(Vy.Provider,{value:l},$.createElement(o,a,c))},e}($.Component);Sx.propTypes={};Sx.defaultProps=Ute;const P$=n=>n.scrollTop;function $y(n,e){var t,r;const{timeout:i,easing:o,style:s={}}=n;return{duration:(t=s.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function Hte(n){return kt("MuiPaper",n)}gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Wte=["className","component","elevation","square","variant"],qte=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Dt(o,Hte,i)},Kte=Ie("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return L({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&L({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ho("#fff",BR(e.elevation))}, ${ho("#fff",BR(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),Gte=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=Se(r,Wte),u=L({},r,{component:o,elevation:s,square:a,variant:l}),d=qte(u);return N.jsx(Kte,L({as:o,ownerState:u,className:de(d.root,i),ref:t},c))});function Yte(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=n,[u,d]=x.useState(!1),h=de(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=de(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&d(!0),x.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),N.jsx("span",{className:h,style:p,children:N.jsx("span",{className:m})})}const fi=gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qte=["center","classes","className"];let y_=n=>n,iD,oD,sD,aD;const EE=550,Jte=80,Xte=e_(iD||(iD=y_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Zte=e_(oD||(oD=y_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ene=e_(sD||(sD=y_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),tne=Ie("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nne=Ie(Yte,{name:"MuiTouchRipple",slot:"Ripple"})(aD||(aD=y_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),fi.rippleVisible,Xte,EE,({theme:n})=>n.transitions.easing.easeInOut,fi.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,fi.child,fi.childLeaving,Zte,EE,({theme:n})=>n.transitions.easing.easeInOut,fi.childPulsate,ene,({theme:n})=>n.transitions.easing.easeInOut),rne=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Se(r,Qte),[l,c]=x.useState([]),u=x.useRef(0),d=x.useRef(null);x.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=x.useRef(!1),p=CV(),m=x.useRef(null),g=x.useRef(null),_=x.useCallback(k=>{const{pulsate:P,rippleX:M,rippleY:S,rippleSize:E,cb:I}=k;c(C=>[...C,N.jsx(nne,{classes:{ripple:de(o.ripple,fi.ripple),rippleVisible:de(o.rippleVisible,fi.rippleVisible),ripplePulsate:de(o.ripplePulsate,fi.ripplePulsate),child:de(o.child,fi.child),childLeaving:de(o.childLeaving,fi.childLeaving),childPulsate:de(o.childPulsate,fi.childPulsate)},timeout:EE,pulsate:P,rippleX:M,rippleY:S,rippleSize:E},u.current)]),u.current+=1,d.current=I},[o]),v=x.useCallback((k={},P={},M=()=>{})=>{const{pulsate:S=!1,center:E=i||P.pulsate,fakeElement:I=!1}=P;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const C=I?null:g.current,A=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,R,U;if(E||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)O=Math.round(A.width/2),R=Math.round(A.height/2);else{const{clientX:K,clientY:H}=k.touches&&k.touches.length>0?k.touches[0]:k;O=Math.round(K-A.left),R=Math.round(H-A.top)}if(E)U=Math.sqrt((2*A.width**2+A.height**2)/3),U%2===0&&(U+=1);else{const K=Math.max(Math.abs((C?C.clientWidth:0)-O),O)*2+2,H=Math.max(Math.abs((C?C.clientHeight:0)-R),R)*2+2;U=Math.sqrt(K**2+H**2)}k!=null&&k.touches?m.current===null&&(m.current=()=>{_({pulsate:S,rippleX:O,rippleY:R,rippleSize:U,cb:M})},p.start(Jte,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:S,rippleX:O,rippleY:R,rippleSize:U,cb:M})},[i,_,p]),w=x.useCallback(()=>{v({},{pulsate:!0})},[v]),b=x.useCallback((k,P)=>{if(p.clear(),(k==null?void 0:k.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{b(k,P)});return}m.current=null,c(M=>M.length>0?M.slice(1):M),d.current=P},[p]);return x.useImperativeHandle(t,()=>({pulsate:w,start:v,stop:b}),[w,v,b]),N.jsx(tne,L({className:de(fi.root,o.root,s),ref:g},a,{children:N.jsx(Sx,{component:null,exit:!0,children:l})}))});function ine(n){return kt("MuiButtonBase",n)}const one=gt("MuiButtonBase",["root","disabled","focusVisible"]),sne=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ane=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,s=Dt({root:["root",e&&"disabled",t&&"focusVisible"]},ine,i);return t&&r&&(s.root+=` ${r}`),s},lne=Ie("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${one.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tx=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:g,onContextMenu:_,onDragLeave:v,onFocus:w,onFocusVisible:b,onKeyDown:k,onKeyUp:P,onMouseDown:M,onMouseLeave:S,onMouseUp:E,onTouchEnd:I,onTouchMove:C,onTouchStart:A,tabIndex:O=0,TouchRippleProps:R,touchRippleRef:U,type:K}=r,H=Se(r,sne),q=x.useRef(null),V=x.useRef(null),G=sr(V,U),{isFocusVisibleRef:Z,onFocus:ne,onBlur:fe,ref:re}=PV(),[ge,ce]=x.useState(!1);c&&ge&&ce(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),q.current.focus()}}),[]);const[Te,Ue]=x.useState(!1);x.useEffect(()=>{Ue(!0)},[]);const Bt=Te&&!u&&!c;x.useEffect(()=>{ge&&h&&!u&&Te&&V.current.pulsate()},[u,h,ge,Te]);function vt(_e,qn,Xi=d){return cl(Kn=>(qn&&qn(Kn),!Xi&&V.current&&V.current[_e](Kn),!0))}const zt=vt("start",M),Le=vt("stop",_),He=vt("stop",v),ke=vt("stop",E),Ae=vt("stop",_e=>{ge&&_e.preventDefault(),S&&S(_e)}),Je=vt("start",A),lr=vt("stop",I),Zt=vt("stop",C),hn=vt("stop",_e=>{fe(_e),Z.current===!1&&ce(!1),m&&m(_e)},!1),pn=cl(_e=>{q.current||(q.current=_e.currentTarget),ne(_e),Z.current===!0&&(ce(!0),b&&b(_e)),w&&w(_e)}),mn=()=>{const _e=q.current;return l&&l!=="button"&&!(_e.tagName==="A"&&_e.href)},it=x.useRef(!1),jr=cl(_e=>{h&&!it.current&&ge&&V.current&&_e.key===" "&&(it.current=!0,V.current.stop(_e,()=>{V.current.start(_e)})),_e.target===_e.currentTarget&&mn()&&_e.key===" "&&_e.preventDefault(),k&&k(_e),_e.target===_e.currentTarget&&mn()&&_e.key==="Enter"&&!c&&(_e.preventDefault(),g&&g(_e))}),jt=cl(_e=>{h&&_e.key===" "&&V.current&&ge&&!_e.defaultPrevented&&(it.current=!1,V.current.stop(_e,()=>{V.current.pulsate(_e)})),P&&P(_e),g&&_e.target===_e.currentTarget&&mn()&&_e.key===" "&&!_e.defaultPrevented&&g(_e)});let We=l;We==="button"&&(H.href||H.to)&&(We=p);const an={};We==="button"?(an.type=K===void 0?"button":K,an.disabled=c):(!H.href&&!H.to&&(an.role="button"),c&&(an["aria-disabled"]=c));const Xe=sr(t,re,q),ht=L({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:O,focusVisible:ge}),qe=ane(ht);return N.jsxs(lne,L({as:We,className:de(qe.root,a),ownerState:ht,onBlur:hn,onClick:g,onContextMenu:Le,onFocus:pn,onKeyDown:jr,onKeyUp:jt,onMouseDown:zt,onMouseLeave:Ae,onMouseUp:ke,onDragLeave:He,onTouchEnd:lr,onTouchMove:Zt,onTouchStart:Je,ref:Xe,tabIndex:c?-1:O,type:K},an,H,{children:[s,Bt?N.jsx(rne,L({ref:G,center:o},R)):null]}))});function cne(n){return kt("MuiTypography",n)}gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const une=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],dne=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:o,classes:s}=n,a={root:["root",o,n.align!=="inherit"&&`align${Me(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Dt(a,cne,s)},fne=Ie("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Me(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>L({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),lD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},hne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},pne=n=>hne[n]||n,R$=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTypography"}),i=pne(r.color),o=ux(L({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=lD}=o,m=Se(o,une),g=L({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),_=l||(d?"p":p[h]||lD[h])||"span",v=dne(g);return N.jsx(fne,L({as:_,ref:t,ownerState:g,className:de(v.root,a)},m))}),mne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function gne(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function yne(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function vne(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||yne(n))}function _ne(n){const e=[],t=[];return Array.from(n.querySelectorAll(mne)).forEach((r,i)=>{const o=gne(r);o===-1||!vne(r)||(o===0?e.push(r):t.push({documentOrder:i,tabIndex:o,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function wne(){return!0}function bne(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=_ne,isEnabled:s=wne,open:a}=n,l=x.useRef(!1),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),p=x.useRef(!1),m=x.useRef(null),g=sr(e.ref,m),_=x.useRef(null);x.useEffect(()=>{!a||!m.current||(p.current=!t)},[t,a]),x.useEffect(()=>{if(!a||!m.current)return;const b=Vr(m.current);return m.current.contains(b.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),x.useEffect(()=>{if(!a||!m.current)return;const b=Vr(m.current),k=S=>{_.current=S,!(r||!s()||S.key!=="Tab")&&b.activeElement===m.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},P=()=>{const S=m.current;if(S===null)return;if(!b.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==u.current)return;if(b.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let E=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(E=o(m.current)),E.length>0){var I,C;const A=!!((I=_.current)!=null&&I.shiftKey&&((C=_.current)==null?void 0:C.key)==="Tab"),O=E[0],R=E[E.length-1];typeof O!="string"&&typeof R!="string"&&(A?R.focus():O.focus())}else S.focus()};b.addEventListener("focusin",P),b.addEventListener("keydown",k,!0);const M=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(M),b.removeEventListener("focusin",P),b.removeEventListener("keydown",k,!0)}},[t,r,i,s,a,o]);const v=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0,h.current=b.target;const k=e.props.onFocus;k&&k(b)},w=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0};return N.jsxs(x.Fragment,{children:[N.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:g,onFocus:v}),N.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}const zu=Math.min,bl=Math.max,By=Math.round,km=Math.floor,Sa=n=>({x:n,y:n}),Ene={left:"right",right:"left",bottom:"top",top:"bottom"},Sne={start:"end",end:"start"};function Tne(n,e,t){return bl(n,zu(e,t))}function v_(n,e){return typeof n=="function"?n(e):n}function ju(n){return n.split("-")[0]}function Cp(n){return n.split("-")[1]}function xne(n){return n==="x"?"y":"x"}function xx(n){return n==="y"?"height":"width"}function Hh(n){return["top","bottom"].includes(ju(n))?"y":"x"}function Ix(n){return xne(Hh(n))}function Ine(n,e,t){t===void 0&&(t=!1);const r=Cp(n),i=Ix(n),o=xx(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=zy(s)),[s,zy(s)]}function kne(n){const e=zy(n);return[SE(n),e,SE(e)]}function SE(n){return n.replace(/start|end/g,e=>Sne[e])}function Cne(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Pne(n,e,t,r){const i=Cp(n);let o=Cne(ju(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(SE)))),o}function zy(n){return n.replace(/left|right|bottom|top/g,e=>Ene[e])}function Rne(n){return{top:0,right:0,bottom:0,left:0,...n}}function D$(n){return typeof n!="number"?Rne(n):{top:n,right:n,bottom:n,left:n}}function jy(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function cD(n,e,t){let{reference:r,floating:i}=n;const o=Hh(e),s=Ix(e),a=xx(s),l=ju(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Cp(e)){case"start":p[s]-=h*(t&&c?-1:1);break;case"end":p[s]+=h*(t&&c?-1:1);break}return p}const Dne=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=cD(c,r,l),h=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:_,fn:v}=a[g],{x:w,y:b,data:k,reset:P}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:n,floating:e}});u=w??u,d=b??d,p={...p,[_]:{...p[_],...k}},P&&m<=50&&(m++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(c=P.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):P.rects),{x:u,y:d}=cD(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function Ane(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=v_(e,n),m=D$(p),_=a[h?d==="floating"?"reference":"floating":d],v=jy(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(_)))==null||t?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},P=jy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-P.top+m.top)/k.y,bottom:(P.bottom-v.bottom+m.bottom)/k.y,left:(v.left-P.left+m.left)/k.x,right:(P.right-v.right+m.right)/k.x}}const Mne=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=v_(n,e)||{};if(c==null)return{};const d=D$(u),h={x:t,y:r},p=Ix(i),m=xx(p),g=await s.getDimensions(c),_=p==="y",v=_?"top":"left",w=_?"bottom":"right",b=_?"clientHeight":"clientWidth",k=o.reference[m]+o.reference[p]-h[p]-o.floating[m],P=h[p]-o.reference[p],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=M?M[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(M)))&&(S=a.floating[b]||o.floating[m]);const E=k/2-P/2,I=S/2-g[m]/2-1,C=zu(d[v],I),A=zu(d[w],I),O=C,R=S-g[m]-A,U=S/2-g[m]/2+E,K=Tne(O,U,R),H=!l.arrow&&Cp(i)!=null&&U!==K&&o.reference[m]/2-(U<O?C:A)-g[m]/2<0,q=H?U<O?U-O:U-R:0;return{[p]:h[p]+q,data:{[p]:K,centerOffset:U-K-q,...H&&{alignmentOffset:q}},reset:H}}}),One=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,..._}=v_(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const v=ju(i),w=Hh(a),b=ju(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=h||(b||!g?[zy(a)]:kne(a)),M=m!=="none";!h&&M&&P.push(...Pne(a,g,m,k));const S=[a,...P],E=await Ane(e,_),I=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[v]),d){const U=Ine(i,s,k);I.push(E[U[0]],E[U[1]])}if(C=[...C,{placement:i,overflows:I}],!I.every(U=>U<=0)){var A,O;const U=(((A=o.flip)==null?void 0:A.index)||0)+1,K=S[U];if(K)return{data:{index:U,overflows:C},reset:{placement:K}};let H=(O=C.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(p){case"bestFit":{var R;const q=(R=C.filter(V=>{if(M){const G=Hh(V.placement);return G===w||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,Z)=>G+Z,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:R[0];q&&(H=q);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};async function Nne(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ju(t),a=Cp(t),l=Hh(t)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=v_(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Lne=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Nne(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function __(){return typeof window<"u"}function Td(n){return A$(n)?(n.nodeName||"").toLowerCase():"#document"}function ei(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function _s(n){var e;return(e=(A$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function A$(n){return __()?n instanceof Node||n instanceof ei(n).Node:!1}function gr(n){return __()?n instanceof Element||n instanceof ei(n).Element:!1}function To(n){return __()?n instanceof HTMLElement||n instanceof ei(n).HTMLElement:!1}function uD(n){return!__()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ei(n).ShadowRoot}function Pp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ci(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Fne(n){return["table","td","th"].includes(Td(n))}function w_(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function kx(n){const e=Cx(),t=gr(n)?Ci(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Vne(n){let e=Ta(n);for(;To(e)&&!Uu(e);){if(kx(e))return e;if(w_(e))return null;e=Ta(e)}return null}function Cx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Uu(n){return["html","body","#document"].includes(Td(n))}function Ci(n){return ei(n).getComputedStyle(n)}function b_(n){return gr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ta(n){if(Td(n)==="html")return n;const e=n.assignedSlot||n.parentNode||uD(n)&&n.host||_s(n);return uD(e)?e.host:e}function M$(n){const e=Ta(n);return Uu(e)?n.ownerDocument?n.ownerDocument.body:n.body:To(e)&&Pp(e)?e:M$(e)}function Wh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=M$(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=ei(i);if(o){const a=$ne(s);return e.concat(s,s.visualViewport||[],Pp(i)?i:[],a&&t?Wh(a):[])}return e.concat(i,Wh(i,[],t))}function $ne(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function O$(n){const e=Ci(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=To(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=By(t)!==o||By(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function Px(n){return gr(n)?n:n.contextElement}function gu(n){const e=Px(n);if(!To(e))return Sa(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=O$(e);let s=(o?By(t.width):t.width)/r,a=(o?By(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Bne=Sa(0);function N$(n){const e=ei(n);return!Cx()||!e.visualViewport?Bne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zne(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ei(n)?!1:e}function Gl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Px(n);let s=Sa(1);e&&(r?gr(r)&&(s=gu(r)):s=gu(n));const a=zne(o,t,r)?N$(o):Sa(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=ei(o),p=r&&gr(r)?ei(r):r;let m=h,g=m.frameElement;for(;g&&r&&p!==m;){const _=gu(g),v=g.getBoundingClientRect(),w=Ci(g),b=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*_.x,k=v.top+(g.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=k,m=ei(g),g=m.frameElement}}return jy({width:u,height:d,x:l,y:c})}function jne(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=_s(r),a=e?w_(e.floating):!1;if(r===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},c=Sa(1);const u=Sa(0),d=To(r);if((d||!d&&!o)&&((Td(r)!=="body"||Pp(s))&&(l=b_(r)),To(r))){const h=Gl(r);c=gu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function Une(n){return Array.from(n.getClientRects())}function L$(n){return Gl(_s(n)).left+b_(n).scrollLeft}function Hne(n){const e=_s(n),t=b_(n),r=n.ownerDocument.body,i=bl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=bl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+L$(n);const a=-t.scrollTop;return Ci(r).direction==="rtl"&&(s+=bl(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Wne(n,e){const t=ei(n),r=_s(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Cx();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function qne(n,e){const t=Gl(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=To(n)?gu(n):Sa(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function dD(n,e,t){let r;if(e==="viewport")r=Wne(n,t);else if(e==="document")r=Hne(_s(n));else if(gr(e))r=qne(e,t);else{const i=N$(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return jy(r)}function F$(n,e){const t=Ta(n);return t===e||!gr(t)||Uu(t)?!1:Ci(t).position==="fixed"||F$(t,e)}function Kne(n,e){const t=e.get(n);if(t)return t;let r=Wh(n,[],!1).filter(a=>gr(a)&&Td(a)!=="body"),i=null;const o=Ci(n).position==="fixed";let s=o?Ta(n):n;for(;gr(s)&&!Uu(s);){const a=Ci(s),l=kx(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pp(s)&&!l&&F$(n,s))?r=r.filter(u=>u!==s):i=a,s=Ta(s)}return e.set(n,r),r}function Gne(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?w_(e)?[]:Kne(e,this._c):[].concat(t),r],a=s[0],l=s.reduce((c,u)=>{const d=dD(e,u,i);return c.top=bl(d.top,c.top),c.right=zu(d.right,c.right),c.bottom=zu(d.bottom,c.bottom),c.left=bl(d.left,c.left),c},dD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yne(n){const{width:e,height:t}=O$(n);return{width:e,height:t}}function Qne(n,e,t){const r=To(e),i=_s(e),o=t==="fixed",s=Gl(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Sa(0);if(r||!r&&!o)if((Td(e)!=="body"||Pp(i))&&(a=b_(e)),r){const d=Gl(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=L$(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function Uw(n){return Ci(n).position==="static"}function fD(n,e){return!To(n)||Ci(n).position==="fixed"?null:e?e(n):n.offsetParent}function V$(n,e){const t=ei(n);if(w_(n))return t;if(!To(n)){let i=Ta(n);for(;i&&!Uu(i);){if(gr(i)&&!Uw(i))return i;i=Ta(i)}return t}let r=fD(n,e);for(;r&&Fne(r)&&Uw(r);)r=fD(r,e);return r&&Uu(r)&&Uw(r)&&!kx(r)?t:r||Vne(n)||t}const Jne=async function(n){const e=this.getOffsetParent||V$,t=this.getDimensions,r=await t(n.floating);return{reference:Qne(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xne(n){return Ci(n).direction==="rtl"}const Zne={convertOffsetParentRelativeRectToViewportRelativeRect:jne,getDocumentElement:_s,getClippingRect:Gne,getOffsetParent:V$,getElementRects:Jne,getClientRects:Une,getDimensions:Yne,getScale:gu,isElement:gr,isRTL:Xne};function ere(n,e){let t=null,r;const i=_s(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=n.getBoundingClientRect();if(a||e(),!d||!h)return;const p=km(u),m=km(i.clientWidth-(c+d)),g=km(i.clientHeight-(u+h)),_=km(c),w={rootMargin:-p+"px "+-m+"px "+-g+"px "+-_+"px",threshold:bl(0,zu(1,l))||1};let b=!0;function k(P){const M=P[0].intersectionRatio;if(M!==l){if(!b)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(k,w)}t.observe(n)}return s(!0),o}function tre(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Px(n),u=i||o?[...c?Wh(c):[],...Wh(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),o&&v.addEventListener("resize",t)});const d=c&&a?ere(c,t):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Gl(n):null;l&&_();function _(){const v=Gl(n);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&t(),g=v,m=requestAnimationFrame(_)}return t(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",t),o&&w.removeEventListener("resize",t)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const nre=Lne,rre=One,hD=Mne,ire=(n,e,t)=>{const r=new Map,i={platform:Zne,...t},o={...i.platform,_c:r};return Dne(n,e,{...i,platform:o})};var xg=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Uy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Uy(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Uy(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function $$(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function pD(n,e){const t=$$(n);return Math.round(e*t)/t}function Hw(n){const e=x.useRef(n);return xg(()=>{e.current=n}),e}function ore(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(r);Uy(h,r)||p(r);const[m,g]=x.useState(null),[_,v]=x.useState(null),w=x.useCallback(V=>{V!==M.current&&(M.current=V,g(V))},[]),b=x.useCallback(V=>{V!==S.current&&(S.current=V,v(V))},[]),k=o||m,P=s||_,M=x.useRef(null),S=x.useRef(null),E=x.useRef(u),I=l!=null,C=Hw(l),A=Hw(i),O=Hw(c),R=x.useCallback(()=>{if(!M.current||!S.current)return;const V={placement:e,strategy:t,middleware:h};A.current&&(V.platform=A.current),ire(M.current,S.current,V).then(G=>{const Z={...G,isPositioned:O.current!==!1};U.current&&!Uy(E.current,Z)&&(E.current=Z,qv.flushSync(()=>{d(Z)}))})},[h,e,t,A,O]);xg(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[c]);const U=x.useRef(!1);xg(()=>(U.current=!0,()=>{U.current=!1}),[]),xg(()=>{if(k&&(M.current=k),P&&(S.current=P),k&&P){if(C.current)return C.current(k,P,R);R()}},[k,P,R,C,I]);const K=x.useMemo(()=>({reference:M,floating:S,setReference:w,setFloating:b}),[w,b]),H=x.useMemo(()=>({reference:k,floating:P}),[k,P]),q=x.useMemo(()=>{const V={position:t,left:0,top:0};if(!H.floating)return V;const G=pD(H.floating,u.x),Z=pD(H.floating,u.y);return a?{...V,transform:"translate("+G+"px, "+Z+"px)",...$$(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:Z}},[t,a,H.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:R,refs:K,elements:H,floatingStyles:q}),[u,R,K,H,q])}const sre=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?hD({element:r.current,padding:i}).fn(t):{}:r?hD({element:r,padding:i}).fn(t):{}}}},are=(n,e)=>({...nre(n),options:[n,e]}),lre=(n,e)=>({...rre(n),options:[n,e]}),cre=(n,e)=>({...sre(n),options:[n,e]});function ure(n){return typeof n=="function"?n():n}const dre=x.forwardRef(function(e,t){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=x.useState(null),l=sr(x.isValidElement(r)?r.ref:null,t);if(cs(()=>{o||a(ure(i)||document.body)},[i,o]),cs(()=>{if(s&&!o)return Dy(t,s),()=>{Dy(t,null)}},[t,s,o]),o){if(x.isValidElement(r)){const c={ref:l};return x.cloneElement(r,c)}return N.jsx(x.Fragment,{children:r})}return N.jsx(x.Fragment,{children:s&&qv.createPortal(r,s)})});function fre(n){const e=Vr(n);return e.body===n?Ea(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Xf(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function mD(n){return parseInt(Ea(n).getComputedStyle(n).paddingRight,10)||0}function hre(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function gD(n,e,t,r,i){const o=[e,t,...r];[].forEach.call(n.children,s=>{const a=o.indexOf(s)===-1,l=!hre(s);a&&l&&Xf(s,i)})}function Ww(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function pre(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(fre(r)){const s=RV(Vr(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${mD(r)+s}px`;const a=Vr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${mD(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Vr(r).body;else{const s=r.parentElement,a=Ea(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function mre(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class gre{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Xf(e.modalRef,!1);const i=mre(t);gD(t,e.mount,e.modalRef,i,!0);const o=Ww(this.containers,s=>s.container===t);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=Ww(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=pre(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Ww(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Xf(e.modalRef,t),gD(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Xf(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function yre(n){return typeof n=="function"?n():n}function vre(n){return n?n.props.hasOwnProperty("in"):!1}const _re=new gre;function wre(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,manager:i=_re,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=n,h=x.useRef({}),p=x.useRef(null),m=x.useRef(null),g=sr(m,d),[_,v]=x.useState(!u),w=vre(l);let b=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(b=!1);const k=()=>Vr(p.current),P=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),M=()=>{i.mount(P(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},S=cl(()=>{const H=yre(e)||k().body;i.add(P(),H),m.current&&M()}),E=x.useCallback(()=>i.isTopModal(P()),[i]),I=cl(H=>{p.current=H,H&&(u&&E()?M():m.current&&Xf(m.current,b))}),C=x.useCallback(()=>{i.remove(P(),b)},[b,i]);x.useEffect(()=>()=>{C()},[C]),x.useEffect(()=>{u?S():(!w||!o)&&C()},[u,C,w,o,S]);const A=H=>q=>{var V;(V=H.onKeyDown)==null||V.call(H,q),!(q.key!=="Escape"||q.which===229||!E())&&(t||(q.stopPropagation(),c&&c(q,"escapeKeyDown")))},O=H=>q=>{var V;(V=H.onClick)==null||V.call(H,q),q.target===q.currentTarget&&c&&c(q,"backdropClick")};return{getRootProps:(H={})=>{const q=g$(n);delete q.onTransitionEnter,delete q.onTransitionExited;const V=L({},q,H);return L({role:"presentation"},V,{onKeyDown:A(V),ref:g})},getBackdropProps:(H={})=>{const q=H;return L({"aria-hidden":!0},q,{onClick:O(q),open:u})},getTransitionProps:()=>{const H=()=>{v(!1),s&&s()},q=()=>{v(!0),a&&a(),o&&C()};return{onEnter:oE(H,l==null?void 0:l.props.onEnter),onExited:oE(q,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:I,isTopModal:E,exited:_,hasTransition:w}}const bre=["onChange","maxRows","minRows","style","value"];function Cm(n){return parseInt(n,10)||0}const Ere={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Sre(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const Tre=x.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Se(e,bre),{current:c}=x.useRef(a!=null),u=x.useRef(null),d=sr(t,u),h=x.useRef(null),p=x.useCallback(()=>{const _=u.current,w=Ea(_).getComputedStyle(_);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const b=h.current;b.style.width=w.width,b.value=_.value||e.placeholder||"x",b.value.slice(-1)===`
`&&(b.value+=" ");const k=w.boxSizing,P=Cm(w.paddingBottom)+Cm(w.paddingTop),M=Cm(w.borderBottomWidth)+Cm(w.borderTopWidth),S=b.scrollHeight;b.value="x";const E=b.scrollHeight;let I=S;o&&(I=Math.max(Number(o)*E,I)),i&&(I=Math.min(Number(i)*E,I)),I=Math.max(I,E);const C=I+(k==="border-box"?P+M:0),A=Math.abs(I-S)<=1;return{outerHeightStyle:C,overflowing:A}},[i,o,e.placeholder]),m=x.useCallback(()=>{const _=p();if(Sre(_))return;const v=u.current;v.style.height=`${_.outerHeightStyle}px`,v.style.overflow=_.overflowing?"hidden":""},[p]);cs(()=>{const _=()=>{m()};let v;const w=GT(_),b=u.current,k=Ea(b);k.addEventListener("resize",w);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(_),P.observe(b)),()=>{w.clear(),cancelAnimationFrame(v),k.removeEventListener("resize",w),P&&P.disconnect()}},[p,m]),cs(()=>{m()});const g=_=>{c||m(),r&&r(_)};return N.jsxs(x.Fragment,{children:[N.jsx("textarea",L({value:a,onChange:g,ref:d,rows:o,style:s},l)),N.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:L({},Ere.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function xd({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const Rx=x.createContext(void 0);function Id(){return x.useContext(Rx)}function xre(n){return N.jsx(EJ,L({},n,{defaultTheme:n_,themeId:xp}))}function yD(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function Hy(n,e=!1){return n&&(yD(n.value)&&n.value!==""||e&&yD(n.defaultValue)&&n.defaultValue!=="")}function Ire(n){return n.startAdornment}function kre(n){return kt("MuiInputBase",n)}const Hu=gt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Cre=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],E_=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Me(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},S_=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Pre=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=n,g={root:["root",`color${Me(t)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Me(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Dt(g,kre,e)},T_=Ie("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E_})(({theme:n,ownerState:e})=>L({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Hu.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},e.multiline&&L({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),x_=Ie("input",{name:"MuiInputBase",slot:"Input",overridesResolver:S_})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light",r=L({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},o=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return L({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Hu.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Hu.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Rre=N.jsx(xre,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Dx=x.forwardRef(function(e,t){var r;const i=At({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:g=!1,id:_,inputComponent:v="input",inputProps:w={},inputRef:b,maxRows:k,minRows:P,multiline:M=!1,name:S,onBlur:E,onChange:I,onClick:C,onFocus:A,onKeyDown:O,onKeyUp:R,placeholder:U,readOnly:K,renderSuffix:H,rows:q,slotProps:V={},slots:G={},startAdornment:Z,type:ne="text",value:fe}=i,re=Se(i,Cre),ge=w.value!=null?w.value:fe,{current:ce}=x.useRef(ge!=null),Te=x.useRef(),Ue=x.useCallback(qe=>{},[]),Bt=sr(Te,b,w.ref,Ue),[vt,zt]=x.useState(!1),Le=Id(),He=xd({props:i,muiFormControl:Le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});He.focused=Le?Le.focused:vt,x.useEffect(()=>{!Le&&h&&vt&&(zt(!1),E&&E())},[Le,h,vt,E]);const ke=Le&&Le.onFilled,Ae=Le&&Le.onEmpty,Je=x.useCallback(qe=>{Hy(qe)?ke&&ke():Ae&&Ae()},[ke,Ae]);cs(()=>{ce&&Je({value:ge})},[ge,Je,ce]);const lr=qe=>{if(He.disabled){qe.stopPropagation();return}A&&A(qe),w.onFocus&&w.onFocus(qe),Le&&Le.onFocus?Le.onFocus(qe):zt(!0)},Zt=qe=>{E&&E(qe),w.onBlur&&w.onBlur(qe),Le&&Le.onBlur?Le.onBlur(qe):zt(!1)},hn=(qe,..._e)=>{if(!ce){const qn=qe.target||Te.current;if(qn==null)throw new Error(Kl(1));Je({value:qn.value})}w.onChange&&w.onChange(qe,..._e),I&&I(qe,..._e)};x.useEffect(()=>{Je(Te.current)},[]);const pn=qe=>{Te.current&&qe.currentTarget===qe.target&&Te.current.focus(),C&&C(qe)};let mn=v,it=w;M&&mn==="input"&&(q?it=L({type:void 0,minRows:q,maxRows:q},it):it=L({type:void 0,maxRows:k,minRows:P},it),mn=Tre);const jr=qe=>{Je(qe.animationName==="mui-auto-fill-cancel"?Te.current:{value:"x"})};x.useEffect(()=>{Le&&Le.setAdornedStart(!!Z)},[Le,Z]);const jt=L({},i,{color:He.color||"primary",disabled:He.disabled,endAdornment:m,error:He.error,focused:He.focused,formControl:Le,fullWidth:g,hiddenLabel:He.hiddenLabel,multiline:M,size:He.size,startAdornment:Z,type:ne}),We=Pre(jt),an=G.root||c.Root||T_,Xe=V.root||u.root||{},ht=G.input||c.Input||x_;return it=L({},it,(r=V.input)!=null?r:u.input),N.jsxs(x.Fragment,{children:[!p&&Rre,N.jsxs(an,L({},Xe,!Ny(an)&&{ownerState:L({},jt,Xe.ownerState)},{ref:t,onClick:pn},re,{className:de(We.root,Xe.className,l,K&&"MuiInputBase-readOnly"),children:[Z,N.jsx(Rx.Provider,{value:null,children:N.jsx(ht,L({ownerState:jt,"aria-invalid":He.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:He.disabled,id:_,onAnimationStart:jr,name:S,placeholder:U,readOnly:K,required:He.required,rows:q,value:ge,onKeyDown:O,onKeyUp:R,type:ne},it,!Ny(ht)&&{as:mn,ownerState:L({},jt,it.ownerState)},{ref:Bt,className:de(We.input,it.className,K&&"MuiInputBase-readOnly"),onBlur:Zt,onChange:hn,onFocus:lr}))}),m,H?H(L({},He,{startAdornment:Z})):null]}))]})});function Dre(n){return kt("MuiInput",n)}const rf=L({},Hu,gt("MuiInput",["root","underline","input"]));function Are(n){return kt("MuiOutlinedInput",n)}const Cs=L({},Hu,gt("MuiOutlinedInput",["root","notchedOutline","input"]));function Mre(n){return kt("MuiFilledInput",n)}const Wa=L({},Hu,gt("MuiFilledInput",["root","underline","input"])),Ore=px(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Nre=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Lre={entering:{opacity:1},entered:{opacity:1}},Fre=x.forwardRef(function(e,t){const r=m$(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:g,style:_,timeout:v=i,TransitionComponent:w=Co}=e,b=Se(e,Nre),k=x.useRef(null),P=sr(k,a.ref,t),M=U=>K=>{if(U){const H=k.current;K===void 0?U(H):U(H,K)}},S=M(h),E=M((U,K)=>{P$(U);const H=$y({style:_,timeout:v,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",H),U.style.transition=r.transitions.create("opacity",H),u&&u(U,K)}),I=M(d),C=M(g),A=M(U=>{const K=$y({style:_,timeout:v,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",K),U.style.transition=r.transitions.create("opacity",K),p&&p(U)}),O=M(m),R=U=>{o&&o(k.current,U)};return N.jsx(w,L({appear:s,in:c,nodeRef:k,onEnter:E,onEntered:I,onEntering:S,onExit:A,onExited:O,onExiting:C,addEndListener:R,timeout:v},b,{children:(U,K)=>x.cloneElement(a,L({style:L({opacity:0,visibility:U==="exited"&&!c?"hidden":void 0},Lre[U],_,a.props.style),ref:P},K))}))});function Vre(n){return kt("MuiBackdrop",n)}gt("MuiBackdrop",["root","invisible"]);const $re=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bre=n=>{const{classes:e,invisible:t}=n;return Dt({root:["root",t&&"invisible"]},Vre,e)},zre=Ie("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),jre=x.forwardRef(function(e,t){var r,i,o;const s=At({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:g={},TransitionComponent:_=Fre,transitionDuration:v}=s,w=Se(s,$re),b=L({},s,{component:c,invisible:h}),k=Bre(b),P=(r=m.root)!=null?r:d.root;return N.jsx(_,L({in:p,timeout:v},w,{children:N.jsx(zre,L({"aria-hidden":!0},P,{as:(i=(o=g.root)!=null?o:u.Root)!=null?i:c,className:de(k.root,l,P==null?void 0:P.className),ownerState:L({},b,P==null?void 0:P.ownerState),classes:k,ref:t,children:a}))}))}),Ure=gt("MuiBox",["root"]),Hre=f$(),Ks=TJ({themeId:xp,defaultTheme:Hre,defaultClassName:Ure.root,generateClassName:JT.generate});function Wre(n){return kt("MuiButton",n)}const Pm=gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),qre=x.createContext({}),Kre=x.createContext(void 0),Gre=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Yre=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:o,classes:s}=n,a={root:["root",o,`${o}${Me(e)}`,`size${Me(i)}`,`${o}Size${Me(i)}`,`color${Me(e)}`,t&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Me(i)}`],endIcon:["icon","endIcon",`iconSize${Me(i)}`]},l=Dt(a,Wre,s);return L({},s,l)},B$=n=>L({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Qre=Ie(Tx,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Me(t.color)}`],e[`size${Me(t.size)}`],e[`${t.variant}Size${Me(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(({theme:n,ownerState:e})=>{var t,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],o=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return L({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:ho(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ho(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[e.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ho(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}),"&:active":L({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${Pm.focusVisible}`]:L({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${Pm.disabled}`]:L({color:(n.vars||n).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ho(n.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pm.disabled}`]:{boxShadow:"none"}}),Jre=Ie("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${Me(t.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},B$(n))),Xre=Ie("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${Me(t.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},B$(n))),El=x.forwardRef(function(e,t){const r=x.useContext(qre),i=x.useContext(Kre),o=QT(r,e),s=At({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:_=!1,size:v="medium",startIcon:w,type:b,variant:k="text"}=s,P=Se(s,Gre),M=L({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:_,size:v,type:b,variant:k}),S=Yre(M),E=w&&N.jsx(Jre,{className:S.startIcon,ownerState:M,children:w}),I=m&&N.jsx(Xre,{className:S.endIcon,ownerState:M,children:m}),C=i||"";return N.jsxs(Qre,L({ownerState:M,className:de(r.className,S.root,u,C),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:de(S.focusVisible,g),ref:t,type:b},P,{classes:S,children:[E,a,I]}))}),z$=jJ({createStyledComponent:Ie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${Me(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),useThemeProps:n=>At({props:n,name:"MuiContainer"})});function Zre(n){return kt("MuiModal",n)}gt("MuiModal",["root","hidden","backdrop"]);const eie=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],tie=n=>{const{open:e,exited:t,classes:r}=n;return Dt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Zre,r)},nie=Ie("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>L({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),rie=Ie(jre,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),iie=x.forwardRef(function(e,t){var r,i,o,s,a,l;const c=At({name:"MuiModal",props:e}),{BackdropComponent:u=rie,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:g,component:_,components:v={},componentsProps:w={},disableAutoFocus:b=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:P=!1,disablePortal:M=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:I=!1,keepMounted:C=!1,onBackdropClick:A,open:O,slotProps:R,slots:U}=c,K=Se(c,eie),H=L({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:k,disableEscapeKeyDown:P,disablePortal:M,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:I,keepMounted:C}),{getRootProps:q,getBackdropProps:V,getTransitionProps:G,portalRef:Z,isTopModal:ne,exited:fe,hasTransition:re}=wre(L({},H,{rootRef:t})),ge=L({},H,{exited:fe}),ce=tie(ge),Te={};if(m.props.tabIndex===void 0&&(Te.tabIndex="-1"),re){const{onEnter:ke,onExited:Ae}=G();Te.onEnter=ke,Te.onExited=Ae}const Ue=(r=(i=U==null?void 0:U.root)!=null?i:v.Root)!=null?r:nie,Bt=(o=(s=U==null?void 0:U.backdrop)!=null?s:v.Backdrop)!=null?o:u,vt=(a=R==null?void 0:R.root)!=null?a:w.root,zt=(l=R==null?void 0:R.backdrop)!=null?l:w.backdrop,Le=Bu({elementType:Ue,externalSlotProps:vt,externalForwardedProps:K,getSlotProps:q,additionalProps:{ref:t,as:_},ownerState:ge,className:de(h,vt==null?void 0:vt.className,ce==null?void 0:ce.root,!ge.open&&ge.exited&&(ce==null?void 0:ce.hidden))}),He=Bu({elementType:Bt,externalSlotProps:zt,additionalProps:d,getSlotProps:ke=>V(L({},ke,{onClick:Ae=>{A&&A(Ae),ke!=null&&ke.onClick&&ke.onClick(Ae)}})),className:de(zt==null?void 0:zt.className,d==null?void 0:d.className,ce==null?void 0:ce.backdrop),ownerState:ge});return!C&&!O&&(!re||fe)?null:N.jsx(dre,{ref:Z,container:g,disablePortal:M,children:N.jsxs(Ue,L({},Le,{children:[!I&&u?N.jsx(Bt,L({},He)):null,N.jsx(bne,{disableEnforceFocus:k,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:ne,open:O,children:x.cloneElement(m,Te)})]}))})}),vD=gt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function oie(n){return kt("MuiFab",n)}const _D=gt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),sie=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],aie=n=>{const{color:e,variant:t,classes:r,size:i}=n,o={root:["root",t,`size${Me(i)}`,e==="inherit"?"colorInherit":e]},s=Dt(o,oie,r);return L({},r,s)},lie=Ie(Tx,{name:"MuiFab",slot:"Root",shouldForwardProp:n=>ai(n)||n==="classes",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Me(t.size)}`],t.color==="inherit"&&e.colorInherit,e[Me(t.size)],e[t.color]]}})(({theme:n,ownerState:e})=>{var t,r;return L({},n.typography.button,{minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(n.vars||n).zIndex.fab,boxShadow:(n.vars||n).shadows[6],"&:active":{boxShadow:(n.vars||n).shadows[12]},color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:(n.vars||n).palette.grey[300],"&:hover":{backgroundColor:(n.vars||n).palette.grey.A100,"@media (hover: none)":{backgroundColor:(n.vars||n).palette.grey[300]},textDecoration:"none"},[`&.${_D.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:n,ownerState:e})=>L({},e.color!=="inherit"&&e.color!=="default"&&(n.vars||n).palette[e.color]!=null&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main,"&:hover":{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}}),({theme:n})=>({[`&.${_D.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}})),cie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:h="circular"}=r,p=Se(r,sie),m=L({},r,{color:s,component:a,disabled:l,disableFocusRipple:c,size:d,variant:h}),g=aie(m);return N.jsx(lie,L({className:de(g.root,o),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:de(g.focusVisible,u),ownerState:m,ref:t},p,{classes:g,children:i}))}),uie=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],die=n=>{const{classes:e,disableUnderline:t}=n,i=Dt({root:["root",!t&&"underline"],input:["input"]},Mre,e);return L({},e,i)},fie=Ie(T_,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...E_(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{var t;const r=n.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return L({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o}},[`&.${Wa.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o},[`&.${Wa.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t=(n.vars||n).palette[e.color||"primary"])==null?void 0:t.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wa.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wa.disabled}, .${Wa.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Wa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&L({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),hie=Ie(x_,{name:"MuiFilledInput",slot:"Input",overridesResolver:S_})(({theme:n,ownerState:e})=>L({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ax=x.forwardRef(function(e,t){var r,i,o,s;const a=At({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:g="text"}=a,_=Se(a,uie),v=L({},a,{fullWidth:u,inputComponent:d,multiline:h,type:g}),w=die(a),b={root:{ownerState:v},input:{ownerState:v}},k=p??c?Xr(b,p??c):b,P=(r=(i=m.root)!=null?i:l.Root)!=null?r:fie,M=(o=(s=m.input)!=null?s:l.Input)!=null?o:hie;return N.jsx(Dx,L({slots:{root:P,input:M},componentsProps:k,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:g},_,{classes:w}))});Ax.muiName="Input";function pie(n){return kt("MuiFormControl",n)}gt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const mie=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],gie=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Me(t)}`,r&&"fullWidth"]};return Dt(i,pie,e)},yie=Ie("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},e)=>L({},e.root,e[`margin${Me(n.margin)}`],n.fullWidth&&e.fullWidth)})(({ownerState:n})=>L({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),vie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:g="medium",variant:_="outlined"}=r,v=Se(r,mie),w=L({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:g,variant:_}),b=gie(w),[k,P]=x.useState(()=>{let R=!1;return i&&x.Children.forEach(i,U=>{if(!vg(U,["Input","Select"]))return;const K=vg(U,["Select"])?U.props.input:U;K&&Ire(K.props)&&(R=!0)}),R}),[M,S]=x.useState(()=>{let R=!1;return i&&x.Children.forEach(i,U=>{vg(U,["Input","Select"])&&(Hy(U.props,!0)||Hy(U.props.inputProps,!0))&&(R=!0)}),R}),[E,I]=x.useState(!1);l&&E&&I(!1);const C=u!==void 0&&!l?u:E;let A;const O=x.useMemo(()=>({adornedStart:k,setAdornedStart:P,color:s,disabled:l,error:c,filled:M,focused:C,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{I(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{I(!0)},registerEffect:A,required:m,variant:_}),[k,s,l,c,M,C,d,h,A,m,g,_]);return N.jsx(Rx.Provider,{value:O,children:N.jsx(yie,L({as:a,ownerState:w,className:de(b.root,o),ref:t},v,{children:i}))})});function _ie(n){return kt("MuiFormHelperText",n)}const wD=gt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var bD;const wie=["children","className","component","disabled","error","filled","focused","margin","required","variant"],bie=n=>{const{classes:e,contained:t,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=n,c={root:["root",i&&"disabled",o&&"error",r&&`size${Me(r)}`,t&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Dt(c,_ie,e)},Eie=Ie("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Me(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(({theme:n,ownerState:e})=>L({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wD.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${wD.error}`]:{color:(n.vars||n).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Sie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=Se(r,wie),l=Id(),c=xd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=L({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=bie(u);return N.jsx(Eie,L({as:s,ownerState:u,className:de(d.root,o),ref:t},a,{children:i===" "?bD||(bD=N.jsx("span",{className:"notranslate",children:"​"})):i}))});function Tie(n){return kt("MuiFormLabel",n)}const Zf=gt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xie=["children","className","color","component","disabled","error","filled","focused","required"],Iie=n=>{const{classes:e,color:t,focused:r,disabled:i,error:o,filled:s,required:a}=n,l={root:["root",`color${Me(t)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Dt(l,Tie,e)},kie=Ie("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},e)=>L({},e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled)})(({theme:n,ownerState:e})=>L({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Zf.focused}`]:{color:(n.vars||n).palette[e.color].main},[`&.${Zf.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Zf.error}`]:{color:(n.vars||n).palette.error.main}})),Cie=Ie("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(({theme:n})=>({[`&.${Zf.error}`]:{color:(n.vars||n).palette.error.main}})),Pie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=Se(r,xie),l=Id(),c=xd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=L({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Iie(u);return N.jsxs(kie,L({as:s,ownerState:u,className:de(d.root,o),ref:t},a,{children:[i,c.required&&N.jsxs(Cie,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Rie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function TE(n){return`scale(${n}, ${n**2})`}const Die={entering:{opacity:1,transform:TE(1)},entered:{opacity:1,transform:"none"}},qw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),j$=x.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:g="auto",TransitionComponent:_=Co}=e,v=Se(e,Rie),w=CV(),b=x.useRef(),k=m$(),P=x.useRef(null),M=sr(P,o.ref,t),S=K=>H=>{if(K){const q=P.current;H===void 0?K(q):K(q,H)}},E=S(u),I=S((K,H)=>{P$(K);const{duration:q,delay:V,easing:G}=$y({style:m,timeout:g,easing:s},{mode:"enter"});let Z;g==="auto"?(Z=k.transitions.getAutoHeightDuration(K.clientHeight),b.current=Z):Z=q,K.style.transition=[k.transitions.create("opacity",{duration:Z,delay:V}),k.transitions.create("transform",{duration:qw?Z:Z*.666,delay:V,easing:G})].join(","),l&&l(K,H)}),C=S(c),A=S(p),O=S(K=>{const{duration:H,delay:q,easing:V}=$y({style:m,timeout:g,easing:s},{mode:"exit"});let G;g==="auto"?(G=k.transitions.getAutoHeightDuration(K.clientHeight),b.current=G):G=H,K.style.transition=[k.transitions.create("opacity",{duration:G,delay:q}),k.transitions.create("transform",{duration:qw?G:G*.666,delay:qw?q:q||G*.333,easing:V})].join(","),K.style.opacity=0,K.style.transform=TE(.75),d&&d(K)}),R=S(h),U=K=>{g==="auto"&&w.start(b.current||0,K),r&&r(P.current,K)};return N.jsx(_,L({appear:i,in:a,nodeRef:P,onEnter:I,onEntered:C,onEntering:E,onExit:O,onExited:R,onExiting:A,addEndListener:U,timeout:g==="auto"?null:g},v,{children:(K,H)=>x.cloneElement(o,L({style:L({opacity:0,transform:TE(.75),visibility:K==="exited"&&!a?"hidden":void 0},Die[K],m,o.props.style),ref:M},H))}))});j$.muiSupportAuto=!0;const Aie=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Mie=n=>{const{classes:e,disableUnderline:t}=n,i=Dt({root:["root",!t&&"underline"],input:["input"]},Dre,e);return L({},e,i)},Oie=Ie(T_,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...E_(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),L({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rf.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rf.disabled}, .${rf.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${rf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Nie=Ie(x_,{name:"MuiInput",slot:"Input",overridesResolver:S_})({}),Mx=x.forwardRef(function(e,t){var r,i,o,s;const a=At({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:g={},type:_="text"}=a,v=Se(a,Aie),w=Mie(a),k={root:{ownerState:{disableUnderline:l}}},P=m??u?Xr(m??u,k):k,M=(r=(i=g.root)!=null?i:c.Root)!=null?r:Oie,S=(o=(s=g.input)!=null?s:c.Input)!=null?o:Nie;return N.jsx(Dx,L({slots:{root:M,input:S},slotProps:P,fullWidth:d,inputComponent:h,multiline:p,ref:t,type:_},v,{classes:w}))});Mx.muiName="Input";function Lie(n){return kt("MuiInputLabel",n)}gt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Fie=["disableAnimation","margin","shrink","variant","className"],Vie=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=n,l={root:["root",t&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Me(r)}`,s],asterisk:[a&&"asterisk"]},c=Dt(l,Lie,e);return L({},e,c)},$ie=Ie(Pie,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Zf.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(({theme:n,ownerState:e})=>L({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},e.variant==="filled"&&L({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&L({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&L({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Bie=x.forwardRef(function(e,t){const r=At({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=Se(r,Fie),l=Id();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=xd({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=L({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=Vie(d);return N.jsx($ie,L({"data-shrink":c,ownerState:d,ref:t,className:de(h.root,s)},a,{classes:h}))}),xE=x.createContext({});function zie(n){return kt("MuiList",n)}gt("MuiList",["root","padding","dense","subheader"]);const jie=["children","className","component","dense","disablePadding","subheader"],Uie=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return Dt({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},zie,e)},Hie=Ie("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>L({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),Wie=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=Se(r,jie),d=x.useMemo(()=>({dense:a}),[a]),h=L({},r,{component:s,dense:a,disablePadding:l}),p=Uie(h);return N.jsx(xE.Provider,{value:d,children:N.jsxs(Hie,L({as:s,className:de(p.root,o),ref:t,ownerState:h},u,{children:[c,i]}))})}),ED=gt("MuiListItemIcon",["root","alignItemsFlexStart"]),SD=gt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),qie=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Kw(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function TD(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function U$(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function of(n,e,t,r,i,o){let s=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!U$(a,o)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const Kie=x.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=Se(e,qie),p=x.useRef(null),m=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});cs(()=>{i&&p.current.focus()},[i]),x.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:k})=>{const P=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&P){const M=`${RV(Vr(b))}px`;p.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=M,p.current.style.width=`calc(100% + ${M})`}return p.current}}),[]);const g=b=>{const k=p.current,P=b.key,M=Vr(k).activeElement;if(P==="ArrowDown")b.preventDefault(),of(k,M,c,l,Kw);else if(P==="ArrowUp")b.preventDefault(),of(k,M,c,l,TD);else if(P==="Home")b.preventDefault(),of(k,null,c,l,Kw);else if(P==="End")b.preventDefault(),of(k,null,c,l,TD);else if(P.length===1){const S=m.current,E=P.toLowerCase(),I=performance.now();S.keys.length>0&&(I-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=I,S.keys.push(E);const C=M&&!S.repeating&&U$(M,S);S.previousKeyMatched&&(C||of(k,M,!1,l,Kw,S))?b.preventDefault():S.previousKeyMatched=!1}u&&u(b)},_=sr(p,t);let v=-1;x.Children.forEach(s,(b,k)=>{if(!x.isValidElement(b)){v===k&&(v+=1,v>=s.length&&(v=-1));return}b.props.disabled||(d==="selectedMenu"&&b.props.selected||v===-1)&&(v=k),v===k&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const w=x.Children.map(s,(b,k)=>{if(k===v){const P={};return o&&(P.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(P.tabIndex=0),x.cloneElement(b,P)}return b});return N.jsx(Wie,L({role:"menu",ref:_,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:w}))});function Gie(n){return kt("MuiPopover",n)}gt("MuiPopover",["root","paper"]);const Yie=["onEntering"],Qie=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Jie=["slotProps"];function xD(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function ID(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function kD(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Gw(n){return typeof n=="function"?n():n}const Xie=n=>{const{classes:e}=n;return Dt({root:["root"],paper:["paper"]},Gie,e)},Zie=Ie(iie,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),H$=Ie(Gte,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),eoe=x.forwardRef(function(e,t){var r,i,o;const s=At({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:g=8,marginThreshold:_=16,open:v,PaperProps:w={},slots:b,slotProps:k,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:M=j$,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:I=!1}=s,C=Se(s.TransitionProps,Yie),A=Se(s,Qie),O=(r=k==null?void 0:k.paper)!=null?r:w,R=x.useRef(),U=sr(R,O.ref),K=L({},s,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:_,externalPaperSlotProps:O,transformOrigin:P,TransitionComponent:M,transitionDuration:S,TransitionProps:C}),H=Xie(K),q=x.useCallback(()=>{if(d==="anchorPosition")return u;const ke=Gw(l),Je=(ke&&ke.nodeType===1?ke:Vr(R.current).body).getBoundingClientRect();return{top:Je.top+xD(Je,c.vertical),left:Je.left+ID(Je,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),V=x.useCallback(ke=>({vertical:xD(ke,P.vertical),horizontal:ID(ke,P.horizontal)}),[P.horizontal,P.vertical]),G=x.useCallback(ke=>{const Ae={width:ke.offsetWidth,height:ke.offsetHeight},Je=V(Ae);if(d==="none")return{top:null,left:null,transformOrigin:kD(Je)};const lr=q();let Zt=lr.top-Je.vertical,hn=lr.left-Je.horizontal;const pn=Zt+Ae.height,mn=hn+Ae.width,it=Ea(Gw(l)),jr=it.innerHeight-_,jt=it.innerWidth-_;if(_!==null&&Zt<_){const We=Zt-_;Zt-=We,Je.vertical+=We}else if(_!==null&&pn>jr){const We=pn-jr;Zt-=We,Je.vertical+=We}if(_!==null&&hn<_){const We=hn-_;hn-=We,Je.horizontal+=We}else if(mn>jt){const We=mn-jt;hn-=We,Je.horizontal+=We}return{top:`${Math.round(Zt)}px`,left:`${Math.round(hn)}px`,transformOrigin:kD(Je)}},[l,d,q,V,_]),[Z,ne]=x.useState(v),fe=x.useCallback(()=>{const ke=R.current;if(!ke)return;const Ae=G(ke);Ae.top!==null&&(ke.style.top=Ae.top),Ae.left!==null&&(ke.style.left=Ae.left),ke.style.transformOrigin=Ae.transformOrigin,ne(!0)},[G]);x.useEffect(()=>(I&&window.addEventListener("scroll",fe),()=>window.removeEventListener("scroll",fe)),[l,I,fe]);const re=(ke,Ae)=>{E&&E(ke,Ae),fe()},ge=()=>{ne(!1)};x.useEffect(()=>{v&&fe()}),x.useImperativeHandle(a,()=>v?{updatePosition:()=>{fe()}}:null,[v,fe]),x.useEffect(()=>{if(!v)return;const ke=GT(()=>{fe()}),Ae=Ea(l);return Ae.addEventListener("resize",ke),()=>{ke.clear(),Ae.removeEventListener("resize",ke)}},[l,v,fe]);let ce=S;S==="auto"&&!M.muiSupportAuto&&(ce=void 0);const Te=m||(l?Vr(Gw(l)).body:void 0),Ue=(i=b==null?void 0:b.root)!=null?i:Zie,Bt=(o=b==null?void 0:b.paper)!=null?o:H$,vt=Bu({elementType:Bt,externalSlotProps:L({},O,{style:Z?O.style:L({},O.style,{opacity:0})}),additionalProps:{elevation:g,ref:U},ownerState:K,className:de(H.paper,O==null?void 0:O.className)}),zt=Bu({elementType:Ue,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:A,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:Te,open:v},ownerState:K,className:de(H.root,p)}),{slotProps:Le}=zt,He=Se(zt,Jie);return N.jsx(Ue,L({},He,!Ny(Ue)&&{slotProps:Le,disableScrollLock:I},{children:N.jsx(M,L({appear:!0,in:v,onEntering:re,onExited:ge,timeout:ce},C,{children:N.jsx(Bt,L({},vt,{children:h}))}))}))});function toe(n){return kt("MuiMenu",n)}gt("MuiMenu",["root","paper","list"]);const noe=["onEntering"],roe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ioe={vertical:"top",horizontal:"right"},ooe={vertical:"top",horizontal:"left"},soe=n=>{const{classes:e}=n;return Dt({root:["root"],paper:["paper"],list:["list"]},toe,e)},aoe=Ie(eoe,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),loe=Ie(H$,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),coe=Ie(Kie,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),W$=x.forwardRef(function(e,t){var r,i;const o=At({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:_}={},variant:v="selectedMenu",slots:w={},slotProps:b={}}=o,k=Se(o.TransitionProps,noe),P=Se(o,roe),M=LJ(),S=L({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:_,PaperProps:p,transitionDuration:g,TransitionProps:k,variant:v}),E=soe(S),I=s&&!c&&h,C=x.useRef(null),A=(V,G)=>{C.current&&C.current.adjustStyleForScrollbar(V,{direction:M?"rtl":"ltr"}),_&&_(V,G)},O=V=>{V.key==="Tab"&&(V.preventDefault(),d&&d(V,"tabKeyDown"))};let R=-1;x.Children.map(a,(V,G)=>{x.isValidElement(V)&&(V.props.disabled||(v==="selectedMenu"&&V.props.selected||R===-1)&&(R=G))});const U=(r=w.paper)!=null?r:loe,K=(i=b.paper)!=null?i:p,H=Bu({elementType:w.root,externalSlotProps:b.root,ownerState:S,className:[E.root,l]}),q=Bu({elementType:U,externalSlotProps:K,ownerState:S,className:E.paper});return N.jsx(aoe,L({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?ioe:ooe,slots:{paper:U,root:w.root},slotProps:{root:H,paper:q},open:h,ref:t,transitionDuration:g,TransitionProps:L({onEntering:A},k),ownerState:S},P,{classes:m,children:N.jsx(coe,L({onKeyDown:O,actions:C,autoFocus:s&&(R===-1||c),autoFocusItem:I,variant:v},u,{className:de(E.list,u.className),children:a}))}))});function uoe(n){return kt("MuiMenuItem",n)}const sf=gt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),doe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],foe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},hoe=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:o,classes:s}=n,l=Dt({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},uoe,s);return L({},s,l)},poe=Ie(Tx,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:foe})(({theme:n,ownerState:e})=>L({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sf.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:ho(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${sf.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ho(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${sf.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:ho(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:ho(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${sf.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${sf.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${vD.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${vD.inset}`]:{marginLeft:52},[`& .${SD.root}`]:{marginTop:0,marginBottom:0},[`& .${SD.inset}`]:{paddingLeft:36},[`& .${ED.root}`]:{minWidth:36}},!e.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&L({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${ED.root} svg`]:{fontSize:"1.25rem"}}))),CD=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=Se(r,doe),m=x.useContext(xE),g=x.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),_=x.useRef(null);cs(()=>{i&&_.current&&_.current.focus()},[i]);const v=L({},r,{dense:g.dense,divider:a,disableGutters:l}),w=hoe(r),b=sr(_,t);let k;return r.disabled||(k=d!==void 0?d:-1),N.jsx(xE.Provider,{value:g,children:N.jsx(poe,L({ref:b,role:u,tabIndex:k,component:o,focusVisibleClassName:de(w.focusVisible,c),className:de(w.root,h)},p,{ownerState:v,classes:w}))})});function moe(n){return kt("MuiNativeSelect",n)}const Ox=gt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),goe=["className","disabled","error","IconComponent","inputRef","variant"],yoe=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,a={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(t)}`,o&&"iconOpen",r&&"disabled"]};return Dt(a,moe,e)},q$=({ownerState:n,theme:e})=>L({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":L({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ox.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),voe=Ie("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ai,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Ox.multiple}`]:e.multiple}]}})(q$),K$=({ownerState:n,theme:e})=>L({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Ox.disabled}`]:{color:(e.vars||e).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),_oe=Ie("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Me(t.variant)}`],t.open&&e.iconOpen]}})(K$),woe=x.forwardRef(function(e,t){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=Se(e,goe),u=L({},e,{disabled:i,variant:l,error:o}),d=yoe(u);return N.jsxs(x.Fragment,{children:[N.jsx(voe,L({ownerState:u,className:de(d.select,r),disabled:i,ref:a||t},c)),e.multiple?null:N.jsx(_oe,{as:s,ownerState:u,className:d.icon})]})});var PD;const boe=["children","classes","className","label","notched"],Eoe=Ie("fieldset",{shouldForwardProp:ai})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Soe=Ie("legend",{shouldForwardProp:ai})(({ownerState:n,theme:e})=>L({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},n.withLabel&&L({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Toe(n){const{className:e,label:t,notched:r}=n,i=Se(n,boe),o=t!=null&&t!=="",s=L({},n,{notched:r,withLabel:o});return N.jsx(Eoe,L({"aria-hidden":!0,className:e,ownerState:s},i,{children:N.jsx(Soe,{ownerState:s,children:o?N.jsx("span",{children:t}):PD||(PD=N.jsx("span",{className:"notranslate",children:"​"}))})}))}const xoe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Ioe=n=>{const{classes:e}=n,r=Dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Are,e);return L({},e,r)},koe=Ie(T_,{shouldForwardProp:n=>ai(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:E_})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return L({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Cs.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Cs.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Cs.focused} .${Cs.notchedOutline}`]:{borderColor:(n.vars||n).palette[e.color].main,borderWidth:2},[`&.${Cs.error} .${Cs.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Cs.disabled} .${Cs.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&L({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Coe=Ie(Toe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Poe=Ie(x_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:S_})(({theme:n,ownerState:e})=>L({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Nx=x.forwardRef(function(e,t){var r,i,o,s,a;const l=At({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:g={},type:_="text"}=l,v=Se(l,xoe),w=Ioe(l),b=Id(),k=xd({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=L({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:b,fullWidth:u,hiddenLabel:k.hiddenLabel,multiline:p,size:k.size,type:_}),M=(r=(i=g.root)!=null?i:c.Root)!=null?r:koe,S=(o=(s=g.input)!=null?s:c.Input)!=null?o:Poe;return N.jsx(Dx,L({slots:{root:M,input:S},renderSuffix:E=>N.jsx(Coe,{ownerState:P,className:w.notchedOutline,label:h!=null&&h!==""&&k.required?a||(a=N.jsxs(x.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:_},v,{classes:L({},w,{notchedOutline:null})}))});Nx.muiName="Input";function Roe(n){return kt("MuiSelect",n)}const af=gt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var RD;const Doe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Aoe=Ie("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${af.select}`]:e.select},{[`&.${af.select}`]:e[t.variant]},{[`&.${af.error}`]:e.error},{[`&.${af.multiple}`]:e.multiple}]}})(q$,{[`&.${af.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Moe=Ie("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Me(t.variant)}`],t.open&&e.iconOpen]}})(K$),Ooe=Ie("input",{shouldForwardProp:n=>p$(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function DD(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function Noe(n){return n==null||typeof n=="string"&&!n.trim()}const Loe=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,a={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(t)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Dt(a,Roe,e)},Foe=x.forwardRef(function(e,t){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:g,inputRef:_,labelId:v,MenuProps:w={},multiple:b,name:k,onBlur:P,onChange:M,onClose:S,onFocus:E,onOpen:I,open:C,readOnly:A,renderValue:O,SelectDisplayProps:R={},tabIndex:U,value:K,variant:H="standard"}=e,q=Se(e,Doe),[V,G]=sE({controlled:K,default:d,name:"Select"}),[Z,ne]=sE({controlled:C,default:u,name:"Select"}),fe=x.useRef(null),re=x.useRef(null),[ge,ce]=x.useState(null),{current:Te}=x.useRef(C!=null),[Ue,Bt]=x.useState(),vt=sr(t,_),zt=x.useCallback(ye=>{re.current=ye,ye&&ce(ye)},[]),Le=ge==null?void 0:ge.parentNode;x.useImperativeHandle(vt,()=>({focus:()=>{re.current.focus()},node:fe.current,value:V}),[V]),x.useEffect(()=>{u&&Z&&ge&&!Te&&(Bt(a?null:Le.clientWidth),re.current.focus())},[ge,a]),x.useEffect(()=>{s&&re.current.focus()},[s]),x.useEffect(()=>{if(!v)return;const ye=Vr(re.current).getElementById(v);if(ye){const Fe=()=>{getSelection().isCollapsed&&re.current.focus()};return ye.addEventListener("click",Fe),()=>{ye.removeEventListener("click",Fe)}}},[v]);const He=(ye,Fe)=>{ye?I&&I(Fe):S&&S(Fe),Te||(Bt(a?null:Le.clientWidth),ne(ye))},ke=ye=>{ye.button===0&&(ye.preventDefault(),re.current.focus(),He(!0,ye))},Ae=ye=>{He(!1,ye)},Je=x.Children.toArray(l),lr=ye=>{const Fe=Je.find(pt=>pt.props.value===ye.target.value);Fe!==void 0&&(G(Fe.props.value),M&&M(ye,Fe))},Zt=ye=>Fe=>{let pt;if(Fe.currentTarget.hasAttribute("tabindex")){if(b){pt=Array.isArray(V)?V.slice():[];const ci=V.indexOf(ye.props.value);ci===-1?pt.push(ye.props.value):pt.splice(ci,1)}else pt=ye.props.value;if(ye.props.onClick&&ye.props.onClick(Fe),V!==pt&&(G(pt),M)){const ci=Fe.nativeEvent||Fe,ws=new ci.constructor(ci.type,ci);Object.defineProperty(ws,"target",{writable:!0,value:{value:pt,name:k}}),M(ws,ye)}b||He(!1,Fe)}},hn=ye=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ye.key)!==-1&&(ye.preventDefault(),He(!0,ye))},pn=ge!==null&&Z,mn=ye=>{!pn&&P&&(Object.defineProperty(ye,"target",{writable:!0,value:{value:V,name:k}}),P(ye))};delete q["aria-invalid"];let it,jr;const jt=[];let We=!1;(Hy({value:V})||p)&&(O?it=O(V):We=!0);const an=Je.map(ye=>{if(!x.isValidElement(ye))return null;let Fe;if(b){if(!Array.isArray(V))throw new Error(Kl(2));Fe=V.some(pt=>DD(pt,ye.props.value)),Fe&&We&&jt.push(ye.props.children)}else Fe=DD(V,ye.props.value),Fe&&We&&(jr=ye.props.children);return x.cloneElement(ye,{"aria-selected":Fe?"true":"false",onClick:Zt(ye),onKeyUp:pt=>{pt.key===" "&&pt.preventDefault(),ye.props.onKeyUp&&ye.props.onKeyUp(pt)},role:"option",selected:Fe,value:void 0,"data-value":ye.props.value})});We&&(b?jt.length===0?it=null:it=jt.reduce((ye,Fe,pt)=>(ye.push(Fe),pt<jt.length-1&&ye.push(", "),ye),[]):it=jr);let Xe=Ue;!a&&Te&&ge&&(Xe=Le.clientWidth);let ht;typeof U<"u"?ht=U:ht=h?null:0;const qe=R.id||(k?`mui-component-select-${k}`:void 0),_e=L({},e,{variant:H,value:V,open:pn,error:m}),qn=Loe(_e),Xi=L({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Kn=YT();return N.jsxs(x.Fragment,{children:[N.jsx(Aoe,L({ref:zt,tabIndex:ht,role:"combobox","aria-controls":Kn,"aria-disabled":h?"true":void 0,"aria-expanded":pn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,qe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:hn,onMouseDown:h||A?null:ke,onBlur:mn,onFocus:E},R,{ownerState:_e,className:de(R.className,qn.select,c),id:qe,children:Noe(it)?RD||(RD=N.jsx("span",{className:"notranslate",children:"​"})):it})),N.jsx(Ooe,L({"aria-invalid":m,value:Array.isArray(V)?V.join(","):V,name:k,ref:fe,"aria-hidden":!0,onChange:lr,tabIndex:-1,disabled:h,className:qn.nativeInput,autoFocus:s,ownerState:_e},q)),N.jsx(Moe,{as:g,className:qn.icon,ownerState:_e}),N.jsx(W$,L({id:`menu-${k||""}`,anchorEl:Le,open:pn,onClose:Ae,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:L({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Kn},w.MenuListProps),slotProps:L({},w.slotProps,{paper:L({},Xi,{style:L({minWidth:Xe},Xi!=null?Xi.style:null)})}),children:an}))]})}),Voe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],$oe=["root"],Boe=n=>{const{classes:e}=n;return e},Lx={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>ai(n)&&n!=="variant",slot:"Root"},zoe=Ie(Mx,Lx)(""),joe=Ie(Nx,Lx)(""),Uoe=Ie(Ax,Lx)(""),G$=x.forwardRef(function(e,t){const r=At({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Ore,id:d,input:h,inputProps:p,label:m,labelId:g,MenuProps:_,multiple:v=!1,native:w=!1,onClose:b,onOpen:k,open:P,renderValue:M,SelectDisplayProps:S,variant:E="outlined"}=r,I=Se(r,Voe),C=w?woe:Foe,A=Id(),O=xd({props:r,muiFormControl:A,states:["variant","error"]}),R=O.variant||E,U=L({},r,{variant:R,classes:s}),K=Boe(U),H=Se(K,$oe),q=h||{standard:N.jsx(zoe,{ownerState:U}),outlined:N.jsx(joe,{label:m,ownerState:U}),filled:N.jsx(Uoe,{ownerState:U})}[R],V=sr(t,q.ref);return N.jsx(x.Fragment,{children:x.cloneElement(q,L({inputComponent:C,inputProps:L({children:o,error:O.error,IconComponent:u,variant:R,type:void 0,multiple:v},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:_,onClose:b,onOpen:k,open:P,renderValue:M,SelectDisplayProps:L({id:d},S)},p,{classes:p?Xr(H,p.classes):H},h?h.props.inputProps:{})},(v&&w||c)&&R==="outlined"?{notched:!0}:{},{ref:V,className:de(q.props.className,a,K.root)},!h&&{variant:R},I))})});G$.muiName="Select";function Hoe(n){return kt("MuiTextField",n)}gt("MuiTextField",["root"]);const Woe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],qoe={standard:Mx,filled:Ax,outlined:Nx},Koe=n=>{const{classes:e}=n;return Dt({root:["root"]},Hoe,e)},Goe=Ie(vie,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Wy=x.forwardRef(function(e,t){const r=At({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:_,inputProps:v,InputProps:w,inputRef:b,label:k,maxRows:P,minRows:M,multiline:S=!1,name:E,onBlur:I,onChange:C,onFocus:A,placeholder:O,required:R=!1,rows:U,select:K=!1,SelectProps:H,type:q,value:V,variant:G="outlined"}=r,Z=Se(r,Woe),ne=L({},r,{autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:R,select:K,variant:G}),fe=Koe(ne),re={};G==="outlined"&&(_&&typeof _.shrink<"u"&&(re.notched=_.shrink),re.label=k),K&&((!H||!H.native)&&(re.id=void 0),re["aria-describedby"]=void 0);const ge=YT(g),ce=m&&ge?`${ge}-helper-text`:void 0,Te=k&&ge?`${ge}-label`:void 0,Ue=qoe[G],Bt=N.jsx(Ue,L({"aria-describedby":ce,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:S,name:E,rows:U,maxRows:P,minRows:M,type:q,value:V,id:ge,inputRef:b,onBlur:I,onChange:C,onFocus:A,placeholder:O,inputProps:v},re,w));return N.jsxs(Goe,L({className:de(fe.root,a),disabled:u,error:d,fullWidth:p,ref:t,required:R,color:l,variant:G,ownerState:ne},Z,{children:[k!=null&&k!==""&&N.jsx(Bie,L({htmlFor:ge,id:Te},_,{children:k})),K?N.jsx(G$,L({"aria-describedby":ce,id:ge,labelId:Te,value:V,input:Bt},H,{children:s})):Bt,m&&N.jsx(Sie,L({id:ce},h,{children:m}))]}))}),Yoe=px(N.jsx("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote");/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:Y$,setPrototypeOf:AD,isFrozen:Qoe,getPrototypeOf:Joe,getOwnPropertyDescriptor:Xoe}=Object;let{freeze:br,seal:Pi,create:Q$}=Object,{apply:IE,construct:kE}=typeof Reflect<"u"&&Reflect;br||(br=function(e){return e});Pi||(Pi=function(e){return e});IE||(IE=function(e,t,r){return e.apply(t,r)});kE||(kE=function(e,t){return new e(...t)});const Rm=ri(Array.prototype.forEach),MD=ri(Array.prototype.pop),lf=ri(Array.prototype.push),Ig=ri(String.prototype.toLowerCase),Yw=ri(String.prototype.toString),OD=ri(String.prototype.match),cf=ri(String.prototype.replace),Zoe=ri(String.prototype.indexOf),ese=ri(String.prototype.trim),$i=ri(Object.prototype.hasOwnProperty),cr=ri(RegExp.prototype.test),uf=tse(TypeError);function ri(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return IE(n,e,r)}}function tse(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return kE(n,t)}}function $e(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ig;AD&&AD(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=t(i);o!==i&&(Qoe(e)||(e[r]=o),i=o)}n[i]=!0}return n}function nse(n){for(let e=0;e<n.length;e++)$i(n,e)||(n[e]=null);return n}function Xa(n){const e=Q$(null);for(const[t,r]of Y$(n))$i(n,t)&&(Array.isArray(r)?e[t]=nse(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Xa(r):e[t]=r);return e}function df(n,e){for(;n!==null;){const r=Xoe(n,e);if(r){if(r.get)return ri(r.get);if(typeof r.value=="function")return ri(r.value)}n=Joe(n)}function t(){return null}return t}const ND=br(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qw=br(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jw=br(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rse=br(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xw=br(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ise=br(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LD=br(["#text"]),FD=br(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zw=br(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),VD=br(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dm=br(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ose=Pi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sse=Pi(/<%[\w\W]*|[\w\W]*%>/gm),ase=Pi(/\$\{[\w\W]*}/gm),lse=Pi(/^data-[\-\w.\u00B7-\uFFFF]+$/),cse=Pi(/^aria-[\-\w]+$/),J$=Pi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),use=Pi(/^(?:\w+script|data):/i),dse=Pi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X$=Pi(/^html$/i),fse=Pi(/^[a-z][.\w]*(-[.\w]+)+$/i);var $D=Object.freeze({__proto__:null,ARIA_ATTR:cse,ATTR_WHITESPACE:dse,CUSTOM_ELEMENT:fse,DATA_ATTR:lse,DOCTYPE_NAME:X$,ERB_EXPR:sse,IS_ALLOWED_URI:J$,IS_SCRIPT_OR_DATA:use,MUSTACHE_EXPR:ose,TMPLIT_EXPR:ase});const ff={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},hse=function(){return typeof window>"u"?null:window},pse=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},BD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Z$(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hse();const e=ve=>Z$(ve);if(e.version="3.2.3",e.removed=[],!n||!n.document||n.document.nodeType!==ff.document)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:p}=n,m=l.prototype,g=df(m,"cloneNode"),_=df(m,"remove"),v=df(m,"nextSibling"),w=df(m,"childNodes"),b=df(m,"parentNode");if(typeof s=="function"){const ve=t.createElement("template");ve.content&&ve.content.ownerDocument&&(t=ve.content.ownerDocument)}let k,P="";const{implementation:M,createNodeIterator:S,createDocumentFragment:E,getElementsByTagName:I}=t,{importNode:C}=r;let A=BD();e.isSupported=typeof Y$=="function"&&typeof b=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:R,TMPLIT_EXPR:U,DATA_ATTR:K,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:G}=$D;let{IS_ALLOWED_URI:Z}=$D,ne=null;const fe=$e({},[...ND,...Qw,...Jw,...Xw,...LD]);let re=null;const ge=$e({},[...FD,...Zw,...VD,...Dm]);let ce=Object.seal(Q$(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,Ue=null,Bt=!0,vt=!0,zt=!1,Le=!0,He=!1,ke=!0,Ae=!1,Je=!1,lr=!1,Zt=!1,hn=!1,pn=!1,mn=!0,it=!1;const jr="user-content-";let jt=!0,We=!1,an={},Xe=null;const ht=$e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const _e=$e({},["audio","video","img","source","image","track"]);let qn=null;const Xi=$e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kn="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let pt=Fe,ci=!1,ws=null;const Cd=$e({},[Kn,ye,Fe],Yw);let Fa=$e({},["mi","mo","mn","ms","mtext"]),Va=$e({},["annotation-xml"]);const $a=$e({},["title","style","font","a","script"]);let Ro=null;const Pd=["application/xhtml+xml","text/html"],Do="text/html";let en=null,Oi=null;const Np=t.createElement("form"),bs=function(F){return F instanceof RegExp||F instanceof Function},uc=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Oi&&Oi===F)){if((!F||typeof F!="object")&&(F={}),F=Xa(F),Ro=Pd.indexOf(F.PARSER_MEDIA_TYPE)===-1?Do:F.PARSER_MEDIA_TYPE,en=Ro==="application/xhtml+xml"?Yw:Ig,ne=$i(F,"ALLOWED_TAGS")?$e({},F.ALLOWED_TAGS,en):fe,re=$i(F,"ALLOWED_ATTR")?$e({},F.ALLOWED_ATTR,en):ge,ws=$i(F,"ALLOWED_NAMESPACES")?$e({},F.ALLOWED_NAMESPACES,Yw):Cd,qn=$i(F,"ADD_URI_SAFE_ATTR")?$e(Xa(Xi),F.ADD_URI_SAFE_ATTR,en):Xi,qe=$i(F,"ADD_DATA_URI_TAGS")?$e(Xa(_e),F.ADD_DATA_URI_TAGS,en):_e,Xe=$i(F,"FORBID_CONTENTS")?$e({},F.FORBID_CONTENTS,en):ht,Te=$i(F,"FORBID_TAGS")?$e({},F.FORBID_TAGS,en):{},Ue=$i(F,"FORBID_ATTR")?$e({},F.FORBID_ATTR,en):{},an=$i(F,"USE_PROFILES")?F.USE_PROFILES:!1,Bt=F.ALLOW_ARIA_ATTR!==!1,vt=F.ALLOW_DATA_ATTR!==!1,zt=F.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,He=F.SAFE_FOR_TEMPLATES||!1,ke=F.SAFE_FOR_XML!==!1,Ae=F.WHOLE_DOCUMENT||!1,Zt=F.RETURN_DOM||!1,hn=F.RETURN_DOM_FRAGMENT||!1,pn=F.RETURN_TRUSTED_TYPE||!1,lr=F.FORCE_BODY||!1,mn=F.SANITIZE_DOM!==!1,it=F.SANITIZE_NAMED_PROPS||!1,jt=F.KEEP_CONTENT!==!1,We=F.IN_PLACE||!1,Z=F.ALLOWED_URI_REGEXP||J$,pt=F.NAMESPACE||Fe,Fa=F.MATHML_TEXT_INTEGRATION_POINTS||Fa,Va=F.HTML_INTEGRATION_POINTS||Va,ce=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&bs(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&bs(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),He&&(vt=!1),hn&&(Zt=!0),an&&(ne=$e({},LD),re=[],an.html===!0&&($e(ne,ND),$e(re,FD)),an.svg===!0&&($e(ne,Qw),$e(re,Zw),$e(re,Dm)),an.svgFilters===!0&&($e(ne,Jw),$e(re,Zw),$e(re,Dm)),an.mathMl===!0&&($e(ne,Xw),$e(re,VD),$e(re,Dm))),F.ADD_TAGS&&(ne===fe&&(ne=Xa(ne)),$e(ne,F.ADD_TAGS,en)),F.ADD_ATTR&&(re===ge&&(re=Xa(re)),$e(re,F.ADD_ATTR,en)),F.ADD_URI_SAFE_ATTR&&$e(qn,F.ADD_URI_SAFE_ATTR,en),F.FORBID_CONTENTS&&(Xe===ht&&(Xe=Xa(Xe)),$e(Xe,F.FORBID_CONTENTS,en)),jt&&(ne["#text"]=!0),Ae&&$e(ne,["html","head","body"]),ne.table&&($e(ne,["tbody"]),delete Te.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw uf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw uf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=F.TRUSTED_TYPES_POLICY,P=k.createHTML("")}else k===void 0&&(k=pse(p,i)),k!==null&&typeof P=="string"&&(P=k.createHTML(""));br&&br(F),Oi=F}},wn=$e({},[...Qw,...Jw,...rse]),Rd=$e({},[...Xw,...ise]),Ba=function(F){let X=b(F);(!X||!X.tagName)&&(X={namespaceURI:pt,tagName:"template"});const he=Ig(F.tagName),_t=Ig(X.tagName);return ws[F.namespaceURI]?F.namespaceURI===ye?X.namespaceURI===Fe?he==="svg":X.namespaceURI===Kn?he==="svg"&&(_t==="annotation-xml"||Fa[_t]):!!wn[he]:F.namespaceURI===Kn?X.namespaceURI===Fe?he==="math":X.namespaceURI===ye?he==="math"&&Va[_t]:!!Rd[he]:F.namespaceURI===Fe?X.namespaceURI===ye&&!Va[_t]||X.namespaceURI===Kn&&!Fa[_t]?!1:!Rd[he]&&($a[he]||!wn[he]):!!(Ro==="application/xhtml+xml"&&ws[F.namespaceURI]):!1},Gn=function(F){lf(e.removed,{element:F});try{b(F).removeChild(F)}catch{_(F)}},dc=function(F,X){try{lf(e.removed,{attribute:X.getAttributeNode(F),from:X})}catch{lf(e.removed,{attribute:null,from:X})}if(X.removeAttribute(F),F==="is")if(Zt||hn)try{Gn(X)}catch{}else try{X.setAttribute(F,"")}catch{}},Lp=function(F){let X=null,he=null;if(lr)F="<remove></remove>"+F;else{const Ut=OD(F,/^[\r\n\t ]+/);he=Ut&&Ut[0]}Ro==="application/xhtml+xml"&&pt===Fe&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");const _t=k?k.createHTML(F):F;if(pt===Fe)try{X=new h().parseFromString(_t,Ro)}catch{}if(!X||!X.documentElement){X=M.createDocument(pt,"template",null);try{X.documentElement.innerHTML=ci?P:_t}catch{}}const bn=X.body||X.documentElement;return F&&he&&bn.insertBefore(t.createTextNode(he),bn.childNodes[0]||null),pt===Fe?I.call(X,Ae?"html":"body")[0]:Ae?X.documentElement:bn},Ao=function(F){return S.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Dd=function(F){return F instanceof d&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof u)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},Fp=function(F){return typeof a=="function"&&F instanceof a};function Cr(ve,F,X){Rm(ve,he=>{he.call(e,F,X,Oi)})}const Ad=function(F){let X=null;if(Cr(A.beforeSanitizeElements,F,null),Dd(F))return Gn(F),!0;const he=en(F.nodeName);if(Cr(A.uponSanitizeElement,F,{tagName:he,allowedTags:ne}),F.hasChildNodes()&&!Fp(F.firstElementChild)&&cr(/<[/\w]/g,F.innerHTML)&&cr(/<[/\w]/g,F.textContent)||F.nodeType===ff.progressingInstruction||ke&&F.nodeType===ff.comment&&cr(/<[/\w]/g,F.data))return Gn(F),!0;if(!ne[he]||Te[he]){if(!Te[he]&&za(he)&&(ce.tagNameCheck instanceof RegExp&&cr(ce.tagNameCheck,he)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(he)))return!1;if(jt&&!Xe[he]){const _t=b(F)||F.parentNode,bn=w(F)||F.childNodes;if(bn&&_t){const Ut=bn.length;for(let On=Ut-1;On>=0;--On){const Pr=g(bn[On],!0);Pr.__removalCount=(F.__removalCount||0)+1,_t.insertBefore(Pr,v(F))}}}return Gn(F),!0}return F instanceof l&&!Ba(F)||(he==="noscript"||he==="noembed"||he==="noframes")&&cr(/<\/no(script|embed|frames)/i,F.innerHTML)?(Gn(F),!0):(He&&F.nodeType===ff.text&&(X=F.textContent,Rm([O,R,U],_t=>{X=cf(X,_t," ")}),F.textContent!==X&&(lf(e.removed,{element:F.cloneNode()}),F.textContent=X)),Cr(A.afterSanitizeElements,F,null),!1)},fc=function(F,X,he){if(mn&&(X==="id"||X==="name")&&(he in t||he in Np))return!1;if(!(vt&&!Ue[X]&&cr(K,X))){if(!(Bt&&cr(H,X))){if(!re[X]||Ue[X]){if(!(za(F)&&(ce.tagNameCheck instanceof RegExp&&cr(ce.tagNameCheck,F)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(F))&&(ce.attributeNameCheck instanceof RegExp&&cr(ce.attributeNameCheck,X)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(X))||X==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&cr(ce.tagNameCheck,he)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(he))))return!1}else if(!qn[X]){if(!cr(Z,cf(he,V,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&F!=="script"&&Zoe(he,"data:")===0&&qe[F])){if(!(zt&&!cr(q,cf(he,V,"")))){if(he)return!1}}}}}}return!0},za=function(F){return F!=="annotation-xml"&&OD(F,G)},Ni=function(F){Cr(A.beforeSanitizeAttributes,F,null);const{attributes:X}=F;if(!X||Dd(F))return;const he={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let _t=X.length;for(;_t--;){const bn=X[_t],{name:Ut,namespaceURI:On,value:Pr}=bn,Li=en(Ut);let Mt=Ut==="value"?Pr:ese(Pr);if(he.attrName=Li,he.attrValue=Mt,he.keepAttr=!0,he.forceKeepAttr=void 0,Cr(A.uponSanitizeAttribute,F,he),Mt=he.attrValue,it&&(Li==="id"||Li==="name")&&(dc(Ut,F),Mt=jr+Mt),ke&&cr(/((--!?|])>)|<\/(style|title)/i,Mt)){dc(Ut,F);continue}if(he.forceKeepAttr||(dc(Ut,F),!he.keepAttr))continue;if(!Le&&cr(/\/>/i,Mt)){dc(Ut,F);continue}He&&Rm([O,R,U],$p=>{Mt=cf(Mt,$p," ")});const hc=en(F.nodeName);if(fc(hc,Li,Mt)){if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!On)switch(p.getAttributeType(hc,Li)){case"TrustedHTML":{Mt=k.createHTML(Mt);break}case"TrustedScriptURL":{Mt=k.createScriptURL(Mt);break}}try{On?F.setAttributeNS(On,Ut,Mt):F.setAttribute(Ut,Mt),Dd(F)?Gn(F):MD(e.removed)}catch{}}}Cr(A.afterSanitizeAttributes,F,null)},Vp=function ve(F){let X=null;const he=Ao(F);for(Cr(A.beforeSanitizeShadowDOM,F,null);X=he.nextNode();)Cr(A.uponSanitizeShadowNode,X,null),Ad(X),Ni(X),X.content instanceof o&&ve(X.content);Cr(A.afterSanitizeShadowDOM,F,null)};return e.sanitize=function(ve){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,he=null,_t=null,bn=null;if(ci=!ve,ci&&(ve="<!-->"),typeof ve!="string"&&!Fp(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw uf("dirty is not a string, aborting")}else throw uf("toString is not a function");if(!e.isSupported)return ve;if(Je||uc(F),e.removed=[],typeof ve=="string"&&(We=!1),We){if(ve.nodeName){const Pr=en(ve.nodeName);if(!ne[Pr]||Te[Pr])throw uf("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof a)X=Lp("<!---->"),he=X.ownerDocument.importNode(ve,!0),he.nodeType===ff.element&&he.nodeName==="BODY"||he.nodeName==="HTML"?X=he:X.appendChild(he);else{if(!Zt&&!He&&!Ae&&ve.indexOf("<")===-1)return k&&pn?k.createHTML(ve):ve;if(X=Lp(ve),!X)return Zt?null:pn?P:""}X&&lr&&Gn(X.firstChild);const Ut=Ao(We?ve:X);for(;_t=Ut.nextNode();)Ad(_t),Ni(_t),_t.content instanceof o&&Vp(_t.content);if(We)return ve;if(Zt){if(hn)for(bn=E.call(X.ownerDocument);X.firstChild;)bn.appendChild(X.firstChild);else bn=X;return(re.shadowroot||re.shadowrootmode)&&(bn=C.call(r,bn,!0)),bn}let On=Ae?X.outerHTML:X.innerHTML;return Ae&&ne["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&cr(X$,X.ownerDocument.doctype.name)&&(On="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+On),He&&Rm([O,R,U],Pr=>{On=cf(On,Pr," ")}),k&&pn?k.createHTML(On):On},e.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};uc(ve),Je=!0},e.clearConfig=function(){Oi=null,Je=!1},e.isValidAttribute=function(ve,F,X){Oi||uc({});const he=en(ve),_t=en(F);return fc(he,_t,X)},e.addHook=function(ve,F){typeof F=="function"&&lf(A[ve],F)},e.removeHook=function(ve){return MD(A[ve])},e.removeHooks=function(ve){A[ve]=[]},e.removeAllHooks=function(){A=BD()},e}var mse=Z$();function gse(n){const[e,t]=x.useState(null),r=sd(),i=mse.sanitize(n.content),o=a=>t(a.currentTarget),s=()=>t(null);return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"note",onDoubleClick:()=>r(`/note/${n.id}`),children:[N.jsxs("div",{className:"note-header",children:[N.jsx("div",{className:"note-header-left",children:N.jsx("h1",{className:"note-title",children:n.title})}),N.jsxs("div",{id:"menuIcon",children:[N.jsx(I$,{onClick:o}),N.jsxs(W$,{anchorEl:e,open:!!e,onClose:s,children:[N.jsxs(CD,{onClick:()=>r(`/note/${n.id}`),children:[N.jsx(Yoe,{style:{marginRight:"10px"}}),"Edit Note"]}),N.jsxs(CD,{onClick:()=>x$(n.id,n.setNotes),children:[N.jsx(mx,{style:{marginRight:"10px"}}),"Delete note"]})]})]})]}),N.jsx("div",{className:"note-content",dangerouslySetInnerHTML:{__html:i}})," ",N.jsx("div",{className:"note-date",children:N.jsx("p",{className:"date-time-text",children:n.date})})]})})}var Fx={},yse=Ri;Object.defineProperty(Fx,"__esModule",{value:!0});var e4=Fx.default=void 0,vse=yse(ko()),_se=N;e4=Fx.default=(0,vse.default)((0,_se.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function wse(){const n=sd();return N.jsx("div",{children:N.jsx(cie,{color:"primary","aria-label":"add",onClick:()=>n("/note/"),id:"create-note-fab",children:N.jsx(e4,{})})})}const zD=async n=>{if(n)try{const e=RF(hd,"notes"),t=a8(e,l8("userId","==",n.uid));return(await h8(t)).docs.map(o=>({...o.data(),id:o.id}))}catch(e){return console.error("Error fetching notes:",e),[]}else return[]};function bse(n){const e=new Date(n),t={weekday:"short",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",t).format(e)}var Vx={},Ese=Ri;Object.defineProperty(Vx,"__esModule",{value:!0});var t4=Vx.default=void 0,Sse=Ese(ko()),Tse=N;t4=Vx.default=(0,Sse.default)((0,Tse.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var $x={},xse=Ri;Object.defineProperty($x,"__esModule",{value:!0});var n4=$x.default=void 0,Ise=xse(ko()),kse=N;n4=$x.default=(0,Ise.default)((0,kse.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");function Cse({sortingOptions:n,currentSorting:e,onSortingChange:t,isAscending:r,toggleSortDirection:i}){return N.jsxs("div",{className:"sorter",children:[N.jsx("select",{id:"sorter-select",value:e,onChange:o=>t(o.target.value),children:n.map(o=>N.jsx("option",{value:o.value,children:o.label},o.value))}),r?N.jsx(t4,{onClick:i}):N.jsx(n4,{onClick:i})]})}function Pse({theme:n,toggleTheme:e}){const[t,r]=x.useState([]),[i,o]=x.useState(null),s=sd(),[a,l]=x.useState("title");x.useEffect(()=>{const g=jT(pd,_=>{_?o(_):s("/login")});return()=>g()},[s]),x.useEffect(()=>{(async()=>{if(i){const _=await zD(i);r(_||[])}})()},[i]),x.useEffect(()=>{(async()=>{if(i){const _=await zD(i);r(_||[]),console.log("Fetch notes:",t)}})()},[i,s]);const c=g=>{l(g),h(m)},[u,d]=x.useState(!0),h=g=>{if(!Array.isArray(t))return[];const _=[...t];switch(g){case"title":_.sort((v,w)=>v.title.localeCompare(w.title));case"creationDT":_.sort((v,w)=>new Date(v.creationDate)-new Date(w.creationDate));case"modifiedDT":_.sort((v,w)=>new Date(v.modifiedDate)-new Date(w.modifiedDate));case"dueDT":_.sort((v,w)=>new Date(v.dueDateTime)-new Date(w.dueDateTime));case"reminderDT":_.sort((v,w)=>new Date(v.reminderDateTime)-new Date(w.reminderDateTime))}return u?_:_.reverse()},p=()=>{d(g=>!g)},m=h(a);return N.jsxs(N.Fragment,{children:[N.jsx(wse,{user:i}),N.jsx(IK,{toggleTheme:e,theme:n}),N.jsxs("div",{className:"sectioned-div",children:[N.jsxs("div",{className:"section-title",children:[N.jsx("h2",{children:"All Notes"}),N.jsx("p",{className:"section-badge",children:m.length})]}),N.jsx(Cse,{sortingOptions:[{value:"title",label:"Title"},{value:"creationDT",label:"Creation Date"},{value:"modifiedDT",label:"Modified Date"},{value:"dueDT",label:"Due Date"},{value:"reminderDT",label:"Reminder Date"}],currentSorting:a,onSortingChange:c,toggleSortDirection:p,isAscending:u})]}),N.jsx("div",{id:"notes-grid",children:m.map(g=>N.jsx(gse,{id:g.id,title:g.title,date:bse(g.creationDate),content:g.content,isList:g.isList,setNotes:r},g.id))})]})}var Bx={},Rse=Ri;Object.defineProperty(Bx,"__esModule",{value:!0});var zx=Bx.default=void 0,Dse=Rse(ko()),Ase=N;zx=Bx.default=(0,Dse.default)((0,Ase.jsx)("path",{d:"m6 14 3 3v5h6v-5l3-3V9H6zm5-12h2v3h-2zM3.5 5.88l1.41-1.41 2.12 2.12L5.62 8zm13.46.71 2.12-2.12 1.41 1.41L18.38 8z"}),"Highlight");var jx={},Mse=Ri;Object.defineProperty(jx,"__esModule",{value:!0});var Ux=jx.default=void 0,Ose=Mse(ko()),Nse=N;Ux=jx.default=(0,Ose.default)((0,Nse.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Hx={},Lse=Ri;Object.defineProperty(Hx,"__esModule",{value:!0});var Wx=Hx.default=void 0,Fse=Lse(ko()),Vse=N;Wx=Hx.default=(0,Fse.default)((0,Vse.jsx)("path",{d:"M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6"}),"Brightness5");const $se=({toggleTheme:n,theme:e})=>{const[t,r]=x.useState(""),[i,o]=x.useState(""),s=sd(),a=async l=>{l.preventDefault();try{await Oq(t,i),ot.success("Login Successful!",{position:"top-center"}),window.location.href="/main"}catch(c){ot.error(c.message,{position:"bottom-center"})}};return x.useEffect(()=>{(async()=>{await Lq()&&s("/main")})()},[s]),N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:n,children:[e==="light"?N.jsx(Ux,{}):N.jsx(Wx,{})," "]})}),N.jsx(z$,{children:N.jsx(Ks,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:a,className:"register-form ",children:[N.jsx(Ks,{mb:2,children:N.jsxs(R$,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(zx,{}),"Organica"]})}),N.jsx(Ks,{mb:2,children:N.jsx(Wy,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:t,onChange:l=>r(l.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Ks,{mb:2,children:N.jsx(Wy,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:l=>o(l.target.value),className:"custom-textfield",required:!0})}),N.jsx(El,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Login"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/register",children:"Register"})]})," ",N.jsxs("p",{className:"custom-hyperlink",children:["Try app with"," ",N.jsx("a",{href:"",onClick:l=>{l.preventDefault(),r("test@gmail.com"),o("testpassword")},children:"Test Account"})]})]})})})]})},Bse=({theme:n,toggleTheme:e})=>{const[t,r]=x.useState(""),[i,o]=x.useState(""),s=async a=>{a.preventDefault();try{await Mq(t,i),ot.success("User Registered Successfully!",{position:"top-center"}),window.location.href="/login"}catch(l){ot.error(l.message,{position:"bottom-center"})}};return N.jsxs(N.Fragment,{children:[N.jsx("div",{style:{width:"100%",textAlign:"right"},children:N.jsxs("button",{className:"dark-mode-button",style:{marginRight:"10px",color:"var(--primary-color)"},onClick:e,children:[n==="light"?N.jsx(Ux,{}):N.jsx(Wx,{})," "]})}),N.jsx(z$,{maxWidth:"sm",children:N.jsx(Ks,{className:"login-register-flexbox",children:N.jsxs("div",{className:"login-register-container",children:[N.jsxs("form",{onSubmit:s,className:"register-form",children:[N.jsx(Ks,{mb:2,children:N.jsxs(R$,{variant:"h4",component:"h1",gutterBottom:!0,className:"organica-title",align:"center",style:{marginBottom:"30px"},children:[N.jsx(zx,{}),"Organica"]})}),N.jsx(Ks,{mb:2,children:N.jsx(Wy,{fullWidth:!0,type:"email",label:"Email",variant:"outlined",value:t,onChange:a=>r(a.target.value),required:!0,className:"custom-textfield"})}),N.jsx(Ks,{mb:2,children:N.jsx(Wy,{fullWidth:!0,type:"password",label:"Password",variant:"outlined",value:i,onChange:a=>o(a.target.value),className:"custom-textfield",required:!0})}),N.jsx(El,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Register"})]}),N.jsxs("p",{className:"custom-hyperlink",children:["Already a member? ",N.jsx("a",{href:"/login",children:"Login"})]})]})})})]})};var qx={},zse=Ri;Object.defineProperty(qx,"__esModule",{value:!0});var Kx=qx.default=void 0,jse=zse(ko()),Use=N;Kx=qx.default=(0,jse.default)((0,Use.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var Gx={},Hse=Ri;Object.defineProperty(Gx,"__esModule",{value:!0});var Yx=Gx.default=void 0,Wse=Hse(ko()),qse=N;Yx=Gx.default=(0,Wse.default)((0,qse.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");function Vn(n){this.content=n}Vn.prototype={constructor:Vn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Vn(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Vn(t)},addToStart:function(n,e){return new Vn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Vn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new Vn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Vn.from(n),n.size?new Vn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Vn.from(n),n.size?new Vn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Vn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Vn.from=function(n){if(n instanceof Vn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Vn(e)};function r4(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=r4(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function i4(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=i4(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class Y{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Y(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Y(r,i)}cutByIndex(e,t){return e==t?Y.empty:e==0&&t==this.content.length?this:new Y(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new Y(i,o)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return r4(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return i4(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Am(0,e);if(e==this.size)return Am(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||t>0?Am(r+1,s):Am(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Y.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Y(t||e,r)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const e1={index:0,offset:0};function Am(n,e){return e1.index=n,e1.offset=e,e1}function qy(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!qy(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!qy(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let bt=class CE{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qy(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return CE.none;if(e instanceof CE)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};bt.none=[];class Ky extends Error{}class se{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=s4(this.content,e+this.openStart,t);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,t){return new se(o4(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return se.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(Y.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new se(e,r,i)}}se.empty=new se(Y.empty,0,0);function o4(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(o4(o.content,e-i-1,t-i-1)))}function s4(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=s4(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function Kse(n,e,t){if(t.openStart>n.depth)throw new Ky("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ky("Inconsistent open depths");return a4(n,e,t,0)}function a4(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=a4(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,a=s.content;return Tl(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=Gse(t,n);return Tl(o,c4(n,s,a,e,r))}else return Tl(o,Gy(n,e,r))}function l4(n,e){if(!e.type.compatibleContent(n.type))throw new Ky("Cannot join "+e.type.name+" onto "+n.type.name)}function PE(n,e,t){let r=n.node(t);return l4(r,e.node(t)),r}function Sl(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function eh(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Sl(n.nodeAfter,r),o++));for(let a=o;a<s;a++)Sl(i.child(a),r);e&&e.depth==t&&e.textOffset&&Sl(e.nodeBefore,r)}function Tl(n,e){return n.type.checkContent(e),n.copy(e)}function c4(n,e,t,r,i){let o=n.depth>i&&PE(n,e,i+1),s=r.depth>i&&PE(t,r,i+1),a=[];return eh(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(l4(o,s),Sl(Tl(o,c4(n,e,t,r,i+1)),a)):(o&&Sl(Tl(o,Gy(n,e,i+1)),a),eh(e,t,i,a),s&&Sl(Tl(s,Gy(t,r,i+1)),a)),eh(r,null,i,a),new Y(a)}function Gy(n,e,t){let r=[];if(eh(null,n,t,r),n.depth>t){let i=PE(n,e,t+1);Sl(Tl(i,Gy(n,e,t+1)),r)}return eh(e,null,t,r),new Y(r)}function Gse(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(Y.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class qh{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return bt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Yy(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new qh(t,r,o)}static resolveCached(e,t){let r=jD.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else jD.set(e,r=new Yse);let i=r.elts[r.i]=qh.resolve(e,t);return r.i=(r.i+1)%Qse,i}}class Yse{constructor(){this.elts=[],this.i=0}}const Qse=12,jD=new WeakMap;class Yy{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Jse=Object.create(null);let da=class RE{constructor(e,t,r,i=bt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||Y.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&qy(this.attrs,t||e.defaultAttrs||Jse)&&bt.sameSet(this.marks,r||bt.none)}copy(e=null){return e==this.content?this:new RE(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new RE(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return se.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new se(c,i.depth-s,o.depth-s)}replace(e,t,r){return Kse(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return qh.resolveCached(this,e)}resolveNoCache(e){return qh.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),u4(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Y.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=Y.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};da.prototype.text=void 0;class Qy extends da{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):u4(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Qy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Qy(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function u4(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Yl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Xse(e,t);if(r.next==null)return Yl.empty;let i=d4(r);r.next&&r.err("Unexpected trailing text");let o=oae(iae(i));return sae(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return Y.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=o(d,a.concat(u));if(h)return h}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Yl.empty=new Yl(!0);class Xse{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function d4(n){let e=[];do e.push(Zse(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Zse(n){let e=[];do e.push(eae(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function eae(n){let e=rae(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=tae(n,e);else break;return e}function UD(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function tae(n,e){let t=UD(n),r=t;return n.eat(",")&&(n.next!="}"?r=UD(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function nae(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function rae(n){if(n.eat("(")){let e=d4(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=nae(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function iae(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}else if(s.type=="star"){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=t();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=t();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function f4(n,e){return e-n}function HD(n,e){let t=[];return r(e),t.sort(f4);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&r(l)}}}function oae(n){let e=Object.create(null);return t(HD(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);HD(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Yl(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(f4);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}}function sae(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function h4(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function p4(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function m4(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function g4(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new lae(n,r,e[r]);return t}let WD=class y4{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=g4(e,r.attrs),this.defaultAttrs=h4(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:p4(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new da(this,this.computeAttrs(e),Y.from(t),bt.setFrom(r))}createChecked(e=null,t,r){return t=Y.from(t),this.checkContent(t),new da(this,this.computeAttrs(e),t,bt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Y.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(Y.empty,!0);return o?new da(this,e,t.append(o),bt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){m4(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:bt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new y4(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function aae(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class lae{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?aae(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class I_{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=g4(e,i.attrs),this.excluded=null;let o=h4(this.attrs);this.instance=o?new bt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new bt(this,p4(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new I_(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){m4(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class v4{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Vn.from(e.nodes),t.marks=Vn.from(e.marks||{}),this.nodes=WD.compile(this.spec.nodes,this),this.marks=I_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Yl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?qD(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:qD(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof WD){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Qy(r,r.defaultAttrs,e,bt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return da.fromJSON(this,e)}markFromJSON(e){return bt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function qD(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function cae(n){return n.tag!=null}function uae(n){return n.style!=null}class fa{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(cae(i))this.tags.push(i);else if(uae(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new GD(this,t,!1);return r.addAll(e,bt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new GD(this,t,!0);return r.addAll(e,bt.none,t.from,t.to),se.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(hae(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=YD(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=YD(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new fa(e,fa.schemaRules(e)))}}const _4={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},w4={ol:!0,ul:!0},Kh=1,DE=2,th=4;function KD(n,e,t){return e!=null?(e?Kh:0)|(e==="full"?DE:0):n&&n.whitespace=="pre"?Kh|DE:t&~th}class Mm{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=bt.none,this.match=o||(s&th?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Y.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Kh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=Y.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_4.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class GD{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,s=KD(null,t.preserveWhitespace,0)|(r?th:0);i?o=new Mm(i.type,i.attrs,bt.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new Mm(null,null,bt.none,!0,null,s):o=new Mm(e.schema.topNodeType,null,bt.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&DE?"full":this.localPreserveWS||(i.options&Kh)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;w4.hasOwnProperty(s)&&this.parser.normalizeLists&&fae(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:dae.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(_4.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let d=l&&l.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,t.attrs||null,r,t.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=bt.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):QD(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=KD(e,o,s.options);s.options&th&&s.content.length==0&&(a|=th);let l=bt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):QD(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Mm(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Kh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function fae(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&w4.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function hae(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function YD(n){let e={};for(let t in n)e[t]=n[t];return e}function QD(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class lc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=t1(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,t);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=kg(t1(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&kg(t1(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return kg(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=JD(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return JD(e.marks)}}function JD(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function t1(n){return n.document||window.document}const XD=new WeakMap;function pae(n){let e=XD.get(n);return e===void 0&&XD.set(n,e=mae(n)),e}function mae(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function kg(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=pae(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=kg(n,h,t,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const b4=65535,E4=Math.pow(2,16);function gae(n,e){return n+e*E4}function ZD(n){return n&b4}function yae(n){return(n-(n&b4))/E4}const S4=1,T4=2,Cg=4,x4=8;class AE{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&x4)>0}get deletedBefore(){return(this.delInfo&(S4|Cg))>0}get deletedAfter(){return(this.delInfo&(T4|Cg))>0}get deletedAcross(){return(this.delInfo&Cg)>0}}class Kr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Kr.empty)return Kr.empty}recover(e){let t=0,r=ZD(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+yae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:t:t,p=l+i+(h<0?0:u);if(r)return p;let m=e==(t<0?l:d)?null:gae(a/3,e-l),g=e==l?T4:e==d?S4:Cg;return(t<0?e!=l:e!=d)&&(g|=x4),new AE(p,g,m)}i+=u-c}return r?e+i:new AE(e+i,0,null)}touches(e,t){let r=0,i=ZD(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Kr.empty:new Kr(e<0?[0,-e,0]:[0,0,e])}}Kr.empty=new Kr([]);class yu{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new yu(this.maps,this.mirror,e,t)}copy(){return new yu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new yu;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new AE(e,i,null)}}const n1=Object.create(null);class ar{getMap(){return Kr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=n1[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in n1)throw new RangeError("Duplicate use of step JSON ID "+e);return n1[e]=t,t.prototype.jsonID=e,t}}class dn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new dn(e,null)}static fail(e){return new dn(null,e)}static fromReplace(e,t,r,i){try{return dn.ok(e.replace(t,r,i))}catch(o){if(o instanceof Ky)return dn.fail(o.message);throw o}}}function Qx(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Qx(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return Y.fromArray(r)}class Gs extends ar{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new se(Qx(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return dn.fromReplace(e,this.from,this.to,o)}invert(){return new po(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Gs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Gs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gs(t.from,t.to,e.markFromJSON(t.mark))}}ar.jsonID("addMark",Gs);class po extends ar{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new se(Qx(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return dn.fromReplace(e,this.from,this.to,r)}invert(){return new Gs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new po(t.pos,r.pos,this.mark)}merge(e){return e instanceof po&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new po(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new po(t.from,t.to,e.markFromJSON(t.mark))}}ar.jsonID("removeMark",po);class Ys extends ar{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return dn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return dn.fromReplace(e,this.pos,this.pos+1,new se(Y.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ys(this.pos,t.marks[i]);return new Ys(this.pos,this.mark)}}return new Wu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ys(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ys(t.pos,e.markFromJSON(t.mark))}}ar.jsonID("addNodeMark",Ys);class Wu extends ar{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return dn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return dn.fromReplace(e,this.pos,this.pos+1,new se(Y.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ys(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Wu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wu(t.pos,e.markFromJSON(t.mark))}}ar.jsonID("removeNodeMark",Wu);class Tn extends ar{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&ME(e,this.from,this.to)?dn.fail("Structure replace would overwrite content"):dn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Tn(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Tn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tn(t.from,t.to,se.fromJSON(e,t.slice),!!t.structure)}}ar.jsonID("replace",Tn);class In extends ar{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(ME(e,this.from,this.gapFrom)||ME(e,this.gapTo,this.to)))return dn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return dn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?dn.fromReplace(e,this.from,this.to,r):dn.fail("Content does not fit in gap")}getMap(){return new Kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new In(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new In(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new In(t.from,t.to,t.gapFrom,t.gapTo,se.fromJSON(e,t.slice),t.insert,!!t.structure)}}ar.jsonID("replaceAround",In);function ME(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function vae(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,t),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==h&&s.mark.eq(d[g])?s.to=p:i.push(s=new po(h,p,d[g])));a&&a.to==h?a.to=p:o.push(a=new Gs(h,p,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function _ae(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof I_){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<i.length;p++){let m=i[p];m.step==o-1&&d.eq(i[p].style)&&(h=m)}h?(h.to=c,h.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new po(s.from,s.to,s.style)))}function Jx(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Tn(a,u,se.empty));else{r=d;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new po(a,u,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new se(Y.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new Tn(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(Y.empty,!0);n.replace(a,a,new se(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function wae(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function kd(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!wae(i,o,s))break}return null}function bae(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Y.empty,d=0;for(let m=o,g=!1;m>t;m--)g||r.index(m)>0?(g=!0,u=Y.from(r.node(m).copy(u)),d++):l--;let h=Y.empty,p=0;for(let m=o,g=!1;m>t;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=Y.from(i.node(m).copy(h)),p++):c++;n.step(new In(l,c,s,a,new se(u.append(h),d,p),u.size-d,!0))}function Xx(n,e,t=null,r=n){let i=Eae(n,e),o=i&&Sae(r,e);return o?i.map(eA).concat({type:e,attrs:t}).concat(o.map(eA)):null}function eA(n){return{type:n,attrs:null}}function Eae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function Sae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function Tae(n,e,t){let r=Y.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Y.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new In(i,o,i,o,new se(r,0,0),t.length,!0))}function xae(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&Iae(n.doc,n.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&k4(n,s,a,o),Jx(n,n.mapping.slice(o).map(a,1),r,void 0,c===null);let u=n.mapping.slice(o),d=u.map(a,1),h=u.map(a+s.nodeSize,1);return n.step(new In(d,h,d+1,h-1,new se(Y.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&I4(n,s,a,o),!1}})}function I4(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function k4(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Iae(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function kae(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new In(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new se(Y.from(s),0,0),1,!0))}function vu(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>o;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Cae(n,e,t=1,r){let i=n.doc.resolve(e),o=Y.empty,s=Y.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=Y.from(i.node(a).copy(o));let u=r&&r[c];s=Y.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}n.step(new Tn(e,e,new se(o.append(s),t,t),!0))}function Oa(n,e){let t=n.resolve(e),r=t.index();return C4(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Pae(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function C4(n,e){return!!(n&&e&&!n.isLeaf&&Pae(n,e))}function k_(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&C4(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Rae(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=n.steps.length;if(r===!1){let u=n.doc.resolve(e+t);k4(n,u.node(),u.before(),a)}s.inlineContent&&Jx(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Tn(c,l.map(e+t,-1),se.empty,!0)),r===!0){let u=n.doc.resolve(c);I4(n,u.node(),u.before(),n.steps.length)}return n}function Dae(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function P4(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function C_(n,e,t=e,r=se.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return R4(i,o,r)?new Tn(e,t,r):new Aae(i,o,r).fit()}function R4(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Aae{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Y.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Y.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new se(o,s,a);return e>-1?new In(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Tn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=r1(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(t==1&&(s?c.matchType(s.type)||(d=c.fillBefore(Y.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=r1(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new se(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=r1(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new se(Rf(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new se(Rf(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),_=d.matchType(g.type);if(!_)break;c++,(c>1||l==0||g.content.size)&&(d=_,u.push(D4(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=Df(this.placed,t,Y.from(u)),this.frontier[t].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,_=a;g<p;g++){let v=_.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),_=v.content}this.unplaced=m?e==0?se.empty:new se(Rf(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new se(Rf(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!i1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=i1(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=i1(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Df(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Df(this.placed,this.depth,Y.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Y.empty,!0);t.childCount&&(this.placed=Df(this.placed,this.frontier.length,t))}}function Rf(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Rf(n.firstChild.content,e-1,t)))}function Df(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Df(n.lastChild.content,e-1,t)))}function r1(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function D4(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,D4(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Y.empty,!0)))),n.copy(r)}function i1(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!Mae(t,o.content,s)?a:null}function Mae(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Oae(n){return n.spec.defining||n.spec.definingForContent}function Nae(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(R4(i,o,r))return n.step(new Tn(e,t,r));let s=M4(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=Oae(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),m=c[p];if(m)for(let g=0;g<s.length;g++){let _=s[(g+l)%s.length],v=!0;_<0&&(v=!1,_=-_);let w=i.node(_-1),b=i.index(_-1);if(w.canReplaceWith(b,b,m.type,m.marks))return n.replace(i.before(_),v?o.after(_):t,new se(A4(r.content,0,r.openStart,p),p,r.openEnd))}}let d=n.steps.length;for(let h=s.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>d));h--){let p=s[h];p<0||(e=i.before(p),t=o.after(p))}}function A4(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(A4(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(Y.empty,!0))}return n}function Lae(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Dae(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new se(Y.from(r),0,0))}function Fae(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=M4(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function M4(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class _u extends ar{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return dn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return dn.fromReplace(e,this.pos,this.pos+1,new se(Y.from(i),0,t.isLeaf?0:1))}getMap(){return Kr.empty}invert(e){return new _u(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _u(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _u(t.pos,t.attr,t.value)}}ar.jsonID("attr",_u);class Gh extends ar{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return dn.ok(r)}getMap(){return Kr.empty}invert(e){return new Gh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gh(t.attr,t.value)}}ar.jsonID("docAttr",Gh);let qu=class extends Error{};qu=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};qu.prototype=Object.create(Error.prototype);qu.prototype.constructor=qu;qu.prototype.name="TransformError";class Vae{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new yu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qu(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=se.empty){let i=C_(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new se(Y.from(r),0,0))}delete(e,t){return this.replace(e,t,se.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Nae(this,e,t,r),this}replaceRangeWith(e,t,r){return Lae(this,e,t,r),this}deleteRange(e,t){return Fae(this,e,t),this}lift(e,t){return bae(this,e,t),this}join(e,t=1){return Rae(this,e,t),this}wrap(e,t){return Tae(this,e,t),this}setBlockType(e,t=e,r,i=null){return xae(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return kae(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new _u(e,t,r)),this}setDocAttribute(e,t){return this.step(new Gh(e,t)),this}addNodeMark(e,t){return this.step(new Ys(e,t)),this}removeNodeMark(e,t){if(!(t instanceof bt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Wu(e,t)),this}split(e,t=1,r){return Cae(this,e,t,r),this}addMark(e,t,r){return vae(this,e,t,r),this}removeMark(e,t,r){return _ae(this,e,t,r),this}clearIncompatible(e,t,r){return Jx(this,e,t,r),this}}const o1=Object.create(null);class De{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new $ae(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=se.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?se.empty:t),a==0&&rA(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),rA(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ce(e):$c(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?$c(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):$c(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ki(e.node(0))}static atStart(e){return $c(e,e,0,0,1)||new Ki(e)}static atEnd(e){return $c(e,e,e.content.size,e.childCount,-1)||new Ki(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=o1[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in o1)throw new RangeError("Duplicate use of selection JSON ID "+e);return o1[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}}De.prototype.visible=!0;class $ae{constructor(e,t){this.$from=e,this.$to=t}}let tA=!1;function nA(n){!tA&&!n.parent.inlineContent&&(tA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ce extends De{constructor(e,t=e){nA(e),nA(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return De.near(r);let i=e.resolve(t.map(this.anchor));return new Ce(i.parent.inlineContent?i:r,r)}replace(e,t=se.empty){if(super.replace(e,t),t==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new P_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ce(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=De.findFrom(t,r,!0)||De.findFrom(t,-r,!0);if(o)t=o.$head;else return De.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(De.findFrom(e,-r,!0)||De.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ce(e,t)}}De.jsonID("text",Ce);class P_{constructor(e,t){this.anchor=e,this.head=t}map(e){return new P_(e.map(this.anchor),e.map(this.head))}resolve(e){return Ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ee extends De{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?De.near(o):new Ee(o)}content(){return new se(Y.from(this.node),0,0)}eq(e){return e instanceof Ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Zx(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ee(e.resolve(t.anchor))}static create(e,t){return new Ee(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ee.prototype.visible=!1;De.jsonID("node",Ee);class Zx{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new P_(r,r):new Zx(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ee.isSelectable(r)?new Ee(t):De.near(t)}}class Ki extends De{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=se.empty){if(t==se.empty){e.delete(0,e.doc.content.size);let r=De.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ki(e)}map(e){return new Ki(e)}eq(e){return e instanceof Ki}getBookmark(){return Bae}}De.jsonID("all",Ki);const Bae={map(){return this},resolve(n){return new Ki(n)}};function $c(n,e,t,r,i,o=!1){if(e.inlineContent)return Ce.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Ee.isSelectable(a))return Ee.create(n,t-(i<0?a.nodeSize:0))}else{let l=$c(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function rA(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Tn||i instanceof In))return;let o=n.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),n.setSelection(De.near(n.doc.resolve(s),t))}const iA=1,Om=2,oA=4;class zae extends Vae{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|iA)&~Om,this.storedMarks=null,this}get selectionSet(){return(this.updated&iA)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Om,this}ensureMarks(e){return bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Om)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Om,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(De.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oA,this}get scrolledIntoView(){return(this.updated&oA)>0}}function sA(n,e){return!e||!n?n:n.bind(e)}class Af{constructor(e,t,r){this.name=e,this.init=sA(t.init,r),this.apply=sA(t.apply,r)}}const jae=[new Af("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Af("selection",{init(n,e){return n.selection||De.atStart(e.doc)},apply(n){return n.selection}}),new Af("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Af("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class s1{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jae.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Af(r.key,r.spec.state,r))})}}class nu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new nu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new zae(this)}static create(e){let t=new s1(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new nu(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new s1(this.schema,e.plugins),r=t.fields,i=new nu(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new s1(e.schema,e.plugins),o=new nu(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=da.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=De.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=c.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function O4(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=O4(i,e,{})),t[r]=i}return t}class zr{constructor(e){this.spec=e,this.props={},e.props&&O4(e.props,this,this.props),this.key=e.key?e.key.key:N4("plugin")}getState(e){return e[this.key]}}const a1=Object.create(null);function N4(n){return n in a1?n+"$"+ ++a1[n]:(a1[n]=0,n+"$")}class Po{constructor(e="key"){this.key=N4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const zn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Yh=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let OE=null;const Fo=function(n,e,t){let r=OE||(OE=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},Uae=function(){OE=null},Ql=function(n,e,t,r){return t&&(aA(n,e,t,r,-1)||aA(n,e,t,r,1))},Hae=/^(img|br|input|textarea|hr)$/i;function aA(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:vi(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Rp(n)||Hae.test(n.nodeName)||n.contentEditable=="false")return!1;e=zn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?vi(n):0}else return!1}}function vi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Wae(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=vi(n)}else if(n.parentNode&&!Rp(n))e=zn(n),n=n.parentNode;else return null}}function qae(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Rp(n))e=zn(n)+1,n=n.parentNode;else return null}}function Kae(n,e,t){for(let r=e==0,i=e==vi(n);r||i;){if(n==t)return!0;let o=zn(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==vi(n)}}function Rp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const R_=function(n){return n.focusNode&&Ql(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function il(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Gae(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Yae(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(vi(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(vi(r.startContainer),r.startOffset)}}}const xo=typeof navigator<"u"?navigator:null,lA=typeof document<"u"?document:null,Na=xo&&xo.userAgent||"",NE=/Edge\/(\d+)/.exec(Na),L4=/MSIE \d/.exec(Na),LE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Na),$r=!!(L4||LE||NE),ha=L4?document.documentMode:LE?+LE[1]:NE?+NE[1]:0,Qi=!$r&&/gecko\/(\d+)/i.test(Na);Qi&&+(/Firefox\/(\d+)/.exec(Na)||[0,0])[1];const FE=!$r&&/Chrome\/(\d+)/.exec(Na),ir=!!FE,F4=FE?+FE[1]:0,Er=!$r&&!!xo&&/Apple Computer/.test(xo.vendor),Ku=Er&&(/Mobile\/\w+/.test(Na)||!!xo&&xo.maxTouchPoints>2),hi=Ku||(xo?/Mac/.test(xo.platform):!1),Qae=xo?/Win/.test(xo.platform):!1,Ko=/Android \d/.test(Na),Dp=!!lA&&"webkitFontSmoothing"in lA.documentElement.style,Jae=Dp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Xae(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function No(n,e){return typeof n=="number"?n:n[e]}function Zae(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function cA(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=Yh(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?Xae(o):Zae(a),u=0,d=0;if(e.top<c.top+No(r,"top")?d=-(c.top-e.top+No(i,"top")):e.bottom>c.bottom-No(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+No(i,"top")-c.top:e.bottom-c.bottom+No(i,"bottom")),e.left<c.left+No(r,"left")?u=-(c.left-e.left+No(i,"left")):e.right>c.right-No(r,"right")&&(u=e.right-c.right+No(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function ele(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:V4(n.dom)}}function V4(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Yh(r));return e}function tle({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;$4(t,r==0?0:r-e)}function $4(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Pc=null;function nle(n){if(n.setActive)return n.setActive();if(Pc)return n.focus(Pc);let e=V4(n);n.focus(Pc==null?{get preventScroll(){return Pc={preventScroll:!0},!0}}:void 0),Pc||(Pc=!1,$4(e,0))}function B4(n,e){let t,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=n.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Fo(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){t=u,r=g,i=g&&t.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(o=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!t&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(o=d+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?rle(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:B4(t,i)}function rle(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Rs(r,1);if(o.top!=o.bottom&&eI(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function eI(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ile(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function ole(n,e,t){let{node:r,offset:i}=B4(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function sle(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function z4(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(eI(e,c))return z4(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function ale(n,e){let t=n.dom.ownerDocument,r,i=0,o=Yae(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!eI(e,c)||(s=z4(n.dom,e,c),!s))return null}if(Er)for(let c=s;r&&c;c=Yh(c))c.draggable&&(r=void 0);if(s=ile(s,e),r){if(Qi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Dp&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=sle(n,r,i,e))}a==null&&(a=ole(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function uA(n){return n.top<n.bottom||n.left<n.right}function Rs(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(uA(r))return r}return Array.prototype.find.call(t,uA)||n.getBoundingClientRect()}const lle=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function j4(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=Dp||Qi;if(r.nodeType==3)if(s&&(lle.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Rs(Fo(r,i,i),t);if(Qi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Rs(Fo(r,i-1,i-1),-1);if(c.top==l.top){let u=Rs(Fo(r,i,i+1),-1);if(u.top!=l.top)return hf(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==r.nodeValue.length?(l--,u=1):t<0?l--:c++,hf(Rs(Fo(r,l,c),u),u<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==vi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return l1(l.getBoundingClientRect(),!1)}if(o==null&&i<vi(r)){let l=r.childNodes[i];if(l.nodeType==1)return l1(l.getBoundingClientRect(),!0)}return l1(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==vi(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Fo(l,vi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return hf(Rs(c,1),!1)}if(o==null&&i<vi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Fo(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return hf(Rs(c,-1),!0)}return hf(Rs(r.nodeType==3?Fo(r):r,-t),t>=0)}function hf(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function l1(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function U4(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function cle(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return U4(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=j4(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Fo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const ule=/[\u0590-\u08ac]/;function dle(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return a?!ule.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:U4(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=n.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:m,focusOffset:g}=n.domSelectionRange(),_=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),_}):r.pos==r.start()||r.pos==r.end()}let dA=null,fA=null,hA=!1;function fle(n,e,t){return dA==e&&fA==t?hA:(dA=e,fA=t,hA=t=="up"||t=="down"?cle(n,e,t):dle(n,e,t))}const Ti=0,pA=1,dl=2,Io=3;class Ap{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Ti,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>zn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof W4){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof H4&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?zn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?zn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=s;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=zn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=zn(d.dom);break}t+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],_=m+g.size;if(o>m&&s<_)return g.setSelection(e-m-g.border,t-m-g.border,r,i);m=_}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Qi||Er)&&e==t){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,_;g;g=g.parentNode){if(_=g.nextSibling){_.nodeName=="BR"&&(a=l={node:_.parentNode,offset:zn(_)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Qi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&Er)&&Ql(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Ql(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==t)&&!d){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>t){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==r||t==s?dl:pA,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Io:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?dl:Io}r=s}this.dirty=dl}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?dl:pA;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class H4 extends Ap{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Ti&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class hle extends Ap{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Jl extends Ap{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=lc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Jl(e,t,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Io||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Io&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ti){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ti}}slice(e,t,r){let i=Jl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=$E(o,t,s,r)),e>0&&(o=$E(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class pa extends Ap{constructor(e,t,r,i,o,s,a,l,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let a=o.nodeViews[t.type.name],l,c=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=lc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let h=u;return u=G4(u,r,t),c?l=new ple(e,t,r,i,u,d||null,h,c,o,s+1):t.isText?new D_(e,t,r,i,u,h,o):new pa(e,t,r,i,u,d||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Y.empty)}return e}matchesNode(e,t,r){return this.dirty==Ti&&e.eq(this.node)&&Jy(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new gle(this,s&&s.node,e);_le(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?bt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==dl)&&(s&&this.protectLocalComposition(e,s),q4(this.contentDOM,this.children,e),Ku&&wle(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ce)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=ble(this.node.content,s,r-t,i-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new hle(this,o,t,i);e.input.compositionNodes.push(s),this.children=$E(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==Io||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ti}updateOuterDeco(e){if(Jy(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=K4(this.dom,this.nodeDOM,VE(this.outerDeco,this.node,t),VE(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function mA(n,e,t,r,i){G4(r,e,n);let o=new pa(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class D_ extends pa{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Io||this.dirty!=Ti&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ti||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ti,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new D_(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Io)}get domAtom(){return!1}isText(e){return this.node.text==e}}class W4 extends Ap{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ti&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ple extends pa{constructor(e,t,r,i,o,s,a,l,c,u){super(e,t,r,i,o,s,a,c,u),this.spec=l}update(e,t,r,i){if(this.dirty==Io)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function q4(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=gA(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof Jl){let l=r?r.previousSibling:n.lastChild;q4(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=gA(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const nh=function(n){n&&(this.nodeName=n)};nh.prototype=Object.create(null);const fl=[new nh];function VE(n,e,t){if(n.length==0)return fl;let r=t?fl[0]:new nh,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new nh(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&i.length==1&&i.push(r=new nh(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function K4(n,e,t,r){if(t==fl&&r==fl)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=fl[0]),i=l}mle(i,a||fl[0],s)}return i}function mle(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function G4(n,e,t){return K4(n,n,fl,VE(e,t,n.nodeType!=1))}function Jy(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function gA(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class gle{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=yle(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ti,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Jl.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==Io&&s.dom==s.contentDOM&&(s.dirty=dl),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof pa){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Io&&Jy(t,l.outerDeco));if(!h&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,t,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=dl,d.updateChildren(i,s+1),d.dirty=Ti),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Jy(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=pa.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=pa.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new H4(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Jl;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof D_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Er||ir)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new W4(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function yle(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof Jl)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function vle(n,e){return n.type.side-e.type.side}function _le(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let _=i[s++];_.widget&&(u?(d||(d=[u])).push(_):u=_)}if(u)if(d){d.sort(vle);for(let _=0;_<d.length;_++)t(d[_],c,!!l)}else t(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<n.childCount)p=c,h=n.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=o&&a.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let m=o+h.nodeSize;if(h.isText){let _=m;s<i.length&&i[s].from<_&&(_=i[s].from);for(let v=0;v<a.length;v++)a[v].to<_&&(_=a[v].to);_<m&&(l=h.cut(_-o),h=h.cut(0,_-o),m=_,p=-1)}else for(;s<i.length&&i[s].to<m;)s++;let g=h.isInline&&!h.isLeaf?a.filter(_=>!_.inline):a.slice();r(h,g,e.forChild(o,h),p),o=m}}function wle(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function ble(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function $E(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,u=a+=l.size;c>=t||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>t&&o.push(l.slice(t-c,l.size,r)))}return o}function tI(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(R_(t)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Ee.isSelectable(d)&&i.parent&&!(d.isInline&&Kae(t.focusNode,t.focusOffset,i.dom))){let h=i.posBefore;c=new Ee(s==h?a:r.resolve(h))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=s,h=s;for(let p=0;p<t.rangeCount;p++){let m=t.getRangeAt(p);d=Math.min(d,n.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,n.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=h==n.state.selection.anchor?[h,d]:[d,h],a=r.resolve(s)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;c=nI(n,u,a,d)}return c}function Y4(n){return n.editable?n.hasFocus():J4(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Qo(n,e=!1){let t=n.state.selection;if(Q4(n,t),!!Y4(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ir){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ql(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Sle(n);else{let{anchor:r,head:i}=t,o,s;yA&&!(t instanceof Ce)&&(t.$from.parent.inlineContent||(o=vA(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=vA(n,t.to))),n.docView.setSelection(r,i,n,e),yA&&(o&&_A(o),s&&_A(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ele(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const yA=Er||ir&&F4<63;function vA(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Er&&i&&i.contentEditable=="false")return c1(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return c1(i);if(o)return c1(o)}}function c1(n){return n.contentEditable="true",Er&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function _A(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Ele(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Y4(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Sle(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,zn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&$r&&ha<=11&&(r.disabled=!0,r.disabled=!1)}function Q4(n,e){if(e instanceof Ee){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(wA(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else wA(n)}function wA(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function nI(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ce.between(e,t,r)}function bA(n){return n.editable&&!n.hasFocus()?!1:J4(n)}function J4(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Tle(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Ql(e.node,e.offset,t.anchorNode,t.anchorOffset)}function BE(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&De.findFrom(o,e)}function Ms(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function EA(n,e,t){let r=n.state.selection;if(r instanceof Ce)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ms(n,new Ce(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=BE(n.state,e);return i&&i instanceof Ee?Ms(n,i):!1}else if(!(hi&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?Ee.isSelectable(o)?Ms(n,new Ee(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):Dp?Ms(n,new Ce(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ee&&r.node.isInline)return Ms(n,new Ce(e>0?r.$to:r.$from));{let i=BE(n.state,e);return i?Ms(n,i):!1}}}function Xy(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function rh(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Rc(n,e){return e<0?xle(n):Ile(n)}function xle(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(Qi&&t.nodeType==1&&r<Xy(t)&&rh(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(rh(a,-1))i=t,o=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(X4(t))break;{let a=t.previousSibling;for(;a&&rh(a,-1);)i=t.parentNode,o=zn(a),a=a.previousSibling;if(a)t=a,r=Xy(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?zE(n,t,r):i&&zE(n,i,o)}function Ile(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Xy(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(rh(a,1))o=t,s=++r;else break}else{if(X4(t))break;{let a=t.nextSibling;for(;a&&rh(a,1);)o=a.parentNode,s=zn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=Xy(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&zE(n,o,s)}function X4(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function kle(n,e){for(;n&&e==n.childNodes.length&&!Rp(n);)e=zn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Cle(n,e){for(;n&&!e&&!Rp(n);)e=zn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function zE(n,e,t){if(e.nodeType!=3){let o,s;(s=kle(e,t))?(e=s,t=0):(o=Cle(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(R_(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Qo(n)},50)}function SA(n,e){let t=n.state.doc.resolve(e);if(!(ir||Qae)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function TA(n,e,t){let r=n.state.selection;if(r instanceof Ce&&!r.empty||t.indexOf("s")>-1||hi&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=BE(n.state,e);if(s&&s instanceof Ee)return Ms(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Ki?De.near(s,e):De.findFrom(s,e);return a?Ms(n,a):!1}return!1}function xA(n,e){if(!(n.state.selection instanceof Ce))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function IA(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Ple(n){if(!Er||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;IA(n,r,"true"),setTimeout(()=>IA(n,r,"false"),20)}return!1}function Rle(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Dle(n,e){let t=e.keyCode,r=Rle(e);if(t==8||hi&&t==72&&r=="c")return xA(n,-1)||Rc(n,-1);if(t==46&&!e.shiftKey||hi&&t==68&&r=="c")return xA(n,1)||Rc(n,1);if(t==13||t==27)return!0;if(t==37||hi&&t==66&&r=="c"){let i=t==37?SA(n,n.state.selection.from)=="ltr"?-1:1:-1;return EA(n,i,r)||Rc(n,i)}else if(t==39||hi&&t==70&&r=="c"){let i=t==39?SA(n,n.state.selection.from)=="ltr"?1:-1:1;return EA(n,i,r)||Rc(n,i)}else{if(t==38||hi&&t==80&&r=="c")return TA(n,-1,r)||Rc(n,-1);if(t==40||hi&&t==78&&r=="c")return Ple(n)||TA(n,1,r)||Rc(n,1);if(r==(hi?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Z4(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=n.someProp("clipboardSerializer")||lc.fromSchema(n.state.schema),a=oB(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=iB[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(t)}`);let h=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function eB(n,e,t,r,i){let o=i.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",h=>{e=h(e,o||r,n)}),o)return e?new se(Y.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let d=n.someProp("clipboardTextParser",h=>h(e,i,r,n));if(d)a=d;else{let h=i.marks(),{schema:p}=n.state,m=lc.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let _=s.appendChild(document.createElement("p"));g&&_.appendChild(m.serializeNode(p.text(g,h)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),s=Nle(t),Dp&&Lle(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||fa.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!Ale.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Fle(kA(a,+u[1],+u[2]),u[4]);else if(a=se.maxOpen(Mle(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=kA(a,d,h)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const Ale=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Mle(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&nB(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=rB(s[s.length-1],o.length));let u=tB(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return Y.from(s)}return n}function tB(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Y.from(n));return n}function nB(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=nB(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(Y.from(tB(t,n,i+1))))}}function rB(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,rB(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Y.empty,!0);return n.copy(t.append(r))}function jE(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=jE(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Y.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function kA(n,e,t){return e<n.openStart&&(n=new se(jE(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new se(jE(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const iB={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CA=null;function oB(){return CA||(CA=document.implementation.createHTMLDocument("title"))}let u1=null;function Ole(n){let e=window.trustedTypes;return e?(u1||(u1=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),u1.createHTML(n)):n}function Nle(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=oB().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&iB[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=Ole(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function Lle(n){let e=n.querySelectorAll(ir?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Fle(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Y.from(l.create(r[a+1],i)),o++,s++}return new se(i,o,s)}const Sr={},Tr={},Vle={touchstart:!0,touchmove:!0};class $le{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ble(n){for(let e in Sr){let t=Sr[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{jle(n,r)&&!rI(n,r)&&(n.editable||!(r.type in Tr))&&t(n,r)},Vle[e]?{passive:!0}:void 0)}Er&&n.dom.addEventListener("input",()=>null),UE(n)}function Qs(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function zle(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function UE(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>rI(n,r))})}function rI(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function jle(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Ule(n,e){!rI(n,e)&&Sr[e.type]&&(n.editable||!(e.type in Tr))&&Sr[e.type](n,e)}Tr.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!aB(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Ko&&ir&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Ku&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,il(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Dle(n,t)?t.preventDefault():Qs(n,"key")};Tr.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Tr.keypress=(n,e)=>{let t=e;if(aB(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||hi&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ce)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function A_(n){return{left:n.clientX,top:n.clientY}}function Hle(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function iI(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function wu(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Wle(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ee.isSelectable(r)?(wu(n,new Ee(t)),!0):!1}function qle(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ee&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Ee.isSelectable(a)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(wu(n,Ee.create(n.state.doc,i)),!0):!1}function Kle(n,e,t,r,i){return iI(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?qle(n,t):Wle(n,t))}function Gle(n,e,t,r){return iI(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Yle(n,e,t,r){return iI(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Qle(n,t,r)}function Qle(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(wu(n,Ce.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)wu(n,Ce.create(r,a+1,a+1+s.content.size));else if(Ee.isSelectable(s))wu(n,Ee.create(r,a));else continue;return!0}}function oI(n){return Zy(n)}const sB=hi?"metaKey":"ctrlKey";Sr.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=oI(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&Hle(t,n.input.lastClick)&&!t[sB]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(A_(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Jle(n,s,t,!!r)):(o=="doubleClick"?Gle:Yle)(n,s.pos,s.inside,t)?t.preventDefault():Qs(n,"pointer"))};class Jle{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[sB],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let u=e.state.doc.resolve(t.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Ee&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(A_(e))),this.updateAllowDefault(e),this.allowDefault||!t?Qs(this.view,"pointer"):Kle(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Er&&this.mightDrag&&!this.mightDrag.node.isAtom||ir&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(wu(this.view,De.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Qs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Sr.touchstart=n=>{n.input.lastTouch=Date.now(),oI(n),Qs(n,"pointer")};Sr.touchmove=n=>{n.input.lastTouch=Date.now(),Qs(n,"pointer")};Sr.contextmenu=n=>oI(n);function aB(n,e){return n.composing?!0:Er&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Xle=Ko?5e3:-1;Tr.compositionstart=Tr.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ce&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Zy(n,!0),n.markCursor=null;else if(Zy(n,!e.selection.empty),Qi&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}lB(n,Xle)};Tr.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,lB(n,20))};function lB(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Zy(n),e))}function cB(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=ece());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Zle(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Wae(e.focusNode,e.focusOffset),r=qae(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function ece(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Zy(n,e=!1){if(!(Ko&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),cB(n),e||n.docView&&n.docView.dirty){let t=tI(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function tce(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Qh=$r&&ha<15||Ku&&Jae<604;Sr.copy=Tr.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Qh?null:t.clipboardData,s=r.content(),{dom:a,text:l}=Z4(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):tce(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function nce(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function rce(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Jh(n,r.value,null,i,e):Jh(n,r.textContent,r.innerHTML,i,e)},50)}function Jh(n,e,t,r,i){let o=eB(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||se.empty)))return!0;if(!o)return!1;let s=nce(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uB(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Tr.paste=(n,e)=>{let t=e;if(n.composing&&!Ko)return;let r=Qh?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Jh(n,uB(r),r.getData("text/html"),i,t)?t.preventDefault():rce(n,t)};class dB{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const fB=hi?"altKey":"ctrlKey";Sr.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(A_(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ee?i.to-1:i.to))){if(r&&r.mightDrag)s=Ee.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(s=Ee.create(n.state.doc,d.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:c,slice:u}=Z4(n,a);(!t.dataTransfer.files.length||!ir||F4>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Qh?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Qh||t.dataTransfer.setData("text/plain",c),n.dragging=new dB(u,!t[fB],s)};Sr.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Tr.dragover=Tr.dragenter=(n,e)=>e.preventDefault();Tr.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(A_(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",m=>{s=m(s,n)}):s=eB(n,uB(t.dataTransfer),Qh?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!t[fB]);if(n.someProp("handleDrop",m=>m(n,t,s||se.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?P4(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=n.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&Ee.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ee(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,_,v,w)=>m=w),c.setSelection(nI(n,p,c.doc.resolve(m)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};Sr.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Qo(n)},20))};Sr.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Sr.beforeinput=(n,e)=>{if(ir&&Ko&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,il(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Tr)Sr[n]=Tr[n];function Xh(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ev{constructor(e,t){this.toDOM=e,this.spec=t||xl,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new bi(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ev&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ma{constructor(e,t){this.attrs=e,this.spec=t||xl}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new bi(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ma&&Xh(this.attrs,e.attrs)&&Xh(this.spec,e.spec)}static is(e){return e.type instanceof ma}destroy(){}}class sI{constructor(e,t){this.attrs=e,this.spec=t||xl}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new bi(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof sI&&Xh(this.attrs,e.attrs)&&Xh(this.spec,e.spec)}destroy(){}}class bi{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new bi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new bi(e,e,new ev(t,r))}static inline(e,t,r,i){return new bi(e,t,new ma(r,i))}static node(e,t,r,i){return new bi(e,t,new sI(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ma}get widget(){return this.type instanceof ev}}const Bc=[],xl={};class yn{constructor(e,t){this.local=e.length?e:Bc,this.children=t.length?t:Bc}static create(e,t){return t.length?tv(t,e,0,xl):tr}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==tr||e.maps.length==0?this:this.mapInner(e,t,0,0,r||xl)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?ice(this.children,s||[],e,t,r,i,o):s?new yn(s.sort(Il),Bc):tr}add(e,t){return t.length?this==tr?yn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=pB(t,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,tv(u,a,c+1,xl)),o+=3}});let s=hB(o?mB(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new yn(s.length?this.local.concat(s).sort(Il):this.local,i||this.children)}remove(e){return e.length==0||this==tr?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=tr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new yn(i,r):tr}forChild(e,t){if(this==tr)return this;if(t.isLeaf)return yn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ma){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new yn(i.sort(Il),Bc);return r?new js([a,r]):a}return r||tr}eq(e){if(this==e)return!0;if(!(e instanceof yn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return aI(this.localsInner(e))}localsInner(e){if(this==tr)return Bc;if(e.inlineContent||!this.local.some(ma.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ma||t.push(this.local[r]);return t}forEachSet(e){e(this)}}yn.empty=new yn([],[]);yn.removeOverlap=aI;const tr=yn.empty;class js{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,xl));return js.from(r)}forChild(e,t){if(t.isLeaf)return yn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=tr&&(o instanceof js?r=r.concat(o.members):r.push(o))}return js.from(r)}eq(e){if(!(e instanceof js)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?aI(r?t:t.sort(Il)):Bc}static from(e){switch(e.length){case 0:return tr;case 1:return e[0];default:return new js(e.every(t=>t instanceof yn)?e:e.reduce((t,r)=>t.concat(r instanceof yn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function ice(n,e,t,r,i,o,s){let a=n.slice();for(let c=0,u=o;c<t.maps.length;c++){let d=0;t.maps[c].forEach((h,p,m,g)=>{let _=g-m-(p-h);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||h>w+u-d)continue;let b=a[v]+u-d;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&_&&(a[v]+=_,a[v+1]+=_)}d+=_}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=t.map(n[c+1]+o,-1),p=h-i,{index:m,offset:g}=r.content.findIndex(d),_=r.maybeChild(m);if(_&&g==d&&g+_.nodeSize==p){let v=a[c+2].mapInner(t,_,u+1,n[c]+o+1,s);v!=tr?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=oce(a,n,e,t,i,o,s),u=tv(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new yn(e.sort(Il),a)}function hB(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new bi(i.from+e,i.to+e,i.type))}return t}function oce(n,e,t,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?t.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function pB(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function mB(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function tv(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let c=pB(n,a,l+t);if(c){o=!0;let u=tv(c,a,t+l+1,r);u!=tr&&i.push(l,l+a.nodeSize,u)}});let s=hB(o?mB(n):n,-t).sort(Il);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new yn(s,i):tr}function Il(n,e){return n.from-e.from||n.to-e.to}function aI(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),PA(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),PA(e,i,r.copy(o.from,r.to)));break}}}return e}function PA(n,e,t){for(;e<n.length&&Il(t,n[e])>0;)e++;n.splice(e,0,t)}function d1(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=tr&&e.push(r)}),n.cursorWrapper&&e.push(yn.create(n.state.doc,[n.cursorWrapper.deco])),js.from(e)}const sce={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ace=$r&&ha<=11;class lce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class cce{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lce,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);$r&&ha<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ace&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,sce)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(bA(this.view)){if(this.suppressingSelectionUpdates)return Qo(this.view);if($r&&ha<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ql(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Yh(o))t.add(o);for(let o=e.anchorNode;o;o=Yh(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&bA(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let d=this.registerMutation(t[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Qi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||fce(e,d)!=p)&&h.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&R_(r)&&(c=tI(e))&&c.eq(De.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Qo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),uce(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Qo(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if($r&&ha<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==e.target?zn(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?zn(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let RA=new WeakMap,DA=!1;function uce(n){if(!RA.has(n)&&(RA.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Qi,DA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DA=!0}}function AA(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return Ql(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function dce(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return AA(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?AA(n,t):null}function fce(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function hce(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],R_(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ir&&n.input.lastKeyCode===8)for(let _=o;_>i;_--){let v=r.childNodes[_-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){o=_;break}if(!w||w.size)break}let d=n.state.doc,h=n.someProp("domParser")||fa.fromSchema(n.state.schema),p=d.resolve(s),m=null,g=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:pce,context:p});if(c&&c[0].pos!=null){let _=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=_),m={anchor:_+s,head:v+s}}return{doc:g,sel:m,from:s,to:a}}function pce(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Er&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Er&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const mce=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gce(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,C=tI(n,I);if(C&&!n.state.selection.eq(C)){if(ir&&Ko&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",O=>O(n,il(13,"Enter"))))return;let A=n.state.tr.setSelection(C);I=="pointer"?A.setMeta("pointer",!0):I=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),n.dispatch(A)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=hce(n,e,t),u=n.state.doc,d=u.slice(c.from,c.to),h,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(h=n.state.selection.to,p="end"):(h=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let m=_ce(d.content,c.doc.content,c.from,h,p);if(m&&n.input.domChangeCount++,(Ku&&n.input.lastIOSEnter>Date.now()-225||Ko)&&i.some(I=>I.nodeType==1&&!mce.test(I.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",I=>I(n,il(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Ce&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let I=MA(n,n.state.doc,c.sel);if(I&&!I.eq(n.state.selection)){let C=n.state.tr.setSelection(I);o&&C.setMeta("composition",o),n.dispatch(C)}}return}n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof Ce&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),$r&&ha<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),w=g.sameParent(_)&&g.parent.inlineContent&&v.end()>=m.endA,b;if((Ku&&n.input.lastIOSEnter>Date.now()-225&&(!w||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(_)&&(b=De.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==_.pos)&&n.someProp("handleKeyDown",I=>I(n,il(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&vce(u,m.start,m.endA,g,_)&&n.someProp("handleKeyDown",I=>I(n,il(8,"Backspace")))){Ko&&ir&&n.domObserver.suppressSelectionUpdates();return}ir&&m.endB==m.start&&(n.input.lastChromeDelete=Date.now()),Ko&&!w&&g.start()!=_.start()&&_.parentOffset==0&&g.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,il(13,"Enter"))})},20));let k=m.start,P=m.endA,M,S,E;if(w){if(g.pos==_.pos)$r&&ha<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qo(n),20)),M=n.state.tr.delete(k,P),S=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(E=yce(g.parent.content.cut(g.parentOffset,_.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))M=n.state.tr,E.type=="add"?M.addMark(k,P,E.mark):M.removeMark(k,P,E.mark);else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let I=g.parent.textBetween(g.parentOffset,_.parentOffset);if(n.someProp("handleTextInput",C=>C(n,k,P,I)))return;M=n.state.tr.insertText(I,k,P)}}if(M||(M=n.state.tr.replace(k,P,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let I=MA(n,M.doc,c.sel);I&&!(ir&&n.composing&&I.empty&&(m.start!=m.endB||n.input.lastChromeDelete<Date.now()-100)&&(I.head==k||I.head==M.mapping.map(P)-1)||$r&&I.empty&&I.head==k)&&M.setSelection(I)}S&&M.ensureMarks(S),o&&M.setMeta("composition",o),n.dispatch(M.scrollIntoView())}function MA(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:nI(n,e.resolve(t.anchor),e.resolve(t.head))}function yce(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<t.length;u++)o=t[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(Y.from(c).eq(n))return{mark:a,type:s}}function vce(n,e,t,r,i){if(t-e<=i.pos-r.pos||f1(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(f1(o,!0,!0));return!s.parent.isTextblock||s.pos>t||f1(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function f1(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function _ce(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&n.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&OA(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<n.size&&OA(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function OA(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class wce{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $le,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach($A),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=FA(this),LA(this),this.nodeViews=VA(this),this.docView=mA(this.state.doc,NA(this),d1(this),this.dom,this),this.domObserver=new cce(this,(r,i,o,s)=>gce(this,r,i,o,s)),this.domObserver.start(),Ble(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&UE(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach($A),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(cB(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=VA(this);Ece(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&UE(this),this.editable=FA(this),LA(this);let l=d1(this),c=NA(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let h=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&ele(this);if(s){this.domObserver.stop();let p=d&&($r||ir)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&bce(i.selection,e.selection);if(d){let m=ir?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Zle(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=mA(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Tle(this))?Qo(this,p):(Q4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&tle(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ee){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&cA(this,t.getBoundingClientRect(),e)}else cA(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new dB(e.slice,e.move,i<0?void 0:Ee.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if($r){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&nle(this.dom),Qo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ale(this,e)}coordsAtPos(e,t=1){return j4(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return fle(this,t||this.state,e)}pasteHTML(e,t){return Jh(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Jh(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(zle(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],d1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Uae())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Ule(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Er&&this.root.nodeType===11&&Gae(this.dom.ownerDocument)==this.dom&&dce(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function NA(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[bi.node(0,n.state.doc.content.size,e)]}function LA(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:bi.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function FA(n){return!n.someProp("editable",e=>e(n.state)===!1)}function bce(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function VA(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Ece(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function $A(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var xa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Sce=typeof navigator<"u"&&/Mac/.test(navigator.platform),Tce=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var jn=0;jn<10;jn++)xa[48+jn]=xa[96+jn]=String(jn);for(var jn=1;jn<=24;jn++)xa[jn+111]="F"+jn;for(var jn=65;jn<=90;jn++)xa[jn]=String.fromCharCode(jn+32),nv[jn]=String.fromCharCode(jn);for(var h1 in xa)nv.hasOwnProperty(h1)||(nv[h1]=xa[h1]);function xce(n){var e=Sce&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Tce&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?nv:xa)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Ice=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function kce(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Ice?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function Cce(n){let e=Object.create(null);for(let t in n)e[kce(t)]=n[t];return e}function p1(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Pce(n){return new zr({props:{handleKeyDown:gB(n)}})}function gB(n){let e=Cce(n);return function(t,r){let i=xce(r),o,s=e[p1(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[p1(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=xa[r.keyCode])&&o!=i){let a=e[p1(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const Rce=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function yB(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Dce=(n,e,t)=>{let r=yB(n,t);if(!r)return!1;let i=lI(r);if(!i){let s=r.blockRange(),a=s&&kd(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(bB(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Gu(o,"end")||Ee.isSelectable(o)))for(let s=r.depth;;s--){let a=C_(n.doc,r.before(s),r.after(s),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Gu(o,"end")?De.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ee.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Ace=(n,e,t)=>{let r=yB(n,t);if(!r)return!1;let i=lI(r);return i?vB(n,i,e):!1},Mce=(n,e,t)=>{let r=_B(n,t);if(!r)return!1;let i=cI(r);return i?vB(n,i,e):!1};function vB(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=C_(n.doc,o,l,se.empty);if(!c||c.from!=o||c instanceof Tn&&c.slice.size>=l-o)return!1;if(t){let u=n.tr.step(c);u.setSelection(Ce.create(u.doc,o)),t(u.scrollIntoView())}return!0}function Gu(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Oce=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=lI(r)}let s=o&&o.nodeBefore;return!s||!Ee.isSelectable(s)?!1:(e&&e(n.tr.setSelection(Ee.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function lI(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function _B(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Nce=(n,e,t)=>{let r=_B(n,t);if(!r)return!1;let i=cI(r);if(!i)return!1;let o=i.nodeAfter;if(bB(n,i,e,1))return!0;if(r.parent.content.size==0&&(Gu(o,"start")||Ee.isSelectable(o))){let s=C_(n.doc,r.before(),r.after(),se.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Gu(o,"start")?De.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ee.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Lce=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=cI(r)}let s=o&&o.nodeAfter;return!s||!Ee.isSelectable(s)?!1:(e&&e(n.tr.setSelection(Ee.create(n.doc,o.pos)).scrollIntoView()),!0)};function cI(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const Fce=(n,e)=>{let t=n.selection,r=t instanceof Ee,i;if(r){if(t.node.isTextblock||!Oa(n.doc,t.from))return!1;i=t.from}else if(i=k_(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(Ee.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Vce=(n,e)=>{let t=n.selection,r;if(t instanceof Ee){if(t.node.isTextblock||!Oa(n.doc,t.to))return!1;r=t.to}else if(r=k_(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},$ce=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&kd(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},Bce=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function wB(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const zce=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=wB(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(De.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},jce=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Ki||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=wB(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(Ce.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},Uce=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(vu(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&kd(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},Hce=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(Ee.create(n.doc,i))),!0)};function Wce(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Oa(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function bB(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Wce(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,m=Y.empty;for(let v=s.length-1;v>=0;v--)m=Y.from(s[v].create(null,m));m=Y.from(i.copy(m));let g=n.tr.step(new In(e.pos-1,p,e.pos,p,new se(m,1,0),s.length,!0)),_=g.doc.resolve(p+2*s.length);_.nodeAfter&&_.nodeAfter.type==i.type&&Oa(g.doc,_.pos)&&g.join(_.pos),t(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:De.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&kd(d);if(h!=null&&h>=e.depth)return t&&t(n.tr.lift(d,h).scrollIntoView()),!0;if(c&&Gu(o,"start",!0)&&Gu(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=o,_=1;for(;!g.isTextblock;g=g.firstChild)_++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let v=Y.empty;for(let b=m.length-1;b>=0;b--)v=Y.from(m[b].copy(v));let w=n.tr.step(new In(e.pos-m.length,e.pos+o.nodeSize,e.pos+_,e.pos+o.nodeSize-_,new se(v,m.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function EB(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Ce.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const qce=EB(-1),Kce=EB(1);function Gce(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&Xx(s,n,e);return a?(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function BA(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Yce(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o);if(!s)return!1;let a=r?t.tr:null;return Qce(a,s,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Qce(n,e,t,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);o=new Yy(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Yy(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Xx(o,t,r,e);return a?(n&&Jce(n,e,a,i,t),!0):!1}function Jce(n,e,t,r,i){let o=Y.empty;for(let u=t.length-1;u>=0;u--)o=Y.from(t[u].type.create(t[u].attrs,o));n.step(new In(e.start-(r?2:0),e.end,e.start,e.end,new se(o,0,0),t.length,!0));let s=0;for(let u=0;u<t.length;u++)t[u].type==i&&(s=u+1);let a=t.length-s,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&vu(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function Xce(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?Zce(e,t,n,o):eue(e,t,o):!0:!1}}function Zce(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new In(o-1,s,o,s,new se(Y.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Yy(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=kd(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Oa(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function eue(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,m=t.endIndex-1,g=t.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Y.empty:Y.from(i))))return!1;let d=o.pos,h=d+s.nodeSize;return r.step(new In(d-(a?1:0),h+(l?1:0),d+1,h-1,new se((a?Y.empty:Y.from(i.copy(Y.empty))).append(l?Y.empty:Y.from(i.copy(Y.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function tue(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=Y.from(c?n.create():null),d=new se(Y.from(n.create(null,Y.from(a.type.create(null,u)))),c?3:1,0),h=o.start,p=o.end;t(e.tr.step(new In(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function M_(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class O_{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...g)=>{const _=this.buildProps(c,t),v=p(...g)(_);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:M_({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class nue{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function pe(n,e,t){return n.config[e]===void 0&&n.parent?pe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?pe(n.parent,e,t):null}):n.config[e]}function N_(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function SB(n){const e=[],{nodeExtensions:t,markExtensions:r}=N_(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=pe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...o,...p}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=pe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...o,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:s.name,name:u,attribute:h})})}),e}function Pn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Rn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function HE(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Rn(t,r),{})}function TB(n){return typeof n=="function"}function Oe(n,e=void 0,...t){return TB(n)?e?n.bind(e)(...t):n(...t):n}function rue(n={}){return Object.keys(n).length===0&&n.constructor===Object}function iue(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function zA(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):iue(t.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function jA(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&rue(t)?!1:t!=null))}function oue(n,e){var t;const r=SB(n),{nodeExtensions:i,markExtensions:o}=N_(n),s=(t=i.find(c=>pe(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((v,w)=>{const b=pe(w,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),p=jA({...h,content:Oe(pe(c,"content",d)),marks:Oe(pe(c,"marks",d)),group:Oe(pe(c,"group",d)),inline:Oe(pe(c,"inline",d)),atom:Oe(pe(c,"atom",d)),selectable:Oe(pe(c,"selectable",d)),draggable:Oe(pe(c,"draggable",d)),code:Oe(pe(c,"code",d)),whitespace:Oe(pe(c,"whitespace",d)),linebreakReplacement:Oe(pe(c,"linebreakReplacement",d)),defining:Oe(pe(c,"defining",d)),isolating:Oe(pe(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var w;return[v.name,{default:(w=v==null?void 0:v.attribute)===null||w===void 0?void 0:w.default}]}))}),m=Oe(pe(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>zA(v,u)));const g=pe(c,"renderHTML",d);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:HE(v,u)}));const _=pe(c,"renderText",d);return _&&(p.toText=_),[c.name,p]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(_=>_.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((_,v)=>{const w=pe(v,"extendMarkSchema",d);return{..._,...w?w(c):{}}},{}),p=jA({...h,inclusive:Oe(pe(c,"inclusive",d)),excludes:Oe(pe(c,"excludes",d)),group:Oe(pe(c,"group",d)),spanning:Oe(pe(c,"spanning",d)),code:Oe(pe(c,"code",d)),attrs:Object.fromEntries(u.map(_=>{var v;return[_.name,{default:(v=_==null?void 0:_.attribute)===null||v===void 0?void 0:v.default}]}))}),m=Oe(pe(c,"parseHTML",d));m&&(p.parseDOM=m.map(_=>zA(_,u)));const g=pe(c,"renderHTML",d);return g&&(p.toDOM=_=>g({mark:_,HTMLAttributes:HE(_,u)})),[c.name,p]}));return new v4({topNode:s,nodes:a,marks:l})}function m1(n,e){return e.nodes[n]||e.marks[n]||null}function UA(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function uI(n,e){const t=lc.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const sue=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),t};function dI(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class L_{constructor(e){this.find=e.find,this.handler=e.handler}}const aue=(n,e)=>{if(dI(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Nm(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=sue(c)+o;return s.forEach(h=>{if(u)return;const p=aue(d,h.find);if(!p)return;const m=l.state.tr,g=M_({state:l.state,transaction:m}),_={from:r-(p[0].length-o.length),to:i},{commands:v,chain:w,can:b}=new O_({editor:t,state:g});h.handler({state:g,range:_,match:p,commands:v,chain:w,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),u=!0)}),u}function lue(n){const{editor:e,rules:t}=n,r=new zr({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=uI(Y.from(u),s.schema);const{from:d}=l,h=d+u.length;Nm({editor:e,from:d,to:h,text:u,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Nm({editor:e,from:o,to:s,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Nm({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Nm({editor:e,from:s.pos,to:s.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function cue(n){return Object.prototype.toString.call(n).slice(8,-1)}function Lm(n){return cue(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function F_(n,e){const t={...n};return Lm(n)&&Lm(e)&&Object.keys(e).forEach(r=>{Lm(e[r])&&Lm(n[r])?t[r]=F_(n[r],e[r]):t[r]=e[r]}),t}class ds{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(pe(this,"addOptions",{name:this.name}))),this.storage=Oe(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ds(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>F_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ds(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(pe(t,"addOptions",{name:t.name})),t.storage=Oe(pe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function uue(n){return typeof n=="number"}class due{constructor(e){this.find=e.find,this.handler=e.handler}}const fue=(n,e,t)=>{if(dI(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function hue(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=n,{commands:l,chain:c,can:u}=new O_({editor:e,state:t}),d=[];return t.doc.nodesBetween(r,i,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,m),_=Math.min(i,m+p.content.size),v=p.textBetween(g-m,_-m,void 0,"￼");fue(v,o.find,s).forEach(b=>{if(b.index===void 0)return;const k=g+b.index+1,P=k+b[0].length,M={from:t.tr.mapping.map(k),to:t.tr.mapping.map(P)},S=o.handler({state:t,range:M,match:b,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(S)})}),d.every(p=>p!==null)}const pue=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function mue(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const g=u.tr,_=M_({state:u,transaction:g});if(!(!hue({editor:e,state:_,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new zr({view(d){const h=p=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(o=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,_=m.getMeta("uiEvent")==="drop"&&!o,v=m.getMeta("applyPasteRules"),w=!!v;if(!g&&!_&&!w)return;if(w){let{text:P}=v;typeof P=="string"?P=P:P=uI(Y.from(P),p.schema);const{from:M}=v,S=M+P.length,E=pue(P);return l({rule:u,state:p,from:M,to:{b:S},pasteEvt:E})}const b=h.doc.content.findDiffStart(p.doc.content),k=h.doc.content.findDiffEnd(p.doc.content);if(!(!uue(b)||!k||b===k.b))return l({rule:u,state:p,from:b,to:k,pasteEvt:s})}}))}function gue(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ru{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ru.resolve(e),this.schema=oue(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ru.sort(ru.flatten(e)),r=gue(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=pe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=pe(r,"priority")||100,s=pe(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:m1(t.name,this.schema)},i=pe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=ru.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:m1(s.name,this.schema)},l=[],c=pe(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&pe(s,"exitable",a)&&(u.ArrowRight=()=>ds.handleExit({editor:e,mark:s})),c){const g=Object.fromEntries(Object.entries(c()).map(([_,v])=>[_,()=>v({editor:e})]));u={...u,...g}}const d=Pce(u);l.push(d);const h=pe(s,"addInputRules",a);UA(s,e.options.enableInputRules)&&h&&r.push(...h());const p=pe(s,"addPasteRules",a);UA(s,e.options.enablePasteRules)&&p&&i.push(...p());const m=pe(s,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[lue({editor:e,rules:r}),...mue({editor:e,rules:i}),...o]}get attributes(){return SB(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=N_(this.extensions);return Object.fromEntries(t.filter(r=>!!pe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pn(r.name,this.schema)},s=pe(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d,h)=>{const p=HE(l,i);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:m1(e.name,this.schema)};e.type==="mark"&&(!((t=Oe(pe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=pe(e,"onBeforeCreate",r),o=pe(e,"onCreate",r),s=pe(e,"onUpdate",r),a=pe(e,"onSelectionUpdate",r),l=pe(e,"onTransaction",r),c=pe(e,"onFocus",r),u=pe(e,"onBlur",r),d=pe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class xr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(pe(this,"addOptions",{name:this.name}))),this.storage=Oe(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>F_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xr({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(pe(t,"addOptions",{name:t.name})),t.storage=Oe(pe(t,"addStorage",{name:t.name,options:t.options})),t}}function xB(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=o);const p=s==null?void 0:s[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function IB(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const yue=xr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new zr({key:new Po("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=IB(t);return xB(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),vue=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),_ue=(n=!1)=>({commands:e})=>e.setContent("",n),wue=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=kd(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},bue=n=>e=>n(e),Eue=()=>({state:n,dispatch:e})=>jce(n,e),Sue=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new Ce(r.doc.resolve(s-1))),!0},Tue=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);n.delete(a,l).scrollIntoView()}return!0}return!1},xue=n=>({tr:e,state:t,dispatch:r})=>{const i=Pn(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},Iue=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},kue=()=>({state:n,dispatch:e})=>Rce(n,e),Cue=()=>({commands:n})=>n.keyboardShortcut("Enter"),Pue=()=>({state:n,dispatch:e})=>zce(n,e);function rv(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:dI(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function kB(n,e,t={}){return n.find(r=>r.type===e&&rv(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function HA(n,e,t={}){return!!kB(n,e,t)}function fI(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!kB([...i.node.marks],e,t)))return;let s=i.index,a=n.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&HA([...n.parent.child(s-1).marks],e,t);)s-=1,a-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&HA([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function La(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Rue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=La(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const d=fI(l,o,e);if(d&&d.from<=c&&d.to>=u){const h=Ce.create(s,d.from,d.to);t.setSelection(h)}}return!0},Due=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function CB(n){return n instanceof Ce}function hl(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function PB(n,e=null){if(!e)return null;const t=De.atStart(n),r=De.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Ce.create(n,hl(0,i,o),hl(n.content.size,i,o)):Ce.create(n,hl(e,i,o),hl(e,i,o))}function hI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Aue=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{hI()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!CB(t.state.selection))return s(),!0;const a=PB(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},Mue=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Oue=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),RB=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&RB(r)}return n};function Fm(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return RB(t)}function iv(n,e,t){if(n instanceof da||n instanceof Y)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Y.fromArray(n.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(n);return t.errorOnInvalidContent&&s.check(),s}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),iv("",e,t)}if(i){if(t.errorOnInvalidContent){let s=!1,a="";const l=new v4({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?fa.fromSchema(l).parseSlice(Fm(n),t.parseOptions):fa.fromSchema(l).parse(Fm(n),t.parseOptions),t.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=fa.fromSchema(e);return t.slice?o.parseSlice(Fm(n),t.parseOptions).content:o.parse(Fm(n),t.parseOptions)}return iv("",e,t)}function Nue(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Tn||i instanceof In))return;const o=n.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),n.setSelection(De.near(n.doc.resolve(s),t))}const Lue=n=>!("type"in n),Fue=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=iv(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(s=t.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(m){return o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,d=!0;if((Lue(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;if(u){if(Array.isArray(e))p=e.map(m=>m.text||"").join("");else if(e instanceof Y){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),p=m}else typeof e=="object"&&e&&e.text?p=e.text:p=e;r.insertText(p,l,c)}else p=a,r.replaceWith(l,c,p);t.updateSelection&&Nue(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},Vue=()=>({state:n,dispatch:e})=>Fce(n,e),$ue=()=>({state:n,dispatch:e})=>Vce(n,e),Bue=()=>({state:n,dispatch:e})=>Dce(n,e),zue=()=>({state:n,dispatch:e})=>Nce(n,e),jue=()=>({state:n,dispatch:e,tr:t})=>{try{const r=k_(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Uue=()=>({state:n,dispatch:e,tr:t})=>{try{const r=k_(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Hue=()=>({state:n,dispatch:e})=>Ace(n,e),Wue=()=>({state:n,dispatch:e})=>Mce(n,e);function DB(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function que(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))hI()||DB()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const Kue=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=que(n).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Zh(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?Pn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const p=Math.max(r,h),m=Math.min(i,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>rv(d.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const Gue=(n,e={})=>({state:t,dispatch:r})=>{const i=Pn(n,t.schema);return Zh(t,i,e)?$ce(t,r):!1},Yue=()=>({state:n,dispatch:e})=>Uce(n,e),Que=n=>({state:e,dispatch:t})=>{const r=Pn(n,e.schema);return Xce(r)(e,t)},Jue=()=>({state:n,dispatch:e})=>Bce(n,e);function V_(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function WA(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const Xue=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=V_(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Pn(n,r.schema)),a==="mark"&&(s=La(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&t.setNodeMarkup(u,void 0,WA(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&t.addMark(u,u+c.nodeSize,s.create(WA(d.attrs,e)))})})}),!0):!1},Zue=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ede=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),tde=()=>({state:n,dispatch:e})=>Oce(n,e),nde=()=>({state:n,dispatch:e})=>Lce(n,e),rde=()=>({state:n,dispatch:e})=>Hce(n,e),ide=()=>({state:n,dispatch:e})=>Kce(n,e),ode=()=>({state:n,dispatch:e})=>qce(n,e);function WE(n,e,t={},r={}){return iv(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const sde=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:u}=o;if(t.preserveWhitespace!=="full"){const d=WE(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function pI(n,e){const t=La(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function ade(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function lde(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function mI(n){return e=>lde(e.$from,n)}function cde(n,e){const t={from:0,to:n.content.size};return xB(n,t,e)}function ude(n,e){const t=Pn(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?{...s.attrs}:{}}function dde(n,e){const t=V_(typeof e=="string"?e:e.name,n.schema);return t==="node"?ude(n,e):t==="mark"?pI(n,e):{}}function AB(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),s=fI(o,i.type);s&&r.push({mark:i,...s})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Pg(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function qE(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?La(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>rv(d.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;n.doc.nodesBetween(p,m,(g,_)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,_),w=Math.min(m,_+g.nodeSize),b=w-v;s+=b,a.push(...g.marks.map(k=>({mark:k,from:v,to:w})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>rv(d.mark.attrs,t,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=s}function fde(n,e,t={}){if(!e)return Zh(n,null,t)||qE(n,null,t);const r=V_(e,n.schema);return r==="node"?Zh(n,e,t):r==="mark"?qE(n,e,t):!1}function qA(n,e){const{nodeExtensions:t}=N_(e),r=t.find(s=>s.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Oe(pe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function gI(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(gI(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function hde(n){return n instanceof Ee}function pde(n,e,t){var r;const{selection:i}=e;let o=null;if(CB(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(t),m=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=p&&m}return!c}),c})}const mde=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=La(n,r.schema);if(i)if(s){const c=pI(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),g=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&t.addMark(m,g,l.create({...v.attrs,...e}))}):t.addMark(m,g,l.create(e))})});return pde(r,t,l)},gde=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),yde=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=Pn(n,t.schema);let s;return t.selection.$anchor.sameParent(t.selection.$head)&&(s=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>BA(o,{...s,...e})(t)?!0:a.clearNodes()).command(({state:a})=>BA(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vde=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=hl(n,0,r.content.size),o=Ee.create(r,i);e.setSelection(o)}return!0},_de=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,s=Ce.atStart(r).from,a=Ce.atEnd(r).to,l=hl(i,s,a),c=hl(o,s,a),u=Ce.create(r,l,c);e.setSelection(u)}return!0},wde=n=>({state:e,dispatch:t})=>{const r=Pn(n,e.schema);return tue(r)(e,t)};function KA(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const bde=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=Pg(c,a.node().type.name,a.node().attrs);if(o instanceof Ee&&o.node.isBlock)return!a.parentOffset||!vu(s,a.pos)?!1:(r&&(n&&KA(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:ade(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=vu(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&vu(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(m&&(o instanceof Ce&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),_=e.doc.resolve(g);a.node(-1).canReplaceWith(_.index(),_.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}n&&KA(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},Ede=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var s;const a=Pn(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=Y.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-w;E>=l.depth-3;E-=1)v=Y.from(l.node(E).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...Pg(h,l.node().type.name,l.node().attrs),...e},P=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;v=v.append(Y.from(a.createAndFill(null,P)||void 0));const M=l.before(l.depth-(w-1));t.replace(M,l.after(-b),new se(v,4-w,0));let S=-1;t.doc.nodesBetween(M,t.doc.content.size,(E,I)=>{if(S>-1)return!1;E.isTextblock&&E.content.size===0&&(S=I+1)}),S>-1&&t.setSelection(Ce.near(t.doc.resolve(S))),t.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Pg(h,d.type.name,d.attrs),...e},g={...Pg(h,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const _=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!vu(t.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:w}=r,{splittableMarks:b}=o.extensionManager,k=w||v.$to.parentOffset&&v.$from.marks();if(t.split(l.pos,2,_).scrollIntoView(),!k||!i)return!0;const P=k.filter(M=>b.includes(M.type.name));t.ensureMarks(P)}return!0},g1=(n,e)=>{const t=mI(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Oa(n.doc,t.pos)&&n.join(t.pos),!0},y1=(n,e)=>{const t=mI(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Oa(n.doc,r)&&n.join(r),!0},Sde=(n,e,t,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,p=Pn(n,s.schema),m=Pn(e,s.schema),{selection:g,storedMarks:_}=s,{$from:v,$to:w}=g,b=v.blockRange(w),k=_||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const P=mI(M=>qA(M.type.name,d))(g);if(b.depth>=1&&P&&b.depth-P.depth<=1){if(P.node.type===p)return c.liftListItem(m);if(qA(P.node.type.name,d)&&p.validContent(P.node.content)&&a)return l().command(()=>(o.setNodeMarkup(P.pos,p),!0)).command(()=>g1(o,p)).command(()=>y1(o,p)).run()}return!t||!k||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>g1(o,p)).command(()=>y1(o,p)).run():l().command(()=>{const M=u().wrapInList(p,r),S=k.filter(E=>h.includes(E.type.name));return o.ensureMarks(S),M?!0:c.clearNodes()}).wrapInList(p,r).command(()=>g1(o,p)).command(()=>y1(o,p)).run()},Tde=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=La(n,r.schema);return qE(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},xde=(n,e,t={})=>({state:r,commands:i})=>{const o=Pn(n,r.schema),s=Pn(e,r.schema),a=Zh(r,o,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...t})},Ide=(n,e={})=>({state:t,commands:r})=>{const i=Pn(n,t.schema);return Zh(t,i,e)?r.lift(i):r.wrapIn(i,e)},kde=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},Cde=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},Pde=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=La(n,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:h,to:p}=a;const m=(o=c.marks().find(_=>_.type===l))===null||o===void 0?void 0:o.attrs,g=fI(c,l,m);g&&(h=g.from,p=g.to),t.removeMark(h,p,l)}else d.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos,l)});return t.removeStoredMark(l),!0},Rde=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=V_(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Pn(n,r.schema)),a==="mark"&&(s=La(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,h,p,m;t.selection.empty?r.doc.nodesBetween(c,u,(g,_)=>{o&&o===g.type&&(p=Math.max(_,c),m=Math.min(_+g.nodeSize,u),d=_,h=g)}):r.doc.nodesBetween(c,u,(g,_)=>{_<c&&o&&o===g.type&&(p=Math.max(_,c),m=Math.min(_+g.nodeSize,u),d=_,h=g),_>=c&&_<=u&&(o&&o===g.type&&t.setNodeMarkup(_,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(v=>{if(s===v.type){const w=Math.max(_,c),b=Math.min(_+g.nodeSize,u);t.addMark(w,b,s.create({...v.attrs,...e}))}}))}),h&&(d!==void 0&&t.setNodeMarkup(d,void 0,{...h.attrs,...e}),s&&h.marks.length&&h.marks.forEach(g=>{s===g.type&&t.addMark(p,m,s.create({...g.attrs,...e}))}))}),!0):!1},Dde=(n,e={})=>({state:t,dispatch:r})=>{const i=Pn(n,t.schema);return Gce(i,e)(t,r)},Ade=(n,e={})=>({state:t,dispatch:r})=>{const i=Pn(n,t.schema);return Yce(i,e)(t,r)};var Mde=Object.freeze({__proto__:null,blur:vue,clearContent:_ue,clearNodes:wue,command:bue,createParagraphNear:Eue,cut:Sue,deleteCurrentNode:Tue,deleteNode:xue,deleteRange:Iue,deleteSelection:kue,enter:Cue,exitCode:Pue,extendMarkRange:Rue,first:Due,focus:Aue,forEach:Mue,insertContent:Oue,insertContentAt:Fue,joinBackward:Bue,joinDown:$ue,joinForward:zue,joinItemBackward:jue,joinItemForward:Uue,joinTextblockBackward:Hue,joinTextblockForward:Wue,joinUp:Vue,keyboardShortcut:Kue,lift:Gue,liftEmptyBlock:Yue,liftListItem:Que,newlineInCode:Jue,resetAttributes:Xue,scrollIntoView:Zue,selectAll:ede,selectNodeBackward:tde,selectNodeForward:nde,selectParentNode:rde,selectTextblockEnd:ide,selectTextblockStart:ode,setContent:sde,setMark:mde,setMeta:gde,setNode:yde,setNodeSelection:vde,setTextSelection:_de,sinkListItem:wde,splitBlock:bde,splitListItem:Ede,toggleList:Sde,toggleMark:Tde,toggleNode:xde,toggleWrap:Ide,undoInputRule:kde,unsetAllMarks:Cde,unsetMark:Pde,updateAttributes:Rde,wrapIn:Dde,wrapInList:Ade});const Ode=xr.create({name:"commands",addCommands(){return{...Mde}}}),Nde=xr.create({name:"drop",addProseMirrorPlugins(){return[new zr({key:new Po("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Lde=xr.create({name:"editable",addProseMirrorPlugins(){return[new zr({key:new Po("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Fde=xr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new zr({key:new Po("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Vde=xr.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=m.parent.type.spec.isolating,_=d.pos-d.parentOffset,v=g&&m.parent.childCount===1?_===d.pos:De.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return hI()||DB()?o:i},addProseMirrorPlugins(){return[new zr({key:new Po("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=De.atStart(e.doc).from,c=De.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!gI(t.doc))return;const h=t.tr,p=M_({state:t,transaction:h}),{commands:m}=new O_({editor:this.editor,state:p});if(m.clearNodes(),!!h.steps.length)return h}})]}}),$de=xr.create({name:"paste",addProseMirrorPlugins(){return[new zr({key:new Po("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Bde=xr.create({name:"tabindex",addProseMirrorPlugins(){return[new zr({key:new Po("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class ol{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new ol(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ol(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ol(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,s=this.pos+r+(o?0:1),a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new ol(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new ol(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,s=Object.keys(t);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>t[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const zde=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jde(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class Ude extends nue{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jde(zde,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=TB(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=t.filter(a=>!a.key.startsWith(s))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[Lde,yue.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Ode,Fde,Vde,Bde,Nde,$de].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ru(i,this)}createCommandManager(){this.commandManager=new O_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=WE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=WE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=PB(t,this.options.autofocus);this.view=new wce(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:nu.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return dde(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return fde(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return uI(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return cde(this.state.doc,{blockSeparator:t,textSerializers:{...IB(this.schema),...r}})}get isEmpty(){return gI(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ol(t,this)}get $doc(){return this.$pos(0)}}function Yu(n){return new L_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Oe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=t.from+a.indexOf(s),u=c+s.length;if(AB(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===n.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<t.to&&o.delete(u,t.to),c>t.from&&o.delete(t.from+l,c);const h=t.from+l+s.length;o.addMark(t.from+l,h,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function Hde(n){return new L_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Oe(n.getAttributes,void 0,r)||{},{tr:o}=e,s=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=n.type.isInline?s:s-1;o.insert(c,n.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function KE(n){return new L_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Oe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Qu(n){return new L_({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Oe(n.getAttributes,void 0,r)||{},s=e.tr.delete(t.from,t.to),l=s.doc.resolve(t.from).blockRange(),c=l&&Xx(l,n.type,o);if(!c)return null;if(s.wrap(l,c),n.keepMarks&&n.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:p}=n.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(_=>p.includes(_.type.name));s.ensureMarks(g)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Oa(s.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,u))&&s.join(t.from-1)}})}let li=class GE{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(pe(this,"addOptions",{name:this.name}))),this.storage=Oe(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new GE(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>F_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new GE(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(pe(t,"addOptions",{name:t.name})),t.storage=Oe(pe(t,"addStorage",{name:t.name,options:t.options})),t}};function Ju(n){return new due({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Oe(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const u=l.search(/\S/),d=t.from+l.indexOf(a),h=d+a.length;if(AB(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(_=>_===n.type&&_!==m.mark.type)).filter(m=>m.to>d).length)return null;h<t.to&&s.delete(h,t.to),d>t.from&&s.delete(t.from+u,d),c=t.from+u+a.length,s.addMark(t.from+u,c,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}const MB=li.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Rn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Wde=ds.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=pI(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}});function qde(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var OB={exports:{}},v1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function Kde(){if(GA)return v1;GA=1;var n=$;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),g=m[0].inst,_=m[1];return o(function(){g.value=p,g.getSnapshot=h,l(g)&&_({inst:g})},[d,p,h]),i(function(){return l(g)&&_({inst:g}),d(function(){l(g)&&_({inst:g})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!t(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return v1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,v1}OB.exports=Kde();var yI=OB.exports;const Gde=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Yde=({contentComponent:n})=>{const e=yI.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return $.createElement($.Fragment,null,Object.values(e))};function Qde(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:eu.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class Jde extends $.Component{constructor(e){var t;super(e),this.editorContentRef=$.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Qde(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return $.createElement($.Fragment,null,$.createElement("div",{ref:Gde(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&$.createElement(Yde,{contentComponent:e.contentComponent}))}}const Xde=x.forwardRef((n,e)=>{const t=$.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return $.createElement(Jde,{key:t,innerRef:e,...n})}),Zde=$.memo(Xde);var efe=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},tfe=qde(efe),NB={exports:{}},_1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function nfe(){if(YA)return _1;YA=1;var n=$,e=yI;function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return _1.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=o(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function v(M){if(!w){if(w=!0,b=M,M=h(M),p!==void 0&&g.hasValue){var S=g.value;if(p(S,M))return k=S}return k=M}if(S=k,r(b,M))return S;var E=h(M);return p!==void 0&&p(S,E)?S:(b=M,k=E)}var w=!1,b,k,P=d===void 0?null:d;return[function(){return v(u())},P===null?void 0:function(){return v(P())}]},[u,d,h,p]);var _=i(c,m[0],m[1]);return s(function(){g.hasValue=!0,g.value=_},[_]),l(_),_},_1}NB.exports=nfe();var rfe=NB.exports;const ife=typeof window<"u"?x.useLayoutEffect:x.useEffect;class ofe{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function sfe(n){var e;const[t]=x.useState(()=>new ofe(n.editor)),r=rfe.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:tfe);return ife(()=>t.watch(n.editor),[n.editor,t]),x.useDebugValue(r),r}const afe=!1,YE=typeof window>"u",lfe=YE||!!(typeof window<"u"&&window.next);class cfe{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return YE||lfe?null:this.createEditor();if(this.options.current.immediatelyRender&&YE&&afe)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new Ude(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function ufe(n={},e=[]){const t=x.useRef(n);t.current=n;const[r]=x.useState(()=>new cfe(t)),i=yI.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(e)),sfe({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const vI=x.createContext({editor:null}),dfe=vI.Consumer,ffe=()=>x.useContext(vI);function hfe({children:n,slotAfter:e,slotBefore:t,editorContainerProps:r={},...i}){const o=ufe(i);return o?$.createElement(vI.Provider,{value:{editor:o}},t,$.createElement(dfe,null,({editor:s})=>$.createElement(Zde,{editor:s,...r})),n,e):null}const pfe=x.createContext({onDragStart:void 0}),mfe=()=>x.useContext(pfe);$.forwardRef((n,e)=>{const{onDragStart:t}=mfe(),r=n.as||"div";return $.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const gfe=/^\s*>\s$/,yfe=li.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Qu({find:gfe,type:this.type})]}}),vfe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,_fe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,wfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,bfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Efe=ds.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Yu({find:vfe,type:this.type}),Yu({find:wfe,type:this.type})]},addPasteRules(){return[Ju({find:_fe,type:this.type}),Ju({find:bfe,type:this.type})]}}),Sfe="listItem",QA="textStyle",JA=/^\s*([-+*])\s$/,Tfe=li.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Sfe,this.editor.getAttributes(QA)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Qu({find:JA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Qu({find:JA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QA),editor:this.editor})),[n]}}),xfe=new RegExp("(?<!`)`([^`]+)`(?!`)"),Ife=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),kfe=ds.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Yu({find:xfe,type:this.type})]},addPasteRules(){return[Ju({find:Ife,type:this.type})]}}),Cfe=/^```([a-z]+)?[\s\n]$/,Pfe=/^~~~([a-z]+)?[\s\n]$/,Rfe=li.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(t)).map(s=>s.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Rn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(De.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[KE({find:Cfe,type:this.type,getAttributes:n=>({language:n[1]})}),KE({find:Pfe,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new zr({key:new Po("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:s,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Ce.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),n.dispatch(s),!0}}})]}}),Dfe=li.create({name:"doc",topNode:!0,content:"block+"});function Afe(n={}){return new zr({view(e){return new Mfe(e,n)}})}class Mfe{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=P4(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Ofe=xr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Afe(this.options)]}});class Yt extends De{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Yt.valid(r)?new Yt(r):De.near(r)}content(){return se.empty}eq(e){return e instanceof Yt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Yt(e.resolve(t.pos))}getBookmark(){return new _I(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Nfe(e)||!Lfe(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Yt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(t>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(t>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=t;let l=e.doc.resolve(i);if(Yt.valid(l))return l}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Ee.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=s,i+=t;let a=e.doc.resolve(i);if(Yt.valid(a))return a}return null}}}Yt.prototype.visible=!1;Yt.findFrom=Yt.findGapCursorFrom;De.jsonID("gapcursor",Yt);class _I{constructor(e){this.pos=e}map(e){return new _I(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Yt.valid(t)?new Yt(t):De.near(t)}}function Nfe(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Lfe(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Ffe(){return new zr({props:{decorations:zfe,createSelectionBetween(n,e,t){return e.pos==t.pos&&Yt.valid(t)?new Yt(t):null},handleClick:$fe,handleKeyDown:Vfe,handleDOMEvents:{beforeinput:Bfe}}})}const Vfe=gB({ArrowLeft:Vm("horiz",-1),ArrowRight:Vm("horiz",1),ArrowUp:Vm("vert",-1),ArrowDown:Vm("vert",1)});function Vm(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof Ce){if(!o.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Yt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Yt(c))),!0):!1}}function $fe(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Yt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ee.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Yt(r))),!0)}function Bfe(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Yt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=Y.empty;for(let s=r.length-1;s>=0;s--)i=Y.from(r[s].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new se(i,0,0));return o.setSelection(Ce.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function zfe(n){if(!(n.selection instanceof Yt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",yn.create(n.doc,[bi.widget(n.selection.head,e,{key:"gapcursor"})])}const jfe=xr.create({name:"gapCursor",addProseMirrorPlugins(){return[Ffe()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Oe(pe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Ufe=li.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Rn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Hfe=li.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Rn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>KE({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var ov=200,kn=function(){};kn.prototype.append=function(e){return e.length?(e=kn.from(e),!this.length&&e||e.length<ov&&this.leafAppend(e)||this.length<ov&&e.leafPrepend(this)||this.appendInner(e)):this};kn.prototype.prepend=function(e){return e.length?kn.from(e).append(this):this};kn.prototype.appendInner=function(e){return new Wfe(this,e)};kn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?kn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};kn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};kn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};kn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i};kn.from=function(e){return e instanceof kn?e:e&&e.length?new LB(e):kn.empty};var LB=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ov)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ov)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(kn);kn.empty=new LB([]);var Wfe=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(kn);const qfe=500;class Ui{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new to(d.map));let p=d.step.map(i.slice(o)),m;p&&s.maybeStep(p).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new to(m,void 0,void 0,c.length+u.length))),o--,m&&i.appendMap(m,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Ui(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new to(e.mapping.maps[u],d,t),p;(p=l&&l.merge(h))&&(h=p,u?o.pop():a=a.slice(0,a.length-1)),o.push(h),t&&(s++,t=void 0),i||(l=h)}let c=s-r.depth;return c>Gfe&&(a=Kfe(a,c),s-=c),new Ui(a.append(o),s)}remapping(e,t){let r=new yu;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,t),r}addMaps(e){return this.eventCount==0?this:new Ui(this.items.append(e.map(t=>new to(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=t;this.items.forEach(h=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let m=o.maps[p];if(h.step){let g=e.steps[p].invert(e.docs[p]),_=h.selection&&h.selection.map(o.slice(l+1,p));_&&a++,r.push(new to(m,g,_))}else r.push(new to(m))},i);let c=[];for(let h=t;h<s;h++)c.push(new to(o.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new Ui(u,a);return d.emptyItemCount()>qfe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let u=s.selection&&s.selection.map(t.slice(r));u&&o++;let d=new to(c.invert(),l,u),h,p=i.length-1;(h=i.length&&i[p].merge(d))?i[p]=h:i.push(d)}}else s.map&&r--},this.items.length,0),new Ui(kn.from(i.reverse()),o)}}Ui.empty=new Ui(kn.empty,0);function Kfe(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class to{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new to(t.getMap().invert(),t,this.selection)}}}class Os{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Gfe=20;function Yfe(n,e,t,r){let i=t.getMeta(kl),o;if(i)return i.historyState;t.getMeta(Xfe)&&(n=new Os(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(kl))return s.getMeta(kl).redo?new Os(n.done.addTransform(t,void 0,r,Rg(e)),n.undone,XA(t.mapping.maps),n.prevTime,n.prevComposition):new Os(n.done,n.undone.addTransform(t,void 0,r,Rg(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!Qfe(t,n.prevRanges)),c=s?w1(n.prevRanges,t.mapping):XA(t.mapping.maps);return new Os(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,Rg(e)),Ui.empty,c,t.time,a??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Os(n.done.rebased(t,o),n.undone.rebased(t,o),w1(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Os(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),w1(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function Qfe(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function XA(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,s)=>e.push(o,s));return e}function w1(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function Jfe(n,e,t){let r=Rg(e),i=kl.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Os(t?a:o.remaining,t?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(kl,{redo:t,historyState:l})}let b1=!1,ZA=null;function Rg(n){let e=n.plugins;if(ZA!=e){b1=!1,ZA=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){b1=!0;break}}return b1}const kl=new Po("history"),Xfe=new Po("closeHistory");function Zfe(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new zr({key:kl,state:{init(){return new Os(Ui.empty,Ui.empty,null,0,-1)},apply(e,t,r){return Yfe(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?VB:r=="historyRedo"?$B:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function FB(n,e){return(t,r)=>{let i=kl.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=Jfe(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const VB=FB(!1,!0),$B=FB(!0,!0),ehe=xr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>VB(n,e),redo:()=>({state:n,dispatch:e})=>$B(n,e)}},addProseMirrorPlugins(){return[Zfe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),the=li.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Rn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):hde(t)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:c}=s.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(Ce.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(Ee.create(s.doc,c.pos)):s.setSelection(Ce.create(s.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(s.insert(u,d),s.setSelection(Ce.create(s.doc,u+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Hde({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),nhe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,rhe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,ihe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ohe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,she=ds.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Yu({find:nhe,type:this.type}),Yu({find:ihe,type:this.type})]},addPasteRules(){return[Ju({find:rhe,type:this.type}),Ju({find:ohe,type:this.type})]}}),ahe="listItem",eM="textStyle",tM=/^(\d+)\.\s$/,lhe=li.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Rn(this.options.HTMLAttributes,t),0]:["ol",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ahe,this.editor.getAttributes(eM)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Qu({find:tM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Qu({find:tM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(eM)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),che=li.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),uhe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,dhe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,fhe=ds.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Yu({find:uhe,type:this.type})]},addPasteRules(){return[Ju({find:dhe,type:this.type})]}}),hhe=li.create({name:"text",group:"inline"}),BB=xr.create({name:"starterKit",addExtensions(){var n,e,t,r,i,o,s,a,l,c,u,d,h,p,m,g,_,v;const w=[];return this.options.bold!==!1&&w.push(Efe.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&w.push(yfe.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&w.push(Tfe.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&w.push(kfe.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&w.push(Rfe.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&w.push(Dfe.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&w.push(Ofe.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&w.push(jfe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&w.push(Ufe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&w.push(Hfe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&w.push(ehe.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&w.push(the.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&w.push(she.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&w.push(MB.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&w.push(lhe.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&w.push(che.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&w.push(fhe.configure((_=this.options)===null||_===void 0?void 0:_.strike)),this.options.text!==!1&&w.push(hhe.configure((v=this.options)===null||v===void 0?void 0:v.text)),w}}),phe=/^\s*(\[([( |x])?\])\s$/,mhe=li.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",Rn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",c=>c.preventDefault()),a.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:u}=c.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=t();if(typeof h!="number")return!1;const p=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:u}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,u)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,u])=>{i.setAttribute(c,u)}),i.dataset.checked=n.attrs.checked,n.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,s),i.append(o,l),Object.entries(e).forEach(([c,u])=>{i.setAttribute(c,u)}),{dom:i,contentDOM:l,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,c.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[Qu({find:phe,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),ghe=li.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",Rn(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});var yhe=x;function vhe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var sv=vhe(yhe),_he=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},whe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},nM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=whe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return sv.default.createElement("svg",_he({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),sv.default.createElement("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"}))},bhe=sv.default.memo?sv.default.memo(nM):nM,Ehe=bhe;const She=Xt(Ehe);var The=x;function xhe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var av=xhe(The),Ihe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},khe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},rM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=khe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return av.default.createElement("svg",Ihe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),av.default.createElement("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z"}))},Che=av.default.memo?av.default.memo(rM):rM,Phe=Che;const Rhe=Xt(Phe);var Dhe=x;function Ahe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var lv=Ahe(Dhe),Mhe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ohe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},iM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Ohe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return lv.default.createElement("svg",Mhe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),lv.default.createElement("path",{d:"M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z"}))},Nhe=lv.default.memo?lv.default.memo(iM):iM,Lhe=Nhe;const Fhe=Xt(Lhe);var Vhe=x;function $he(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var cv=$he(Vhe),Bhe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zhe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},oM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=zhe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return cv.default.createElement("svg",Bhe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),cv.default.createElement("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z"}))},jhe=cv.default.memo?cv.default.memo(oM):oM,Uhe=jhe;const Hhe=Xt(Uhe);var Whe=x;function qhe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var uv=qhe(Whe),Khe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ghe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},sM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Ghe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return uv.default.createElement("svg",Khe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),uv.default.createElement("path",{d:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z"}))},Yhe=uv.default.memo?uv.default.memo(sM):sM,Qhe=Yhe;const Jhe=Xt(Qhe);var Xhe=x;function Zhe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var dv=Zhe(Xhe),epe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tpe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},aM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=tpe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return dv.default.createElement("svg",epe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),dv.default.createElement("path",{d:"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"}))},npe=dv.default.memo?dv.default.memo(aM):aM,rpe=npe;const ipe=Xt(rpe);var ope=x;function spe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var fv=spe(ope),ape=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lpe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},lM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=lpe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return fv.default.createElement("svg",ape({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),fv.default.createElement("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z"}))},cpe=fv.default.memo?fv.default.memo(lM):lM,upe=cpe;const dpe=Xt(upe);var fpe=x;function hpe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var hv=hpe(fpe),ppe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mpe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},cM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=mpe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return hv.default.createElement("svg",ppe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),hv.default.createElement("path",{d:"M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"}))},gpe=hv.default.memo?hv.default.memo(cM):cM,ype=gpe;const vpe=Xt(ype);var _pe=x;function wpe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var pv=wpe(_pe),bpe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Epe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},uM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Epe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return pv.default.createElement("svg",bpe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),pv.default.createElement("path",{d:"M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z"}))},Spe=pv.default.memo?pv.default.memo(uM):uM,Tpe=Spe;const xpe=Xt(Tpe);var Ipe=x;function kpe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var mv=kpe(Ipe),Cpe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ppe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},dM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Ppe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return mv.default.createElement("svg",Cpe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),mv.default.createElement("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"}))},Rpe=mv.default.memo?mv.default.memo(dM):dM,Dpe=Rpe;const Ape=Xt(Dpe);var Mpe=x;function Ope(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var gv=Ope(Mpe),Npe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lpe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},fM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Lpe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return gv.default.createElement("svg",Npe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),gv.default.createElement("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"}))},Fpe=gv.default.memo?gv.default.memo(fM):fM,Vpe=Fpe;const $pe=Xt(Vpe);var Bpe=x;function zpe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var yv=zpe(Bpe),jpe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Upe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},hM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Upe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return yv.default.createElement("svg",jpe({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),yv.default.createElement("path",{d:"M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z"}))},Hpe=yv.default.memo?yv.default.memo(hM):hM,Wpe=Hpe;const qpe=Xt(Wpe);var Kpe=x;function Gpe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var vv=Gpe(Kpe),Ype=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qpe=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},pM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=Qpe(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return vv.default.createElement("svg",Ype({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),vv.default.createElement("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z"}))},Jpe=vv.default.memo?vv.default.memo(pM):pM,Xpe=Jpe;const Zpe=Xt(Xpe);var eme=x;function tme(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var _v=tme(eme),nme=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rme=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},mM=function(e){var t=e.color,r=t===void 0?"currentColor":t,i=e.size,o=i===void 0?24:i;e.children;var s=rme(e,["color","size","children"]),a="remixicon-icon "+(s.className||"");return _v.default.createElement("svg",nme({},s,{className:a,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),_v.default.createElement("path",{d:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z"}))},ime=_v.default.memo?_v.default.memo(mM):mM,ome=ime;const sme=Xt(ome);function zB({setEditorContent:n,initialContent:e=null}){const t=()=>{const{editor:o}=ffe();if(!o)return null;const s=()=>{o.commands.insertContent(`
        <ul data-type="taskList">
          <li data-type="taskItem" data-checked="true">A list item</li>
          <li data-type="taskItem" data-checked="false">And another one</li>
        </ul>
      `,{parseOptions:{preserveWhitespace:!1}})};return n(o.getHTML()),N.jsx("div",{className:"control-group",children:N.jsxs("div",{className:"button-group",children:[N.jsx("button",{onClick:s,className:"editor-button",children:"Add Task List"}),N.jsx("button",{onClick:()=>o.chain().focus().toggleTaskList().run(),className:o.isActive("taskList")?"is-active":"",children:"Toggle task list"}),N.jsx("button",{onClick:()=>o.chain().focus().toggleBold().run(),disabled:!o.can().chain().focus().toggleBold().run(),className:o.isActive("bold")?"is-active editor-button":"editor-button",children:N.jsx(She,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleItalic().run(),disabled:!o.can().chain().focus().toggleItalic().run(),className:o.isActive("italic")?"is-active editor-button":"editor-button",children:N.jsx(Rhe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleStrike().run(),disabled:!o.can().chain().focus().toggleStrike().run(),className:o.isActive("strike")?"is-active editor-button":"editor-button",children:N.jsx(Fhe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:1}).run(),className:o.isActive("heading",{level:1})?"is-active editor-button":"editor-button",children:N.jsx(Hhe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:2}).run(),className:o.isActive("heading",{level:2})?"is-active editor-button":"editor-button",children:N.jsx(Jhe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:3}).run(),className:o.isActive("heading",{level:3})?"is-active editor-button":"editor-button",children:N.jsx(ipe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:4}).run(),className:o.isActive("heading",{level:4})?"is-active editor-button":"editor-button",children:N.jsx(dpe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:5}).run(),className:o.isActive("heading",{level:5})?"is-active editor-button":"editor-button",children:N.jsx(vpe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleHeading({level:6}).run(),className:o.isActive("heading",{level:6})?"is-active editor-button":"editor-button",children:N.jsx(xpe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleBulletList().run(),className:o.isActive("bulletList")?"is-active editor-button":"editor-button",children:N.jsx(Ape,{})}),N.jsx("button",{onClick:()=>o.chain().focus().toggleOrderedList().run(),className:o.isActive("orderedList")?"is-active editor-button":"editor-button",children:N.jsx($pe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().setHorizontalRule().run(),children:N.jsx(qpe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().undo().run(),disabled:!o.can().chain().focus().undo().run(),children:N.jsx(Zpe,{})}),N.jsx("button",{onClick:()=>o.chain().focus().redo().run(),disabled:!o.can().chain().focus().redo().run(),children:N.jsx(sme,{})})]})})},r=[Wde.configure({types:[MB.name]}),BB.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],i=e||"<p></p>";return N.jsx(hfe,{slotBefore:N.jsx(t,{}),extensions:r,content:i})}function ame({theme:n,toggleTheme:e}){const{id:t}=Lj(),r=sd(),[i,o]=x.useState(null),[s,a]=x.useState(""),[l,c]=x.useState("<p></p>");x.useEffect(()=>{(async()=>{const m=await Dte(t);o(m),a(m.title),c(m.content)})()},[t]);const u=async()=>{try{await Rte(t,s,l),r("/main")}catch(p){console.error("Error updating note:",p)}},d=()=>{r("/main")},h=()=>{x$(t,o),r("/main")};return i?N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:s,onChange:p=>a(p.target.value),placeholder:"Add a title..."}),N.jsx(zB,{setEditorContent:c,initialContent:l}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(El,{onClick:d,color:"primary",children:[N.jsx(Yx,{})," Cancel"]}),N.jsxs(El,{onClick:u,color:"primary",variant:"contained",children:[N.jsx(Kx,{})," Save"]}),N.jsxs(El,{onClick:h,color:"secondary",children:[N.jsx(mx,{})," Delete"]})]})]}):N.jsx("p",{children:"Loading..."})}function ae(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function at(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function fs(n,e){const t=ae(n);return isNaN(e)?at(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Ji(n,e){const t=ae(n);if(isNaN(e))return at(n,NaN);if(!e)return t;const r=t.getDate(),i=at(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function wI(n,e){const t=+ae(n);return at(n,t+e)}const jB=6048e5,lme=864e5,$_=6e4,B_=36e5,cme=1e3;function ume(n,e){return wI(n,e*B_)}let dme={};function cc(){return dme}function hs(n,e){var a,l,c,u;const t=cc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=ae(n),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Xu(n){return hs(n,{weekStartsOn:1})}function UB(n){const e=ae(n),t=e.getFullYear(),r=at(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=Xu(r),o=at(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const s=Xu(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function Xl(n){const e=ae(n);return e.setHours(0,0,0,0),e}function wv(n){const e=ae(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Zu(n,e){const t=Xl(n),r=Xl(e),i=+t-wv(t),o=+r-wv(r);return Math.round((i-o)/lme)}function fme(n){const e=UB(n),t=at(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Xu(t)}function QE(n,e){return wI(n,e*$_)}function bI(n,e){const t=e*3;return Ji(n,t)}function hme(n,e){return wI(n,e*1e3)}function bv(n,e){const t=e*7;return fs(n,t)}function Jo(n,e){return Ji(n,e*12)}function gM(n){let e;return n.forEach(function(t){const r=ae(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function yM(n){let e;return n.forEach(t=>{const r=ae(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function pme(n,e){const t=Xl(n),r=Xl(e);return+t==+r}function Xo(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ev(n){if(!Xo(n)&&typeof n!="number")return!1;const e=ae(n);return!isNaN(Number(e))}function Sv(n,e){const t=ae(n),r=ae(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function Cl(n){const e=ae(n);return Math.trunc(e.getMonth()/3)+1}function Tv(n,e){const t=ae(n),r=ae(e),i=t.getFullYear()-r.getFullYear(),o=Cl(t)-Cl(r);return i*4+o}function xv(n,e){const t=ae(n),r=ae(e);return t.getFullYear()-r.getFullYear()}function mme(n,e){const t=ae(n),r=ae(e),i=vM(t,r),o=Math.abs(Zu(t,r));t.setDate(t.getDate()-i*o);const s=+(vM(t,r)===-i),a=i*(o-s);return a===0?0:a}function vM(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function HB(n){const e=ae(n);return e.setHours(23,59,59,999),e}function WB(n){const e=ae(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function JE(n){const e=ae(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function qB(n){const e=ae(n);return e.setDate(1),e.setHours(0,0,0,0),e}function KB(n){const e=ae(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function z_(n){const e=ae(n),t=at(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function gme(n,e){var a,l;const t=cc(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=ae(n),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const yme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vme=(n,e,t)=>{let r;const i=yme[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function E1(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const _me={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Eme={date:E1({formats:_me,defaultWidth:"full"}),time:E1({formats:wme,defaultWidth:"full"}),dateTime:E1({formats:bme,defaultWidth:"full"})},Sme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tme=(n,e,t,r)=>Sme[n];function pf(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{const s=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[s]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const xme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ime={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dme=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ame={ordinalNumber:Dme,era:pf({values:xme,defaultWidth:"wide"}),quarter:pf({values:Ime,defaultWidth:"wide",argumentCallback:n=>n-1}),month:pf({values:kme,defaultWidth:"wide"}),day:pf({values:Cme,defaultWidth:"wide"}),dayPeriod:pf({values:Pme,defaultWidth:"wide",formattingValues:Rme,defaultFormattingWidth:"wide"})};function mf(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?Ome(a,d=>d.test(s)):Mme(a,d=>d.test(s));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function Mme(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Ome(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Nme(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Lme=/^(\d+)(th|st|nd|rd)?/i,Fme=/\d+/i,Vme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$me={any:[/^b/i,/^(a|c)/i]},Bme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zme={any:[/1/i,/2/i,/3/i,/4/i]},jme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ume={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gme={ordinalNumber:Nme({matchPattern:Lme,parsePattern:Fme,valueCallback:n=>parseInt(n,10)}),era:mf({matchPatterns:Vme,defaultMatchWidth:"wide",parsePatterns:$me,defaultParseWidth:"any"}),quarter:mf({matchPatterns:Bme,defaultMatchWidth:"wide",parsePatterns:zme,defaultParseWidth:"any",valueCallback:n=>n+1}),month:mf({matchPatterns:jme,defaultMatchWidth:"wide",parsePatterns:Ume,defaultParseWidth:"any"}),day:mf({matchPatterns:Hme,defaultMatchWidth:"wide",parsePatterns:Wme,defaultParseWidth:"any"}),dayPeriod:mf({matchPatterns:qme,defaultMatchWidth:"any",parsePatterns:Kme,defaultParseWidth:"any"})},GB={code:"en-US",formatDistance:vme,formatLong:Eme,formatRelative:Tme,localize:Ame,match:Gme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yme(n){const e=ae(n);return Zu(e,z_(e))+1}function EI(n){const e=ae(n),t=+Xu(e)-+fme(e);return Math.round(t/jB)+1}function SI(n,e){var u,d,h,p;const t=ae(n),r=t.getFullYear(),i=cc(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=at(n,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=hs(s,e),l=at(n,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=hs(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function Qme(n,e){var a,l,c,u;const t=cc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=SI(n,e),o=at(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),hs(o,e)}function YB(n,e){const t=ae(n),r=+hs(t,e)-+Qme(t,e);return Math.round(r/jB)+1}function st(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ps={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return st(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):st(t+1,2)},d(n,e){return st(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return st(n.getHours()%12||12,e.length)},H(n,e){return st(n.getHours(),e.length)},m(n,e){return st(n.getMinutes(),e.length)},s(n,e){return st(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return st(i,e.length)}},Dc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_M={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Ps.y(n,e)},Y:function(n,e,t,r){const i=SI(n,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return st(s,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):st(o,e.length)},R:function(n,e){const t=UB(n);return st(t,e.length)},u:function(n,e){const t=n.getFullYear();return st(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return st(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return st(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ps.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return st(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=YB(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):st(i,e.length)},I:function(n,e,t){const r=EI(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):st(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ps.d(n,e)},D:function(n,e,t){const r=Yme(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):st(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return st(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return st(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return st(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Dc.noon:r===0?i=Dc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Dc.evening:r>=12?i=Dc.afternoon:r>=4?i=Dc.morning:i=Dc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ps.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ps.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ps.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ps.s(n,e)},S:function(n,e){return Ps.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return bM(r);case"XXXX":case"XX":return Za(r);case"XXXXX":case"XXX":default:return Za(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return bM(r);case"xxxx":case"xx":return Za(r);case"xxxxx":case"xxx":default:return Za(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wM(r,":");case"OOOO":default:return"GMT"+Za(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wM(r,":");case"zzzz":default:return"GMT"+Za(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return st(r,e.length)},T:function(n,e,t){const r=n.getTime();return st(r,e.length)}};function wM(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+st(o,2)}function bM(n,e){return n%60===0?(n>0?"-":"+")+st(Math.abs(n)/60,2):Za(n,e)}function Za(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=st(Math.trunc(r/60),2),o=st(r%60,2);return t+i+e+o}const EM=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},QB=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jme=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return EM(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",EM(r,e)).replace("{{time}}",QB(i,e))},Iv={p:QB,P:Jme},Xme=/^D+$/,Zme=/^Y+$/,ege=["D","DD","YY","YYYY"];function JB(n){return Xme.test(n)}function XB(n){return Zme.test(n)}function XE(n,e,t){const r=tge(n,e,t);if(console.warn(r),ege.includes(n))throw new RangeError(r)}function tge(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ige=/^'([^]*?)'?$/,oge=/''/g,sge=/[a-zA-Z]/;function SM(n,e,t){var u,d,h,p,m,g,_,v;const r=cc(),i=(t==null?void 0:t.locale)??r.locale??GB,o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??0,a=ae(n);if(!Ev(a))throw new RangeError("Invalid time value");let l=e.match(rge).map(w=>{const b=w[0];if(b==="p"||b==="P"){const k=Iv[b];return k(w,i.formatLong)}return w}).join("").match(nge).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:age(w)};if(_M[b])return{isToken:!0,value:w};if(b.match(sge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&XB(b)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&JB(b))&&XE(b,e,String(n));const k=_M[b[0]];return k(a,b,i.localize,c)}).join("")}function age(n){const e=n.match(ige);return e?e[1].replace(oge,"'"):n}function TM(n){return ae(n).getDate()}function lge(n){return ae(n).getDay()}function cge(n){const e=ae(n),t=e.getFullYear(),r=e.getMonth(),i=at(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function uge(){return Object.assign({},cc())}function bo(n){return ae(n).getHours()}function dge(n){let t=ae(n).getDay();return t===0&&(t=7),t}function Eo(n){return ae(n).getMinutes()}function yr(n){return ae(n).getMonth()}function Zo(n){return ae(n).getSeconds()}function ZE(n){return ae(n).getTime()}function Ve(n){return ae(n).getFullYear()}function Ia(n,e){const t=ae(n),r=ae(e);return t.getTime()>r.getTime()}function Zl(n,e){const t=ae(n),r=ae(e);return+t<+r}function fge(n,e){const t=ae(n),r=ae(e);return+t==+r}function hge(n,e){const t=e instanceof Date?at(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const pge=10;class ZB{constructor(){le(this,"subPriority",0)}validate(e,t){return!0}}class mge extends ZB{constructor(e,t,r,i,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class gge extends ZB{constructor(){super(...arguments);le(this,"priority",pge);le(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:at(t,hge(t,Date))}}class nt{run(e,t,r,i){const o=this.parse(e,t,r,i);return o?{setter:new mge(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class yge extends nt{constructor(){super(...arguments);le(this,"priority",140);le(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const nn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ao={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function rn(n,e){return n&&{value:e(n.value),rest:n.rest}}function Lt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function lo(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*B_+o*$_+s*cme),rest:e.slice(t[0].length)}}function e3(n){return Lt(nn.anyDigitsSigned,n)}function Jt(n,e){switch(n){case 1:return Lt(nn.singleDigit,e);case 2:return Lt(nn.twoDigits,e);case 3:return Lt(nn.threeDigits,e);case 4:return Lt(nn.fourDigits,e);default:return Lt(new RegExp("^\\d{1,"+n+"}"),e)}}function kv(n,e){switch(n){case 1:return Lt(nn.singleDigitSigned,e);case 2:return Lt(nn.twoDigitsSigned,e);case 3:return Lt(nn.threeDigitsSigned,e);case 4:return Lt(nn.fourDigitsSigned,e);default:return Lt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function TI(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function t3(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function n3(n){return n%400===0||n%4===0&&n%100!==0}class vge extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return rn(Jt(4,t),o);case"yo":return rn(i.ordinalNumber(t,{unit:"year"}),o);default:return rn(Jt(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const o=t.getFullYear();if(i.isTwoDigitYear){const a=t3(i.year,o);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class _ge extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return rn(Jt(4,t),o);case"Yo":return rn(i.ordinalNumber(t,{unit:"year"}),o);default:return rn(Jt(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,o){const s=SI(t,o);if(i.isTwoDigitYear){const l=t3(i.year,s);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),hs(t,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),hs(t,o)}}class wge extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return kv(r==="R"?4:r.length,t)}set(t,r,i){const o=at(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Xu(o)}}class bge extends nt{constructor(){super(...arguments);le(this,"priority",130);le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return kv(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Ege extends nt{constructor(){super(...arguments);le(this,"priority",120);le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Jt(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Sge extends nt{constructor(){super(...arguments);le(this,"priority",120);le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Jt(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Tge extends nt{constructor(){super(...arguments);le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);le(this,"priority",110)}parse(t,r,i){const o=s=>s-1;switch(r){case"M":return rn(Lt(nn.month,t),o);case"MM":return rn(Jt(2,t),o);case"Mo":return rn(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class xge extends nt{constructor(){super(...arguments);le(this,"priority",110);le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const o=s=>s-1;switch(r){case"L":return rn(Lt(nn.month,t),o);case"LL":return rn(Jt(2,t),o);case"Lo":return rn(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function Ige(n,e,t){const r=ae(n),i=YB(r,t)-e;return r.setDate(r.getDate()-i*7),r}class kge extends nt{constructor(){super(...arguments);le(this,"priority",100);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Lt(nn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Jt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,o){return hs(Ige(t,i,o),o)}}function Cge(n,e){const t=ae(n),r=EI(t)-e;return t.setDate(t.getDate()-r*7),t}class Pge extends nt{constructor(){super(...arguments);le(this,"priority",100);le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Lt(nn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Jt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Xu(Cge(t,i))}}const Rge=[31,28,31,30,31,30,31,31,30,31,30,31],Dge=[31,29,31,30,31,30,31,31,30,31,30,31];class Age extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"subPriority",1);le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Lt(nn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Jt(r.length,t)}}validate(t,r){const i=t.getFullYear(),o=n3(i),s=t.getMonth();return o?r>=1&&r<=Dge[s]:r>=1&&r<=Rge[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class Mge extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"subpriority",1);le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Lt(nn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Jt(r.length,t)}}validate(t,r){const i=t.getFullYear();return n3(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function xI(n,e,t){var d,h,p,m;const r=cc(),i=(t==null?void 0:t.weekStartsOn)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=ae(n),s=o.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return fs(o,u)}class Oge extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=xI(t,i,o),t.setHours(0,0,0,0),t}}class Nge extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return rn(Jt(r.length,t),s);case"eo":return rn(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=xI(t,i,o),t.setHours(0,0,0,0),t}}class Lge extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return rn(Jt(r.length,t),s);case"co":return rn(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=xI(t,i,o),t.setHours(0,0,0,0),t}}function Fge(n,e){const t=ae(n),r=dge(t),i=e-r;return fs(t,i)}class Vge extends nt{constructor(){super(...arguments);le(this,"priority",90);le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Jt(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return rn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return rn(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return rn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return rn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=Fge(t,i),t.setHours(0,0,0,0),t}}class $ge extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(TI(i),0,0,0),t}}class Bge extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(TI(i),0,0,0),t}}class zge extends nt{constructor(){super(...arguments);le(this,"priority",80);le(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(TI(i),0,0,0),t}}class jge extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Lt(nn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Jt(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class Uge extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Lt(nn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Jt(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class Hge extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Lt(nn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Jt(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class Wge extends nt{constructor(){super(...arguments);le(this,"priority",70);le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Lt(nn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Jt(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class qge extends nt{constructor(){super(...arguments);le(this,"priority",60);le(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Lt(nn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Jt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class Kge extends nt{constructor(){super(...arguments);le(this,"priority",50);le(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Lt(nn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Jt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class Gge extends nt{constructor(){super(...arguments);le(this,"priority",30);le(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return rn(Jt(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class Yge extends nt{constructor(){super(...arguments);le(this,"priority",10);le(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return lo(ao.basicOptionalMinutes,t);case"XX":return lo(ao.basic,t);case"XXXX":return lo(ao.basicOptionalSeconds,t);case"XXXXX":return lo(ao.extendedOptionalSeconds,t);case"XXX":default:return lo(ao.extended,t)}}set(t,r,i){return r.timestampIsSet?t:at(t,t.getTime()-wv(t)-i)}}class Qge extends nt{constructor(){super(...arguments);le(this,"priority",10);le(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return lo(ao.basicOptionalMinutes,t);case"xx":return lo(ao.basic,t);case"xxxx":return lo(ao.basicOptionalSeconds,t);case"xxxxx":return lo(ao.extendedOptionalSeconds,t);case"xxx":default:return lo(ao.extended,t)}}set(t,r,i){return r.timestampIsSet?t:at(t,t.getTime()-wv(t)-i)}}class Jge extends nt{constructor(){super(...arguments);le(this,"priority",40);le(this,"incompatibleTokens","*")}parse(t){return e3(t)}set(t,r,i){return[at(t,i*1e3),{timestampIsSet:!0}]}}class Xge extends nt{constructor(){super(...arguments);le(this,"priority",20);le(this,"incompatibleTokens","*")}parse(t){return e3(t)}set(t,r,i){return[at(t,i),{timestampIsSet:!0}]}}const Zge={G:new yge,y:new vge,Y:new _ge,R:new wge,u:new bge,Q:new Ege,q:new Sge,M:new Tge,L:new xge,w:new kge,I:new Pge,d:new Age,D:new Mge,E:new Oge,e:new Nge,c:new Lge,i:new Vge,a:new $ge,b:new Bge,B:new zge,h:new jge,H:new Uge,K:new Hge,k:new Wge,m:new qge,s:new Kge,S:new Gge,X:new Yge,x:new Qge,t:new Jge,T:new Xge},eye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nye=/^'([^]*?)'?$/,rye=/''/g,iye=/\S/,oye=/[a-zA-Z]/;function S1(n,e,t,r){var g,_,v,w,b,k,P,M;const i=uge(),o=(r==null?void 0:r.locale)??i.locale??GB,s=(r==null?void 0:r.firstWeekContainsDate)??((_=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(v=i.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((k=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:k.weekStartsOn)??i.weekStartsOn??((M=(P=i.locale)==null?void 0:P.options)==null?void 0:M.weekStartsOn)??0;if(e==="")return n===""?ae(t):at(t,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},c=[new gge],u=e.match(tye).map(S=>{const E=S[0];if(E in Iv){const I=Iv[E];return I(S,o.formatLong)}return S}).join("").match(eye),d=[];for(let S of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&XB(S)&&XE(S,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&JB(S)&&XE(S,e,n);const E=S[0],I=Zge[E];if(I){const{incompatibleTokens:C}=I;if(Array.isArray(C)){const O=d.find(R=>C.includes(R.token)||R.token===E);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${S}\` at the same time`)}else if(I.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);d.push({token:E,fullToken:S});const A=I.run(n,S,o.match,l);if(!A)return at(t,NaN);c.push(A.setter),n=A.rest}else{if(E.match(oye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(S==="''"?S="'":E==="'"&&(S=sye(S)),n.indexOf(S)===0)n=n.slice(S.length);else return at(t,NaN)}}if(n.length>0&&iye.test(n))return at(t,NaN);const h=c.map(S=>S.priority).sort((S,E)=>E-S).filter((S,E,I)=>I.indexOf(S)===E).map(S=>c.filter(E=>E.priority===S).sort((E,I)=>I.subPriority-E.subPriority)).map(S=>S[0]);let p=ae(t);if(isNaN(p.getTime()))return at(t,NaN);const m={};for(const S of h){if(!S.validate(p,l))return at(t,NaN);const E=S.set(p,m,l);Array.isArray(E)?(p=E[0],Object.assign(m,E[1])):p=E}return at(t,p)}function sye(n){return n.match(nye)[1].replace(rye,"'")}function aye(n,e){const t=ae(n),r=ae(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function lye(n,e){const t=JE(n),r=JE(e);return+t==+r}function cye(n,e){const t=ae(n),r=ae(e);return t.getFullYear()===r.getFullYear()}function ep(n,e){const t=+ae(n),[r,i]=[+ae(e.start),+ae(e.end)].sort((o,s)=>o-s);return t>=r&&t<=i}function uye(n,e){return fs(n,-e)}function dye(n,e){const r=mye(n);let i;if(r.date){const l=gye(r.date,2);i=yye(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=vye(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=_ye(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+s+a)}const $m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mye(n){const e={},t=n.split($m.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],$m.timeZoneDelimiter.test(e.date)&&(e.date=n.split($m.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=$m.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function gye(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function yye(n,e){if(e===null)return new Date(NaN);const t=n.match(fye);if(!t)return new Date(NaN);const r=!!t[4],i=gf(t[1]),o=gf(t[2])-1,s=gf(t[3]),a=gf(t[4]),l=gf(t[5])-1;if(r)return Tye(e,a,l)?wye(e,a,l):new Date(NaN);{const c=new Date(0);return!Eye(e,o,s)||!Sye(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function gf(n){return n?parseInt(n):1}function vye(n){const e=n.match(hye);if(!e)return NaN;const t=T1(e[1]),r=T1(e[2]),i=T1(e[3]);return xye(t,r,i)?t*B_+r*$_+i*1e3:NaN}function T1(n){return n&&parseFloat(n.replace(",","."))||0}function _ye(n){if(n==="Z")return 0;const e=n.match(pye);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Iye(r,i)?t*(r*B_+i*$_):NaN}function wye(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const bye=[31,null,31,30,31,30,31,31,30,31,30,31];function r3(n){return n%400===0||n%4===0&&n%100!==0}function Eye(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(bye[e]||(r3(n)?29:28))}function Sye(n,e){return e>=1&&e<=(r3(n)?366:365)}function Tye(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function xye(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Iye(n,e){return e>=0&&e<=59}function Wr(n,e){const t=ae(n),r=t.getFullYear(),i=t.getDate(),o=at(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=cge(o);return t.setMonth(e,Math.min(i,s)),t}function kye(n,e){let t=ae(n);return isNaN(+t)?at(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Wr(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Dg(n,e){const t=ae(n);return t.setHours(e),t}function Ag(n,e){const t=ae(n);return t.setMinutes(e),t}function zc(n,e){const t=ae(n),r=Math.trunc(t.getMonth()/3)+1,i=e-r;return Wr(t,t.getMonth()+i*3)}function Mg(n,e){const t=ae(n);return t.setSeconds(e),t}function no(n,e){const t=ae(n);return isNaN(+t)?at(n,NaN):(t.setFullYear(e),t)}function ed(n,e){return Ji(n,-e)}function i3(n,e){return bI(n,-e)}function xM(n,e){return bv(n,-e)}function td(n,e){return Jo(n,-e)}const o3={...oh},Cye=o3.useInsertionEffect,Pye=Cye||(n=>n());function Rye(n){const e=x.useRef(()=>{});return Pye(()=>{e.current=n}),x.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Cv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function eS(){return eS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eS.apply(this,arguments)}let IM=!1,Dye=0;const kM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Dye++;function Aye(){const[n,e]=x.useState(()=>IM?kM():void 0);return Cv(()=>{n==null&&e(kM())},[]),x.useEffect(()=>{IM=!0},[]),n}const Mye=o3.useId,s3=Mye||Aye,Oye=x.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:m,...g}={},..._}=e,v=s3(),[w,b]=x.useState(!1);if(Cv(()=>{if(!i)return;Ci(i).direction==="rtl"&&b(!0)},[i]),!i)return null;const[k,P]=r.split("-"),M=k==="top"||k==="bottom";let S=d;(M&&s!=null&&s.x||!M&&s!=null&&s.y)&&(S=null);const E=u*2,I=E/2,C=a/2*(c/-8+1),A=l/2*c/4,O=!!p,R=S&&P==="end"?"bottom":"top";let U=S&&P==="end"?"right":"left";S&&w&&(U=P==="end"?"left":"right");const K=(o==null?void 0:o.x)!=null?S||o.x:"",H=(o==null?void 0:o.y)!=null?S||o.y:"",q=p||"M0,0"+(" H"+a)+(" L"+(a-C)+","+(l-A))+(" Q"+a/2+","+l+" "+C+","+(l-A))+" Z",V={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[k];return x.createElement("svg",eS({},_,{"aria-hidden":!0,ref:t,width:O?a:a+E,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[U]:K,[R]:H,[k]:M||O?"100%":"calc(100% - "+E/2+"px)",transform:[V,m].filter(G=>!!G).join(" "),...g}}),E>0&&x.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:E+(p?0:1),d:q}),x.createElement("path",{stroke:E&&!p?_.fill:"none",d:q}),x.createElement("clipPath",{id:v},x.createElement("rect",{x:-I,y:I*(O?-1:1),width:a+E,height:a})))});function Nye(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const Lye=x.createContext(null),Fye=x.createContext(null),Vye=()=>{var n;return((n=x.useContext(Lye))==null?void 0:n.id)||null},$ye=()=>x.useContext(Fye);function Bye(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=s3(),o=x.useRef({}),[s]=x.useState(()=>Nye()),a=Vye()!=null,[l,c]=x.useState(r.reference),u=Rye((p,m,g)=>{o.current.openEvent=p?m:void 0,s.emit("openchange",{open:p,event:m,reason:g,nested:a}),t==null||t(p,m,g)}),d=x.useMemo(()=>({setPositionReference:c}),[]),h=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:u,elements:h,events:s,floatingId:i,refs:d}),[e,u,h,s,i,d])}function zye(n){n===void 0&&(n={});const{nodeId:e}=n,t=Bye({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[o,s]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||o,d=x.useRef(null),h=$ye();Cv(()=>{u&&(d.current=u)},[u]);const p=ore({...n,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(b=>{const k=gr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(k),p.refs.setReference(k)},[p.refs]),g=x.useCallback(b=>{(gr(b)||b===null)&&(d.current=b,s(b)),(gr(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!gr(b))&&p.refs.setReference(b)},[p.refs]),_=x.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:d}),[p.refs,g,m]),v=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),w=x.useMemo(()=>({...p,...r,refs:_,elements:v,nodeId:e}),[p,_,v,e,r]);return Cv(()=>{r.dataRef.current.floatingContext=w;const b=h==null?void 0:h.nodesRef.current.find(k=>k.id===e);b&&(b.context=w)}),x.useMemo(()=>({...p,context:w,refs:_,elements:v}),[p,_,v,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var tS=function(e,t){return tS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},tS(e,t)};function Mn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ye=function(){return Ye=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ye.apply(this,arguments)};function mo(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var jye=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,o=n.className,s=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return $.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},Uye=function(n,e){var t=x.useRef(null),r=x.useRef(n);r.current=n;var i=x.useCallback(function(o){var s;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},j_=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,o=n.style,s=n.ignoreClass,a=Uye(t,s);return $.createElement("div",{className:r,style:o,ref:function(l){a.current=l,i&&(i.current=l)}},e)},oe;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(oe||(oe={}));function a3(){var n=typeof window<"u"?window:globalThis;return n}var Mp=12,Hye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function lt(n){if(n==null)return new Date;var e=typeof n=="string"?dye(n):ae(n);return $o(e)?e:new Date}function x1(n,e,t,r,i){var o,s=null,a=Pl(t)||Pl(ih()),l=!0;if(Array.isArray(e))return e.forEach(function(u){var d=S1(n,u,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=$o(d,i)&&n===It(d,u,t)),$o(d,i)&&l&&(s=d)}),s;if(s=S1(n,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=$o(s)&&n===It(s,e,t);else if(!$o(s)){var c=((o=e.match(Hye))!==null&&o!==void 0?o:[]).map(function(u){var d=u[0];if(d==="p"||d==="P"){var h=Iv[d];return a?h(u,a.formatLong):d}return u}).join("");n.length>0&&(s=S1(n,c.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),$o(s)||(s=new Date(n))}return $o(s)&&l?s:null}function $o(n,e){return Ev(n)&&!Zl(n,e??new Date("1/1/1800"))}function It(n,e,t){if(t==="en")return SM(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Pl(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&ih()&&Pl(ih())&&(r=Pl(ih())),SM(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function di(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&It(n,i,r)||""}function Wye(n,e,t){if(!n)return"";var r=di(n,t),i=e?di(e,t):"";return"".concat(r," - ").concat(i)}function qye(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?di(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=di(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function I1(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return Dg(Ag(Mg(n,a),o),r)}function Kye(n){return EI(n)}function Gye(n,e){return It(n,"ddd",e)}function Og(n){return Xl(n)}function ga(n,e,t){var r=Pl(e||ih());return hs(n,{locale:r,weekStartsOn:t})}function es(n){return qB(n)}function Mf(n){return z_(n)}function CM(n){return JE(n)}function PM(){return Xl(lt())}function RM(n){return HB(n)}function Yye(n){return gme(n)}function Qye(n){return WB(n)}function oo(n,e){return n&&e?cye(n,e):!n&&!e}function fr(n,e){return n&&e?aye(n,e):!n&&!e}function Pv(n,e){return n&&e?lye(n,e):!n&&!e}function Ge(n,e){return n&&e?pme(n,e):!n&&!e}function pl(n,e){return n&&e?fge(n,e):!n&&!e}function Of(n,e,t){var r,i=Xl(e),o=HB(t);try{r=ep(n,{start:i,end:o})}catch{r=!1}return r}function ih(){var n=a3();return n.__localeId__}function Pl(n){if(typeof n=="string"){var e=a3();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function Jye(n,e,t){return e(It(n,"EEEE",t))}function Xye(n,e){return It(n,"EEEEEE",e)}function Zye(n,e){return It(n,"EEE",e)}function II(n,e){return It(Wr(lt(),n),"LLLL",e)}function l3(n,e){return It(Wr(lt(),n),"LLL",e)}function eve(n,e){return It(zc(lt(),n),"QQQ",e)}function yi(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return Op(n,{minDate:r,maxDate:i})||o&&o.some(function(u){return u instanceof Date?Ge(n,u):Ge(n,u.date)})||s&&s.some(function(u){var d=u.start,h=u.end;return ep(n,{start:d,end:h})})||a&&!a.some(function(u){return Ge(n,u)})||l&&!l.some(function(u){var d=u.start,h=u.end;return ep(n,{start:d,end:h})})||c&&!c(lt(n))||!1}function kI(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return ep(n,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?Ge(n,o):Ge(n,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function c3(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate;return Op(n,{minDate:r?qB(r):void 0,maxDate:i?WB(i):void 0})||(o==null?void 0:o.some(function(l){return fr(n,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return fr(n,l)})||a&&!a(lt(n))||!1}function Bm(n,e,t,r){var i=Ve(n),o=yr(n),s=Ve(e),a=yr(e),l=Ve(r);return i===s&&i===l?o<=t&&t<=a:i<s?l===i&&o<=t||l===s&&a>=t||l<s&&l>i:!1}function tve(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates;return Op(n,{minDate:r,maxDate:i})||o&&o.some(function(a){return fr(a instanceof Date?a:a.date,n)})||s&&!s.some(function(a){return fr(a,n)})||!1}function zm(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate;return Op(n,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(l){return Pv(n,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Pv(n,l)})||a&&!a(lt(n))||!1}function jm(n,e,t){if(!e||!t||!Ev(e)||!Ev(t))return!1;var r=Ve(e),i=Ve(t);return r<=n&&i>=n}function Ng(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,o=t.excludeDates,s=t.includeDates,a=t.filterDate,l=new Date(n,0,1);return Op(l,{minDate:r?z_(r):void 0,maxDate:i?KB(i):void 0})||(o==null?void 0:o.some(function(c){return oo(l,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return oo(l,c)})||a&&!a(lt(l))||!1}function Um(n,e,t,r){var i=Ve(n),o=Cl(n),s=Ve(e),a=Cl(e),l=Ve(r);return i===s&&i===l?o<=t&&t<=a:i<s?l===i&&o<=t||l===s&&a>=t||l<s&&l>i:!1}function Op(n,e){var t,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(t=i&&Zu(n,i)<0||o&&Zu(n,o)>0)!==null&&t!==void 0?t:!1}function DM(n,e){return e.some(function(t){return bo(t)===bo(n)&&Eo(t)===Eo(n)&&Zo(t)===Zo(n)})}function AM(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return r&&DM(n,r)||i&&!DM(n,i)||o&&!o(n)||!1}function MM(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=lt();i=Dg(i,bo(n)),i=Ag(i,Eo(n)),i=Mg(i,Zo(n));var o=lt();o=Dg(o,bo(t)),o=Ag(o,Eo(t)),o=Mg(o,Zo(t));var s=lt();s=Dg(s,bo(r)),s=Ag(s,Eo(r)),s=Mg(s,Zo(r));var a;try{a=!ep(i,{start:o,end:s})}catch{a=!1}return a}function OM(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=ed(n,1);return r&&Sv(r,o)>0||i&&i.every(function(s){return Sv(s,o)>0})||!1}function NM(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=Ji(n,1);return r&&Sv(o,r)>0||i&&i.every(function(s){return Sv(o,s)>0})||!1}function nve(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=z_(n),s=i3(o,1);return r&&Tv(r,s)>0||i&&i.every(function(a){return Tv(a,s)>0})||!1}function rve(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=KB(n),s=bI(o,1);return r&&Tv(s,r)>0||i&&i.every(function(a){return Tv(s,a)>0})||!1}function LM(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,o=td(n,1);return r&&xv(r,o)>0||i&&i.every(function(s){return xv(s,o)>0})||!1}function ive(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,o=i===void 0?Mp:i,s=Mf(td(n,o)),a=Js(s,o).endPeriod,l=r&&Ve(r);return l&&l>a||!1}function FM(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,o=Jo(n,1);return r&&xv(o,r)>0||i&&i.every(function(s){return xv(o,s)>0})||!1}function ove(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,o=i===void 0?Mp:i,s=Jo(n,o),a=Js(s,o).startPeriod,l=r&&Ve(r);return l&&l<a||!1}function u3(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Zu(i,e)>=0});return yM(r)}else return t?yM(t):e}function d3(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Zu(i,e)<=0});return gM(r)}else return t?gM(t):e}function VM(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=n.length;i<o;i++){var s=n[i];if(Xo(s)){var a=It(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(t=c[0])!==null&&t!==void 0?t:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var h=0,p=d.length;h<p;h++){var m=d[h];if(m){var a=It(m,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function sve(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function ave(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,o=r.holidayName;if(Xo(i)){var s=It(i,"MM.dd.yyyy"),a=t.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&sve(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?mo(mo([],l,!0),[o],!1):[o],t.set(s,a)}}}),t}function lve(n,e,t,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=n,c=i[a];c&&(l=ume(l,bo(c)),l=QE(l,Eo(c)),l=hme(l,Zo(c)));var u=QE(n,(t+1)*r);Ia(l,e)&&Zl(l,u)&&c!=null&&s.push(c)}return s}function $M(n){return n<10?"0".concat(n):"".concat(n)}function Js(n,e){e===void 0&&(e=Mp);var t=Math.ceil(Ve(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function cve(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function BM(n){var e=n.getSeconds(),t=n.getMilliseconds();return ae(n.getTime()-e*1e3-t)}function uve(n,e){return BM(n).getTime()===BM(e).getTime()}function zM(n){if(!Xo(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function jM(n,e){if(!Xo(n)||!Xo(e))throw new Error("Invalid date received");var t=zM(n),r=zM(e);return Zl(t,r)}function f3(n){return n.key===oe.Space}var dve=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=$.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),d=u[0],h=u[1];c.setHours(Number(d)),c.setMinutes(Number(h))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?x.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):$.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return $.createElement("div",{className:"react-datepicker__input-time-container"},$.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),$.createElement("div",{className:"react-datepicker-time__input-container"},$.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(x.Component),fve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,o,s=r.key;s===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.isSameDay=function(r){return Ge(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),yi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return kI(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ge(t.props.day,ga(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Ge(r,ga(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=It(i,"MM.dd.yyyy");return o.get(s)},t.getHolidaysClass=function(){var r,i=t.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=It(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Of(i,o,s)},t.isInSelectingRange=function(){var r,i=t.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,u=i.startDate,d=i.endDate,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||a||l)||!h||!c&&t.isDisabled()?!1:s&&d&&(Zl(h,d)||pl(h,d))?Of(o,h,d):a&&u&&(Ia(h,u)||pl(h,u))||l&&u&&!d&&(Ia(h,u)||pl(h,u))?Of(o,u,h):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,s=i.startDate,a=i.selectsStart,l=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?Ge(o,l):Ge(o,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,s=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||l?Ge(o,c):Ge(o,s)},t.isRangeStart=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Ge(o,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Ge(s,i)},t.isWeekend=function(){var r=lge(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===yr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(yr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(lt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return de("react-datepicker__day",i,"react-datepicker__day--"+Gye(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:s;return"".concat(c," ").concat(It(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,l=It(i,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?Ge(u,i):Ge(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Ge(i,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(TM(t.props.day),t.props.day):TM(t.props.day)},t.render=function(){return $.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&$.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(x.Component),hve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,o,s=r.key;s===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ge(t.props.date,t.props.selected)&&Ge(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ge(t.props.date,t.props.selected)&&Ge(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Ge(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,s=t.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&Ge(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{ref:this.weekNumberEl,className:de(a),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(x.Component),pve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return yi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,o){for(var s,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var h=!t.isDisabled(d);if(h){c=d;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,i,o),t.props.showWeekPicker&&t.handleDayClick(c,o),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):Kye(r)},t.renderDays=function(){var r=t.startOfWeek(),i=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;i.push($.createElement(hve,Ye({key:"W"},e.defaultProps,t.props,{weekNumber:o,date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=fs(r,a);return $.createElement(fve,Ye({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return ga(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ge(t.startOfWeek(),t.props.selected)&&Ge(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ge(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{className:de(t)},this.renderDays())},e}(x.Component),yf,mve=6,bu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},k1=(yf={},yf[bu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},yf[bu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},yf[bu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},yf),Hm=1;function UM(n,e){return n?bu.FOUR_COLUMNS:e?bu.TWO_COLUMNS:bu.THREE_COLUMNS}var gve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=mo([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=mo([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(r){return yi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return kI(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var o,s;(s=(o=t.props).onDayClick)===null||s===void 0||s.call(o,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:fr(Wr(o,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Pv(zc(o,r),s)},t.isRangeEndMonth=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:fr(Wr(o,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Pv(zc(o,r),a)},t.isInSelectingRangeMonth=function(r){var i,o=t.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Bm(h,d,r,s):l&&u||c&&u&&!d?Bm(u,h,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,s=o.day,a=o.startDate,l=o.selectsStart,c=Wr(s,r),u=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?fr(c,u):fr(c,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,s=o.day,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=Wr(s,r),d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||c?fr(u,d):fr(u,a)},t.isInSelectingRangeQuarter=function(r){var i,o=t.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Um(h,d,r,s):l&&u||c&&u&&!d?Um(u,h,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,o=fs(r,6);return fr(r,i)||fr(o,i)},t.isCurrentMonth=function(r,i){return Ve(r)===Ve(lt())&&i===yr(lt())},t.isCurrentQuarter=function(r,i){return Ve(r)===Ve(lt())&&i===Cl(lt())},t.isSelectedMonth=function(r,i,o){return yr(o)===i&&Ve(r)===Ve(o)},t.isSelectMonthInList=function(r,i,o){return o.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,o){return Cl(r)===i&&Ve(r)===Ve(o)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,o=0,s=!1,a=ga(es(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(m){return t.props.showWeekPicker?ga(m,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(m){return t.props.showWeekPicker?ga(m,t.props.locale,t.props.calendarStartDay):t.props.selected},u=t.props.selected?c(t.props.selected):void 0,d=t.props.preSelection?l(t.props.preSelection):void 0;r.push($.createElement(pve,Ye({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:a,month:yr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!s;){o++,a=bv(a,1);var h=i&&o>=mve,p=!i&&!t.isWeekInMonth(a);if(h||p)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var o=t.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||t.handleDayClick(es(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||t.handleDayMouseEnter(es(s))},t.handleMonthNavigation=function(r,i){var o,s,a,l;(s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,o){var s,a=t.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,h=a.maxDate,p=a.showFourColumnMonthYearPicker,m=a.showTwoColumnMonthYearPicker;if(c){var g=UM(p,m),_=t.getVerticalOffset(g),v=(s=k1[g])===null||s===void 0?void 0:s.grid,w=function(S,E,I){var C,A,O=E,R=I;switch(S){case oe.ArrowRight:O=Ji(E,Hm),R=I===11?0:I+Hm;break;case oe.ArrowLeft:O=ed(E,Hm),R=I===0?11:I-Hm;break;case oe.ArrowUp:O=ed(E,_),R=!((C=v==null?void 0:v[0])===null||C===void 0)&&C.includes(I)?I+12-_:I-_;break;case oe.ArrowDown:O=Ji(E,_),R=!((A=v==null?void 0:v[v.length-1])===null||A===void 0)&&A.includes(I)?I-12+_:I+_;break}return{newCalculatedDate:O,newCalculatedMonth:R}},b=function(S,E,I){for(var C=40,A=S,O=!1,R=0,U=w(A,E,I),K=U.newCalculatedDate,H=U.newCalculatedMonth;!O;){if(R>=C){K=E,H=I;break}if(d&&K<d){A=oe.ArrowRight;var q=w(A,K,H);K=q.newCalculatedDate,H=q.newCalculatedMonth}if(h&&K>h){A=oe.ArrowLeft;var q=w(A,K,H);K=q.newCalculatedDate,H=q.newCalculatedMonth}if(tve(K,t.props)){var q=w(A,K,H);K=q.newCalculatedDate,H=q.newCalculatedMonth}else O=!0;R++}return{newCalculatedDate:K,newCalculatedMonth:H}};if(i===oe.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),u==null||u(l));return}var k=b(i,c,o),P=k.newCalculatedDate,M=k.newCalculatedMonth;switch(i){case oe.ArrowRight:case oe.ArrowLeft:case oe.ArrowUp:case oe.ArrowDown:t.handleMonthNavigation(M,P);break}}},t.getVerticalOffset=function(r){var i,o;return(o=(i=k1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,i){var o=t.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==oe.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,l,i),a&&a(r)},t.onQuarterClick=function(r,i){var o=zc(t.props.day,i);zm(o,t.props)||t.handleDayClick(CM(o),r)},t.onQuarterMouseEnter=function(r){var i=zc(t.props.day,r);zm(i,t.props)||t.handleDayMouseEnter(CM(i))},t.handleQuarterNavigation=function(r,i){var o,s,a,l;t.isDisabled(i)||t.isExcluded(i)||((s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case oe.Enter:t.onQuarterClick(r,i),(s=(o=t.props).setPreSelection)===null||s===void 0||s.call(o,t.props.selected);break;case oe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,bI(t.props.preSelection,1));break;case oe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,i3(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var i,o=t.props,s=o.day,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=Wr(s,r);return{isDisabled:(i=(a||l||c||u)&&c3(d,t.props))!==null&&i!==void 0?i:!1,labelDate:d}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,u=c?c(Wr(o,r)):void 0,d=t.getSelection();return de("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(o,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(o,r,l)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?Bm(s,a,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=yr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Cl(t.props.preSelection),o=zm(t.props.day,t.props),s=r===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,u=i.locale,d=Wr(c,r),h=t.isDisabled(d)||t.isExcluded(d)?l:s;return"".concat(h," ").concat(It(d,"MMMM yyyy",u))},t.getQuarterClassNames=function(r){var i=t.props,o=i.day,s=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,u=i.maxDate,d=i.excludeDates,h=i.includeDates,p=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,_=(c||u||d||h||p)&&zm(zc(o,r),t.props);return de("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":_,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&t.isSelectedQuarter(o,r,m)&&!_,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Um(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,l=i.day,c=l3(r,a),u=II(r,a);return s?s(r,c,u,l):o?u:c},t.getQuarterContent=function(r){var i,o=t.props,s=o.renderQuarterContent,a=o.locale,l=eve(r,a);return(i=s==null?void 0:s(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=k1[UM(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return $.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(h,p){return $.createElement("div",{ref:t.MONTH_REFS[h],key:p,onClick:function(m){t.onMonthClick(m,h)},onKeyDown:function(m){f3(m)&&(m.preventDefault(),m.key=oe.Enter),t.onMonthKeyDown(m,h)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(h)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(h)}:void 0,tabIndex:Number(t.getTabIndex(h)),className:t.getMonthClassNames(h),"aria-disabled":t.isMonthDisabled(h),role:"option","aria-label":t.getAriaLabel(h),"aria-current":t.isCurrentMonth(a,h)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,h,l):void 0},t.getMonthContent(h))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,o=r.selected,s=[1,2,3,4];return $.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return $.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":o?t.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return de("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,s=t.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return $.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(It(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(x.Component),yve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return $.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?$.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return $.createElement(j_,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),vve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,o){return $.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(r){return $.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return $.createElement(yve,Ye({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,r)];return i&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return l3(o,t.props.locale)}:function(o){return II(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return $.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(x.Component);function _ve(n,e){for(var t=[],r=es(n),i=es(e);!Ia(r,i);)t.push(lt(r)),r=Ji(r,1);return t}var wve=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=ZE(i),s=oo(r.props.date,i)&&fr(r.props.date,i);return $.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?$.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",It(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:_ve(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=de({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return $.createElement(j_,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),bve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=es(t.props.minDate),i=es(t.props.maxDate),o=[];!Ia(r,i);){var s=ZE(r);o.push($.createElement("option",{key:s,value:s},It(r,t.props.dateFormat,t.props.locale))),r=Ji(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:ZE(es(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=It(t.props.date,t.props.dateFormat,t.props.locale);return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return $.createElement(wve,Ye({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=lt(r);oo(t.props.date,i)&&fr(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),Eve=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var i,o;(t.props.minTime||t.props.maxTime)&&MM(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&AM(r,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&uve(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&MM(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&AM(r,t.props)},t.liClasses=function(r){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(bo(r)*3600+Eo(r)*60+Zo(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,i){var o,s;r.key===oe.Space&&(r.preventDefault(),r.key=oe.Enter),(r.key===oe.ArrowUp||r.key===oe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===oe.ArrowDown||r.key===oe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===oe.Enter&&t.handleClick(i),(s=(o=t.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},t.renderTimes=function(){for(var r,i=[],o=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||lt(),l=Og(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(_,v){return _.getTime()-v.getTime()}),u=60*cve(a),d=u/s,h=0;h<d;h++){var p=QE(l,h*s);if(i.push(p),c){var m=lve(l,p,h,s,c);i=i.concat(m)}}var g=i.reduce(function(_,v){return v.getTime()<=a.getTime()?v:_},i[0]);return i.map(function(_){return $.createElement("li",{key:_.valueOf(),onClick:t.handleClick.bind(t,_),className:t.liClasses(_),ref:function(v){_===g&&(t.centerLi=v)},onKeyDown:function(v){t.handleOnKeyDown(v,_)},tabIndex:_===g?0:-1,role:"option","aria-selected":t.isSelectedTime(_)?"true":void 0,"aria-disabled":t.isDisabledTime(_)?"true":void 0},It(_,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?$.createElement($.Fragment,null):$.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},$.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return $.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),$.createElement("div",{className:"react-datepicker__time"},$.createElement("div",{className:"react-datepicker__time-box"},$.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(x.Component),HM=3,Sve=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=mo([],Array(r.props.yearItemNumber),!0).map(function(){return x.createRef()}),r.isDisabled=function(i){return yi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return kI(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,l,c,u=r.props,d=u.date,h=u.yearItemNumber;if(!(d===void 0||h===void 0)){var p=Js(d,h).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-p<0?r.updateFocusOnPaginate(h-(p-i)):i-p>=h?r.updateFocusOnPaginate(Math.abs(h-(i-p))):(c=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return Ge(i,o)},r.isCurrentYear=function(i){return i===Ve(lt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&oo(no(lt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&oo(no(lt(),i),r.props.endDate)},r.isInRange=function(i){return jm(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.startDate,u=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&u?jm(i,r.selectingDate(),u):a&&c||l&&c&&!u?jm(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,c=no(lt(),i);return l?oo(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):oo(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=no(lt(),i);return l||c?oo(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):oo(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,l=o.excludeDates,c=o.includeDates,u=o.filterDate,d=Mf(no(r.props.date,i)),h=(s||a||l||c||u)&&Ng(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ge(d,Mf(r.props.selected))&&Ge(d,Mf(r.props.preSelection))&&!h}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(Mf(no(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,l=i.key,c=r.props,u=c.date,d=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==oe.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case oe.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case oe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Jo(r.props.preSelection,1));break;case oe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,td(r.props.preSelection,1));break;case oe.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var p=Js(u,d).startPeriod,m=HM,g=o-m;if(g<p){var _=d%m;o>=p&&o<p+_?m=_:m+=_,g=o-m}r.handleYearNavigation(g,td(r.props.preSelection,m));break}case oe.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var v=Js(u,d).endPeriod,m=HM,g=o+m;if(g>v){var _=d%m;o<=v&&o>v-_?m=_:m+=_,g=o+m}r.handleYearNavigation(g,Jo(r.props.preSelection,m));break}}h&&h(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,c=o.selected,u=o.excludeDates,d=o.includeDates,h=o.filterDate,p=o.yearClassName;return de("react-datepicker__year-text","react-datepicker__year-".concat(i),s?p==null?void 0:p(no(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===Ve(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||h)&&Ng(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Ve(r.props.preSelection),s=Ng(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return de("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var c=Js(o,s),u=c.startPeriod,d=c.endPeriod,h=function(g){r.push($.createElement("div",{ref:p.YEAR_REFS[g-u],onClick:function(_){t.onYearClick(_,g)},onKeyDown:function(_){f3(_)&&(_.preventDefault(),_.key=oe.Enter),t.onYearKeyDown(_,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(_){return a(_,g)},onPointerEnter:p.props.usePointerEvent?function(_){return a(_,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(_){return l(_,g)},onPointerLeave:p.props.usePointerEvent?function(_){return l(_,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,m=u;m<=d;m++)h(m);return $.createElement("div",{className:this.getYearContainerClassNames()},$.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(x.Component);function Tve(n,e,t,r){for(var i=[],o=0;o<2*e+1;o++){var s=n+e-o,a=!0;t&&(a=Ve(t)<=s),r&&a&&(a=Ve(r)>=s),a&&i.push(s)}return i}var xve=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return $.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?$.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=r.props.minDate?Ve(r.props.minDate):null,u=r.props.maxDate?Ve(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift($.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push($.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:Tve(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=x.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=de({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return $.createElement(j_,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),Ive=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Ve(t.props.minDate):1900,i=t.props.maxDate?Ve(t.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push($.createElement("option",{key:s,value:s},s));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},$.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return $.createElement(xve,Ye({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var o,s;(s=(o=t.props).onSelect)===null||s===void 0||s.call(o,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),kve=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Cve=function(n){var e=(n.className||"").split(/\s+/);return kve.some(function(t){return e.indexOf(t)>=0})},Pve=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;Cve(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=u3(r.props),c=d3(r.props),u=lt(),d=a||s||o;return d||(l&&Zl(u,l)?l:c&&Ia(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Ji(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:ed(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:no(lt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,l;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!yi(i,r.props))return i;for(var o=es(i),s=Qye(i),a=mme(s,o),l=null,c=0;c<=a;c++){var u=fs(o,c);if(!yi(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(i){var o,s,a,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:no(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:Wr(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:no(Wr(s,yr(i)),Ve(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=ga(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push($.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=fs(o,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return $.createElement("div",{key:a,"aria-label":It(l,"EEEE",r.props.locale),className:de("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?Jye(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?Zye(i,o):Xye(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:td(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=LM(r.state.date,r.props);break;case r.props.showYearPicker:o=ive(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=nve(r.state.date,r.props);break;default:o=OM(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,h=d===void 0?e.defaultProps.previousMonthButtonLabel:d,p=u.previousYearButtonLabel,m=p===void 0?e.defaultProps.previousYearButtonLabel:p,g=r.props,_=g.previousMonthAriaLabel,v=_===void 0?typeof h=="string"?h:"Previous Month":_,w=g.previousYearAriaLabel,b=w===void 0?typeof m=="string"?m:"Previous Year":w;return $.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?b:v},$.createElement("span",{className:s.join(" ")},c?m:h))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Jo(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=FM(r.state.date,r.props);break;case r.props.showYearPicker:o=ove(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=rve(r.state.date,r.props);break;default:o=NM(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,h=d===void 0?e.defaultProps.nextMonthButtonLabel:d,p=u.nextYearButtonLabel,m=p===void 0?e.defaultProps.nextYearButtonLabel:p,g=r.props,_=g.nextMonthAriaLabel,v=_===void 0?typeof h=="string"?h:"Next Month":_,w=g.nextYearAriaLabel,b=w===void 0?typeof m=="string"?m:"Next Year":w;return $.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?b:v},$.createElement("span",{className:a.join(" ")},c?m:h))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),$.createElement("h2",{className:o.join(" ")},It(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return $.createElement(Ive,Ye({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ve(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return $.createElement(vve,Ye({},e.defaultProps,r.props,{month:yr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return $.createElement(bve,Ye({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(PM(),i),r.props.setPreSelection&&r.props.setPreSelection(PM())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return $.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return $.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),$.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),$.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=OM(r.state.date,r.props),u=NM(r.state.date,r.props),d=LM(r.state.date,r.props),h=FM(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return $.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,Ye(Ye({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:h})),p&&$.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=Js(o,c),d=u.startPeriod,h=u.endPeriod;return $.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):Ve(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Jo(r.state.date,l):ed(r.state.date,l),u=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,d=0;d<a;++d){var h=d-u+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Jo(c,h):Ji(c,h),m="month-".concat(d),g=d<a-1,_=d>0;s.push($.createElement("div",{key:m,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),$.createElement(gve,Ye({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:_}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return $.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),$.createElement(Sve,Ye({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return $.createElement(Eve,Ye({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&$o(i)&&!!r.props.selected,s=o?"".concat($M(i.getHours()),":").concat($M(i.getMinutes())):"";if(r.props.showTimeInput)return $.createElement(dve,Ye({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Js(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Ve(r.state.date):l="".concat(II(yr(r.state.date),r.props.locale)," ").concat(Ve(r.state.date)),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return $.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=x.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Mp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Ge(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!fr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ge(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||jye;return $.createElement(j_,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},$.createElement(t,{className:de("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(x.Component),Rve=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?$.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):$.isValidElement(e)?$.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):$.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},$.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},h3=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return eu.createPortal(this.props.children,this.el)},e}(x.Component),Dve="[tabindex], a, button, input, select, textarea",Ave=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},p3=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Dve),1,-1).filter(Ave)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=x.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?$.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},$.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,$.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(x.Component);function Mve(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=x.useRef(null),s=zye(Ye({open:!i,whileElementsMounted:tre,placement:t.popperPlacement,middleware:mo([lre({padding:15}),are(10),cre({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=Ye(Ye({},t),{hidePopper:i,popperProps:Ye(Ye({},s),{arrowRef:o})});return $.createElement(n,Ye({},a))};return e}var Ove=function(n){Mn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,o=t.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=t.popperComponent,l=t.targetComponent,c=t.enableTabLoop,u=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,p=t.popperProps,m=t.showArrow,g=void 0;if(!s){var _=de("react-datepicker-popper",r);g=$.createElement(p3,{enableTabLoop:c},$.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:_,"data-placement":p.placement,onKeyDown:u},a,m&&$.createElement(Oye,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=x.createElement(this.props.popperContainer,{},g)),d&&!s&&(g=$.createElement(h3,{portalId:d,portalHost:h},g));var v=de("react-datepicker-wrapper",i);return $.createElement($.Fragment,null,$.createElement("div",{ref:p.refs.setReference,className:v},l),g)},e}(x.Component),Nve=Mve(Ove),WM="react-datepicker-ignore-onclickoutside";function Lve(n,e){return n&&e?yr(n)!==yr(e)||Ve(n)!==Ve(e):n!==e}var C1="Date input not valid.",qM=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:lt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return $o(a)?mo(mo([],o,!0),[Ye(Ye({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=u3(r.props),a=d3(r.props),l=s&&Zl(o,Og(s))?s:a&&Ia(o,RM(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:VM(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Ye(Ye({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ye(Ye({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:P1},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Xo(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Fve});var c=r.props,u=c.dateFormat,d=u===void 0?e.defaultProps.dateFormat:u,h=c.strictParsing,p=h===void 0?e.defaultProps.strictParsing:h,m=c.selectsRange,g=c.startDate,_=c.endDate,v=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(m){var w=v.split("-",2).map(function(C){return C.trim()}),b=w[0],k=w[1],P=x1(b??"",d,r.props.locale,p),M=x1(k??"",d,r.props.locale,p),S=(g==null?void 0:g.getTime())!==(P==null?void 0:P.getTime()),E=(_==null?void 0:_.getTime())!==(M==null?void 0:M.getTime());if(!S&&!E||P&&yi(P,r.props)||M&&yi(M,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[P,M],l)}else{var I=x1(v,d,r.props.locale,p,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&I&&!Ge(I,r.props.selected)&&(I=kye(r.props.selected,{hours:bo(I),minutes:Eo(I),seconds:Zo(I)})),(I||!v)&&r.setSelected(I,l,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!jM(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var l,c,u=i;if(r.props.showYearPicker){if(u!==null&&Ng(Ve(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&c3(u,r.props))return}else if(u!==null&&yi(u,r.props))return;var d=r.props,h=d.onChange,p=d.selectsRange,m=d.startDate,g=d.endDate,_=d.selectsMultiple,v=d.selectedDates,w=d.minTime,b=d.swapRange;if(!pl(r.props.selected,u)||r.props.allowSameDay||p||_)if(u!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=I1(u,{hour:bo(r.props.selected),minute:Eo(r.props.selected),second:Zo(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(u=I1(u,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var k=!m&&!g,P=m&&!g,M=m&&g;k?h==null||h([u,null],o):P&&(u===null?h==null||h([null,null],o):jM(u,m)?b?h==null||h([u,m],o):h==null||h([u,null],o):h==null||h([m,u],o)),M&&(h==null||h([u,null],o))}else if(_){if(u!==null)if(!(v!=null&&v.length))h==null||h([u],o);else{var S=v.some(function(I){return Ge(I,u)});if(S){var E=v.filter(function(I){return!Ge(I,u)});h==null||h(E,o)}else h==null||h(mo(mo([],v,!0),[u],!1),o)}}else h==null||h(u,o);s||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Xo(r.props.minDate),s=Xo(r.props.maxDate),a=!0;if(i){var l=Og(i);if(o&&s)a=Of(i,r.props.minDate,r.props.maxDate);else if(o){var c=Og(r.props.minDate);a=Ia(i,c)||pl(l,c)}else if(s){var u=RM(r.props.maxDate);a=Zl(i,u)||pl(l,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:I1(a,{hour:bo(i),minute:Eo(i)});r.setState({preSelection:l}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,l,c,u;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===oe.ArrowDown||d===oe.ArrowUp||d===oe.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===oe.ArrowDown||d===oe.ArrowUp){i.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=lt(r.state.preSelection);d===oe.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===P1?(r.handleSelect(m,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):d===oe.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):d===oe.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:C1})}},r.onPortalKeyDown=function(i){var o=i.key;o===oe.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,l,c,u,d=r.props,h=d.minDate,p=d.maxDate,m=d.disabledKeyboardNavigation,g=d.showWeekPicker,_=d.shouldCloseOnSelect,v=d.locale,w=d.calendarStartDay,b=d.adjustDateOnChange,k=d.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!m){var P=i.key,M=i.shiftKey,S=lt(r.state.preSelection),E=function(K,H){var q=H;switch(K){case oe.ArrowRight:q=g?bv(H,1):fs(H,1);break;case oe.ArrowLeft:q=g?xM(H,1):uye(H,1);break;case oe.ArrowUp:q=xM(H,1);break;case oe.ArrowDown:q=bv(H,1);break;case oe.PageUp:q=M?td(H,1):ed(H,1);break;case oe.PageDown:q=M?Jo(H,1):Ji(H,1);break;case oe.Home:q=ga(H,v,w);break;case oe.End:q=Yye(H);break}return q},I=function(K,H){for(var q=40,V=K,G=!1,Z=0,ne=E(K,H);!G;){if(Z>=q){ne=H;break}h&&ne<h&&(V=oe.ArrowRight,ne=yi(h,r.props)?E(V,ne):h),p&&ne>p&&(V=oe.ArrowLeft,ne=yi(p,r.props)?E(V,ne):p),yi(ne,r.props)?((V===oe.PageUp||V===oe.Home)&&(V=oe.ArrowRight),(V===oe.PageDown||V===oe.End)&&(V=oe.ArrowLeft),ne=E(V,ne)):G=!0,Z++}return ne};if(P===oe.Enter){i.preventDefault(),r.handleSelect(S,i),!_&&r.setPreSelection(S);return}else if(P===oe.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:C1});return}var C=null;switch(P){case oe.ArrowLeft:case oe.ArrowRight:case oe.ArrowUp:case oe.ArrowDown:case oe.PageUp:case oe.PageDown:case oe.Home:case oe.End:C=I(P,S);break}if(!C){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:C1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:P1}),b&&r.setSelected(C),r.setPreSelection(C),k){var A=yr(S),O=yr(C),R=Ve(S),U=Ve(C);A!==O||R!==U?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===oe.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:$.createElement(Pve,Ye({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:ave(r.modifyHolidays()),outsideClickIgnoreClass:WM,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(di(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+di(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(di(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(di(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(di(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(di(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(di(r.props.selected,{dateFormat:c,locale:a})),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,o,s,a=de(r.props.className,(i={},i[WM]=r.state.open,i)),l=r.props.customInput||$.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,h=d===void 0?e.defaultProps.dateFormat:d,p=u.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Wye(r.props.startDate,r.props.endDate,{dateFormat:h,locale:p}):r.props.selectsMultiple?qye((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:h,locale:p}):di(r.props.selected,{dateFormat:h,locale:p});return x.cloneElement(l,(o={},o[c]=function(g){r.input=g},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=de(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,d=i.clearButtonClassName,h=d===void 0?"":d,p=i.ariaLabelClose,m=p===void 0?"Close":p,g=i.selectedDates;return o&&(a!=null||l!=null||c!=null||g!=null&&g.length)?$.createElement("button",{type:"button",className:de("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Mp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,o,s,a;t.inline&&Lve(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:VM(this.props.highlightDates)}),!r.focused&&!pl(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,o=t.calendarIconClassname,s=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),$.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&$.createElement(Rve,Ye({icon:i,className:de(s,!s&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?$.createElement(p3,{enableTabLoop:this.props.enableTabLoop},$.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=$.createElement(h3,Ye({portalId:this.props.portalId},this.props),r)),$.createElement("div",null,this.renderInputContainer(),r)}return $.createElement(Nve,Ye({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(x.Component),Fve="input",P1="navigate";function Vve(){const n=sd(),[e,t]=x.useState(""),[r,i]=x.useState(null),[o,s]=x.useState(null),[a,l]=x.useState(null),[c,u]=x.useState(null);x.useEffect(()=>{const p=jT(pd,m=>{m?i(m):n("/login")});return()=>p()},[n]);const d=()=>{Pte(r,e,c,o).then(()=>{n("/main")})},h=()=>{n("/main")};return N.jsxs("div",{className:"note-page",children:[N.jsx("input",{className:"titleInput",type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Add a title..."}),N.jsx(zB,{setEditorContent:u}),N.jsxs("div",{className:"date-time-picker",children:[N.jsx(qM,{selected:o,onChange:p=>s(p),showTimeSelect:!0,dateFormat:"Pp",placeholderText:"Due Date"}),N.jsx(qM,{selected:a,onChange:p=>l(p),showTimeSelect:!0,dateFormat:"Pp",placeholderText:"Reminder Date"})]}),N.jsxs("div",{className:"note-page-actions",children:[N.jsxs(El,{onClick:h,color:"primary",children:[N.jsx(Yx,{})," Cancel"]}),N.jsxs(El,{onClick:d,color:"primary",variant:"contained",children:[N.jsx(Kx,{})," Save"]})]})]})}BB.configure({listItem:!1});let $ve=()=>{const[n,e]=x.useState(()=>localStorage.getItem("theme")||"light");x.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]);const t=()=>{e(n==="light"?"dark":"light")};return N.jsxs(Zj,{children:[N.jsx("div",{children:N.jsxs(Qj,{children:["// redirect to login page",N.jsx(Ac,{path:"/*",element:N.jsx($se,{theme:n,toggleTheme:t})}),N.jsx(Ac,{path:"/register",element:N.jsx(Bse,{theme:n,toggleTheme:t})}),N.jsx(Ac,{path:"/main",element:N.jsx(Pse,{theme:n,toggleTheme:t})}),N.jsx(Ac,{path:"/note/:id",element:N.jsx(ame,{theme:n,toggleTheme:t})}),N.jsx(Ac,{path:"/note/",element:N.jsx(Vve,{theme:n,toggleTheme:t})})]})}),N.jsx(d6,{})]})};var KM={};const Bve=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function zve(n){if("serviceWorker"in navigator){if(new URL(KM.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t=`${KM.PUBLIC_URL}/service-worker.js`;Bve?(jve(t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):m3(t)})}}function m3(n,e){navigator.serviceWorker.register(n).then(t=>{t.onupdatefound=()=>{const r=t.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(t=>{console.error("Error during service worker registration:",t)})}function jve(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then(t=>{const r=t.headers.get("content-type");t.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):m3(n)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const Uve=document.getElementById("root"),Hve=s2(Uve);Hve.render(N.jsx($.StrictMode,{children:N.jsx($ve,{})}));zve();
